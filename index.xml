<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>AboutTheGarden on</title><link>https://renyunkang.tk/</link><description>Recent content in AboutTheGarden on</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><atom:link href="https://renyunkang.tk/index.xml" rel="self" type="application/rss+xml"/><item><title/><link>https://renyunkang.tk/1.-%E5%8A%9F%E8%83%BD%E7%82%B9/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/1.-%E5%8A%9F%E8%83%BD%E7%82%B9/</guid><description>#cni #kube-ovn #é›†æˆ
kubeovn åŸºäº ovn/ovsï¼Œå°† SDN çš„èƒ½åŠ›å’Œäº‘åŸç”Ÿç»“åˆï¼Œæä¾›äº†ä¸°å¯Œçš„ç½‘ç»œèƒ½åŠ›ã€‚kubeovn æ”¯æŒ overlay æ¨¡å¼ã€underlay æ¨¡å¼ä»¥åŠä¸¤è€…æ··åˆéƒ¨ç½²çš„æ¨¡å¼ã€‚
kubeovn åŠŸèƒ½ç‚¹ï¼š
åŸºç¡€çš„ ipam + networkPolicy qos å¸¦å®½é™åˆ¶ åŒæ ˆæ”¯æŒ underlay é€‚é… - ç‰©ç†ç»„ç½‘ overlay åŠŸèƒ½ - è™šæ‹Ÿç»„ç½‘ åˆ†å¸ƒå¼ç½‘å…³ã€é›†ä¸­å¼ç½‘å…³ eip + snat é…ç½® è‡ªå®šä¹‰ vpc loadbalancer service é»˜è®¤vpc kube-ovnç›‘æ§ + cilium é›†æˆä¸ç½‘ç»œæµé‡è§‚æµ‹ æµé‡é•œåƒ å¤šé›†ç¾¤äº’è”</description></item><item><title/><link>https://renyunkang.tk/2.-%E5%85%AC%E5%85%B1%E5%8A%9F%E8%83%BD%E7%82%B9/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/2.-%E5%85%AC%E5%85%B1%E5%8A%9F%E8%83%BD%E7%82%B9/</guid><description>åŸºäº calico ä¸ kube-ovn åœ¨åŠŸèƒ½ä¸Šä»¥åŠæ¨¡å¼ä¸Šæœ‰å¾ˆå¤§ä¸åŒï¼Œå› æ­¤ ui çš„ç®¡ç†æ— æ³•åšåˆ°ç»Ÿä¸€ã€‚
ipam ç»‘å®š namespace æ”¯æŒå°† subnet (åŒcalico ippool) ç»‘å®šåˆ° namespace ippool ç»‘å®šåˆ°ä¼ä¸šç©ºé—´
ip åˆ†é… åˆ›å»ºå·¥ä½œè´Ÿè½½æ—¶æŒ‡å®šåˆ†é…æ–¹å¼</description></item><item><title/><link>https://renyunkang.tk/3.-underlay-%E7%89%A9%E7%90%86%E7%BB%84%E7%BD%91/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/3.-underlay-%E7%89%A9%E7%90%86%E7%BB%84%E7%BD%91/</guid><description>underlay é€‚é… kube-ovn æ”¯æŒ overlay ä¸ underlay æ¨¡å¼çš„æ··åˆéƒ¨ç½²ï¼Œå¹¶æ”¯æŒé€šè¿‡ CRD åŠ¨æ€åˆ›å»º underlayæ¨¡å¼ï¼Œå› æ­¤å¯¹äºæœ‰ underlay éœ€æ±‚çš„å®¢æˆ·ï¼Œå¯ä»¥åœ¨å®‰è£…å®Œ ks æˆä¹‹åè¿›è¡ŒåŠ¨æ€é…ç½® åœ¨åˆ›å»º/ä¿®æ”¹ä¸º underlayæ¨¡å¼çš„æç¤ºä¿¡æ¯ï¼šéœ€è¦é¢„å…ˆåœ¨åº•å±‚ç½‘ç»œè®¾å¤‡é…ç½®å¯¹åº”çš„ç½‘å…³ã€Vlan å’Œå®‰å…¨ç­–ç•¥ç­‰é…ç½® ç•Œé¢åˆ›å»ºæµç¨‹ï¼š
åˆ›å»ºåº•å±‚çš„ provider-networks åˆ›å»ºå­ç½‘ï¼Œå¡«å†™ vlan idï¼Œç»‘å®š provider-network(åç«¯è‡ªåŠ¨åˆ›å»ºvlan) å­ç½‘æ”¯æŒè®¾ç½®æ˜¯å¦ä¸ºé»˜è®¤ï¼Œå› æ­¤åœ¨æ˜ç¡®è‡ªå·±æ“ä½œé£é™©çš„æƒ…å†µå®Œå…¨åˆ‡æ¢ä¸º underlayï¼Œä¿®æ”¹å¹¶åˆ é™¤ overlay çš„é»˜è®¤å­ç½‘ ovn-defaultï¼Œåˆ›å»ºå¹¶è®¾ç½®ä¸€ä¸ªé»˜è®¤ underlay å­ç½‘ provider-networks èµ„æº **ProviderNetwork èµ„æºåç§°çš„é•¿åº¦ä¸å¾—è¶…è¿‡ 12 ** VPC ç½‘å…³æ— æ³•ä¸ underlay ä½¿ç”¨åŒä¸€èŠ‚ç‚¹çš„åŒä¸€å¼ ç½‘å¡</description></item><item><title/><link>https://renyunkang.tk/4.-overlay-%E5%8A%9F%E8%83%BD/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/4.-overlay-%E5%8A%9F%E8%83%BD/</guid><description>ç½‘å…³ç±»å‹ ä»…åœ¨é»˜è®¤ vpc ä¸‹æ”¯æŒï¼Œå­ç½‘ç®¡ç†
å…è®¸è®¾ç½®ç½‘å…³ç±»å‹ï¼š
åˆ†å¸ƒå¼ç½‘å…³ï¼šé»˜è®¤ç±»å‹ç½‘å…³ï¼Œæ¯ä¸ª node ä¼šä½œä¸ºå½“å‰ node ä¸Š pod è®¿é—®å¤–éƒ¨ç½‘ç»œçš„ç½‘å…³ã€‚æ•°æ®åŒ…ä¼šé€šè¿‡æœ¬æœºçš„Â ovn0Â ç½‘å¡æµå…¥ä¸»æœºç½‘ç»œæ ˆï¼Œå†æ ¹æ®ä¸»æœºçš„è·¯ç”±è§„åˆ™è¿›è¡Œå‡ºç½‘ã€‚ é›†ä¸­å¼ç½‘å…³ï¼šå¦‚æœå¸Œæœ›å­ç½‘å†…æµé‡è®¿é—®å¤–ç½‘ä½¿ç”¨å›ºå®šçš„ IPï¼Œä»¥ä¾¿å®¡è®¡å’Œç™½åå•ç­‰å®‰å…¨æ“ä½œï¼Œå¯ä»¥åœ¨å­ç½‘ä¸­è®¾ç½®ç½‘å…³ç±»å‹ä¸ºé›†ä¸­å¼ç½‘å…³ã€‚ åœ¨é›†ä¸­å¼ç½‘å…³æ¨¡å¼ä¸‹ï¼ŒPod è®¿é—®å¤–ç½‘çš„æ•°æ®åŒ…ä¼šé¦–å…ˆè¢«è·¯ç”±åˆ°ç‰¹å®šèŠ‚ç‚¹çš„Â ovn0Â ç½‘å¡ï¼Œå†é€šè¿‡ä¸»æœºçš„è·¯ç”±è§„åˆ™è¿›è¡Œå‡ºç½‘ã€‚ é›†ä¸­å¼ç½‘å…³ä¸‹å…è®¸è®¾ç½®ä½œä¸ºç½‘å…³çš„èŠ‚ç‚¹ï¼š</description></item><item><title/><link>https://renyunkang.tk/5.-overlay%E8%87%AA%E5%AE%9A%E4%B9%89VPC-%E9%80%BB%E8%BE%91%E7%BB%84%E7%BD%91/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/5.-overlay%E8%87%AA%E5%AE%9A%E4%B9%89VPC-%E9%80%BB%E8%BE%91%E7%BB%84%E7%BD%91/</guid><description>ä½¿ç”¨è‡ªå®šä¹‰ VPC Kube-OVN æ”¯æŒå¤šç§Ÿæˆ·éš”ç¦»çº§åˆ«çš„ VPC ç½‘ç»œã€‚ä¸åŒ VPC ç½‘ç»œç›¸äº’ç‹¬ç«‹ï¼Œå¯ä»¥åˆ†åˆ«é…ç½® Subnet ç½‘æ®µã€è·¯ç”±ç­–ç•¥ã€å®‰å…¨ç­–ç•¥ã€å‡ºç½‘ç½‘å…³ã€EIP ç­‰é…ç½®ã€‚
è¯´æ˜ VPC ä¸»è¦ç”¨äºæœ‰å¤šç§Ÿæˆ·ç½‘ç»œå¼ºéš”ç¦»çš„åœºæ™¯ã€‚éƒ¨åˆ† Kubernetes ç½‘ç»œåŠŸèƒ½åœ¨å¤šç§Ÿæˆ·ç½‘ç»œä¸‹å­˜åœ¨å†²çªã€‚ ä¾‹å¦‚èŠ‚ç‚¹å’Œ Pod äº’è®¿ï¼ŒNodePort åŠŸèƒ½ï¼ŒåŸºäºç½‘ç»œè®¿é—®çš„å¥åº·æ£€æŸ¥å’Œ DNS èƒ½åŠ›åœ¨å¤šç§Ÿæˆ·ç½‘ç»œåœºæ™¯æš‚ä¸æ”¯æŒã€‚ ä¸ºäº†æ–¹ä¾¿å¸¸è§ Kubernetes çš„ä½¿ç”¨åœºæ™¯ï¼ŒKube-OVN é»˜è®¤ VPC åšäº†ç‰¹æ®Šè®¾è®¡ï¼Œè¯¥ VPC ä¸‹çš„ Subnet å¯ä»¥æ»¡è¶³ Kubernetes è§„èŒƒã€‚ å¸¸è§éš”ç¦»éœ€æ±‚å¯é€šè¿‡é»˜è®¤ VPC ä¸‹çš„ç½‘ç»œç­–ç•¥å’Œå­ç½‘ ACL å®ç° ç”¨æˆ·è‡ªå®šä¹‰ VPC æ”¯æŒé™æ€è·¯ç”±ã€EIPã€NAT ç½‘å…³ç­‰åŠŸèƒ½ã€‚ åœ¨ä½¿ç”¨è‡ªå®šä¹‰ VPC å‰è¯·æ˜ç¡®æ˜¯å¦éœ€è¦ VPC çº§åˆ«çš„éš”ç¦»ï¼Œå¹¶äº†è§£è‡ªå®šä¹‰ VPC ä¸‹çš„é™åˆ¶ã€‚ VPC å‡ºç½‘ç½‘å…³ ä½¿ç”¨è‡ªå®šä¹‰ vpc å¹¶é…ç½®å‡ºå£ç½‘å…³æ—¶ï¼Œéœ€è¦ä½¿ç”¨ multus-cniï¼Œå› æ­¤å¿…é¡»å®‰è£… [[multus-cni]] è‡ªå®šä¹‰ VPC ä¸‹çš„å­ç½‘ä¸æ”¯æŒé»˜è®¤ VPC ä¸‹çš„åˆ†å¸ƒå¼ç½‘å…³å’Œé›†ä¸­å¼ç½‘å…³ã€‚ è‡ªå®šä¹‰ VPC å†…å®¹å™¨è®¿é—®å¤–éƒ¨ç½‘ç»œéœ€è¦é€šè¿‡ VPC ç½‘å…³ï¼ŒVPC ç½‘å…³å¯ä»¥æ‰“é€šç‰©ç†ç½‘ç»œå’Œç§Ÿæˆ·ç½‘ç»œï¼Œå¹¶æä¾›æµ®åŠ¨ IPã€SNATã€DNAT åŠŸèƒ½ã€‚</description></item><item><title/><link>https://renyunkang.tk/Arista-%E9%94%90%E6%8D%B7%E4%BA%A4%E6%8D%A2%E6%9C%BA%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/Arista-%E9%94%90%E6%8D%B7%E4%BA%A4%E6%8D%A2%E6%9C%BA%E9%85%8D%E7%BD%AE/</guid><description>#äº¤æ¢æœº #arista
å‚è€ƒæ–‡æ¡£é“¾æ¥ï¼š
https://www.osslab.com.tw/wp-content/uploads/2018/03/Arista%E9%85%8D%E7%BD%AE%E6%89%8B%E5%86%8C.pdf https://www.arista.com/zh/um-eos/eos-ethernet-ports ç™»å½•ï¼šadmin â†’ enable â†’ configure â†’ zerotouch disable â†’ write å…ˆå…³é—­zerotouchï¼Œå¦åˆ™ä¼šå‡ºç°é…ç½®æ— æ³•ä¿å­˜çš„æƒ…å†µ æ˜¾ç¤ºå½“å‰é…ç½® show run</description></item><item><title/><link>https://renyunkang.tk/arp-proxy/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/arp-proxy/</guid><description>#arp #ip
1 2 3 4 sudo bash -c &amp;#39;echo 1 &amp;gt; /proc/sys/net/ipv4/ip_forward&amp;#39; cat /proc/sys/net/ipv4/conf/eth1/proxy_arp sudo sysctl -p æ·»åŠ é»˜è®¤è·¯ç”± ip route add 192.</description></item><item><title/><link>https://renyunkang.tk/BGP-%E6%8A%A5%E6%96%87/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/BGP-%E6%8A%A5%E6%96%87/</guid><description>#bgp #bird birdæ–‡æ¡£ labs / BIRD Internet Routing Daemon Â· GitLab (nic.cz)
bgp æŠ¥æ–‡ç±»å‹
type æŠ¥æ–‡ç±»å‹ ç”¨é€” 1 Open å»ºç«‹ BGP è¿æ¥ 2 Update ç”¨äºé€šå‘Šè·¯ç”± 3 Notification ç”¨äºå¤„ç† BGP è¿›ç¨‹ä¸­çš„å„ç§é”™è¯¯ 4 Keepalive ç”¨äºä¿æŒ BGP è¿æ¥ 5 Refresh ç”¨äºåŠ¨æ€çš„è¯·æ±‚ BGP è·¯ç”±å‘å¸ƒè€…é‡æ–°å‘å¸ƒ Update æŠ¥æ–‡ï¼Œè¿›è¡Œè·¯ç”±æ›´æ–° é…ç½® tor ä¸º Route Reflector ä»¥åŠé€‰å–é›†ç¾¤ä¸­ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸º Route Reflector çš„åŒºåˆ« RRæ˜¯ä¸€ç§ç”¨äºæé«˜BGPç½‘ç»œä¸­è·¯ç”±ä¼ æ’­æ•ˆç‡çš„æŠ€æœ¯ã€‚åœ¨ BGP ç½‘ç»œä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹é€šå¸¸éœ€è¦å‘å…¶é‚»å±…èŠ‚ç‚¹å‘é€å®Œæ•´çš„è·¯ç”±è¡¨ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ç½‘ç»œå¸¦å®½æ¶ˆè€—å’Œå»¶è¿Ÿå¢åŠ ã€‚é€šè¿‡ä½¿ç”¨ RRï¼ŒèŠ‚ç‚¹å¯ä»¥å°†è·¯ç”±ä¿¡æ¯å‘é€åˆ° RR èŠ‚ç‚¹ï¼ŒRR èŠ‚ç‚¹ç„¶åå°†å…¶è½¬å‘ç»™å…¶ä»–èŠ‚ç‚¹ï¼Œä»è€Œå‡å°‘äº†ç½‘ç»œæµé‡å’ŒèŠ‚ç‚¹è´Ÿæ‹…ã€‚</description></item><item><title/><link>https://renyunkang.tk/BGP-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.excalidraw/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/BGP-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.excalidraw/</guid><description>==âš  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš ==
Text Elements spine1 ^ysTSUxD3
spine2 ^NLhMxLIF</description></item><item><title/><link>https://renyunkang.tk/BGP-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/BGP-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</guid><description>#bgp #route-reflector
å®‰è£…å·¥å…· å®‰è£…ç½‘æ¡¥å·¥å…· apt install -y bridge-utils å®‰è£… bird apt-get install -y bird ä¿®æ”¹é…ç½®æ–‡ä»¶ ä¿®æ”¹ç½‘ç»œé…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 source /etc/network/interfaces.</description></item><item><title/><link>https://renyunkang.tk/BIRD-%E6%96%87%E6%A1%A3-+-%E9%A1%B9%E7%9B%AE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/BIRD-%E6%96%87%E6%A1%A3-+-%E9%A1%B9%E7%9B%AE/</guid><description>#bird
æ–‡æ¡£ï¼š The BIRD Internet Routing Daemon Project (network.cz) é¡¹ç›®åœ°å€ï¼š Files Â· master Â· labs / BIRD Internet Routing Daemon Â· GitLab (nic.</description></item><item><title/><link>https://renyunkang.tk/build-record/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/build-record/</guid><description>#go #record
build å·¥å…·åŒ… go å®‰è£…åŒ…ä¸‹è½½åœ°å€ï¼š
wget https://studygolang.com/dl/golang/go1.17.6.linux-amd64.tar.gz 1 2 3 4 5 6 7 8 # é…ç½®ç¯å¢ƒ cat &amp;lt;&amp;lt;EOF &amp;gt; /etc/profile.</description></item><item><title/><link>https://renyunkang.tk/calico-ebpf-dataplane/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/calico-ebpf-dataplane/</guid><description>#calico #ebpf
ä»‹ç»calico ebpf Introducing the Calico eBPF dataplane (tigera.io)
å¼€å¯ calico ebpf Enable the eBPF dataplane (tigera.io)</description></item><item><title/><link>https://renyunkang.tk/Calico-Full-Mesh-BGP-%E6%8A%A5%E6%96%87/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/Calico-Full-Mesh-BGP-%E6%8A%A5%E6%96%87/</guid><description>#bgp #calico-bgp
é›†ç¾¤ç¯å¢ƒ èŠ‚ç‚¹ ip åœ°å€ è§’è‰² node1 172.30.10.2 master+worker node2 172.</description></item><item><title/><link>https://renyunkang.tk/calico-ipam-%E8%BF%87%E7%A8%8B/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/calico-ipam-%E8%BF%87%E7%A8%8B/</guid><description>calico ipam ç›¸å…³ CRD èµ„æº èµ„æºå ä»‹ç» ippool ç”¨äº ipam åˆ†é…çš„ ip æ±  ipamblock block ä¸­ ip åˆ†é…ä¿¡æ¯ç­‰ blockaffinities ç”± ippool åˆ†å‰²çš„ç»†ç²’åº¦çš„ ip å—ä»¥åŠ block ä¸èŠ‚ç‚¹çš„äº²å’Œæ€§ç»‘å®šå…³ç³» ipamconfigs ç”¨äºé…ç½® ipam ç›¸å…³å‚æ•° ipamhandles ç”¨äºä¿å­˜ pod ä¸ block å…³ç³» ippool è¡¨ç¤º IP åœ°å€çš„é›†åˆï¼ŒCalico ä»ä¸­åˆ†é… IPç»™ podã€‚ ç¤ºä¾‹ yamlï¼š</description></item><item><title/><link>https://renyunkang.tk/calico-iperf/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/calico-iperf/</guid><description>calico å†…éƒ¨ node - node pod - pod ï¼ˆè‡ªèº«ï¼‰ pod - nodeï¼ˆåŒï¼‰ pod - node iperf3å·¥å…·æ¯100mså‘ä¸€è½®æŠ¥æ–‡ï¼Œæ¯æ¬¡åœ¨2ã€3mså†…ç¬é—´å‘å®Œï¼Œiperfå·¥å…·åˆ™å‡åŒ€çš„å‘é€æŠ¥æ–‡ï¼Œæ¥å£é™é€Ÿä½¿ç”¨ iperf3 ä½œä¸ºæµ‹è¯•å·¥å…·éœ€è¦è°ƒæ•´ä»¤ç‰Œæ¡¶å‚æ•°ä»¥è¾¾åˆ°æœ€ä½³æ•ˆæœã€‚</description></item><item><title/><link>https://renyunkang.tk/calico-metrics/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/calico-metrics/</guid><description>#calico-metris
Prometheus statistics (tigera.io)
æŒ‡æ ‡ æè¿° felix_active_local_endpoints è¯¥ä¸»æœºä¸Šæ´»åŠ¨çš„ endpoints æ•°é‡ felix_active_local_policies è¯¥ä¸»æœºä¸Šæ´»è·ƒçš„ç­–ç•¥æ•° felix_active_local_selectors è¯¥ä¸»æœºä¸Šé¢æ´»è·ƒ selectors æ•° felix_calc_graph_output_events calculation graph äº§ç”Ÿçš„äº‹ä»¶æ•° felix_calc_graph_update_time_seconds ä¸ºæ¯ä¸ª datastoreæ›´æ–° calculation graph è°ƒç”¨ OnUpdateçš„ç§’ felix_calc_graph_updates_processed calculation graph å¤„ç†çš„ datestore æ›´æ–°æ¬¡æ•° felix_cluster_num_host_endpoints é›†ç¾¤å±‚é¢ host endpoints çš„æ€»æ•° felix_cluster_num_hosts é›†ç¾¤ä¸­çš„ Calico hosts æ€»æ•° felix_cluster_num_workload_endpoints é›†ç¾¤å±‚è´Ÿè½½ endpoints æ€»æ•° felix_exec_time_micros fork/exec å­è¿›ç¨‹èŠ±è´¹çš„æ—¶é—´ felix_int_dataplane_addr_msg_batch_size æ‰¹å¤„ç†çš„æ¥å£åœ°å€æŠ¥æ–‡æ•°ã€‚ è¾ƒé«˜çš„å€¼è¡¨ç¤ºæˆ‘ä»¬æ­£åœ¨åšæ›´å¤šçš„æ‰¹å¤„ç†ä»¥è¯•å›¾è·Ÿä¸Š felix_int_dataplane_apply_time_seconds åº”ç”¨æ•°æ®é¢æ›´æ–°èŠ±è´¹çš„æ—¶é—´ felix_int_dataplane_failures æ•°æ®é¢æ›´æ–°å¤±è´¥ä»¥åŠé‡è¯•æ¬¡æ•° felix_int_dataplane_iface_msg_batch_size æ‰¹å¤„ç†çš„æ¥å£çŠ¶æ€æ¶ˆæ¯æ•°ã€‚ è¾ƒé«˜çš„å€¼è¡¨ç¤ºæˆ‘ä»¬æ­£åœ¨åšæ›´å¤šçš„æ‰¹å¤„ç†ä»¥è¯•å›¾è·Ÿä¸Š felix_int_dataplane_messages æŒ‰ç…§ç±»å‹åˆ†ç±»çš„æ¶ˆæ¯æ•° felix_int_dataplane_msg_batch_size æ‰¹å¤„ç†çš„æ¶ˆæ¯æ•°ã€‚ è¾ƒé«˜çš„å€¼è¡¨ç¤ºæˆ‘ä»¬æ­£åœ¨åšæ›´å¤šçš„æ‰¹å¤„ç†ä»¥è¯•å›¾è·Ÿä¸Š felix_ipset_calls ipset å‘½ä»¤æ‰§è¡Œæ•° felix_ipset_errors ipset å‘½ä»¤å¤±è´¥æ•° felix_ipset_lines_executed ipset æ‰§è¡Œæ“ä½œæ•° felix_ipsets_calico active Calico IP sets æ•°é‡ felix_ipsets_total active IP sets æ€»æ•° felix_iptables_chains active iptables chains æ•°é‡ felix_iptables_lines_executed iptables è§„åˆ™æ‰§è¡Œæ›´æ–°æ•° felix_iptables_restore_calls iptables-restore è°ƒç”¨æ¬¡æ•° felix_iptables_restore_errors iptables-restore é”™è¯¯æ•° felix_iptables_rules active iptables è§„åˆ™æ•° felix_iptables_save_calls iptables-save è°ƒç”¨æ¬¡æ•° felix_iptables_save_errors iptables-save é”™è¯¯æ•° felix_resync_state å½“å‰ datastore çŠ¶æ€ felix_resyncs_started felix å¼€å§‹é‡æ–°åŒæ­¥datastoreçš„æ¬¡æ•° felix_route_table_list_seconds åœ¨åŒæ­¥æœŸé—´åˆ—å‡ºæ‰€æœ‰æ¥å£æ‰€èŠ±è´¹çš„æ—¶é—´ felix_route_table_per_iface_sync_seconds åŒæ­¥æ¯ä¸ªæ¥å£æ‰€èŠ±è´¹çš„æ—¶é—´ felix_log_errors é”™è¯¯æ—¥å¿—æ•° felix_logs_dropped ç”±äºè¾“å‡ºæµè¢«é˜»å¡è€Œä¸¢å¼ƒçš„æ—¥å¿—æ•° ä½¿ç”¨ prometheus æ”¶é›†ç›‘æ§ï¼š[[ç›‘æ§ - monitor]] ä½¿ç”¨å¯è§†åŒ–æŸ¥çœ‹ï¼š[[grafana å¯è§†åŒ–]]</description></item><item><title/><link>https://renyunkang.tk/Calico-TOR-BGP-%E6%8A%A5%E6%96%87/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/Calico-TOR-BGP-%E6%8A%A5%E6%96%87/</guid><description>#bgp #calico-bgp #calico
é›†ç¾¤ç¯å¢ƒ èŠ‚ç‚¹ ip åœ°å€ è§’è‰² node1 10.1.5.11 master+worker node2 10.</description></item><item><title/><link>https://renyunkang.tk/calico-%E8%BF%90%E8%90%A5%E6%96%87%E6%A1%A3/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/calico-%E8%BF%90%E8%90%A5%E6%96%87%E6%A1%A3/</guid><description>æ–°å¢ or æ‰©å®¹ ippool å›ºå®š ip ns ä¸ subnet ç»‘å®š calico é™é€Ÿ calico çš„ tunnel åœ°å€ä¼šè‡ªåŠ¨åˆ†é… è¿ç§» ippool çš„å®¹é‡å‡†å¤‡ blockSize åº”è¯¥å¦‚ä½•å–å€¼ kubesphere é›†æˆäº†cni çš„ ippool å’Œ ç½‘ç»œç­–ç•¥ï¼Œks åœ¨ cni åŸºç¡€ä¹‹ä¸Šå°è£…äº†ä¸€å±‚ï¼Œç”¨äºå±è”½ä¸åŒ cni åº•å±‚å®ç°çš„ï¼Œç°é˜¶æ®µç‰ˆæœ¬ä¸­åº•å±‚ä¸­ä¸»è¦ä½¿ç”¨äº† calicoã€‚</description></item><item><title/><link>https://renyunkang.tk/calico-%E8%BF%90%E8%90%A5%E9%97%AE%E9%A2%98/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/calico-%E8%BF%90%E8%90%A5%E9%97%AE%E9%A2%98/</guid><description>#calico #issue
é…ç½®etcd calico æ”¯æŒä¸¤ç§æ•°æ®å­˜å‚¨ï¼Œä¸€ç§æ˜¯ä½¿ç”¨ kubernetes api æ¥å£æ¥å¯¹å…¶ etcd è¿›è¡Œè¯»å†™æ“ä½œï¼›ä¸€ç§ç›´æ¥è¿æ¥ etcd è¿›è¡Œè¯»å†™æ“ä½œï¼ŒåŒæ—¶ calico æ”¯æŒé…ç½® etcd tls è¿›è¡Œæ•°æ®åŠ å¯†å®ç°å®‰å…¨çš„å­˜å‚¨ï¼Œå¯¹äº etcd ç›¸å…³çš„è¯ä¹¦ç”Ÿæˆä»¥åŠæ›´æ–°ç»´æŠ¤ä¸åœ¨ calico ç®¡ç†èŒƒå›´ä¹‹å†…ã€‚ docs/generate-self-signed-certificates.</description></item><item><title/><link>https://renyunkang.tk/centos-%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C%E6%96%87%E4%BB%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/centos-%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C%E6%96%87%E4%BB%B6/</guid><description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 cat /etc/sysconfig/network-scripts/ifcfg-eth0 # Created by cloud-init on instance boot automatically, do not edit.</description></item><item><title/><link>https://renyunkang.tk/cEOS-%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/cEOS-%E9%85%8D%E7%BD%AE/</guid><description>#containerlab #cEOS #äº¤æ¢æœº
é”æ·äº¤æ¢æœº
enable configure show running-config
vlan 10~12 interface vlan 10 ip address 10.10.10.1 255.255.255.0
interface Ethernet 2 switchport mode trunk switchport trunk native vlan 10 switchport trunk allowed vlan remove 1-4094 Switchport trunk allow vlan add 10,11,12</description></item><item><title/><link>https://renyunkang.tk/confd-%E7%BB%84%E4%BB%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/confd-%E7%BB%84%E4%BB%B6/</guid><description>å¼€æºçš„ã€è½»é‡çº§çš„é…ç½®ç®¡ç†å·¥å…·ã€‚ç›‘æ§Calicoæ•°æ®å­˜å‚¨å¯¹BGPé…ç½®å’Œå…¨å±€é»˜è®¤çš„æ—¥å¿—å˜æ›´ï¼Œå¦‚ASå·ã€æ—¥å¿—çº§åˆ«å’ŒIPAMä¿¡æ¯ã€‚
Confdæ ¹æ®å­˜å‚¨ä¸­çš„æ•°æ®æ›´æ–°ï¼ŒåŠ¨æ€ç”ŸæˆBIRDé…ç½®æ–‡ä»¶ã€‚å½“é…ç½®æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶ï¼Œconfdä¼šè§¦å‘BIRDåŠ è½½æ–°çš„æ–‡ä»¶ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 function apply_communities (){{{- $prefix_advertisements_key := &amp;#34;&amp;#34;}}{{- $node_prefix_advertisements_key := printf &amp;#34;/host/%s/prefix_advertisements/ip_v4&amp;#34; (getenv &amp;#34;NODENAME&amp;#34;)}}{{- if exists $node_prefix_advertisements_key}}{{- $prefix_advertisements_key = $node_prefix_advertisements_key}}{{- else if exists &amp;#34;/global/prefix_advertisements/ip_v4&amp;#34;}}{{- $prefix_advertisements_key = &amp;#34;/global/prefix_advertisements/ip_v4&amp;#34;}}{{- end}}{{- if ne &amp;#34;&amp;#34; $prefix_advertisements_key}}{{- range gets $prefix_advertisements_key}}{{- $arr:= jsonArray .</description></item><item><title/><link>https://renyunkang.tk/conntrack/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/conntrack/</guid><description>æŸ¥çœ‹ã€åŠ è½½ã€å¸è½½ nf_conntrack æ¨¡å—
è¿æ¥è·Ÿè¸ªï¼ˆconntrackï¼‰ï¼šåŸç†ã€åº”ç”¨åŠ Linux å†…æ ¸å®ç° æ‘˜è¦ æœ¬æ–‡ä»‹ç»è¿æ¥è·Ÿè¸ªï¼ˆconnection trackingï¼Œconntrackï¼ŒCTï¼‰çš„åŸç†ï¼Œåº”ç”¨ï¼ŒåŠå…¶åœ¨ Linux å†…æ ¸ä¸­çš„å®ç°ã€‚
ä»£ç åˆ†æåŸºäºå†…æ ¸Â 4.19ã€‚ä¸ºä½¿è¡Œæ–‡ç®€æ´ï¼Œæ‰€è´´ä»£ç åªä¿ç•™äº†æ ¸å¿ƒé€»è¾‘ï¼Œä½†éƒ½ç»™å‡ºäº†ä»£ç  æ‰€åœ¨çš„æºæ–‡ä»¶ï¼Œå¦‚æœ‰éœ€è¦è¯·æŸ¥é˜…ã€‚
æ°´å¹³æœ‰é™ï¼Œæ–‡ä¸­ä¸å…æœ‰é”™è¯¯ä¹‹å¤„ï¼Œæ¬¢è¿æŒ‡æ­£äº¤æµã€‚
1 å¼•è¨€ è¿æ¥è·Ÿè¸ªæ˜¯è®¸å¤šç½‘ç»œåº”ç”¨çš„åŸºç¡€ã€‚ä¾‹å¦‚ï¼ŒKubernetes Serviceã€ServiceMesh sidecarã€ è½¯ä»¶å››å±‚è´Ÿè½½å‡è¡¡å™¨ LVS/IPVSã€Docker networkã€OVSã€iptables ä¸»æœºé˜²ç«å¢™ç­‰ç­‰ï¼Œéƒ½ä¾èµ– è¿æ¥è·Ÿè¸ªåŠŸèƒ½ã€‚</description></item><item><title/><link>https://renyunkang.tk/containerlab/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/containerlab/</guid><description>#containerlab #network #tools
å®‰è£… bash -c &amp;ldquo;$(curl -sL https://get.containerlab.dev)&amp;rdquo;
é…ç½® vyos
ç½‘ç»œæ¨¡å¼
ä¸»æœºç½‘ç»œ å®¹å™¨ç½‘ç»œ é…ç½® spine + leaf å®‰è£… dockerã€kubectl</description></item><item><title/><link>https://renyunkang.tk/coredns/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/coredns/</guid><description>#coredns
coredns &amp;ldquo;no nameservers found&amp;rdquo; error coredns CrashLoopBackOff
1 kubectl edit configmap coredns -n kube-system åˆ é™¤ä»¥ä¸‹éƒ¨åˆ†æˆ–è€…ä¿®æ”¹ä¸ºæ­£ç¡®çš„ dns</description></item><item><title/><link>https://renyunkang.tk/CVE-%E6%BC%8F%E6%B4%9E/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/CVE-%E6%BC%8F%E6%B4%9E/</guid><description>#cve
ç¼–è¯‘ pcre - æ›´æ¢ é«˜ç‰ˆæœ¬ åŠ¨æ€åº“ ä¸ç”Ÿæ•ˆ
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 FROM --platform=linux/arm64 calico/node:v3.</description></item><item><title/><link>https://renyunkang.tk/CVE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/CVE/</guid><description> node pod2daemonset-flexvol busybox1.35.0: 2
zlibv1.2.12: 1
CVE-2022-30065
CVE-2022-28391
CVE-2022-37434</description></item><item><title/><link>https://renyunkang.tk/Design/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/Design/</guid><description>#network-policy
æ”¯æŒ network policy çš„æ’ä»¶ï¼šcalicoï¼Œkube-ovnï¼Œclinumç­‰
ç½‘ç»œéš”ç¦»ï¼šä¼ä¸šç©ºé—´çš„ç½‘ç»œéš”ç¦» + é¡¹ç›®çº§åˆ«çš„ç½‘ç»œéš”ç¦»
æŠ½è±¡äº† NamespaceNetworkPolicies èµ„æºç›¸æ¯” NetworkPolicy åˆ æ‰äº† podSelector å¢åŠ äº† serviceSelectorï¼Œåœ¨é¡¹ç›®ä¸‹åˆ›å»ºéš”ç¦»ç™½åå•ä¼šåˆ›å»º nsnp å¹¶è½¬åŒ–ä¸º k8s çš„ networkPolicyï¼Œè€Œä¼ä¸šç©ºé—´çš„ç½‘ç»œéš”ç¦»ä¼šç›´æ¥è½¬åŒ–ä¸º k8s çš„ networkpolicy</description></item><item><title/><link>https://renyunkang.tk/DNS-%E8%AE%B0%E5%BD%95/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/DNS-%E8%AE%B0%E5%BD%95/</guid><description>#dns
ä½¿ç”¨é’äº‘çš„å…¬æœ‰äº‘ï¼Œæœ‰æ—¶ä¸»æœºé‡å¯ä¹‹åå¯¹åº”çš„dnsè®°å½•ä¼šæ¶ˆå¤±ï¼Œæ‰‹åŠ¨ä¿®æ”¹ /etc/resolv.conf åé‡å¯ä¼šè¢«è¦†ç›–ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è§£å†³ï¼š
ä½¿ç”¨é»˜è®¤çš„ resolved ç®¡ç† DNS è®°å½• ä½¿ç”¨resolvconf ç®¡ç† DNS è®°å½• ä½¿ç”¨ resolved ä¿®æ”¹ /etc/systemd/resolved.</description></item><item><title/><link>https://renyunkang.tk/Drawing-2022-11-02-11.22.56.excalidraw/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/Drawing-2022-11-02-11.22.56.excalidraw/</guid><description>==âš  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš ==
Text Elements openelb-manager ^PjYZ3Jtb
openelb-console ^9PLzVac0</description></item><item><title/><link>https://renyunkang.tk/Drawing-2022-11-07-11.21.56.excalidraw/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/Drawing-2022-11-07-11.21.56.excalidraw/</guid><description>==âš  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš ==
Text Elements KS.IPPool ^G1OAYalQ
calico ippool ^ObxGOAkC</description></item><item><title/><link>https://renyunkang.tk/Drawing-2023-02-16-17.22.15.excalidraw/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/Drawing-2023-02-16-17.22.15.excalidraw/</guid><description>==âš  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš ==
Text Elements A9: 15.255.83.26 65103.29844 A10: 15.</description></item><item><title/><link>https://renyunkang.tk/ebpf-%E6%8E%92%E6%9F%A5%E5%B7%A5%E5%85%B7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/ebpf-%E6%8E%92%E6%9F%A5%E5%B7%A5%E5%85%B7/</guid><description>æ’æŸ¥å·¥å…·ï¼šftrace / bcc trace é—®é¢˜æ’æŸ¥åˆ©å™¨ï¼šLinux åŸç”Ÿè·Ÿè¸ªå·¥å…· Ftrace å¿…çŸ¥å¿…ä¼š | æ·±å…¥æµ…å‡º eBPF</description></item><item><title/><link>https://renyunkang.tk/English/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/English/</guid><description>IMO-in my opinion æˆ‘è®¤ä¸º IMO, it&amp;rsquo;s doesn&amp;rsquo;t good.</description></item><item><title/><link>https://renyunkang.tk/felix-%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/felix-%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B/</guid><description>#calico-felix #calico-ebpf
å…¥å£å¤„ï¼šfelix/dataplane/linux/int_dataplane.goÂ çš„Â NewIntDataplaneDriver()Â å‡½æ•°ï¼Œè¿›è¡Œdataplaneçš„åˆå§‹åŒ– é¦–å…ˆä¼šåˆ¤æ–­æ˜¯å¦å¼€å¯äº†BPFï¼Œå¦‚æœæ˜¯å¼€å¯çŠ¶æ€ï¼Œåˆ™è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š 1ï¼‰æ³¨å†Œ map managerï¼Œè¯¥managerçš„ä½œç”¨æ˜¯è´Ÿè´£ç®¡ç†ebpfçš„mapï¼ˆmapç”¨äºuserspaceå’Œkernelä¹‹é—´è¿›è¡Œæ•°æ®çš„å…±äº«ï¼‰ 2ï¼‰æ³¨å†Œendpoint managerï¼Œè¯¥managerçš„ä½œç”¨æ˜¯è´Ÿè´£å„ç§epçš„ç®¡ç†ï¼ŒåŒ…æ‹¬hostã€workloadç­‰ 3ï¼‰åˆ›å»ºå„ç§mapï¼Œæ¯”å¦‚natçš„frontendMapã€backendMapã€routeMapã€conntrackMapç­‰ 4ï¼‰å¼€å¯kube-proxyï¼Œæ³¨æ„æ­¤kube-proxyå¹¶ékubernetesçš„kube-proxyï¼Œè€Œæ˜¯proxyçš„ä¸€ä¸ªå°è£…ï¼Œè´Ÿè´£å’Œkubernetesé€šä¿¡ï¼Œç»´æŠ¤å„ç§mapä¸­çš„ä¿¡æ¯ 5ï¼‰è‹¥BPFConnTimeEnabledå¼€å¯ï¼Œåˆ™å®‰è£…connect_time_loadbalancerï¼Œå³åŠ è½½ç›¸å…³çš„eBPFç¨‹åº 6ï¼‰å¯åŠ¨dataplaneï¼ˆè¿™éƒ¨åˆ†æš‚ä¸æ¶‰åŠconnect_time_loadbalancerï¼Œæœ¬æ–‡æš‚ä¸åˆ†æï¼‰
calico å…¨éƒ¨çš„ç»„ä»¶ä»¥åŠå…¶è¿›ç¨‹æ ‘è¯¦è§ï¼š[[ç»„ä»¶]] felix ç»„ä»¶ [[felix]]</description></item><item><title/><link>https://renyunkang.tk/felix/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/felix/</guid><description>felix ä¸»è¦çš„å·¥ä½œç»„ä»¶ï¼šsyncer, CalcGraph, dataplane
SyncerÂ åç¨‹è´Ÿè´£ç›‘å¬ datastore ä¸­çš„æ›´æ–°ï¼Œå¹¶å°†æ›´æ–°çš„å†…å®¹é€šè¿‡ channel å‘é€ç»™Â ValidatorÂ åç¨‹ã€‚Validator å®Œæˆæ ¡éªŒåï¼Œå°†å…¶å‘é€ç»™Â Calc graphÂ åç¨‹ã€‚Calc graph å®Œæˆè®¡ç®—åï¼Œå‘é€ç»™dataplaneåç¨‹ã€‚æœ€ådataplaneå®Œæˆæ•°æ®å¹³é¢å¤„ç†ã€‚ syncer, calicoctl å¯ä»¥ç›´æ¥å‘ datastore å¢åˆ æ”¹æŸ¥ä¸€ç³»åˆ— Resourceã€‚syncer åŒæ­¥ä¸”ç›‘å¬è¿™äº›Resourceï¼Œå½“èµ„æºå˜åŠ¨æ—¶ï¼Œé€šè¿‡å›è°ƒonUpdate é€šçŸ¥ä¸‹æ¸¸ç»„ä»¶ï¼ˆæ¯”å¦‚CalcGraphï¼‰ã€‚ CalcGraph, syncer ä¼ é€’çš„ datastore æ•°æ®é€šå¸¸ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦CalcGraph åšä¸€äº›è®¡ç®—å’Œå½’å¹¶å†äº¤ç»™dataplane dataplane è´Ÿè´£å¯¹ node åšå‡ºå¤„ç†ã€‚ dataplane åˆ†ä¸ºæœ¬åœ°å’Œè¿œç¨‹ä¸¤ç§å½¢æ€ï¼Œå¦‚æœæ˜¯æœ¬åœ°è¿è¡Œï¼Œåˆ™é€šè¿‡channel ç›´æ¥ä¼ è¾“ proto modelï¼Œå¦‚æœæ˜¯dataplane è¿œç¨‹ç‹¬ç«‹è¿è¡Œï¼Œåˆ™æ‰§è¡Œgrpc è°ƒç”¨ï¼› github.</description></item><item><title/><link>https://renyunkang.tk/Flannel-%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/Flannel-%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6/</guid><description>#flannel #cni</description></item><item><title/><link>https://renyunkang.tk/fortio-%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/fortio-%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/</guid><description/></item><item><title/><link>https://renyunkang.tk/git-proxy/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/git-proxy/</guid><description>#git #proxy
git è®¾ç½®å’Œå–æ¶ˆä»£ç† (github.com)
windows git è®¾ç½®ä»£ç† ç®€å•æ–¹æ³•ï¼š è®¾ç½®ç¯å¢ƒå˜é‡
http_proxy: 127.0.0.1:1080 https_proxy: 127.0.0.1:1080 windows git ç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼šC:\Users\renyunkang\.gitconfig</description></item><item><title/><link>https://renyunkang.tk/git-sync/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/git-sync/</guid><description>#git #sync
ç”±äºæ–°çš„éœ€æ±‚åœ¨ä»“åº“(upstream)æ–°å»ºäº†ä¸€ä¸ªåˆ†æ”¯newï¼Œç„¶è€Œæˆ‘forkçš„origin(è¿œç¨‹ä¸ªäººä»“åº“ï¼Œéç”µè„‘ä¸­çš„æœ¬åœ°ä»“åº“)ä¸­æ²¡æœ‰è¿™ä¸ªåˆ†æ”¯ï¼Œæˆ‘éœ€è¦åœ¨newåˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘å¹¶ä¸upstreamè¿½è¸ªï¼Œå¦‚ä½•å°†æ–°åˆ†æ”¯newæ’å…¥originä¸­äº†ï¼Œæ­¥éª¤å¦‚ä¸‹: 1ï¼šåˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°çš„ä¸Šæ¸¸åˆ†æ”¯çš„æœ¬åœ°ç‰ˆæœ¬ git checkout -b new upstream/newï¼› 2ï¼šå°†æ–°çš„åˆ†æ”¯æ¨é€åˆ°ä¸ªäººè¿œç¨‹ä»“åº“ git push -u origin new,-uè·Ÿè¸ªæŒ‡å®šçš„è¿œç¨‹ï¼›
åŒæ­¥å…¶ä»–æäº¤
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 git remote add upstream https://github.</description></item><item><title/><link>https://renyunkang.tk/git-%E6%96%87%E6%A1%A3/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/git-%E6%96%87%E6%A1%A3/</guid><description>#git
**featï¼š**æäº¤æ–°åŠŸèƒ½ fixï¼šä¿®å¤äº†bug docsï¼šåªä¿®æ”¹äº†æ–‡æ¡£ styleï¼šè°ƒæ•´ä»£ç æ ¼å¼ï¼Œæœªä¿®æ”¹ä»£ç é€»è¾‘ï¼ˆæ¯”å¦‚ä¿®æ”¹ç©ºæ ¼ã€æ ¼å¼åŒ–ã€ç¼ºå°‘åˆ†å·ç­‰ï¼‰ refactorï¼šä»£ç é‡æ„ï¼Œæ—¢æ²¡ä¿®å¤bugä¹Ÿæ²¡æœ‰æ·»åŠ æ–°åŠŸèƒ½ perfï¼šæ€§èƒ½ä¼˜åŒ–ï¼Œæé«˜æ€§èƒ½çš„ä»£ç æ›´æ”¹ testï¼šæ·»åŠ æˆ–ä¿®æ”¹ä»£ç æµ‹è¯• choreï¼šå¯¹æ„å»ºæµç¨‹æˆ–è¾…åŠ©å·¥å…·å’Œä¾èµ–åº“ï¼ˆå¦‚æ–‡æ¡£ç”Ÿæˆç­‰ï¼‰çš„æ›´æ”¹</description></item><item><title/><link>https://renyunkang.tk/grafana-%E5%8F%AF%E8%A7%86%E5%8C%96/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/grafana-%E5%8F%AF%E8%A7%86%E5%8C%96/</guid><description>#calico #grafana
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 kubectl apply -f - &amp;lt;&amp;lt;EOF apiVersion: v1 kind: ConfigMap metadata: name: grafana-config namespace: calico-monitoring data: prometheus.</description></item><item><title/><link>https://renyunkang.tk/H3C-0519x64/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/H3C-0519x64/</guid><description>#äº¤æ¢æœº #h3c
æ–‡æ¡£é“¾æ¥ï¼š
H3C VSRç³»åˆ—è™šæ‹Ÿè·¯ç”±å™¨ é…ç½®æŒ‡å¯¼-E0518-5W101_ä¸‰å±‚æŠ€æœ¯-IPè·¯ç”±é…ç½®æŒ‡å¯¼_BGPé…ç½®-æ–°åä¸‰é›†å›¢-H3C è¿æ¥å…¬ç½‘ip é…ç½®åŸºç¡€ç½‘ç»œç½‘å¡ip 1 2 interface ge3/0 ip address 10.</description></item><item><title/><link>https://renyunkang.tk/helm-Tools/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/helm-Tools/</guid><description>#helm
1. å®˜ç½‘åœ°å€ https://helm.sh/
2. åœ¨ubuntuä¸Šå®‰è£… 1 2 3 4 5 curl https://baltocdn.com/helm/signing.asc | sudo apt-key add - sudo apt-get install apt-transport-https --yes echo &amp;#34;deb https://baltocdn.</description></item><item><title/><link>https://renyunkang.tk/hybirdnet-%E4%BD%BF%E7%94%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/hybirdnet-%E4%BD%BF%E7%94%A8/</guid><description>#hybridnet #cni
[[hybirdnet.svg]] ç»™èŠ‚ç‚¹æ‰“ label
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 apiVersion:networking.</description></item><item><title/><link>https://renyunkang.tk/hybridnet-%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/hybridnet-%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6/</guid><description>#cni #hybridnet
[[vlan é…ç½®]]
ä¸€é”®å®‰è£… 1 2 3 helm repo add hybridnet https://alibaba.github.io/hybridnet/ helm repo update helm install hybridnet hybridnet/hybridnet -n kube-system --set init.</description></item><item><title/><link>https://renyunkang.tk/hybridnet-%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B5%84%E6%BA%90%E8%A7%A3%E9%87%8A/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/hybridnet-%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B5%84%E6%BA%90%E8%A7%A3%E9%87%8A/</guid><description>#cni #hybridnet
[[hybridnet ç½‘ç»œæ’ä»¶]]
èµ„æº è§£é‡Š networks ç½‘ç»œåŸŸ subnets èŠ‚ç‚¹å¯ç”¨çš„ç½‘æ®µèµ„æº ipinstances ip åˆ†é…æƒ…å†µï¼ˆåªè¯»ï¼‰ nodeinfoes èŠ‚ç‚¹æƒ…å†µ vxlan ä¿¡æ¯ æ¯ä¸ª Network è‡³å°‘éœ€è¦æœ‰ä¸€ä¸ª Subnet æ‰èƒ½çœŸæ­£è¢«ä½¿ç”¨ ç›®å‰è¿˜ä¸æ”¯æŒä¸€ä¸ªèŠ‚ç‚¹å±äºå¤šä¸ª Underlay Networkï¼Œä½†æ˜¯æ”¯æŒä¸€ä¸ªèŠ‚ç‚¹å±äºå¤šä¸ªä¸åŒ typeï¼ˆæ¯”å¦‚ Overlayã€Underlayï¼‰çš„ Network network network.</description></item><item><title/><link>https://renyunkang.tk/hybridnet.excalidraw/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/hybridnet.excalidraw/</guid><description>==âš  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš ==
Text Elements leaf1 ^sDROrzpl
server1 ^eqxCtLQ4</description></item><item><title/><link>https://renyunkang.tk/icmp-tcp-dns-%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/icmp-tcp-dns-%E9%85%8D%E7%BD%AE/</guid><description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 ---apiVersion:v1kind:Namespacemetadata:name:monitoring-systemlabels:app:monitoring---apiVersion:v1kind:ConfigMapmetadata:name:blackbox-confignamespace:monitoring-systemdata:blackbox.</description></item><item><title/><link>https://renyunkang.tk/images-repository/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/images-repository/</guid><description>#docker
Moby = open source development Docker CE = free product release based on Moby Docker EE = commercial product release based on Docker CE.</description></item><item><title/><link>https://renyunkang.tk/install-KubeOVN/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/install-KubeOVN/</guid><description>#kube-ovn #kubekey #install
overlay å®‰è£… ä½¿ç”¨ kubekey å®‰è£… 1 2 3 4 5 6 7 8 9 10 11 apiVersion:kubekey.</description></item><item><title/><link>https://renyunkang.tk/iptables-%E8%BD%AC%E5%8F%91/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/iptables-%E8%BD%AC%E5%8F%91/</guid><description>#iptables
ç«¯å£è½¬å‘ å°†æœ¬æœºçš„8080ç«¯å£è½¬å‘è‡³å…¶ä»–ä¸»æœºï¼Œä¸»æœºIPï¼š192.168.1.12ï¼Œç›®æ ‡ä¸»æœºIPå’Œç«¯å£ï¼š192.168.1.13:8088ï¼Œè§„åˆ™å¦‚ä¸‹
1 2 3 4 iptables -t nat -A PREROUTING -p tcp -m tcp --dport 8080 -j DNAT --to-destination 192.</description></item><item><title/><link>https://renyunkang.tk/iptables/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/iptables/</guid><description>#iptables #calico
ç”¨é€”ï¼šCalico ä½¿ç”¨é¢å¤–çš„ iptables æ ‡è®°ä½æ¥å­˜å‚¨æ¯ä¸ªæœ¬åœ° Calico ç«¯ç‚¹çš„ IDã€‚
calico ä½¿ç”¨ iptables
ä¸ service æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ
1 WhenusingCalicowithKubernetes&amp;#39; `kube-proxy` in IPVS mode, Calico uses additional iptables mark bits to store an ID for each local Calico endpoint.</description></item><item><title/><link>https://renyunkang.tk/IPV6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/IPV6/</guid><description>#ipv6 #calico
å‚è€ƒæ–‡æ¡£ï¼š
IPv4/IPv6 åŒåè®®æ ˆ | Kubernetes Configure dual stack or IPv6 only | Calico Documentation (tigera.io) é…ç½® kubernetes kube-apiserver: --service-cluster-ip-range=&amp;lt;IPv4 CIDR&amp;gt;,&amp;lt;IPv6 CIDR&amp;gt; kube-controller-manager: --cluster-cidr=&amp;lt;IPv4 CIDR&amp;gt;,&amp;lt;IPv6 CIDR&amp;gt; --service-cluster-ip-range=&amp;lt;IPv4 CIDR&amp;gt;,&amp;lt;IPv6 CIDR&amp;gt; --node-cidr-mask-size-ipv4|--node-cidr-mask-size-ipv6Â å¯¹äº IPv4 é»˜è®¤ä¸º /24ï¼Œ å¯¹äº IPv6 é»˜è®¤ä¸º /64 kube-proxy: --cluster-cidr=&amp;lt;IPv4 CIDR&amp;gt;,&amp;lt;IPv6 CIDR&amp;gt; kubelet: å½“æ²¡æœ‰Â --cloud-providerÂ æ—¶ï¼Œç®¡ç†å‘˜å¯ä»¥é€šè¿‡Â --node-ipÂ æ¥ä¼ é€’é€—å·åˆ†éš”çš„ IP åœ°å€ï¼Œ ä¸ºè¯¥èŠ‚ç‚¹æ‰‹åŠ¨é…ç½®åŒæ ˆÂ .</description></item><item><title/><link>https://renyunkang.tk/k9s-Tools/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/k9s-Tools/</guid><description>#k9s
release url: Releases Â· derailed/k9s (github.com)
å®‰è£…
é…ç½®ï¼š derailed/k9s: ğŸ¶ Kubernetes CLI To Manage Your Clusters In Style! (github.com) ~/.</description></item><item><title/><link>https://renyunkang.tk/Kind-Tools/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/Kind-Tools/</guid><description>#kind #install
æ–‡æ¡£ï¼š https://kind.sigs.k8s.io/docs/user/quick-start
å®‰è£…äºŒè¿›åˆ¶ 1 2 3 curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.16.0/kind-linux-amd64 chmod +x ./kind sudo mv .</description></item><item><title/><link>https://renyunkang.tk/kube-ovn-ipam/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/kube-ovn-ipam/</guid><description>#ipam #kube-ovn
ip åˆ†é… éšæœºåˆ†é… å¯¹äºå·¥ä½œè´Ÿè½½çš„ ip åˆ†é…ç­–ç•¥
ä¼˜å…ˆä½¿ç”¨è´Ÿè½½æŒ‡å®šçš„ï¼šovn.kubernetes.io/logical_switch: subnet å¦‚æœè´Ÿè½½æ²¡æœ‰æŒ‡å®šä½¿ç”¨ï¼Œä½¿ç”¨ namespace ç»‘å®šçš„ subnet å¦‚æœ namespace æ²¡æœ‰ç»‘å®š subnetï¼Œä½¿ç”¨å®‰è£…é»˜è®¤çš„ ovn-default é™æ€åˆ†é… é™æ€åˆ†é…å³åœ¨ pod çš„ annotations ä¸­æ·»åŠ å¯¹åº”çš„æ³¨è§£ï¼šå¦‚æœ mac åœ°å€ä¸ºç©ºï¼Œä¼šéšæœºç”³è¯·å‡ºä¸€ä¸ª mac åœ°å€ã€‚</description></item><item><title/><link>https://renyunkang.tk/kube-ovn-networkpolicy/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/kube-ovn-networkpolicy/</guid><description>#network-policy #kube-ovn
æ ‡å‡†çš„ NetworkPolicy kube-ovn æ”¯æŒæ ‡å‡†çš„ NetworkPolicyï¼Œä½†æ˜¯æ— æ³•ä½œç”¨äº node ä¸Šçš„ç­–ç•¥
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 apiVersion:networking.</description></item><item><title/><link>https://renyunkang.tk/kube-ovn-overlay-vpc/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/kube-ovn-overlay-vpc/</guid><description>#cni #kube-ovn #overlay
overlay æ¨¡å¼è·¯ç”±ç½‘ç»œæ‰“é€š Overlay ä¸‹è·¯ç”±æ–¹å¼ç½‘ç»œæ‰“é€š - Kube-OVN æ–‡æ¡£
ç½‘å…³ç±»å‹ ä»…åœ¨é»˜è®¤ vpc ä¸‹æ”¯æŒï¼Œå­ç½‘ç®¡ç†
åˆ†å¸ƒå¼ç½‘å…³ å­ç½‘çš„é»˜è®¤ç±»å‹ç½‘å…³ï¼Œæ¯ä¸ª node ä¼šä½œä¸ºå½“å‰ node ä¸Š pod è®¿é—®å¤–éƒ¨ç½‘ç»œçš„ç½‘å…³ã€‚æ•°æ®åŒ…ä¼šé€šè¿‡æœ¬æœºçš„Â ovn0Â ç½‘å¡æµå…¥ä¸»æœºç½‘ç»œæ ˆï¼Œå†æ ¹æ®ä¸»æœºçš„è·¯ç”±è§„åˆ™è¿›è¡Œå‡ºç½‘ã€‚ å½“Â natOutgoingÂ ä¸ºÂ trueÂ æ—¶ï¼ŒPod è®¿é—®å¤–éƒ¨ç½‘ç»œå°†ä¼šä½¿ç”¨å½“å‰æ‰€åœ¨å®¿ä¸»æœºçš„ IPã€‚</description></item><item><title/><link>https://renyunkang.tk/kube-ovn-underlay/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/kube-ovn-underlay/</guid><description>#kube-ovn #underlay
åŠŸèƒ½é™åˆ¶ ç”±äºè¯¥æ¨¡å¼ä¸‹å®¹å™¨ç½‘ç»œç›´æ¥ä½¿ç”¨ç‰©ç†ç½‘ç»œè¿›è¡ŒäºŒå±‚åŒ…è½¬å‘ï¼ŒOverlay æ¨¡å¼ä¸‹çš„ SNAT/EIPï¼Œ åˆ†å¸ƒå¼ç½‘å…³/é›†ä¸­å¼ç½‘å…³ç­‰ L3 åŠŸèƒ½æ— æ³•ä½¿ç”¨ã€‚
ä½¿ç”¨ underlay æ¨¡å¼ä¸»è¦æ¶‰åŠçš„èµ„æºæœ‰ï¼š
èµ„æº è¯´æ˜ provider-networks underlay ç½‘å¡æä¾›è€… vlans vlan ä¿¡æ¯ subnets å­ç½‘/ippool åœ°å€æ±  ips ip åˆ†é…è®°å½• provider-networks èµ„æº ProviderNetwork æä¾›äº†ä¸»æœºç½‘å¡åˆ°ç‰©ç†ç½‘ç»œæ˜ å°„çš„æŠ½è±¡ï¼Œå°†åŒå±ä¸€ä¸ªç½‘ç»œçš„ç½‘å¡è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œ å¹¶è§£å†³åœ¨å¤æ‚ç¯å¢ƒä¸‹åŒæœºå™¨å¤šç½‘å¡ã€ç½‘å¡åä¸ä¸€è‡´ã€å¯¹åº” Underlay ç½‘ç»œä¸ä¸€è‡´ç­‰æƒ…å†µä¸‹çš„é…ç½®é—®é¢˜ã€‚</description></item><item><title/><link>https://renyunkang.tk/kube-ovn/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/kube-ovn/</guid><description>#kube-ovn #cni
æ–‡æ¡£é“¾æ¥ï¼š Kube-OVN æ–‡æ¡£ å‘å¸ƒç‰ˆæœ¬ï¼š Releases Â· kubeovn/kube-ovn (github.com)
kube-ovn 1.9 ç‰ˆæœ¬è‡ªå®šä¹‰èµ„æº
è‡ªå®šä¹‰èµ„æº è¯´æ˜ å¤‡æ³¨ vpcs è‡ªå®šä¹‰vpc vpc-nat-gateways vpc å‡ºå£ç½‘å…³ subnets å­ç½‘/ippool åœ°å€æ±  provider-networks underlay ç½‘å¡æä¾›è€… vlans vlan ä¿¡æ¯ ips ip åˆ†é…è®°å½• htbqoses pod ç½‘ç»œé™é€Ÿ security-groups å®‰å…¨ç»„ä¿¡æ¯ kube-ovn 1.</description></item><item><title/><link>https://renyunkang.tk/kube-proxy/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/kube-proxy/</guid><description>ä½¿ç”¨æ¨¡å¼ï¼šipvs or iptables
åˆ‡æ¢æ–¹å¼
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 ~#: kubectl -n kube-system edit cm kube-proxy apiVersion: v1 data: config.</description></item><item><title/><link>https://renyunkang.tk/kubeadm-install-k8s/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/kubeadm-install-k8s/</guid><description>#install #kubernetes #kubeadm
ubuntu å®‰è£… kubernetes 1. å®‰è£… docker å®‰è£…dockerï¼š
curl -sSL https://get.daocloud.io/docker | sh curl -fsSL https://get.docker.com | bash -s docker &amp;ndash;mirror Aliyun 2.</description></item><item><title/><link>https://renyunkang.tk/kubectl-ko/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/kubectl-ko/</guid><description>#kube-ovn #kubectl
æœ‰æ—¶å€™å®‰è£…å®Œæˆ kube-ovn ä¹‹åï¼Œkubectl ko æ’ä»¶æ— æ³•ä½¿ç”¨</description></item><item><title/><link>https://renyunkang.tk/kubekey-install-k8s/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/kubekey-install-k8s/</guid><description>#install #kubernetes #kubekey ä¸‹è½½ kubekey
1 2 export KKZONE=cn curl -sfL https://get-kk.kubesphere.io | VERSION=v2.3.0 sh - ç”Ÿæˆé…ç½®æ–‡ä»¶</description></item><item><title/><link>https://renyunkang.tk/linux-%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/linux-%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/</guid><description>#é™æ€ip
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 root@node1:~# cat /etc/network/interfaces source /etc/network/interfaces.</description></item><item><title/><link>https://renyunkang.tk/markdown-style/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/markdown-style/</guid><description>#markdown
Extended Syntax | Markdown Guide</description></item><item><title/><link>https://renyunkang.tk/MetalLB-vs-OpenELB/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/MetalLB-vs-OpenELB/</guid><description>eip çš„èŠ‚ç‚¹é€‰æ‹© eip çš„ namespace é€‰æ‹© service ip share å•ç‚¹æ•…éšœ éƒ¨ç½²æ¶æ„ deploymentï¼šcontroller daemonSetï¼šspeaker å®£å‘Šè·¯ç”±
å·¥ä½œæ¨¡å¼ï¼š
layer2 bgp + frr bfd bgp æ¨¡å¼ä¸ºæ¯ä¸ªèŠ‚ç‚¹è¿è¡Œä¸€ä¸ª bgp session</description></item><item><title/><link>https://renyunkang.tk/multipass/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/multipass/</guid><description>#multipass
å®˜æ–¹githubï¼š https://github.com/canonical/multipass windows ç¯å¢ƒä¸‹çš„å®‰è£…ä»¥åŠä½¿ç”¨ï¼š https://multipass.run/docs/installing-on-windows
windows æ”¯æŒä»¥ä¸‹ä¸¤ç§æ¨¡å¼ï¼š
Hyper-Vï¼šï¼ˆåªèƒ½æ˜¯windows Pro æˆ–è€… windows ä¼ä¸šç‰ˆï¼‰ VirtualBoxï¼šä¾èµ– VirtualBox åˆ‡æ¢æ¨¡å¼ï¼š
multipass set local.</description></item><item><title/><link>https://renyunkang.tk/multus-cni/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/multus-cni/</guid><description>#cni #multus-cni
ä»“åº“åœ°å€ï¼š k8snetworkplumbingwg/multus-cni: A CNI meta-plugin for multi-homed pods in Kubernetes (github.com)
å®‰è£… kubectl apply-f https://github.com/k8snetworkplumbingwg/multus-cni/blob/v3.9.2/deployments/multus-daemonset-thick-plugin.yml
ä½¿ç”¨ åˆ›å»º NetworkAttachmentDefinition èµ„æº 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 cat &amp;lt;&amp;lt;EOF | kubectl create -f - apiVersion: &amp;#34;k8s.</description></item><item><title/><link>https://renyunkang.tk/network-tools/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/network-tools/</guid><description>#nsenter
nsenter -u -n -t $pid bash
nsenterÂ --utsÂ --net --targetÂ 3326Â --ipcÂ --mountÂ --pid
ç½‘å¡é˜Ÿåˆ—è®¾ç½®ä¸º1 + ç½‘å¡ç»ˆç«¯ç»‘å®šè‡³ CPU0 [Linux æ€§èƒ½è°ƒä¼˜] ç½‘å¡ä¸­æ–­ä¸CPUçš„ç»‘å®šé—®é¢˜ - å·´è›®å­ - åšå®¢å›­ (cnblogs.</description></item><item><title/><link>https://renyunkang.tk/networkPolicy-%E7%BD%91%E7%BB%9C%E7%AD%96%E7%95%A5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/networkPolicy-%E7%BD%91%E7%BB%9C%E7%AD%96%E7%95%A5/</guid><description>ç½‘ç»œç­–ç•¥ | Kubernetes</description></item><item><title/><link>https://renyunkang.tk/NewDesign-%E5%85%89%E5%A4%A7%E7%95%8C%E9%9D%A2%E5%AE%9A%E5%88%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/NewDesign-%E5%85%89%E5%A4%A7%E7%95%8C%E9%9D%A2%E5%AE%9A%E5%88%B6/</guid><description>#kubesphere #ippool #calico #network #kube-ovn [[kube-ovn]]
å·²æœ‰ ippool åŠŸèƒ½å¢å¼º é›†æˆ kube-ovnï¼š ippool åŠŸèƒ½å¢å¼º v3.3.x ä¹‹å‰çš„ç‰ˆæœ¬ ippool åªä½¿ç”¨ calico ä½œä¸º providerï¼Œå¹¶ä¸”åªæ”¯æŒä¸€å°éƒ¨åˆ†åŠŸèƒ½ï¼Œé¢å¯¹å¤æ‚çš„ç½‘ç»œç¯å¢ƒï¼Œç”¨æˆ·åªèƒ½åœ¨ç»ˆç«¯ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œå› æ­¤ä¸ºæ”¯æŒæ›´å¤šç¯å¢ƒçš„æ–¹ä¾¿ä½¿ç”¨ï¼Œå¢å¼ºä»¥ä¸‹åŠŸèƒ½ï¼š</description></item><item><title/><link>https://renyunkang.tk/Obsidian-%E6%8F%92%E4%BB%B6%E7%86%9F%E6%82%89/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/Obsidian-%E6%8F%92%E4%BB%B6%E7%86%9F%E6%82%89/</guid><description> å›¾ç‰‡æ”¾ç½®ç¬”è®°ä¸­ obsidian - mdnice å¢¨æ»´
ç»˜å›¾å¯¼å…¥ç´ æåº“</description></item><item><title/><link>https://renyunkang.tk/openelb-console/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/openelb-console/</guid><description>#openelb #console
server éƒ¨ç½² å¯ä»¥é…ç½®çš„ç«¯å£ï¼š&amp;ndash;http-port: 8080
docker è®¿é—®ï¼š ç”Ÿæˆç¼–è¯‘é•œåƒ
ç”Ÿæˆ docker images ç”Ÿæˆ default.conf docker run &amp;ndash;rm -d &amp;ndash;name=openelb-console -v /root/program/test/console/default.</description></item><item><title/><link>https://renyunkang.tk/openelb-install/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/openelb-install/</guid><description>#openelb
ä¿®æ”¹é»˜è®¤çš„ 443 ç«¯å£
å°†å¯¹åº” 443 ä¿®æ”¹ä¸ºå…¶ä»–æƒ³è¦æš´éœ²çš„ç«¯å£ï¼Œä¾‹å¦‚30000 åœ¨ validatingwebhookconfiguration ä»¥åŠ mutatingwebhookconfiguration ä¸­ webhooks.clientConfig.service ä¸­æ·»åŠ  port: 30000</description></item><item><title/><link>https://renyunkang.tk/openelb-%E4%B8%8E-calico-%E5%86%B2%E7%AA%81/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/openelb-%E4%B8%8E-calico-%E5%86%B2%E7%AA%81/</guid><description>BGP åªå…è®¸æ¯å¯¹èŠ‚ç‚¹å»ºç«‹ä¸€ä¸ªä¼šè¯ã€‚å› æ­¤ï¼Œå¦‚æœ Calico ä¸ BGP è·¯ç”±å™¨å»ºç«‹äº†ä¼šè¯ï¼Œopenelbæ— æ³•å»ºç«‹è‡ªå·±çš„ä¼šè¯â€”â€”å®ƒå°†è¢« BGP çš„å†²çªè§£å†³ç®—æ³•ä½œä¸ºé‡å¤é¡¹æ‹’ç»ã€‚
calico 3.18 ä¹‹åæ”¯æŒé…ç½®é€šè¿‡ bgp å®£å‘Š LoadBalancer IPsã€‚å› æ­¤å¯ä»¥ä½¿ç”¨ openelb æ—¶å¯ä»¥ä¸å»ºç«‹ bgpconf ä¸ bgppeer èµ„æºã€‚</description></item><item><title/><link>https://renyunkang.tk/OriginalDesign/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/OriginalDesign/</guid><description>#kubesphere #ippool #calico #network kubernetes ç½‘ç»œè¦æ±‚ï¼š æœåŠ¡ã€è´Ÿè½½å‡è¡¡å’Œè”ç½‘ | Kubernetes
Pod èƒ½å¤Ÿä¸æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹ä¸Šçš„ Pod é€šä¿¡ï¼Œ ä¸”ä¸éœ€è¦ç½‘ç»œåœ°å€è½¬è¯‘ï¼ˆNATï¼‰ èŠ‚ç‚¹ä¸Šçš„ä»£ç†ï¼ˆæ¯”å¦‚ï¼šç³»ç»Ÿå®ˆæŠ¤è¿›ç¨‹ã€kubeletï¼‰å¯ä»¥å’ŒèŠ‚ç‚¹ä¸Šçš„æ‰€æœ‰ Pod é€šä¿¡ pod ä¸ pod é€šä¿¡ pod ä¸ service é€šä¿¡ å¤–éƒ¨ä¸ service é€šä¿¡ è‡ªå®šä¹‰èµ„æºå¯¹ç…§ ç°æœ‰åŠŸèƒ½ åˆ›å»º/åˆ é™¤ ippoolï¼ˆå¯åŒæ—¶åˆ›å»ºå¤šä¸ªï¼‰ å°†æŒ‡å®š ippool åˆ†é…åˆ°ä¼ä¸šç©ºé—´ ä¸ºå·¥ä½œè´Ÿè½½æŒ‡å®šåˆ†é…çš„ ippool æŸ¥çœ‹ ippool è¯¦æƒ…ï¼ˆåˆ†é…æƒ…å†µ[ä¼ä¸šç©ºé—´/å®¹å™¨ç»„/å‰©ä½™ ip æ•°é‡/ ip æ€»æ•°]ã€ç½‘æ®µè¯¦æƒ…ç­‰ï¼‰ èµ„æºå¯¹ç…§ v3.</description></item><item><title/><link>https://renyunkang.tk/pbft/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/pbft/</guid><description>é•œåƒï¼š 1.2.0
hyperledger/fabric-peer hyperledger/fabric-orderer hyperledger/fabric-ca hyperledger/fabric-tools hyperledger/fabric-ccenv 0.4.10 hyperledger/fabric-baseimage hyperledger/fabric-baseos hyperledger/fabric-couchdb docker ps
ca.trace.com - hyperledger/fabric-ca orderer.trace.com - hyperledger/fabric-ordere peer0.</description></item><item><title/><link>https://renyunkang.tk/perf-%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/perf-%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90/</guid><description>#iperf #network
Wiki - Linux æ•ˆèƒ½åˆ†æå·¥å…·: Perf (ncku.edu.tw) ç½‘ç»œæµ‹è¯•å·¥å…· ä¸€ã€iperf iperfæ˜¯ä¸€ä¸ªç½‘ç»œæ€§èƒ½æµ‹è¯•å·¥å…·ã€‚iperfå¯ä»¥æµ‹è¯•TCPå’ŒUDPå¸¦å®½è´¨é‡ã€‚iperfå¯ä»¥æµ‹é‡æœ€å¤§TCPå¸¦å®½ï¼Œå…·æœ‰å¤šç§å‚æ•°å’ŒUDPç‰¹æ€§ã€‚iperfå¯ä»¥æŠ¥å‘Šå¸¦å®½ï¼Œå»¶è¿ŸæŠ–åŠ¨å’Œæ•°æ®åŒ…ä¸¢å¤±ã€‚åˆ©ç”¨iperfè¿™ä¸€ç‰¹æ€§ï¼Œå¯ä»¥ç”¨æ¥æµ‹è¯•ä¸€äº›ç½‘ç»œè®¾å¤‡å¦‚è·¯ç”±å™¨ï¼Œé˜²ç«å¢™ï¼Œäº¤æ¢æœºç­‰çš„æ€§èƒ½ã€‚
æœåŠ¡ç«¯10.74.148.74å¯åŠ¨iperf3ï¼Œç›‘å¬ç«¯å£12345ï¼Œè¯·æ±‚é—´æ–­æ—¶é—´1s ~#Â iperf3Â -sÂ -pÂ 12345Â -iÂ 1 å®¢æˆ·ç«¯å‘10.</description></item><item><title/><link>https://renyunkang.tk/PortAllocator/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/PortAllocator/</guid><description>webhook æ“ä½œï¼š
åˆ†é…ç«¯å£ é‡Šæ”¾ç«¯å£ controller-manager æ“ä½œï¼š
åŒæ­¥ pod åˆ†é…ä¿¡æ¯ åŒæ­¥ ns å¼€å…³ä¿¡æ¯ åŒæ­¥ configmap é…ç½®ä¿¡æ¯ http server æ“ä½œ - å¯ä»¥æ›´æ¢ä¸ºå‘½ä»¤è¡Œæ“ä½œ</description></item><item><title/><link>https://renyunkang.tk/Prometheus-Blockbox-Exporter/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/Prometheus-Blockbox-Exporter/</guid><description>Blackbox Exporter æ˜¯ Prometheus ç¤¾åŒºæä¾›çš„ å®˜æ–¹é»‘ç›’ç›‘æ§è§£å†³æ–¹æ¡ˆ,å…¶å…è®¸ç”¨æˆ·é€šè¿‡: http\HTTPS\DNS\TCP\ICMP\gRPCçš„æ–¹å¼å¯¹ç½‘ç»œè¿›è¡Œæ¢æµ‹.
å®‰è£…éƒ¨ç½²
docker å®‰è£…
1 docker run --rm -p 9115:9115 --name blackbox_exporter -v $(pwd):/config quay.</description></item><item><title/><link>https://renyunkang.tk/Question/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/Question/</guid><description>layer3+4 ä¸ layer2+3</description></item><item><title/><link>https://renyunkang.tk/README/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/README/</guid><description>Obsidian ç¤¾åŒºæ’ä»¶ä¸‹è½½ä¿®å¤ å› ä¸ºæŸäº›åŸå› ï¼Œåœ¨å›½å†…ç»å¸¸æ— æ³•ä¸‹è½½ Obsidian çš„ç¤¾åŒºæ’ä»¶ã€‚è¿™ä¸ªé¡¹ç›®çš„ä¸»è¦ç›®çš„å°±æ˜¯ä¿®å¤è¿™ç§æƒ…å†µï¼Œè®©å›½å†…çš„ç”¨æˆ·ä¹Ÿå¯ä»¥æ— éšœç¢çš„ä¸‹è½½ç¤¾åŒºæ’ä»¶ã€‚
[![Contributors][contributors-shield]][contributors-url] [![Forks][forks-shield]][forks-url] [![Stargazers][stars-shield]][stars-url] [![Issues][issues-shield]][issues-url] [![MIT License][license-shield]][license-url] [![LinkedIn][linkedin-shield]][linkedin-url]
ç›®å½• ä¸Šæ‰‹æŒ‡å— æ–‡ä»¶ç›®å½•è¯´æ˜ ä½œè€… ç‰ˆæƒè¯´æ˜ é¸£è°¢ ä¸Šæ‰‹æŒ‡å— ä¸‹è½½ obsidian-proxy-github.</description></item><item><title/><link>https://renyunkang.tk/root-%E6%89%8B%E6%9C%BA/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/root-%E6%89%8B%E6%9C%BA/</guid><description>å‚è€ƒäº†è¿™ä¸ªæ“ä½œäº†ä¸€ä¸‹ æ²¡æœ‰æˆåŠŸï¼š çœŸæˆ‘\OPPO è§£é”BLã€ROOTæ•™ç¨‹ - çŸ¥ä¹ (zhihu.com)
adb è¿æ¥æ‰‹æœº
æ‰‹æœºå¼€å¯ usb è°ƒè¯• è¿æ¥æ‰‹æœºå¹¶å…è®¸è°ƒè¯• ä¹‹å ä½¿ç”¨ adb devices shell è¿æ¥ï¼šadb connect ip (æŸ¥çœ‹æ‰‹æœº ip åœ°å€) æ— å¥ˆèŠ±äº† 35 è®©äººå®¶çº¿åˆ· root äº†</description></item><item><title/><link>https://renyunkang.tk/RSS-RPS/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/RSS-RPS/</guid><description>å•é˜Ÿåˆ—æ²¡æœ‰é—®é¢˜ï¼Œå¤šé˜Ÿåˆ—æœ‰é—®é¢˜ ebpf
ç½‘å¡å¤šé˜Ÿåˆ— å¤šæ ¸ å¤šCPU RSS RPS RFS
ç”±äºè¿™å—å†…å­˜åŒºåŸŸæ˜¯æœ‰é™çš„ï¼Œå¦‚æœæ•°æ®åŒ…çš„é€Ÿç‡éå¸¸å¿«ï¼Œå•ä¸ª CPU æ¥ä¸åŠå–èµ°è¿™äº›åŒ…ï¼Œæ–°æ¥çš„åŒ…å°±ä¼šè¢«ä¸¢å¼ƒã€‚è¿™æ—¶å€™ï¼ŒReceive Side Scalingï¼ˆRSSï¼Œæ¥æ”¶ç«¯æ‰©å±•ï¼‰æˆ–è€…å¤šé˜Ÿåˆ—ï¼ˆmultiqueueï¼‰ä¸€ç±»çš„æŠ€æœ¯å¯èƒ½å°±ä¼šæ’ä¸Šç”¨åœºã€‚
å¯ä»¥æŠŠè½¯ä¸­æ–­ç³»ç»Ÿæƒ³è±¡æˆä¸€ç³»åˆ—å†…æ ¸çº¿ç¨‹ï¼ˆæ¯ä¸ª CPU ä¸€ä¸ªï¼‰ï¼Œè¿™äº›çº¿ç¨‹æ‰§è¡Œé’ˆå¯¹ä¸åŒäº‹ä»¶æ³¨å†Œçš„å¤„ç†å‡½æ•°ï¼ˆhandlerï¼‰ã€‚å¦‚æœä½ æ‰§è¡Œè¿‡Â topÂ å‘½ä»¤ï¼Œå¯èƒ½ä¼šæ³¨æ„åˆ°ksoftirqd/0Â è¿™ä¸ªå†…æ ¸çº¿ç¨‹ï¼Œå…¶è¡¨ç¤ºè¿™ä¸ªè½¯ä¸­æ–­çº¿ç¨‹è·‘åœ¨ CPU 0 ä¸Šã€‚</description></item><item><title/><link>https://renyunkang.tk/runtime/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/runtime/</guid><description>crio
1 #### 1. å®‰è£…cri-o yum install git make curl -OL https://github.com/cri-o/cri-o/releases/download/v1.18.4/crio-v1.18.4.tar.gz tar -zxf crio-v1.18.4.tar.gz cd crio-v1.18.4 mkdir -p /etc/crio /opt/cni/bin /usr/local/share/oci-umount/oci-umount.</description></item><item><title/><link>https://renyunkang.tk/shell-%E5%B8%B8%E7%94%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/shell-%E5%B8%B8%E7%94%A8/</guid><description>#shell
ç§»åŠ¨å…‰æ ‡ ctrl+a**: ç§»åˆ°è¡Œé¦–ï¼ˆaæ˜¯é¦–å­—æ¯ï¼‰**
ctrl+e**: ç§»åˆ°è¡Œå°¾ï¼ˆendï¼‰**
ctrl+b: å‰ç§»ä¸€ä¸ªå­—ç¬¦(backward)
ctrl+f: åç§»ä¸€ä¸ªå­—ç¬¦(forward)
alt+b: å‰ç§»ä¸€ä¸ªå•è¯</description></item><item><title/><link>https://renyunkang.tk/ss-%E5%91%BD%E4%BB%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/ss-%E5%91%BD%E4%BB%A4/</guid><description>#network #tool
ss å‘½ä»¤ç”¨äºæ˜¾ç¤ºsocketçŠ¶æ€. ä»–å¯ä»¥æ˜¾ç¤ºPACKET sockets, TCP sockets, UDP sockets, DCCP sockets, RAW sockets, Unix domain socketsç­‰ç­‰ç»Ÿè®¡. å®ƒæ¯”å…¶ä»–å·¥å…·å±•ç¤ºç­‰å¤štcpå’Œstateä¿¡æ¯. å®ƒæ˜¯ä¸€ä¸ªéå¸¸å®ç”¨ã€å¿«é€Ÿã€æœ‰æ•ˆçš„è·Ÿè¸ªIPè¿æ¥å’Œsocketsçš„æ–°å·¥å…·.
åŠŸèƒ½ç±»ä¼¼ï¼šnetstat</description></item><item><title/><link>https://renyunkang.tk/ssh/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/ssh/</guid><description>#ssh
1 2 3 4 5 WARNING: UNPROTECTED PRIVATE KEY FILE! Permissions 0777 for &amp;#39;/root/.ssh/id_rsa&amp;#39; are too open. It is recommended that your private key files are NOT accessible by others.</description></item><item><title/><link>https://renyunkang.tk/subnet/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/subnet/</guid><description>| å­—æ®µ | é€‰é¡¹ | è¯´æ˜ |= |&amp;ndash;|&amp;ndash;|&amp;ndash;| | åå­— | å¿…å¡« | subnet åç§° | | CIDR | å¿…å¡« | subnet cidr | | ç½‘å…³ | å¯é€‰ | æ²¡æœ‰æŒ‡å®šæ—¶ä¼šä½¿ç”¨ CIDR çš„ç¬¬ä¸€ä¸ªåœ°å€ | | é€»è¾‘ç½‘å…³ | å¯é€‰ | å¯¹äºç‰©ç†ç½‘ç»œä¸å­˜åœ¨ç½‘å…³çš„æƒ…å†µï¼Œå¯ä»¥æŒ‡å®šé€»è¾‘ç½‘å…³ | | vlan | å¯é€‰ | å­ç½‘çš„ vlan tagï¼ŒæœªæŒ‡å®šæˆ–è€…ä¸º0æ—¶ï¼Œè¡¨ç¤ºä¸å¸¦æœ‰ tag | | provider | å¯é€‰ | ç»‘å®šåº•å±‚ç½‘å¡ |</description></item><item><title/><link>https://renyunkang.tk/tc-tbf/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/tc-tbf/</guid><description>tbf - token bucket Filter ä»¤ç‰Œæ¡¶è¿‡æ»¤å™¨
tbf sfq æ— ç±»ç®—æ³• æµé‡æ§åˆ¶ TBF é˜Ÿåˆ—æ§åˆ¶ SFQ éšæœºå…¬å¹³é˜Ÿåˆ—
åˆ†ç±»ç®—æ³•ï¼šPRIO/CBQ/HTB å¯¹å¤šç§æ•°æ®æµåŒºåˆ«å¯¹å¾…
PRIOï¼šåˆ†ç±»ä¼˜å…ˆç®—æ³• (ä»å·¦è‡³å³ä¼˜å…ˆå‘åŒ…), é˜Ÿåˆ—è§„å®šå¹¶ä¸è¿›è¡Œæ•´å½¢ï¼Œå®ƒä»…ä»…æ ¹æ®é…ç½®çš„è¿‡æ»¤å™¨æŠŠæµé‡è¿›ä¸€æ­¥ç»†åˆ† CBQï¼šå·¥ä½œæœºåˆ¶æ˜¯ç¡®è®¤é“¾è·¯çš„é—²ç½®æ—¶é—´è¶³å¤Ÿé•¿ï¼Œä»¥è¾¾åˆ°é™ä½é“¾è·¯å®é™…å¸¦å®½çš„ç›®çš„ HTBï¼šåˆ†å±‚çš„ä»¤ç‰Œæ¡¶ä¸€ä¸ªåˆ†ç±»çš„ä»¤ç‰Œæ¡¶è¿‡æ»¤å™¨ linux æµé‡æ§åˆ¶ï¼š</description></item><item><title/><link>https://renyunkang.tk/tcpdump/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/tcpdump/</guid><description>tcpdump -i any -w mycap.pacp</description></item><item><title/><link>https://renyunkang.tk/termshark/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/termshark/</guid><description>#wireshark #tcpdump #termshark
å®‰è£…ï¼š Releases Â· gcla/termshark (github.com)</description></item><item><title/><link>https://renyunkang.tk/TODO-other/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/TODO-other/</guid><description>#todo
åšå®¢æ­å»º
OneNote è¿ç§» + å¯¼å‡º pdf/html + pdf è½¬ html + åšå®¢
ç¬”è®°è¿ç§» - onenote + è¯­é›€</description></item><item><title/><link>https://renyunkang.tk/TODO/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/TODO/</guid><description>#todo
cni è°ƒç ”
é˜¿é‡Œ - hybridnet - CNStack ç½‘ç»œæ’ä»¶ï¼šhybridnet çš„è®¾è®¡ä¸å®ç° daocloud - spiderpool SpiderPool - äº‘åŸç”Ÿå®¹å™¨ç½‘ç»œ IPAM æ’ä»¶ calico æ•´ä½“çš„æµç¨‹ + iptables æ•°æ®é¢ 1.</description></item><item><title/><link>https://renyunkang.tk/use-kube-ovn/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/use-kube-ovn/</guid><description>#kube-ovn #cni #how-to-use
æ ¸å¿ƒèµ„æº subnet
ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 apiVersion:kubeovn.</description></item><item><title/><link>https://renyunkang.tk/vlan-%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/vlan-%E9%85%8D%E7%BD%AE/</guid><description>#vlan #vyos
[[hybridnet ç½‘ç»œæ’ä»¶]]
1 2 3 4 5 6 7 set interfaces ethernet eth1 vif 100 description &amp;#39;VLAN 100&amp;#39; set interfaces ethernet eth1 vif 100 address &amp;#39;192.</description></item><item><title/><link>https://renyunkang.tk/vyos-OSPF-%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/vyos-OSPF-%E9%85%8D%E7%BD%AE/</guid><description>#vyos #è·¯ç”±å™¨
1 2 3 4 5 6 set interfaces loopback lo address 9.9.9.9/32 set protocols ospf parameters router-id 8.</description></item><item><title/><link>https://renyunkang.tk/webhook/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/webhook/</guid><description>#webhook
åŠ¨æ€å‡†å…¥æ§åˆ¶æ’ä»¶
MutatingWebhookConfiguration ValidatingWebhookConfiguration k8s webhookå‡†å…¥æ§åˆ¶æ’ä»¶æºç çº§åˆ«ç†è§£-æ³¨å…¥sidecar - çŸ¥ä¹ (zhihu.com)
openelb webhook ä½¿ç”¨ kube-webhook-certgen port-allocator webhook ä½¿ç”¨ cert-manager</description></item><item><title/><link>https://renyunkang.tk/wireshark-%E6%8A%93%E5%8C%85/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/wireshark-%E6%8A%93%E5%8C%85/</guid><description>#wireshark #æŠ“åŒ…
wireshark æŠ“è¿œç¨‹ ubuntu çš„åŒ… å®‰è£… rpcapd rpcapd æ˜¯ä¸€ä¸ªä¸º Windows ç‰ˆæœ¬çš„Wiresharkåè®®åˆ†æå™¨æä¾›è¿œç¨‹æµé‡æ•è·çš„å®ˆæŠ¤è¿›ç¨‹ã€‚å®ƒéšWindows çš„ WinPcapÂ ç½‘ç»œæ•è·åº“ä¸€èµ·æä¾›ï¼Œä¹‹å‰ Linux ä¸­çš„æ²¡æœ‰ libpcap ,åæ¥æ·»åŠ äº†ã€‚ ä½¿ç”¨ rpcapd-linux ä½¿ç”¨ the-tcpdump-group/libpcap ã€æ¨èã€‘æ²¡æœ‰å¤§çš„æŠ¥é”™é—®é¢˜ 1 2 3 4 5 6 apt-get build-dep libpcap -y git clone https://github.</description></item><item><title/><link>https://renyunkang.tk/wireshark-%E6%8A%93%E5%8C%85%E8%BF%87%E6%BB%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/wireshark-%E6%8A%93%E5%8C%85%E8%BF%87%E6%BB%A4/</guid><description>#wireshark
åŠŸèƒ½ è¡¨è¾¾å¼ ç­›é€‰ç‰¹å®š ip ip.addr == xxx</description></item><item><title/><link>https://renyunkang.tk/%E4%B8%B4%E6%97%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E4%B8%B4%E6%97%B6/</guid><description>[[Obsï¼ƒ67] upgitï¼ä½¿ç”¨GitHubåœ–åºŠï¼šå¿«é€Ÿä¸Šå‚³åœ–æª”åˆ°GitHubä¸¦æ’å…¥åœ–ç‰‡ç¶²å€åˆ°Obsidian â€“ ç°¡ç¿éš¨ç­† (jdev.tw)](http://jdev.tw/blog/6982) åä¸º centos æºï¼š wget -O /etc/yum.repos.d/CentOS-Base.repo https://repo.huaweicloud.com/repository/conf/CentOS-8-reg.repo
ipv6 ip -6 route add default via 2402:e7c0:1c0:3000::1</description></item><item><title/><link>https://renyunkang.tk/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9B%B8%E5%85%B3/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9B%B8%E5%85%B3/</guid><description>#containerlab #äº¤æ¢æœº
Nokia SR Linux
1 2 3 4 5 # access CLI docker exec -it &amp;lt;name&amp;gt; sr_cli # access bash docker exec -it &amp;lt;name&amp;gt; bash Arista cEOS</description></item><item><title/><link>https://renyunkang.tk/%E4%BD%BF%E7%94%A8-containerlab-+-kind-%E6%90%AD%E5%BB%BA-calico-tor/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E4%BD%BF%E7%94%A8-containerlab-+-kind-%E6%90%AD%E5%BB%BA-calico-tor/</guid><description>#containerlab #calico #kind #bgp
1. ä½¿ç”¨ kind åˆ›å»º node èŠ‚ç‚¹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 kind:Clustername:clusterapiVersion:kind.</description></item><item><title/><link>https://renyunkang.tk/%E4%BD%BF%E7%94%A8code-generator%E7%94%9F%E6%88%90crd%E7%9A%84clientsetinformerlisters/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E4%BD%BF%E7%94%A8code-generator%E7%94%9F%E6%88%90crd%E7%9A%84clientsetinformerlisters/</guid><description>#code-generator #informer #kubernetes #kubebuilder
å‚è€ƒé“¾æ¥ï¼š ä½¿ç”¨code-generatorç”Ÿæˆcrdçš„clientsetã€informerã€listers - èµ¶è·¯äººçš„åšå®¢ (xieys.club)</description></item><item><title/><link>https://renyunkang.tk/%E5%85%89%E5%A4%A7-calico-bgp-%E6%96%AD%E8%81%94%E5%8E%9F%E5%9B%A0/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E5%85%89%E5%A4%A7-calico-bgp-%E6%96%AD%E8%81%94%E5%8E%9F%E5%9B%A0/</guid><description>èƒŒæ™¯ + åˆ†æ è¡Œå†…åœ¨è¿›è¡Œ http çŸ­è¿æ¥æ€§èƒ½æµ‹è¯•æ—¶ï¼Œcalico æ„å¤–é‡å¯ï¼Œè€Œ calico é‡å¯å¯¼è‡´äº†èŠ‚ç‚¹ä¸äº¤æ¢æœº bgp æ–­è¿ï¼Œè§¦å‘è¡Œå†…äº¤æ¢æœºç›‘æ§å‘Šè­¦ã€‚ é‡å¯æ—¶æŸ¥çœ‹ä¹‹å‰å®¹å™¨æ—¥å¿—å‘ç°å¹¶æ²¡æœ‰æ˜æ˜¾çš„é”™è¯¯æ—¥å¿—ï¼ŒæŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—å‘ç°åŒä¸€æ—¶é—´æ®µ kubelet æ¢é’ˆè¶…æ—¶å¤±è´¥ï¼Œå¹¶ä¸”ä¹Ÿæœ‰å…¶ä»– pod å‘ç”Ÿé‡å¯çš„æ—¥å¿—ã€‚ ç”±äºæ˜¯é’ˆå¯¹ä¸ç½‘ç»œçš„æµ‹è¯•ï¼Œæ‰€æœ‰åˆ†æå¹¶æå‡ºä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼š æ’æŸ¥è·¯ç”±æ•°é‡ å¯¹äºè·¯ç”±èšåˆ
äº¤æ¢æœºä¾§ï¼šå…ˆè®¨è®ºäº¤æ¢æœºä¸Šå¯è¡Œæ€§ï¼Œä½†å› ä¸ºä¸¤ä¼šæœŸé—´ï¼Œè¡Œå†…å°ç½‘æ— æ³•è¿›è¡Œäº¤æ¢æœºé…ç½®çš„æ”¹åŠ¨ï¼Œæ²¡æœ‰è¿›è¡Œå°è¯• bird é…ç½®ï¼šä¸´æ—¶ä¿®æ”¹äº† calico bird é…ç½®ï¼ˆè¿›å…¥ docker merge è¯»å†™å±‚ä¿®æ”¹ bird é…ç½®æ–‡ä»¶ï¼Œå¹¶æ‰‹åŠ¨åˆ›å»º/åˆ é™¤ ippoolï¼Œè®© confd é‡æ–°åˆ·æ–°é…ç½®å¹¶ç”Ÿæ•ˆï¼Œæ³¨æ„é‡å¯ calico åï¼Œbird é…ç½®ä¼šå¤åŸï¼‰ï¼Œè®©å…¶åªå¯¼å…¥é›†ç¾¤ç›¸å…³çš„è·¯ç”±ï¼Œå°†è·¯ç”±æ•°é‡ç”±5600å¤šå‡å°‘åˆ° 100 å·¦å³ã€‚ å‡å°‘è·¯ç”±åæµ‹è¯•ï¼Œcalico ä»ç„¶ä¼šè§¦å‘é‡å¯ï¼Œæ’é™¤è·¯ç”±æ•°é‡çš„å› ç´ ã€‚</description></item><item><title/><link>https://renyunkang.tk/%E5%85%89%E5%A4%A7%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E5%85%89%E5%A4%A7%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/</guid><description>bgp ç›¸å…³é—®é¢˜ 1.Â bgpÂ æ–­è”çš„åŸå› åˆ†æ
-Â å°è¯•è·¯ç”±èšåˆ
-Â äº¤æ¢æœºèšåˆ
-Â calicoÂ èƒ½å¦è¿‡æ»¤è‡ªå·±æƒ³è¦çš„è·¯ç”±
2.Â calicoÂ å›ç¯è·¯ç”± 3.Â calicoÂ iptablesÂ æ•°é‡å¤šï¼Œè°ƒç ”èƒ½å¦å…³é—­
4.Â torÂ æ¨¡å¼ä¸‹Â bgpÂ æŠ¥æ–‡</description></item><item><title/><link>https://renyunkang.tk/%E5%85%AC%E6%9C%89%E4%BA%91/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E5%85%AC%E6%9C%89%E4%BA%91/</guid><description>https://cwiki.yunify.com/pages/viewpage.action?pageId=23659614&amp;src=contextnavpagetreemode
https://cwiki.yunify.com/pages/viewpage.action?pageId=96318071&amp;src=contextnavpagetreemode
yunify/qingcloud-cloud-controller-manager: A kubernetes cloud-controller-manager for the qingcloud (github.com)</description></item><item><title/><link>https://renyunkang.tk/%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0/</guid><description>ipvs warn å…³é—­ sysctl -w net.ipv4.vs.ignore_no_rs_error=1 IPVS no destination available - Kubernetes å®è·µæŒ‡å— (imroc.cc)</description></item><item><title/><link>https://renyunkang.tk/%E5%86%85%E6%A0%B8%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E5%86%85%E6%A0%B8%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0/</guid><description/></item><item><title/><link>https://renyunkang.tk/%E5%89%96%E6%9E%90/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E5%89%96%E6%9E%90/</guid><description>Calico eBPF Data Plane Deep-Dive (tigera.io)
nodeport æµé‡åˆ°æ¥ä¹‹åå¦‚ä½•å¤„ç†çš„
host ip update ï¼Ÿ
kube-proxy ï¼š ç”¨äºå¤„ç†é«˜çº§çš„é—®é¢˜ï¼Œå¦‚é‡å¯ã€é…ç½®ç­‰</description></item><item><title/><link>https://renyunkang.tk/%E5%8F%8C%E6%A0%88/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E5%8F%8C%E6%A0%88/</guid><description>kubekey å¼€å‘éœ€æ±‚ æ£€æµ‹ä¸»æœºæ˜¯å¦æ”¯æŒ ipv6 ä¿®æ­£ ipv6 ç›¸å…³çš„å†…æ ¸å‚æ•° æ”¯æŒå¼€å¯ ipv6 ä»¥åŠ ipv6 çš„é…ç½®é¡¹ï¼ˆç¼–è¾‘ cni é…ç½®æ–‡ä»¶ï¼‰ å®‰è£… calico å¹¶å¼€å¯ ipv6 ï¼ˆæ·»åŠ  calico-node daemonset çš„ ipv6 ç›¸å…³çš„ç¯å¢ƒå˜é‡ï¼‰ é…ç½® ipv6 (æ·»åŠ é»˜è®¤çš„ ipv6 ippool) åˆå§‹åŒ– kubernetes éœ€è¦å¼€å¯ ipv6 (ä½¿ç”¨ kubeadm é…ç½® kube-apiserverã€kube-controller-managerã€kube-proxyã€kubelet æ¥å¼€å¯ ipv6) ks å†…éƒ¨ç»„ä»¶å¼€å‘éœ€æ±‚ ks å†…éƒ¨ç»„ä»¶ ippool æ”¯æŒ ipv6</description></item><item><title/><link>https://renyunkang.tk/%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</guid><description>#calico #cni #calicoctl
å®˜ç½‘ About Calico (tigera.io)
å®‰è£… calico calicoctl ä½¿ç”¨calicoctl å¯ä»¥ä½¿ç”¨calico çš„æ›´å¤šçš„åŠŸèƒ½ï¼Œcalicoctl ç”¨äºç®¡ç† Calico ç­–ç•¥å’Œé…ç½®ï¼Œä»¥åŠæŸ¥çœ‹è¯¦ç»†çš„é›†ç¾¤çŠ¶æ€ã€‚
API groups æ‰€æœ‰ Kubernetes èµ„æºéƒ½å±äºä¸€ä¸ª API ç»„ã€‚ API ç»„ç”±èµ„æºçš„ apiVersion æŒ‡å®šã€‚Calico ä½¿ç”¨ projectcalico.</description></item><item><title/><link>https://renyunkang.tk/%E5%A4%9A%E7%BD%91%E5%8D%A1/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E5%A4%9A%E7%BD%91%E5%8D%A1/</guid><description>åˆ›å»º nad
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 cat &amp;lt;&amp;lt;EOF | kubectl create -f -apiVersion:&amp;#34;k8s.</description></item><item><title/><link>https://renyunkang.tk/%E5%AE%89%E8%A3%85/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E5%AE%89%E8%A3%85/</guid><description>#metallb
kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.13.7/config/manifests/metallb-native.yaml
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 root@node3:~/metallb# kubectl apply -f https://raw.</description></item><item><title/><link>https://renyunkang.tk/%E5%B7%A5%E5%85%B7%E5%88%97%E8%A1%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E5%B7%A5%E5%85%B7%E5%88%97%E8%A1%A8/</guid><description>#tool #linux #network
å·¥å…·åŒ… [[å·¥å…·åŒ… - ä¸‹è½½å‘½ä»¤]] ebpf ç›¸å…³ [[ebpf æ’æŸ¥å·¥å…·]] iptables ç›¸å…³ [[iptables è½¬å‘]] conntrack/netstats/ss/lsof [[conntrack]] ç½‘å¡å¤šé˜Ÿåˆ—ã€ä¸­æ–­ç»‘å®š [[ç½‘å¡å¤šé˜Ÿåˆ— + ä¸­æ–­ç»‘å®š]]</description></item><item><title/><link>https://renyunkang.tk/%E5%B7%A5%E5%85%B7%E5%8C%85-%E4%B8%8B%E8%BD%BD%E5%91%BD%E4%BB%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E5%B7%A5%E5%85%B7%E5%8C%85-%E4%B8%8B%E8%BD%BD%E5%91%BD%E4%BB%A4/</guid><description>ç›¸å…³ç½‘ç»œå·¥å…·åŒ…ï¼š
pingåŒ…ï¼šapt-get install inetutils-ping ifconfig/netstatï¼šapt-get install net-tools ip å‘½ä»¤ï¼šapt-get install iproute2 æŠ“åŒ…ï¼šsudo apt-get install wireshark + sudo usermod -a -G wireshark $USER</description></item><item><title/><link>https://renyunkang.tk/%E5%B8%A6%E5%AE%BD%E9%99%90%E5%88%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E5%B8%A6%E5%AE%BD%E9%99%90%E5%88%B6/</guid><description>#bandwidth
CNI-bandwidth
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 { &amp;#34;cniVersion&amp;#34;: &amp;#34;0.</description></item><item><title/><link>https://renyunkang.tk/%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF/</guid><description>#å¼€æœºè‡ªå¯ #linux
æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ rc.local å®ç°å¼€æœºè‡ªå¯ï¼Œä¸è¿‡ç”±äºç³»ç»Ÿç‰ˆæœ¬æ›´æ›¿ï¼Œå¾ˆå¤šæ–°ç‰ˆæœ¬éƒ½æ²¡æœ‰ rc.local æ–‡ä»¶äº†ï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½® æ·»åŠ  /etc/rc.local æ–‡ä»¶
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 cat &amp;lt;&amp;lt;EOF &amp;gt;/etc/rc.</description></item><item><title/><link>https://renyunkang.tk/%E6%89%8B%E5%8A%A8%E5%88%9B%E5%BB%BA-netns-+-%E8%B7%A8%E4%B8%BB%E6%9C%BA%E9%80%9A%E4%BF%A1/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E6%89%8B%E5%8A%A8%E5%88%9B%E5%BB%BA-netns-+-%E8%B7%A8%E4%B8%BB%E6%9C%BA%E9%80%9A%E4%BF%A1/</guid><description>#network #netns
ä½¿ç”¨ arp-proxyï¼Œå¹¶åœ¨ä¸»æœºä¸Šæ·»åŠ å¯¹åº”çš„è·¯ç”±è”é€š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 # echo 1 &amp;gt; /proc/sys/net/ipv4/ip_forward echo &amp;#39;net.</description></item><item><title/><link>https://renyunkang.tk/%E6%8A%98%E8%85%BE%E5%B0%8F%E7%88%B1%E5%90%8C%E5%AD%A6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E6%8A%98%E8%85%BE%E5%B0%8F%E7%88%B1%E5%90%8C%E5%AD%A6/</guid><description> ä½¿ç”¨å°ç±³è´¦å·è·å–å°çˆ±åŒå­¦çš„ did yihong0618/MiService: XiaoMi Cloud Service for mi.com (github.com) ç™»å½•</description></item><item><title/><link>https://renyunkang.tk/%E6%8E%92%E6%9F%A5-calico-ebpf/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E6%8E%92%E6%9F%A5-calico-ebpf/</guid><description>#calico #ebpf
é…ç½® kube-proxy
1 2 3 4 5 kubectl patch ds -n kube-system kube-proxy -p &amp;#39;{&amp;#34;spec&amp;#34;:{&amp;#34;template&amp;#34;:{&amp;#34;spec&amp;#34;:{&amp;#34;nodeSelector&amp;#34;:{&amp;#34;non-calico&amp;#34;: &amp;#34;true&amp;#34;}}}}}&amp;#39; kubectl patch felixconfiguration default --type merge --patch=&amp;#39;{&amp;#34;spec&amp;#34;: {&amp;#34;bpfEnabled&amp;#34;: true}}&amp;#39; # å¦‚æœæ— æ³•ç¦ç”¨ kube-proxy ï¼Œé…ç½® Felix kubectl patch felixconfiguration default --type merge --patch=&amp;#39;{&amp;#34;spec&amp;#34;: {&amp;#34;bpfKubeProxyIptablesCleanupEnabled&amp;#34;: false}}&amp;#39; å–æ¶ˆè®¾ç½® - å›æ»š</description></item><item><title/><link>https://renyunkang.tk/%E6%90%AD%E5%BB%BA%E6%95%B0%E5%AD%97%E8%8A%B1%E5%9B%AD/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E6%90%AD%E5%BB%BA%E6%95%B0%E5%AD%97%E8%8A%B1%E5%9B%AD/</guid><description>quartz + obsidian-export(æ·»åŠ .export-ignore)+github jackyzha0/quartz: ğŸŒ± host your own second brain and digital garden for free (github.com) oldwinter/knowledge-garden: æˆ‘çš„ç¬¬äºŒå¤§è„‘ second brainï¼Œæˆ‘çš„æ•°å­—èŠ±å›­ digital gardenï¼Œç”¨obsidianåŒé“¾ç¬”è®°è½¯ä»¶å†™ä½œè€Œæˆ (github.</description></item><item><title/><link>https://renyunkang.tk/%E6%97%A5%E5%BF%97/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E6%97%A5%E5%BF%97/</guid><description>#calico #calico-log
calico æ—¥å¿— calico ä¸»è¦è¿è¡Œç»„ä»¶ä¸ºï¼šcalico-node ä»¥åŠ calico-kube-controller-manager
calico-node ä¸»è¦æœ‰ felixã€birdã€cni å¯¹äº kube-controller-manager æ—¥å¿—æ²¡æœ‰ç‰¹æ®Šé…ç½® node å®ä¾‹çš„æ—¥å¿—ï¼š kubectl logs -n kube-system calico-node-xxxx</description></item><item><title/><link>https://renyunkang.tk/%E6%97%B6%E5%8C%BA-%E5%90%8C%E6%AD%A5%E6%97%B6%E9%97%B4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E6%97%B6%E5%8C%BA-%E5%90%8C%E6%AD%A5%E6%97%B6%E9%97%B4/</guid><description>æŸ¥çœ‹ç³»ç»Ÿæ—¶åŒº timedatectl
ä¿®æ”¹ç³»ç»Ÿæ—¶åŒº 1 2 3 4 timedatectl list-timezones | grep -i shang Asia/Shanghai timedatectl set-timezone Asia/Shanghai è½¯è¿æ¥ä¿®æ”¹æ—¶åŒº 1 2 3 4 5 ```shell root@node1:~#ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime root@node1:~# ls -l /etc/localtime lrwxrwxrwx 1 root root 33 May 20 2022 /etc/localtime -&amp;gt; /usr/share/zoneinfo/Asia/Shanghai</description></item><item><title/><link>https://renyunkang.tk/%E6%9C%AA%E5%91%BD%E5%90%8D/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E6%9C%AA%E5%91%BD%E5%90%8D/</guid><description>ç°è±¡ï¼š çŸ­è¿æ¥æ€§èƒ½æµ‹è¯•æ—¶ calico-node å­˜æ´»æ¢é’ˆè¶…æ—¶ï¼Œå¹¶åŒä¸€æ—¶é—´å­˜åœ¨åŒä¸€èŠ‚ç‚¹å­˜åœ¨å…¶ä»– pod è¶…æ—¶æ­»äº¡çš„æƒ…å†µ
å¯èƒ½çš„åŸå› ï¼š
ä¸»æœºä¸Šçš„è·¯ç”±å¤ªå¤šï¼Œåœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œå†…æ ¸ä¸»è¦æ—¶é—´ç”¨äºæ£€ç´¢è·¯ç”±ï¼Œå¯¼è‡´æ¢é’ˆè¶…æ—¶ calico-node å­˜æ´»æ¢é’ˆå¯èƒ½ä¼šå‘å…¶ä»– node æ¢æµ‹ bgp çš„è”é€šæ€§ï¼Œå¤§å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œç½‘ç»œå­˜åœ¨æ‹¥å µï¼Œå¯¼è‡´æ¢æµ‹è¶…æ—¶ å¤§å¹¶å‘çš„æƒ…å†µä¸‹ node å¤„ç†æ€§èƒ½å·®ï¼Œcalico-node å­˜æ´»æ¢é’ˆè¶…æ—¶ å°è¯•è§£å†³åŠæ³•ï¼š</description></item><item><title/><link>https://renyunkang.tk/%E6%9F%A5%E7%9C%8B-CPU%E5%86%85%E5%AD%98/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E6%9F%A5%E7%9C%8B-CPU%E5%86%85%E5%AD%98/</guid><description>æŸ¥çœ‹ cpu ä¿¡æ¯ï¼š cat /proc/cpuinfo
1 2 3 4 5 6 7 8 9 10 11 12 13 14 # æ€»æ ¸æ•° = ç‰©ç†CPUä¸ªæ•° X æ¯é¢—ç‰©ç†CPUçš„æ ¸æ•° # æ€»é€»è¾‘CPUæ•° = ç‰©ç†CPUä¸ªæ•° X æ¯é¢—ç‰©ç†CPUçš„æ ¸æ•° X è¶…çº¿ç¨‹æ•° # æŸ¥çœ‹ç‰©ç†CPUä¸ªæ•° cat /proc/cpuinfo| grep &amp;#34;physical id&amp;#34;| sort| uniq| wc -l # æŸ¥çœ‹æ¯ä¸ªç‰©ç†CPUä¸­coreçš„ä¸ªæ•°(å³æ ¸æ•°) cat /proc/cpuinfo| grep &amp;#34;cpu cores&amp;#34;| uniq # æŸ¥çœ‹é€»è¾‘CPUçš„ä¸ªæ•° cat /proc/cpuinfo| grep &amp;#34;processor&amp;#34;| wc -l # æŸ¥çœ‹CPUä¿¡æ¯ï¼ˆå‹å·ï¼‰ cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c æŸ¥çœ‹ mem ä¿¡æ¯ï¼š cat /proc/meminfo</description></item><item><title/><link>https://renyunkang.tk/%E6%A8%A1%E5%9D%97%E4%BB%A5%E5%8F%8A%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E6%A8%A1%E5%9D%97%E4%BB%A5%E5%8F%8A%E9%85%8D%E7%BD%AE/</guid><description>#blockbox #exporter #prometheus
ç®€å•ä»‹ç» Blackbox Exporter æ˜¯ Prometheus ç¤¾åŒºæä¾›çš„ å®˜æ–¹é»‘ç›’ç›‘æ§è§£å†³æ–¹æ¡ˆ,å…¶å…è®¸ç”¨æˆ·é€šè¿‡: http\HTTPS\DNS\TCP\ICMP\gRPCçš„æ–¹å¼å¯¹ç½‘ç»œè¿›è¡Œæ¢æµ‹.
æ”¯æŒçš„åè®®ï¼šHTTP, HTTPS, DNS, TCP, ICMP, gRPC.
å„ä¸ªæ¨¡å—çš„é…ç½®ï¼š blackbox_exporter/CONFIGURATION.md at master Â· prometheus/blackbox_exporter (github.</description></item><item><title/><link>https://renyunkang.tk/%E6%B5%81%E9%87%8F%E8%B5%B0%E5%90%91/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E6%B5%81%E9%87%8F%E8%B5%B0%E5%90%91/</guid><description/></item><item><title/><link>https://renyunkang.tk/%E7%9B%91%E6%8E%A7-monitor/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E7%9B%91%E6%8E%A7-monitor/</guid><description>#calico-monitor
Monitor Calico component metrics (tigera.io)
Configure Calico to enable the metrics reporting. Create the namespace and service account that Prometheus will need.</description></item><item><title/><link>https://renyunkang.tk/%E7%9B%91%E6%8E%A7%E6%96%87%E6%A1%A3/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E7%9B%91%E6%8E%A7%E6%96%87%E6%A1%A3/</guid><description>calicoctl node ä½œç”¨ï¼š calicoctl node runï¼šè¿è¡Œ calico-node é•œåƒ calicoctl node statusï¼š calico-node çš„ä¸€äº›çŠ¶æ€ä¿¡æ¯ calicoctl node diagsï¼šä¸º Calico èŠ‚ç‚¹æ”¶é›†è¯Šæ–­åŒ… calicoctl node checksystemï¼šæ£€æµ‹è¯¥èŠ‚ç‚¹èƒ½å¦è¿è¡Œ calico-node ç¼ºé™·ï¼š åªèƒ½è·å–æœ¬èŠ‚ç‚¹çš„ä¿¡æ¯</description></item><item><title/><link>https://renyunkang.tk/%E7%BB%84%E4%BB%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E7%BB%84%E4%BB%B6/</guid><description>calico-node calico-controller
å¥åº·æ£€æŸ¥
ready live calico-node å®¹å™¨ä»¥runit ä½œä¸ºè¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œè¿è¡Œå¤šä¸ªè¿›ç¨‹
è¿›ç¨‹æ ‘ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 # ps -ef UID PID PPID C STIME TTY TIME CMD root 1 0 0 Jul28 ?</description></item><item><title/><link>https://renyunkang.tk/%E7%BB%84%E7%BD%91.excalidraw/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E7%BB%84%E7%BD%91.excalidraw/</guid><description>==âš  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš ==
Text Elements 45.120.216.46 ^ZNmnY1tc
192.168.0.1 ^8cHK23kk</description></item><item><title/><link>https://renyunkang.tk/%E7%BD%91%E5%8D%A1-vlan/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E7%BD%91%E5%8D%A1-vlan/</guid><description>#vlan #network
æ·»åŠ  vlan å­æ¥å£ ä½¿ç”¨ ip å‘½ä»¤ ip link add link enp125s0f0 name enp125s0f0.100 type vlan id 100 ä½¿ç”¨ vconfig å‘½ä»¤ ç›¸å…³æ¨¡å— lsmod |grep -i 8021q ç›¸å…³å·¥å…·åŒ… apt-get install vlan or yum install vconfig modprobe 8021q æ·»åŠ  vlan vconfig add enp8s0f1 100 åœ¨enp8s0f1æ¥å£ä¸Šé…ç½®ä¸¤ä¸ªVLAN vconfig set_flag enp8s0f1.</description></item><item><title/><link>https://renyunkang.tk/%E7%BD%91%E5%8D%A1%E5%A4%9A%E9%98%9F%E5%88%97-+-%E4%B8%AD%E6%96%AD%E7%BB%91%E5%AE%9A/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E7%BD%91%E5%8D%A1%E5%A4%9A%E9%98%9F%E5%88%97-+-%E4%B8%AD%E6%96%AD%E7%BB%91%E5%AE%9A/</guid><description>#ç½‘å¡å¤šé˜Ÿåˆ— #network #irqbalance
å•CPUå¤„ç†ç½‘ç»œIOå­˜åœ¨ç“¶é¢ˆ, ç›®å‰ç»å¸¸ä½¿ç”¨ç½‘å¡å¤šé˜Ÿåˆ—æé«˜æ€§èƒ½.
é€šå¸¸æƒ…å†µä¸‹, æ¯å¼ ç½‘å¡æœ‰ä¸€ä¸ªé˜Ÿåˆ—(queue), æ‰€æœ‰æ”¶åˆ°çš„åŒ…ä»è¿™ä¸ªé˜Ÿåˆ—å…¥, å†…æ ¸ä»è¿™ä¸ªé˜Ÿåˆ—é‡Œå–æ•°æ®å¤„ç†. è¯¥é˜Ÿåˆ—å…¶å®æ˜¯ring buffer(ç¯å½¢é˜Ÿåˆ—), å†…æ ¸å¦‚æœå–æ•°æ®ä¸åŠæ—¶, åˆ™ä¼šå­˜åœ¨ä¸¢åŒ…çš„æƒ…å†µ.
ä¸€ä¸ªCPUå¤„ç†ä¸€ä¸ªé˜Ÿåˆ—çš„æ•°æ®, è¿™ä¸ªå«ä¸­æ–­. é»˜è®¤æ˜¯cpu0(ç¬¬ä¸€ä¸ªCPU)å¤„ç†. ä¸€æ—¦æµé‡ç‰¹åˆ«å¤§, è¿™ä¸ªCPUè´Ÿè½½å¾ˆé«˜, æ€§èƒ½å­˜åœ¨ç“¶é¢ˆ. æ‰€ä»¥ç½‘å¡å¼€å‘äº†å¤šé˜Ÿåˆ—åŠŸèƒ½, å³ä¸€ä¸ªç½‘å¡æœ‰å¤šä¸ªé˜Ÿåˆ—, æ”¶åˆ°çš„åŒ…æ ¹æ®TCPå››å…ƒç»„ä¿¡æ¯hashåæ”¾å…¥å…¶ä¸­ä¸€ä¸ªé˜Ÿåˆ—, åé¢è¯¥é“¾æ¥çš„æ‰€æœ‰åŒ…éƒ½æ”¾å…¥è¯¥é˜Ÿåˆ—.</description></item><item><title/><link>https://renyunkang.tk/%E7%BD%91%E7%BB%9C%E7%9B%91%E6%8E%A7%E5%B7%A5%E5%85%B7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E7%BD%91%E7%BB%9C%E7%9B%91%E6%8E%A7%E5%B7%A5%E5%85%B7/</guid><description>google/cadvisor: Analyzes resource usage and performance characteristics of running containers. (github.com) ç½‘ç»œèµ„æºçš„ä½¿ç”¨ç‡
yingyan003/netChecker: netCheckeræ˜¯ä¸€ä¸ªæ£€æŸ¥k8sé›†ç¾¤ç½‘ç»œè¿é€šæ€§çš„å·¥å…·ã€‚æµ‹è¯•å¯¹è±¡æ˜¯pod-&amp;gt;podï¼Œpod-&amp;gt;nodeï¼Œpod-&amp;gt;svcçš„ç½‘ç»œçŠ¶å†µ (github.</description></item><item><title/><link>https://renyunkang.tk/%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8/</guid><description>#kubernetes #tools
å®‰è£… bash-completion åº”ç”¨ kubectl çš„ completion 1 2 source &amp;lt;(kubectl completion bash) echo &amp;#34;source &amp;lt;(kubectl completion bash)&amp;#34; &amp;gt;&amp;gt; ~/.</description></item><item><title/><link>https://renyunkang.tk/%E8%B5%84%E6%BA%90%E7%B1%BB%E5%9E%8B/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E8%B5%84%E6%BA%90%E7%B1%BB%E5%9E%8B/</guid><description>#spider-pool #cni
æ²¡æœ‰é»˜è®¤è·¯ç”± å¯¼è‡´æ— æ³•è¿æ¥ kubernetes.default</description></item><item><title/><link>https://renyunkang.tk/%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E5%99%A8%E7%9A%84%E5%8F%8D%E5%B0%84%E8%A7%84%E5%88%99/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E5%99%A8%E7%9A%84%E5%8F%8D%E5%B0%84%E8%A7%84%E5%88%99/</guid><description>#bgp #route-reflector
è·¯ç”±åå°„å™¨çš„åå°„è§„åˆ™ï¼š
1ã€åå°„å™¨æ¥æ”¶åˆ°EBGPé‚»å±…é€šå‘Šçš„BGPè·¯ç”±æ—¶å€™ï¼šå½“è·¯ç”±åå°„å™¨æ¥æ”¶åˆ°æ¥è‡ªEBGPé‚»å±…é€šå‘Šçš„BGPè·¯ç”±ï¼Œä¼šæŠŠæ­¤è·¯ç”±åŒæ—¶é€šå‘Šç»™åŒä¸€clusterå†…çš„clienté‚»å±…ï¼Œä¹Ÿé€šå‘Šç»™clusterä¹‹å¤–çš„å…¶ä»–IBGPé‚»å±…ã€‚è€Œè·¯ç”±ä¸­æºå¸¦çš„Cluster listå’ŒOriginatorå±æ€§åªå‘é€ç»™clusterå†…çš„clienté‚»å±…ã€‚
2ã€åå°„å™¨æ¥æ”¶åˆ°clusterå†…çš„IBGPé‚»å±…å‘é€æ¥çš„è·¯ç”±æ—¶å€™ï¼šå½“è·¯ç”±åå°„å™¨æ¥æ”¶åˆ°åŒä¸€clusterå†…çš„IBGPé‚»å±…å‘é€æ¥çš„BGPè·¯ç”±æ—¶å€™ï¼Œåå°„å™¨æŠŠè¯¥è·¯ç”±é€šå‘Šç»™clusterå†…å…¶ä»–æ‰€æœ‰clienté‚»å±…ï¼Œä¹Ÿé€šå‘Šç»™clusterå¤–çš„å…¶ä»–IBGPé‚»å±…ï¼Œè¿™ä¸ªé€šå‘Šçš„è·¯ç”±åŒ…æ‹¬äº†Originator å±æ€§å’Œä¿®æ”¹åçš„Cluster IDå±æ€§ã€‚å¦‚æœè¯¥åå°„å™¨å­˜åœ¨EBGPé‚»å±…çš„è¯ï¼Œåå°„å™¨åŒæ—¶æŠŠè¯¥è·¯ç”±é€šå‘Šç»™æ‰€æœ‰çš„EBGPé‚»å±…ï¼Œä½†ä¸æºå¸¦ä»»ä½•åå°„å™¨ç›¸å…³å±æ€§ã€‚
3ã€åå°„å™¨æ¥æ”¶åˆ°clusterå¤–çš„å…¶ä»–IBGPé‚»å±…å‘é€çš„BGPè·¯ç”±æ—¶å€™ï¼šå½“åå°„å™¨æ¥æ”¶åˆ°clusterä»¥å¤–çš„å…¶ä»–IBGPé‚»å±…å‘é€çš„è·¯ç”±æ—¶å€™ï¼Œåå°„å™¨ä¼šæŠŠè¯¥è·¯ç”±é€šå‘Šç»™è‡ªå·±clusterå†…æ‰€æœ‰çš„clienté‚»å±…ï¼Œæ·»åŠ åˆé€‚çš„å±æ€§ã€‚å¦‚æœè¯¥RRå­˜åœ¨EBGPé‚»å±…çš„è¯ï¼Œåˆ™RRåŒæ—¶ä¹ŸæŠŠè¯¥è·¯ç”±é€šå‘Šç»™è‡ªå·±æ‰€æœ‰çš„EBGPé‚»å±…ï¼Œä½†ä¸æºå¸¦åå°„å™¨ç›¸å…³å±æ€§ã€‚</description></item><item><title/><link>https://renyunkang.tk/%E9%80%9A%E4%BF%A1%E5%8E%9F%E7%90%86/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E9%80%9A%E4%BF%A1%E5%8E%9F%E7%90%86/</guid><description>#kube-ovn
kube-ovn å®ç°è·¨ä¸»æœºé€šä¿¡çš„åŸç† åœ¨ æ³°å±±æœåŠ¡å™¨ã€åä¸ºé²²é¹920cpu çš„ arm
kubectl ko å‘½ä»¤ä¸èµ·ä½œç”¨ è„šæœ¬ä¼šæ ¹æ® pod ä½¿ç”¨çš„é•œåƒæ¥ç­›é€‰å‡ºå¯¹åº”çš„ pod ç„¶åæ‰§è¡Œå¯¹åº”çš„å‘½ä»¤ï¼Œå› æ­¤å½“å‘½ä»¤æ— æ³•ä½¿ç”¨æ—¶ï¼Œå°è¯•ä¿®æ”¹ä¸€ä¸‹è„šæœ¬ä¸­çš„ REGISTRY
ç»„ä»¶</description></item><item><title/><link>https://renyunkang.tk/%E9%85%8D%E7%BD%AE-route-reflector/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E9%85%8D%E7%BD%AE-route-reflector/</guid><description>#calico #rr
Configuring Route Reflectors in Calico (tigera.io)
é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸º RRï¼Œè®¾ç½® lable ä»¥åŠ routeReflectorClusterID 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 apiVersion:projectcalico.</description></item><item><title/><link>https://renyunkang.tk/%E9%85%8D%E7%BD%AE-TOR/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E9%85%8D%E7%BD%AE-TOR/</guid><description>#calico #tor
é…ç½®å…¶ä»–èŠ‚ç‚¹è¿æ¥åˆ° RR èŠ‚ç‚¹ 1 2 3 4 5 6 7 apiVersion:projectcalico.org/v3kind:BGPPeermetadata:name:testspec:nodeSelector:all()peerSelector:has(routeReflector) ç¦æ­¢ BGP FullMesh 1 2 3 4 5 6 7 8 apiVersion:projectcalico.</description></item><item><title/><link>https://renyunkang.tk/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</guid><description>#calico #calico-config
confd /etc/calico/conf/config
ä¿®æ”¹ mtu kubectl edit configmap/calico-config -n kube-system
é—®é¢˜ï¼š
èƒ½å¦ä¿®æ”¹ confd çš„é…ç½®ï¼Œå®ç°ä¿®æ”¹ calico bird å‚æ•°çš„ç›®çš„</description></item><item><title/><link>https://renyunkang.tk/%E9%97%AE%E9%A2%98/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://renyunkang.tk/%E9%97%AE%E9%A2%98/</guid><description>ä¸ºä»€ä¹ˆå¼•å…¥ç½‘å¡å¤šé˜Ÿåˆ—ã€‚å¼•å…¥ç½‘å¡å¤šé˜Ÿåˆ—è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Œå¸¦æ¥äº†ä»€ä¹ˆå…¶ä»–é—®é¢˜ é˜Ÿåˆ—ç»‘æ ¸ æ•´ä¸ªæ”¶/å‘åŒ…çš„æµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ 1.ç½‘å¡å¤šé˜Ÿåˆ— &amp;ndash; æ”¶åŒ…å¤šé˜Ÿåˆ— +å‘åŒ…å¤šé˜Ÿåˆ— é€šå¸¸æƒ…å†µä¸‹, æ¯å¼ ç½‘å¡æœ‰ä¸€ä¸ªé˜Ÿåˆ—(queue), æ‰€æœ‰æ”¶åˆ°çš„åŒ…ä»è¿™ä¸ªé˜Ÿåˆ—å…¥, å†…æ ¸ä»è¿™ä¸ªé˜Ÿåˆ—é‡Œå–æ•°æ®å¤„ç†. è¯¥é˜Ÿåˆ—å…¶å®æ˜¯ring buffer(ç¯å½¢é˜Ÿåˆ—), å†…æ ¸å¦‚æœå–æ•°æ®ä¸åŠæ—¶, åˆ™ä¼šå­˜åœ¨ä¸¢åŒ…çš„æƒ…å†µ.
ä¸€ä¸ªCPUå¤„ç†ä¸€ä¸ªé˜Ÿåˆ—çš„æ•°æ®, è¿™ä¸ªå«ä¸­æ–­. é»˜è®¤æ˜¯cpu0(ç¬¬ä¸€ä¸ªCPU)å¤„ç†. ä¸€æ—¦æµé‡ç‰¹åˆ«å¤§, è¿™ä¸ªCPUè´Ÿè½½å¾ˆé«˜, æ€§èƒ½å­˜åœ¨ç“¶é¢ˆ.</description></item></channel></rss>