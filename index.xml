<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>rykenã®garden on</title><link>https://www.ryken.cloud/</link><description>Recent content in rykenã®garden on</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sat, 20 Jan 2024 00:00:00 +0000</lastBuildDate><atom:link href="https://www.ryken.cloud/index.xml" rel="self" type="application/rss+xml"/><item><title>cilium éƒ¨ç½²æœ€ä½³å®è·µ</title><link>https://www.ryken.cloud/cilium-%E9%83%A8%E7%BD%B2%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/</link><pubDate>Wed, 24 Dec 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/cilium-%E9%83%A8%E7%BD%B2%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/</guid><description>äº¤ä»˜ç‰©ï¼škkå®‰è£…æ–¹æ³•ï¼Œå¸¸ç”¨åŠŸèƒ½é…ç½®å’Œä½¿ç”¨æ–¹æ³•(cli), æœ€ä½³å®è·µ
Overlay éƒ¨ç½² - åŸºäº udp çš„å°è£…
vxlan geneve Underlay éƒ¨ç½² native routing autoDirectNodeRoutes=trueï¼šåŸºäºç½‘ç»œæ‹“æ‰‘æ£€æµ‹çš„è·¯ç”±ï¼Œä¾èµ–äº ARP è§£æå’Œé‚»å±…å‘ç°ã€‚Cilium ä¼šå°è¯•é€šè¿‡æ£€æŸ¥èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨äºåŒä¸€å¹¿æ’­åŸŸæ¥ç¡®å®šå…¶æ˜¯å¦å¯ç›´æ¥è®¿é—®ã€‚å¦‚æœ ARP è§£ææˆåŠŸä¸”æ— éœ€ç½‘å…³ï¼Œåˆ™è¯¥èŠ‚ç‚¹è¢«è§†ä¸ºæœ¬åœ°èŠ‚ç‚¹ï¼Œå¹¶å®‰è£…ç›´æ¥è·¯ç”±ã€‚å¦åˆ™ï¼Œè¯¥èŠ‚ç‚¹è¢«è§†ä¸ºè¿œç¨‹èŠ‚ç‚¹ï¼Œå¿…é¡»é‡‡ç”¨å…¶ä»–è·¯ç”±æœºåˆ¶ã€‚ BGP + native routing direct-routing-skip-unreachable:Â trueï¼Œ å¦‚æœæœ‰ bgp daemon åœ¨è¿è¡Œï¼Œä¸”æœ‰å¤šä¸ª native å­ç½‘åœ¨é›†ç¾¤ä¸­ï¼Œè¿™ä¸ªé…ç½®å¯ä»¥å’Œ autoDirectNodeRoutes ä¸€åŒè®¾ç½®ï¼Œä¾¿äºä¸ºæ¯ä¸ªåŒºåŸŸçš„æ¯ä¸ªèŠ‚ç‚¹æä¾› L2 è¿æ¥ï¼Œè€Œæ— éœ€å§‹ç»ˆé€šè¿‡ BGP è·¯ç”±å™¨è·¯ç”±æµé‡ å¯é€‰çš„ä¼˜åŒ– - ä¼˜ç‚¹</description></item><item><title/><link>https://www.ryken.cloud/kube-ovn-overlay-vpc/</link><pubDate>Mon, 22 Dec 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kube-ovn-overlay-vpc/</guid><description>#cni #kube-ovn #overlay
overlay æ¨¡å¼è·¯ç”±ç½‘ç»œæ‰“é€š Overlay ä¸‹è·¯ç”±æ–¹å¼ç½‘ç»œæ‰“é€š - Kube-OVN æ–‡æ¡£
ç½‘å…³ç±»å‹ ä»…åœ¨é»˜è®¤ vpc ä¸‹æ”¯æŒï¼Œå­ç½‘ç®¡ç†
åˆ†å¸ƒå¼ç½‘å…³ å­ç½‘çš„é»˜è®¤ç±»å‹ç½‘å…³ï¼Œæ¯ä¸ª node ä¼šä½œä¸ºå½“å‰ node ä¸Š pod è®¿é—®å¤–éƒ¨ç½‘ç»œçš„ç½‘å…³ã€‚æ•°æ®åŒ…ä¼šé€šè¿‡æœ¬æœºçš„Â ovn0Â ç½‘å¡æµå…¥ä¸»æœºç½‘ç»œæ ˆï¼Œå†æ ¹æ®ä¸»æœºçš„è·¯ç”±è§„åˆ™è¿›è¡Œå‡ºç½‘ã€‚ å½“Â natOutgoingÂ ä¸ºÂ trueÂ æ—¶ï¼ŒPod è®¿é—®å¤–éƒ¨ç½‘ç»œå°†ä¼šä½¿ç”¨å½“å‰æ‰€åœ¨å®¿ä¸»æœºçš„ IPã€‚</description></item><item><title>Cilium 1.16 - BGP v2</title><link>https://www.ryken.cloud/Cilium-1.16-BGP-v2/</link><pubDate>Mon, 22 Dec 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Cilium-1.16-BGP-v2/</guid><description>ä¹‹å‰ä½¿ç”¨ CiliumBGPPeeringPolicyï¼Œæœ‰ä¸€äº›ç¼ºç‚¹ï¼Œä¸å¤Ÿçµæ´»ï¼›ä¸ºäº†æä¾›æ›´é«˜çš„çµæ´»æ€§ï¼Œcilium 1.16 å¼•å…¥äº†æ–°çš„ API - BGPv2
é€šè¿‡ Cilium 1.16.0 ä¸­å¼•å…¥çš„ Cilium BGP v2 æ§åˆ¶å¹³é¢ï¼Œå¯ä»¥ä½¿ç”¨ä¸‰ä¸ª Kubernetes CRD çš„ç»„åˆæ¥é…ç½®å¯¹ç­‰ç­–ç•¥ï¼š
CiliumBGPClusterConfig è®¾ç½®å¯¹ç­‰ç«¯ç‚¹ï¼Œå¹¶ä¸”å¯ä»¥å¼•ç”¨ä¸€ä¸ªæˆ–å¤šä¸ª CiliumBGPPeerConfig èµ„æºï¼ˆä½¿ç”¨èµ„æºåç§°ï¼‰ CiliumBGPPeerConfig é…ç½®å¯¹ç­‰äº’è¿çš„è¡Œä¸ºæ–¹å¼ï¼Œå¹¶ä¸”å¯ä»¥å¼•ç”¨ä¸€ä¸ªæˆ–å¤šä¸ª CiliumBGPAdvertisement èµ„æºï¼ˆä½¿ç”¨é€‰æ‹©å™¨ï¼‰ CiliumBGPAdvertisement æŒ‡å®šåº”é€šè¿‡ BGP é€šå‘Šå“ªäº› CIDRã€‚ ç”¨é€” ä½¿ç”¨ Ciliumï¼Œæ‚¨å¯ä»¥é€‰æ‹©å®£å‘Šï¼š</description></item><item><title>Cilium 1.17</title><link>https://www.ryken.cloud/Cilium-1.17/</link><pubDate>Mon, 22 Dec 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Cilium-1.17/</guid><description>https://github.com/cilium/cilium/discussions/37434 https://hackmd.io/@Echo-Live/HJY5T4Oo1e</description></item><item><title>æœªå‘½å</title><link>https://www.ryken.cloud/BGP-%E6%BC%94%E8%BF%9B%E8%BF%87%E7%A8%8B/</link><pubDate>Mon, 22 Dec 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/BGP-%E6%BC%94%E8%BF%9B%E8%BF%87%E7%A8%8B/</guid><description>BGP æ”¯æŒçš„æ¼”è¿›è¿‡ç¨‹ BGP æ”¯æŒæœ€åˆåœ¨ Cilium 1.10 ä¸­å¼•å…¥ï¼Œæ­¤åè¿›è¡Œäº†åç»­æ”¹è¿›ã€‚
åœ¨ Cilium 1.12 ä¸­å¼•å…¥äº† IPv6 æ”¯æŒï¼Œ
åœ¨ Cilium 1.13 ä¸­å¼•å…¥äº† service IP é€šå‘Šã€‚</description></item><item><title/><link>https://www.ryken.cloud/calico-bgpfilter/</link><pubDate>Mon, 15 Dec 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-bgpfilter/</guid><description>æ·»åŠ /éªŒè¯è„šæœ¬ è¡Œä¸­çš„é…ç½® bgpfilter ç›®å‰ä»…é€‚ç”¨äº† actionã€cidrã€matchOperator ä¸‰ä¸ªå­—æ®µï¼Œå¹¶ä¸”ç›®å‰åªè€ƒè™‘å¢åŠ å’ŒéªŒè¯æ“ä½œï¼ŒåŸºäºæ­¤éœ€æ±‚æä¾›ä¸€ä¸ªç®€å•çš„ shell è„šæœ¬è¾…åŠ©ç”¨æˆ·è¿›è¡Œ bgpfilter èµ„æºçš„å˜æ›´æ“ä½œ
æ­¤è„šæœ¬éœ€è¦ yq å’Œ grepcidrã€‚
åœ¨è¿è¡Œæ­¤è„šæœ¬å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„ç¯å¢ƒä¸­å·²å®‰è£…ä»¥ä¸‹å·¥å…·ï¼š
kubectl: ç”¨äºä¸æ‚¨çš„ Kubernetes é›†ç¾¤è¿›è¡Œäº¤äº’ã€‚ yq (v4+): ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å‘½ä»¤è¡Œ YAML å¤„ç†å™¨ã€‚ macOS (ä½¿ç”¨ Homebrew): 1 brew install yq Linux (ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶): 1 sudo wget https://github.</description></item><item><title/><link>https://www.ryken.cloud/macvlan/</link><pubDate>Mon, 15 Dec 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/macvlan/</guid><description>æ”¯æŒåŠ¨æ€åˆ›å»º vlan æ”¯æŒé€šè¿‡æ³¨è§£å®ç° ipã€macã€subnet æŒ‡å®šåˆ†é…
macvlan.pandaria.cattle.io/ip: 20.128.194.21-20.128.194.22-20.128.194.23-20.128.194.24 macvlan.pandaria.cattle.io/ip: 20.128.194.21 macvlan.pandaria.cattle.io/mac: auto macvlan.pandaria.cattle.io/subnet: test åˆ›å»º macvlan subnet
åˆ›å»º deploy æ—¶ï¼Œä½¿ç”¨é€—å·åˆ†éš”å¤šä¸ª ipï¼Œpod çš„ç¼©æ”¾éœ€è¦å…ˆåœæ­¢æ—§çš„ï¼Œå†å¯åŠ¨æ–°çš„ Pod</description></item><item><title/><link>https://www.ryken.cloud/%E5%91%BD%E4%BB%A4/</link><pubDate>Mon, 15 Dec 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%91%BD%E4%BB%A4/</guid><description>bpftool net show dev lxcxxx - æŸ¥çœ‹æŒ‚è½½çš„ bpf ä»£ç  cilium monitor -t drop -vvv cilium-dbg bpf endpoint list cilium-dbg bpf ipcache list pwru - çœ‹åŒ…åœ¨å“ªé‡Œ</description></item><item><title/><link>https://www.ryken.cloud/%E6%89%8B%E5%8A%A8%E5%88%9B%E5%BB%BA-netns-+-%E8%B7%A8%E4%B8%BB%E6%9C%BA%E9%80%9A%E4%BF%A1/</link><pubDate>Mon, 15 Dec 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%89%8B%E5%8A%A8%E5%88%9B%E5%BB%BA-netns-+-%E8%B7%A8%E4%B8%BB%E6%9C%BA%E9%80%9A%E4%BF%A1/</guid><description>#network #netns
ä½¿ç”¨ arp-proxyï¼Œå¹¶åœ¨ä¸»æœºä¸Šæ·»åŠ å¯¹åº”çš„è·¯ç”±è”é€š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 # echo 1 &amp;gt; /proc/sys/net/ipv4/ip_forward echo &amp;#39;net.</description></item><item><title/><link>https://www.ryken.cloud/%E9%85%8D%E7%BD%AE-route-reflector/</link><pubDate>Mon, 15 Dec 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E9%85%8D%E7%BD%AE-route-reflector/</guid><description>#calico #rr
Configuring Route Reflectors in Calico (tigera.io)
é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸º RRï¼Œè®¾ç½® lable ä»¥åŠ routeReflectorClusterID 1 2 3 4 5 6 7 kubectl label node node3 routeReflector=&amp;#34;&amp;#34; # 3.</description></item><item><title>SR-IOV å®éªŒæ€§</title><link>https://www.ryken.cloud/SR-IOV-%E5%AE%9E%E9%AA%8C%E6%80%A7/</link><pubDate>Mon, 15 Dec 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/SR-IOV-%E5%AE%9E%E9%AA%8C%E6%80%A7/</guid><description>å®˜æ–¹æ–‡æ¡£ï¼š https://docs.rancher.cn/docs/rke2/install/network_options/#%E4%BD%BF%E7%94%A8-multus-%E4%B8%8E-sr-iov-%E5%AE%9E%E9%AA%8C%E6%80%A7ã€ã€
å°† SR-IOV CNI ä¸ Multus ä¸€èµ·ä½¿ç”¨å¯ä»¥å¸®åŠ©è§£å†³æ•°æ®å¹³é¢åŠ é€Ÿçš„ç”¨ä¾‹ï¼Œåœ¨ Pod ä¸­æä¾›ä¸€ä¸ªé¢å¤–çš„æ¥å£ï¼Œå¯ä»¥å®ç°éå¸¸é«˜çš„ååé‡ã€‚SR-IOV å¹¶éåœ¨æ‰€æœ‰ç¯å¢ƒä¸­éƒ½æœ‰æ•ˆï¼Œå¹¶ä¸”å¿…é¡»æ»¡è¶³ä¸€äº›è¦æ±‚æ‰èƒ½å°†èŠ‚ç‚¹è§†ä¸ºå…·æœ‰ SR-IOV åŠŸèƒ½çš„èŠ‚ç‚¹ï¼š
ç‰©ç†ç½‘å¡å¿…é¡»æ”¯æŒ SR-IOVï¼ˆä¾‹å¦‚é€šè¿‡æ£€æŸ¥/sys/class/net/$NIC/device/sriov_totalvfsï¼‰ ä¸»æœºæ“ä½œç³»ç»Ÿå¿…é¡»æ¿€æ´» IOMMU è™šæ‹ŸåŒ– ä¸»æœºæ“ä½œç³»ç»ŸåŒ…æ‹¬èƒ½å¤Ÿè¿›è¡Œ SR-IOV çš„é©±åŠ¨ç¨‹åºï¼ˆå¦‚ i40eï¼Œvfio-pci ç­‰ï¼‰</description></item><item><title>vscode + golang ç¯å¢ƒ</title><link>https://www.ryken.cloud/vscode-+-golang-%E7%8E%AF%E5%A2%83/</link><pubDate>Tue, 26 Aug 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/vscode-+-golang-%E7%8E%AF%E5%A2%83/</guid><description>ç¯å¢ƒé…ç½® å®‰è£… golang vscode è¿æ¥ä¸Šè¿œç¨‹ä¸»æœºå¹¶å®‰è£… vscode server vscode ä¸­å®‰è£… go æ’ä»¶ å®‰è£… go æ’ä»¶ä¾èµ–çš„å·¥å…·ï¼š ctrl+shift+p è°ƒå‡ºå‘½ä»¤é¢æ¿ï¼Œè¾“å…¥go install tools é€‰Go: Install/Update Tool å…¨é€‰è¿›è¡Œå®‰è£… ä½¿ç”¨ CGO æ—¶ï¼Œvscode æŠ¥é”™ 1 go list failed to return CompiledGoFiles.</description></item><item><title>æ’æŸ¥å·¥å…·</title><link>https://www.ryken.cloud/%E6%8E%92%E6%9F%A5%E5%B7%A5%E5%85%B7/</link><pubDate>Mon, 21 Jul 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%8E%92%E6%9F%A5%E5%B7%A5%E5%85%B7/</guid><description>æŸ¥çœ‹æœ¬æœºçš„é»˜è®¤çš„ dns æœåŠ¡å™¨åœ°å€
cat /etc/resolv.conf systemd-resolve &amp;ndash;status nslookup
nslookup ryken.eu.org 10.233.0.3 dig
dig ryken.eu.org @10.233.0.3 dig ryken.</description></item><item><title/><link>https://www.ryken.cloud/cilium-dbg/</link><pubDate>Mon, 23 Jun 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/cilium-dbg/</guid><description>cilium bgp å†…éƒ¨é›†æˆäº† gobgp peers routes route-policies bpf auth config bandwidth ct egress endpoint fs ipcache ipmasq lb metrics vtep - beta frag - beta tunnel multicast nat node nodeid policy recorder sha srv6 build-config cgroups æ–°èŠ‚ç‚¹ cleanup - post-uninstall-cleanup æ–°èŠ‚ç‚¹ completion config debuginfo encrypt endpoint fqdn identity ip kvstore lrp map metrics monitor node åªæœ‰ node list è¿”å›èŠ‚ç‚¹çš„ä¸€äº›ä¿¡æ¯ nodeid åªæœ‰ nodeid list è¿”å›èŠ‚ç‚¹ id çš„ä¸€äº›ä¿¡æ¯ policy prefilter preflight recorder service statedb status troubleshoot</description></item><item><title>calico ç”± IPIP æ¨¡å¼ä¿®æ”¹ä¸º BGP æ¨¡å¼</title><link>https://www.ryken.cloud/calico-%E7%94%B1-IPIP-%E6%A8%A1%E5%BC%8F%E4%BF%AE%E6%94%B9%E4%B8%BA-BGP-%E6%A8%A1%E5%BC%8F/</link><pubDate>Fri, 18 Apr 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-%E7%94%B1-IPIP-%E6%A8%A1%E5%BC%8F%E4%BF%AE%E6%94%B9%E4%B8%BA-BGP-%E6%A8%A1%E5%BC%8F/</guid><description>å‰æï¼š å®¢æˆ· kubernetes é›†ç¾¤çš„èŠ‚ç‚¹åœ¨åŒä¸€ç½‘æ®µ
ç®€å•è§£é‡Šï¼š IPIP å¯ç”¨äº kubernetes é›†ç¾¤çš„èŠ‚ç‚¹ä¸åœ¨åŒä¸€ç½‘æ®µçš„æƒ…å†µï¼Œé€šè¿‡ ipip å°è£…ä½¿å¾— pod ç½‘ç»œæ‰“é€š bgp ä¹Ÿå¯ä»¥è¯´æ˜¯ underlayer æ¨¡å¼ï¼Œå°†ä¸»æœºä½œä¸ºç½‘å…³ï¼Œåˆ©ç”¨ä¸»æœºä¸Šçš„è·¯ç”±è¿›è¡Œè½¬å‘ï¼Œå› æ­¤ä¸ºäº†ä¿è¯ pod-pod è·¨ä¸»æœºçš„è”é€šæ€§ï¼Œéœ€è¦ä¸»æœºåœ¨åŒä¸€ç½‘æ®µä¸­
ä¿®æ”¹æ–¹æ¡ˆï¼š ä¿®æ”¹ calico ippool - å…³é—­ ipip å’Œ vxlan æ¨¡å¼</description></item><item><title>devops casc å‚æ•°</title><link>https://www.ryken.cloud/devops-casc-%E5%8F%82%E6%95%B0/</link><pubDate>Wed, 22 Jan 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/devops-casc-%E5%8F%82%E6%95%B0/</guid><description>å®¢æˆ·ï¼š æ³‰å³°å›½é™… ç‰ˆæœ¬ï¼škse v4.1.2 é—®é¢˜ï¼šå‰ç«¯åœæ­¢æµæ°´çº¿åï¼Œagent pod ä»åœ¨è¿è¡Œï¼ˆé¢„è®¡ 6 minåæ¸…ç†ï¼‰
issueï¼š https://github.com/kubesphere/project/issues/5302 å·¥å•:Â https://tenant.quanxiangyun.com/qingcloud/manage/tickets/261228 jiraï¼š https://track.yunify.com/browse/ENTTICKET-4079
åœ¨jenkins console ä¸­å¿«é€Ÿçš„è¿è¡Œå’Œåœæ­¢æµæ°´çº¿ä¹Ÿå¯å¤ç°è¿™ä¸€é—®é¢˜ï¼Œæ‰€ä»¥æœ¬è´¨ä¸Šæ˜¯jenkinsçš„bugï¼Œä¸ks-devops çš„ä»£ç æ— å…³ã€‚ jenkins å†…åŒ…å«ä¼—å¤šæ’ä»¶ï¼Œä¸”æ’ä»¶ä¹‹é—´æœ‰å¾ˆå¤šä¾èµ–ï¼Œæ‰€ä»¥ä¸èƒ½å•çº¯çš„å‡çº§jenkins æˆ–æŸä¸€ä¸ªæ’ä»¶ï¼Œè¿™å¯èƒ½ä¼šé€ æˆå…¼å®¹æ€§é—®é¢˜æˆ–å¼•èµ·æ›´å¤šé—®é¢˜ã€‚</description></item><item><title>é…ç½®æ–‡ä»¶</title><link>https://www.ryken.cloud/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</link><pubDate>Fri, 03 Jan 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</guid><description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 name:&amp;#34;devops-apiserver&amp;#34;serviceType:&amp;#34;deployment&amp;#34;containers:- name:&amp;#34;apiserver&amp;#34;dev:gitUrl:&amp;#34;&amp;#34;image:&amp;#34;rykren/golang:1.</description></item><item><title>ssh</title><link>https://www.ryken.cloud/ssh/</link><pubDate>Thu, 02 Jan 2025 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/ssh/</guid><description>1 2 3 4 5 WARNING: UNPROTECTED PRIVATE KEY FILE! Permissions 0777 for &amp;#39;/root/.ssh/id_rsa&amp;#39; are too open. It is recommended that your private key files are NOT accessible by others.</description></item><item><title/><link>https://www.ryken.cloud/IPV6/</link><pubDate>Tue, 31 Dec 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/IPV6/</guid><description>#ipv6 #calico
å‚è€ƒæ–‡æ¡£ï¼š
IPv4/IPv6 åŒåè®®æ ˆ | Kubernetes Configure dual stack or IPv6 only | Calico Documentation (tigera.io) é…ç½® kubernetes kube-apiserver: --service-cluster-ip-range=&amp;lt;IPv4 CIDR&amp;gt;,&amp;lt;IPv6 CIDR&amp;gt; kube-controller-manager: --cluster-cidr=&amp;lt;IPv4 CIDR&amp;gt;,&amp;lt;IPv6 CIDR&amp;gt; --service-cluster-ip-range=&amp;lt;IPv4 CIDR&amp;gt;,&amp;lt;IPv6 CIDR&amp;gt; --node-cidr-mask-size-ipv4|--node-cidr-mask-size-ipv6Â å¯¹äº IPv4 é»˜è®¤ä¸º /24ï¼Œ å¯¹äº IPv6 é»˜è®¤ä¸º /64 kube-proxy: --cluster-cidr=&amp;lt;IPv4 CIDR&amp;gt;,&amp;lt;IPv6 CIDR&amp;gt; kubelet: å½“æ²¡æœ‰Â --cloud-providerÂ æ—¶ï¼Œç®¡ç†å‘˜å¯ä»¥é€šè¿‡Â --node-ipÂ æ¥ä¼ é€’é€—å·åˆ†éš”çš„ IP åœ°å€ï¼Œ ä¸ºè¯¥èŠ‚ç‚¹æ‰‹åŠ¨é…ç½®åŒæ ˆÂ .</description></item><item><title>2. controller-runtime</title><link>https://www.ryken.cloud/2.-controller-runtime/</link><pubDate>Thu, 26 Dec 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/2.-controller-runtime/</guid><description>controller-runtime æ˜¯å¯¹ client-go çš„é«˜çº§å°è£…
controller-runtime æ˜¯ä¸€ä¸ªç”¨äºå¼€å‘ Kubernetes controller çš„åº“ï¼ŒåŒ…å«äº† controller å¸¸ç”¨çš„æ¨¡å—ï¼Œå…¼é¡¾çµæ´»æ€§å’Œæ¨¡å—åŒ–ã€‚
ä¹‹å‰ä½¿ç”¨ client-go å¼€å‘ Kubernetes controller æ—¶ï¼Œä¸­é—´ä¼šæœ‰å¾ˆå¤šå’Œä¸šåŠ¡æ— å…³çš„é‡å¤å·¥ä½œï¼Œåæ¥ç¤¾åŒºç¤¾åŒºæ¨å‡ºäº† kubebuilder å’Œ operatorSDK è¿™ç§è„šæ‰‹æ¶ï¼Œå®ƒå¯ä»¥æ–¹ä¾¿çš„æ¸²æŸ“å‡º Controller çš„æ•´ä¸ªæ¡†æ¶ï¼Œè®©å¼€å‘è€…åªç”¨ä¸“æ³¨ Controller æœ¬èº«çš„ä¸šåŠ¡é€»è¾‘ï¼Œç‰¹åˆ«æ˜¯åœ¨å¼€å‘ CRD æ—¶ï¼Œæä¸ºæ–¹ä¾¿ï¼Œè¿™ä¸¤ä¸ªè„šæ‰‹æ¶å°±æ˜¯åŸºäºÂ controller-runtimeã€‚</description></item><item><title>1. client-go</title><link>https://www.ryken.cloud/1.-client-go/</link><pubDate>Wed, 25 Dec 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/1.-client-go/</guid><description>client-go ä¸­çš„å®¢æˆ·ç«¯ RestClient ClientSet DynamicClient DiscoveryClient å…¶ä¸­ ClientSetï¼ŒDynamicClientï¼ŒDiscoveryClient éƒ½ RestClient ä¸Šçš„å°è£…
client-go ä¸­çš„ä¸‰ä¸ªé˜Ÿåˆ— å»é‡é˜Ÿåˆ— å»¶æ—¶é˜Ÿåˆ— é™é¢‘é˜Ÿåˆ— å…¶ä¸­å»¶æ—¶é˜Ÿåˆ—æ˜¯åŸºäºå»é‡é˜Ÿåˆ—å®ç°ï¼Œé™é¢‘é˜Ÿåˆ—æ˜¯åŸºäºå»¶æ—¶é˜Ÿåˆ—å®ç°ã€‚</description></item><item><title>calico ebpf æ”¯æŒæƒ…å†µ</title><link>https://www.ryken.cloud/calico-ebpf-%E6%94%AF%E6%8C%81%E6%83%85%E5%86%B5/</link><pubDate>Tue, 17 Dec 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-ebpf-%E6%94%AF%E6%8C%81%E6%83%85%E5%86%B5/</guid><description>calico ä» 3.13 å¼€å§‹å¼•å…¥ ebpfï¼Œ3.16 æ­£å¼ GAï¼Œåç»­ç‰ˆæœ¬æŒç»­å®Œå–„ã€‚æ‰€ä»¥ calico ebpf å·²ç»æ¯”è¾ƒæˆç†Ÿï¼Œcalico å®˜æ–¹ä¹Ÿæä¾›äº†ä¸€äº›ç›¸å…³çš„æ–‡æ¡£å’ŒæŠ€æœ¯åšå®¢ï¼š
calico ebpf æ¨¡å¼ GA - Announcing eBPF Mode GA ä»‹ç» calico ebpf æ•°æ®é¢ - Introducing the Calico eBPF dataplane å¦‚ä½•å¼€å¯ ebpf æ•°æ®é¢ - Enable the eBPF dataplane å¦‚ä½• troubleshoot ebpf æ¨¡å¼ - Troubleshoot eBPF mode ç›‘æ§ calico ebpf æ•°æ®é¢ - How to Monitor Calico&amp;rsquo;s eBPF Data Plane for Proactive Cluster Management æ ¹æ®ä»¥ä¸Šæ–‡æ¡£ï¼Œçœ‹å‡º Calico eBPF æ•°æ®é¢çš„ä¼˜åŠ¿ï¼š</description></item><item><title>calico ipv6 ç›¸å…³çš„ç³»ç»Ÿå‚æ•°ä¼˜åŒ–</title><link>https://www.ryken.cloud/calico-ipv6-%E7%9B%B8%E5%85%B3%E7%9A%84%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0%E4%BC%98%E5%8C%96/</link><pubDate>Tue, 17 Dec 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-ipv6-%E7%9B%B8%E5%85%B3%E7%9A%84%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0%E4%BC%98%E5%8C%96/</guid><description>1. ç¦ç”¨ DADï¼ˆé‡å¤åœ°å€æ£€æµ‹ï¼‰ echo 0 &amp;gt; /proc/sys/net/ipv6/conf/default/accept_dad net.ipv6.conf.default.accept_dad=0
2. ipv6 çš„è·¯ç”±ç¼“å­˜ï¼Œå¯ä»¥æé«˜è·¯ç”±æŸ¥æ‰¾çš„æ•ˆç‡ net.ipv6.route.max_size=65536 net.ipv6.route.max_size è¯¥å†…æ ¸å‚æ•°çš„ä½œç”¨æ˜¯è®¾ç½®ç›®çš„åœ°æ¡ç›®çš„ç¼“å­˜ã€‚å½“ Linux å†…æ ¸è§£æåˆ°ç›®çš„åœ°çš„è·¯ç”±æ—¶ï¼Œå®ƒä¼šå°†å…¶æ”¾å…¥ç¼“å­˜ä¸­ä»¥å¤‡å°†æ¥ä½¿ç”¨ã€‚
net.ipv6.route.max_size é»˜è®¤ä¸º 4096ã€‚å¯ä»¥å°†è¯¥å€¼è°ƒè¶³å¤Ÿå¤§ï¼Œæ¯”å¦‚ 65536ã€2147483647</description></item><item><title>calico äº¤æ¢æœºé…ç½®é™æ€è·¯ç”±</title><link>https://www.ryken.cloud/calico-%E4%BA%A4%E6%8D%A2%E6%9C%BA%E9%85%8D%E7%BD%AE%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1/</link><pubDate>Mon, 16 Dec 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-%E4%BA%A4%E6%8D%A2%E6%9C%BA%E9%85%8D%E7%BD%AE%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1/</guid><description>èƒŒæ™¯ åœ¨ä¸€äº›å®¢æˆ·éƒ¨ç½² kse æ—¶ï¼Œæ˜ç¡®è¦æ±‚ pod id å¯è·¯ç”±åˆ°ï¼Œæ¢è¨€ä¹‹éœ€è¦ä½¿ç”¨ underlay ç½‘ç»œï¼Œä¸åº•å±‚ç½‘ç»œæ‰“é€šã€‚ç°æœ‰çš„ä¸€äº› underlay ç½‘ç»œæ–¹æ¡ˆå¯ä»¥é€‰ç”¨åŸºäº vlan çš„æŠ€æœ¯å®ç°ä¹Ÿå¯ä»¥é€‰ç”¨åŸºäº bgp çš„æŠ€æœ¯å®ç°ã€‚ä¸¤ç§æŠ€æœ¯å®ç°å‡éœ€è¦äº¤æ¢æœºä¾§åšä¸€äº›é¢å¤–é…ç½®æ¥ç¬¦åˆç½‘ç»œéœ€æ±‚ï¼š
bgp æŠ€æœ¯å®ç°éœ€è¦ï¼šé…ç½®äº¤æ¢æœº bgp è¿æ¥ æˆ–è€… é…ç½®é™æ€è·¯ç”±ï¼› vlan æŠ€æœ¯å®ç°éœ€è¦ï¼šé…ç½® trunk æ¨¡å¼ã€é…ç½® vlan ç½‘å…³ kse ä¸­é»˜è®¤äº¤ä»˜çš„æ˜¯ calicoï¼Œæ‰€ä»¥æˆ‘ä»¬å°± calico bgp å±•å¼€è®¨è®ºï¼š</description></item><item><title>policy ç®¡ç†</title><link>https://www.ryken.cloud/policy-%E7%AE%A1%E7%90%86/</link><pubDate>Thu, 28 Nov 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/policy-%E7%AE%A1%E7%90%86/</guid><description>policyRepository
policyK8s
policyDirectory
1 2 3 4 5 6 7 8 9 10 11 12 13 14 apiVersion:cilium.io/v2kind:CiliumClusterwideNetworkPolicymetadata:name:default-denyspec:endpointSelector:matchExpressions:- key:&amp;#34;io.kubernetes.pod.namespace&amp;#34;operator:&amp;#34;NotIn&amp;#34;values:- &amp;#34;kube-system&amp;#34;enableDefaultDeny:egress:trueingress:true ä½¿ç”¨ 1.</description></item><item><title>2. CoreDNS è§£æè¿‡ç¨‹</title><link>https://www.ryken.cloud/2.-Coredns-%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B/</link><pubDate>Mon, 18 Nov 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/2.-Coredns-%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B/</guid><description>æŠ›å‡ºé—®é¢˜ coredns æ˜¯ä¸ªå•¥ coredns è®°å½•äº†äº›å•¥ coredns å¦‚ä½•è§£æè¯·æ±‚ pod å¦‚ä½•ç»™ coredns å‘é€ dns æŸ¥è¯¢è¯·æ±‚ å­˜åœ¨å“ªäº›é—®é¢˜ Coredns æ˜¯ä¸ªå•¥ é¡¹ç›®åœ°å€ï¼š coredns/coredns: CoreDNS is a DNS server that chains plugins</description></item><item><title>debug vscode config</title><link>https://www.ryken.cloud/debug-vscode-config/</link><pubDate>Tue, 12 Nov 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/debug-vscode-config/</guid><description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 { &amp;#34;name&amp;#34;: &amp;#34;debug install&amp;#34;, &amp;#34;type&amp;#34;: &amp;#34;go&amp;#34;, &amp;#34;debugAdapter&amp;#34;: &amp;#34;dlv-dap&amp;#34;, // the default &amp;#34;request&amp;#34;: &amp;#34;launch&amp;#34;, &amp;#34;mode&amp;#34;: &amp;#34;debug&amp;#34;, &amp;#34;host&amp;#34;: &amp;#34;127.</description></item><item><title>åŒæ ˆ</title><link>https://www.ryken.cloud/%E5%8F%8C%E6%A0%88/</link><pubDate>Tue, 12 Nov 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%8F%8C%E6%A0%88/</guid><description>kubekey å¼€å‘éœ€æ±‚ æ£€æµ‹ä¸»æœºæ˜¯å¦æ”¯æŒ ipv6 ä¿®æ­£ ipv6 ç›¸å…³çš„å†…æ ¸å‚æ•° æ”¯æŒå¼€å¯ ipv6 ä»¥åŠ ipv6 çš„é…ç½®é¡¹ï¼ˆç¼–è¾‘ cni é…ç½®æ–‡ä»¶ï¼‰ å®‰è£… calico å¹¶å¼€å¯ ipv6 ï¼ˆæ·»åŠ  calico-node daemonset çš„ ipv6 ç›¸å…³çš„ç¯å¢ƒå˜é‡ï¼‰ é…ç½® ipv6 (æ·»åŠ é»˜è®¤çš„ ipv6 ippool) åˆå§‹åŒ– kubernetes éœ€è¦å¼€å¯ ipv6 (ä½¿ç”¨ kubeadm é…ç½® kube-apiserverã€kube-controller-managerã€kube-proxyã€kubelet æ¥å¼€å¯ ipv6) ks å†…éƒ¨ç»„ä»¶å¼€å‘éœ€æ±‚ ks å†…éƒ¨ç»„ä»¶ ippool æ”¯æŒ ipv6</description></item><item><title>åŒæ ˆæµ‹è¯•ç”¨ä¾‹</title><link>https://www.ryken.cloud/%E5%8F%8C%E6%A0%88%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B/</link><pubDate>Tue, 12 Nov 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%8F%8C%E6%A0%88%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B/</guid><description>1. PODåŒæ ˆIPï¼š å·²åˆ›å»ºé»˜è®¤çš„ ipv4ã€ipv6 ippool
ç›´æ¥åˆ›å»ºè´Ÿè½½ï¼ŒæŸ¥çœ‹è´Ÿè½½ ip æœªåˆ›å»ºé»˜è®¤ ipv6 ippool
åˆ›å»ºè‡ªå®šä¹‰ ipv4ã€ipv6 ippool åˆ›å»ºè´Ÿè½½ï¼ŒæŸ¥çœ‹è´Ÿè½½ ip ç¤ºä¾‹ yamlï¼š</description></item><item><title/><link>https://www.ryken.cloud/Arista-%E9%94%90%E6%8D%B7%E4%BA%A4%E6%8D%A2%E6%9C%BA%E9%85%8D%E7%BD%AE/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Arista-%E9%94%90%E6%8D%B7%E4%BA%A4%E6%8D%A2%E6%9C%BA%E9%85%8D%E7%BD%AE/</guid><description>#äº¤æ¢æœº #arista
å‚è€ƒæ–‡æ¡£é“¾æ¥ï¼š
https://www.osslab.com.tw/wp-content/uploads/2018/03/Arista%E9%85%8D%E7%BD%AE%E6%89%8B%E5%86%8C.pdf https://www.arista.com/zh/um-eos/eos-ethernet-ports ç™»å½•ï¼šadmin â†’ enable â†’ configure â†’ zerotouch disable â†’ write å…ˆå…³é—­zerotouchï¼Œå¦åˆ™ä¼šå‡ºç°é…ç½®æ— æ³•ä¿å­˜çš„æƒ…å†µ æ˜¾ç¤ºå½“å‰é…ç½® show run</description></item><item><title/><link>https://www.ryken.cloud/calico-ebpf-dataplane/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-ebpf-dataplane/</guid><description>#calico #ebpf
ä»‹ç»calico ebpf Introducing the Calico eBPF dataplane (tigera.io)
å¼€å¯ calico ebpf Enable the eBPF dataplane (tigera.io)</description></item><item><title/><link>https://www.ryken.cloud/cilium-%E8%83%BD%E5%8A%9B/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/cilium-%E8%83%BD%E5%8A%9B/</guid><description/></item><item><title/><link>https://www.ryken.cloud/containerlab/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/containerlab/</guid><description>#containerlab #network #tools
å®‰è£… bash -c &amp;ldquo;$(curl -sL https://get.containerlab.dev)&amp;rdquo;
é…ç½® vyos
ç½‘ç»œæ¨¡å¼
ä¸»æœºç½‘ç»œ å®¹å™¨ç½‘ç»œ é…ç½® spine + leaf å®‰è£… dockerã€kubectl</description></item><item><title/><link>https://www.ryken.cloud/envoy/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/envoy/</guid><description>Envoy æ˜¯ä¸€ä¸ªå¼ºå¤§ä¸”çµæ´»çš„ç¬¬ 7 å±‚å¼€æºä»£ç†ã€‚ å®ƒæ˜¯ä¸€ä¸ª CNCF æ¯•ä¸šé¡¹ç›®ï¼Œç”¨äºå„ç§æœåŠ¡ç½‘æ ¼è§£å†³æ–¹æ¡ˆã€‚ç‰¹åˆ«æ˜¯ï¼ŒEnvoy ä¸º Istio æœåŠ¡ç½‘æ ¼æä¾›æ”¯æŒï¼Œç”¨ä½œ sidecar ä»£ç†ã€‚
Cilium å·²ç»ä½¿ç”¨ Envoy æ¥å®ç°æŸäº›åè®®çš„ L7 ç­–ç•¥å’Œå¯è§‚å¯Ÿæ€§ã€‚ Cilium Service Mesh ä½¿ç”¨æ—  sidecar é…ç½®ä¸­åˆ©ç”¨ Envoyã€‚</description></item><item><title/><link>https://www.ryken.cloud/fortio-%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/fortio-%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/</guid><description/></item><item><title/><link>https://www.ryken.cloud/hybirdnet-%E4%BD%BF%E7%94%A8/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/hybirdnet-%E4%BD%BF%E7%94%A8/</guid><description>#hybridnet #cni
[[hybirdnet.svg]] ç»™èŠ‚ç‚¹æ‰“ label
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 apiVersion:networking.</description></item><item><title/><link>https://www.ryken.cloud/hybirdnet-%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/hybirdnet-%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86/</guid><description>#hybridnet
crd èµ„æºå®šä¹‰è§£é‡Š [[hybridnet è‡ªå®šä¹‰èµ„æºè§£é‡Š]] æ•´ä¸ªæµç¨‹ï¼škubelet -&amp;gt; cni -&amp;gt; æ‰“é€šç½‘ç»œ ipam å¦‚ä½•å¤„ç† ç¯å¢ƒçš„æ­å»º overlay æ¨¡å¼å®ç°åŸç† å°è£…çš„ç½‘å¡ è·¯ç”± åˆ›å»ºçš„èµ„æº</description></item><item><title/><link>https://www.ryken.cloud/ingressAPI/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/ingressAPI/</guid><description>å®‰è£… ä»¥åŠ éªŒè¯
1 --set ingressController.enabled=true 1 cilium config view | grep ingress-controller Kubernetes æä¾›äº†æ ‡å‡†çš„ Ingress èµ„æºç±»å‹æ¥é…ç½® L7 è´Ÿè½½å‡è¡¡å’Œæµé‡ç®¡ç†ã€‚åœ¨å¤§å¤šæ•°é›†ç¾¤ä¸­ï¼Œåº”ç”¨ Ingress èµ„æºéœ€è¦å®‰è£… Ingress Controllerï¼Œä¾‹å¦‚ä½¿ç”¨Nginxã€Traefik æˆ– Contourã€‚</description></item><item><title/><link>https://www.ryken.cloud/kube-ovn-underlay/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kube-ovn-underlay/</guid><description>#kube-ovn #underlay
åŠŸèƒ½é™åˆ¶ ç”±äºè¯¥æ¨¡å¼ä¸‹å®¹å™¨ç½‘ç»œç›´æ¥ä½¿ç”¨ç‰©ç†ç½‘ç»œè¿›è¡ŒäºŒå±‚åŒ…è½¬å‘ï¼ŒOverlay æ¨¡å¼ä¸‹çš„ SNAT/EIPï¼Œ åˆ†å¸ƒå¼ç½‘å…³/é›†ä¸­å¼ç½‘å…³ç­‰ L3 åŠŸèƒ½æ— æ³•ä½¿ç”¨ã€‚
ä½¿ç”¨ underlay æ¨¡å¼ä¸»è¦æ¶‰åŠçš„èµ„æºæœ‰ï¼š
èµ„æº è¯´æ˜ provider-networks underlay ç½‘å¡æä¾›è€… vlans vlan ä¿¡æ¯ subnets å­ç½‘/ippool åœ°å€æ±  ips ip åˆ†é…è®°å½• provider-networks èµ„æº ProviderNetwork æä¾›äº†ä¸»æœºç½‘å¡åˆ°ç‰©ç†ç½‘ç»œæ˜ å°„çš„æŠ½è±¡ï¼Œå°†åŒå±ä¸€ä¸ªç½‘ç»œçš„ç½‘å¡è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œ å¹¶è§£å†³åœ¨å¤æ‚ç¯å¢ƒä¸‹åŒæœºå™¨å¤šç½‘å¡ã€ç½‘å¡åä¸ä¸€è‡´ã€å¯¹åº” Underlay ç½‘ç»œä¸ä¸€è‡´ç­‰æƒ…å†µä¸‹çš„é…ç½®é—®é¢˜ã€‚</description></item><item><title/><link>https://www.ryken.cloud/RSS-RPS/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/RSS-RPS/</guid><description>å•é˜Ÿåˆ—æ²¡æœ‰é—®é¢˜ï¼Œå¤šé˜Ÿåˆ—æœ‰é—®é¢˜ ebpf
ç½‘å¡å¤šé˜Ÿåˆ— å¤šæ ¸ å¤šCPU RSS RPS RFS
ç”±äºè¿™å—å†…å­˜åŒºåŸŸæ˜¯æœ‰é™çš„ï¼Œå¦‚æœæ•°æ®åŒ…çš„é€Ÿç‡éå¸¸å¿«ï¼Œå•ä¸ª CPU æ¥ä¸åŠå–èµ°è¿™äº›åŒ…ï¼Œæ–°æ¥çš„åŒ…å°±ä¼šè¢«ä¸¢å¼ƒã€‚è¿™æ—¶å€™ï¼ŒReceive Side Scalingï¼ˆRSSï¼Œæ¥æ”¶ç«¯æ‰©å±•ï¼‰æˆ–è€…å¤šé˜Ÿåˆ—ï¼ˆmultiqueueï¼‰ä¸€ç±»çš„æŠ€æœ¯å¯èƒ½å°±ä¼šæ’ä¸Šç”¨åœºã€‚
å¯ä»¥æŠŠè½¯ä¸­æ–­ç³»ç»Ÿæƒ³è±¡æˆä¸€ç³»åˆ—å†…æ ¸çº¿ç¨‹ï¼ˆæ¯ä¸ª CPU ä¸€ä¸ªï¼‰ï¼Œè¿™äº›çº¿ç¨‹æ‰§è¡Œé’ˆå¯¹ä¸åŒäº‹ä»¶æ³¨å†Œçš„å¤„ç†å‡½æ•°ï¼ˆhandlerï¼‰ã€‚å¦‚æœä½ æ‰§è¡Œè¿‡Â topÂ å‘½ä»¤ï¼Œå¯èƒ½ä¼šæ³¨æ„åˆ°ksoftirqd/0Â è¿™ä¸ªå†…æ ¸çº¿ç¨‹ï¼Œå…¶è¡¨ç¤ºè¿™ä¸ªè½¯ä¸­æ–­çº¿ç¨‹è·‘åœ¨ CPU 0 ä¸Šã€‚</description></item><item><title/><link>https://www.ryken.cloud/wireshark-%E6%8A%93%E5%8C%85/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/wireshark-%E6%8A%93%E5%8C%85/</guid><description>#wireshark #æŠ“åŒ…
wireshark æŠ“è¿œç¨‹ ubuntu çš„åŒ… å®‰è£… rpcapd rpcapd æ˜¯ä¸€ä¸ªä¸º Windows ç‰ˆæœ¬çš„Wiresharkåè®®åˆ†æå™¨æä¾›è¿œç¨‹æµé‡æ•è·çš„å®ˆæŠ¤è¿›ç¨‹ã€‚å®ƒéšWindows çš„ WinPcapÂ ç½‘ç»œæ•è·åº“ä¸€èµ·æä¾›ï¼Œä¹‹å‰ Linux ä¸­çš„æ²¡æœ‰ libpcap ,åæ¥æ·»åŠ äº†ã€‚ ä½¿ç”¨ rpcapd-linux ä½¿ç”¨ the-tcpdump-group/libpcap ã€æ¨èã€‘æ²¡æœ‰å¤§çš„æŠ¥é”™é—®é¢˜ 1 2 3 4 5 6 apt-get build-dep libpcap -y git clone https://github.</description></item><item><title/><link>https://www.ryken.cloud/%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF/</guid><description>#å¼€æœºè‡ªå¯ #linux
æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ rc.local å®ç°å¼€æœºè‡ªå¯ï¼Œä¸è¿‡ç”±äºç³»ç»Ÿç‰ˆæœ¬æ›´æ›¿ï¼Œå¾ˆå¤šæ–°ç‰ˆæœ¬éƒ½æ²¡æœ‰ rc.local æ–‡ä»¶äº†ï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½® æ·»åŠ  /etc/rc.local æ–‡ä»¶
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 cat &amp;lt;&amp;lt;EOF &amp;gt;/etc/rc.</description></item><item><title/><link>https://www.ryken.cloud/%E6%A8%A1%E5%9D%97%E4%BB%A5%E5%8F%8A%E9%85%8D%E7%BD%AE/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%A8%A1%E5%9D%97%E4%BB%A5%E5%8F%8A%E9%85%8D%E7%BD%AE/</guid><description>#blockbox #exporter #prometheus
ç®€å•ä»‹ç» Blackbox Exporter æ˜¯ Prometheus ç¤¾åŒºæä¾›çš„ å®˜æ–¹é»‘ç›’ç›‘æ§è§£å†³æ–¹æ¡ˆ,å…¶å…è®¸ç”¨æˆ·é€šè¿‡: http\HTTPS\DNS\TCP\ICMP\gRPCçš„æ–¹å¼å¯¹ç½‘ç»œè¿›è¡Œæ¢æµ‹.
æ”¯æŒçš„åè®®ï¼šHTTP, HTTPS, DNS, TCP, ICMP, gRPC.
å„ä¸ªæ¨¡å—çš„é…ç½®ï¼š blackbox_exporter/CONFIGURATION.md at master Â· prometheus/blackbox_exporter (github.</description></item><item><title/><link>https://www.ryken.cloud/%E6%B5%81%E9%87%8F%E8%B5%B0%E5%90%91/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%B5%81%E9%87%8F%E8%B5%B0%E5%90%91/</guid><description> å®¹å™¨åˆ°ä¸»æœºçš„æµé‡èµ°å‘</description></item><item><title/><link>https://www.ryken.cloud/%E7%BD%91%E5%8D%A1%E5%A4%9A%E9%98%9F%E5%88%97-+-%E4%B8%AD%E6%96%AD%E7%BB%91%E5%AE%9A/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%BD%91%E5%8D%A1%E5%A4%9A%E9%98%9F%E5%88%97-+-%E4%B8%AD%E6%96%AD%E7%BB%91%E5%AE%9A/</guid><description>#ç½‘å¡å¤šé˜Ÿåˆ— #network #irqbalance
å•CPUå¤„ç†ç½‘ç»œIOå­˜åœ¨ç“¶é¢ˆ, ç›®å‰ç»å¸¸ä½¿ç”¨ç½‘å¡å¤šé˜Ÿåˆ—æé«˜æ€§èƒ½.
é€šå¸¸æƒ…å†µä¸‹, æ¯å¼ ç½‘å¡æœ‰ä¸€ä¸ªé˜Ÿåˆ—(queue), æ‰€æœ‰æ”¶åˆ°çš„åŒ…ä»è¿™ä¸ªé˜Ÿåˆ—å…¥, å†…æ ¸ä»è¿™ä¸ªé˜Ÿåˆ—é‡Œå–æ•°æ®å¤„ç†. è¯¥é˜Ÿåˆ—å…¶å®æ˜¯ring buffer(ç¯å½¢é˜Ÿåˆ—), å†…æ ¸å¦‚æœå–æ•°æ®ä¸åŠæ—¶, åˆ™ä¼šå­˜åœ¨ä¸¢åŒ…çš„æƒ…å†µ.
ä¸€ä¸ªCPUå¤„ç†ä¸€ä¸ªé˜Ÿåˆ—çš„æ•°æ®, è¿™ä¸ªå«ä¸­æ–­. é»˜è®¤æ˜¯cpu0(ç¬¬ä¸€ä¸ªCPU)å¤„ç†. ä¸€æ—¦æµé‡ç‰¹åˆ«å¤§, è¿™ä¸ªCPUè´Ÿè½½å¾ˆé«˜, æ€§èƒ½å­˜åœ¨ç“¶é¢ˆ. æ‰€ä»¥ç½‘å¡å¼€å‘äº†å¤šé˜Ÿåˆ—åŠŸèƒ½, å³ä¸€ä¸ªç½‘å¡æœ‰å¤šä¸ªé˜Ÿåˆ—, æ”¶åˆ°çš„åŒ…æ ¹æ®TCPå››å…ƒç»„ä¿¡æ¯hashåæ”¾å…¥å…¶ä¸­ä¸€ä¸ªé˜Ÿåˆ—, åé¢è¯¥é“¾æ¥çš„æ‰€æœ‰åŒ…éƒ½æ”¾å…¥è¯¥é˜Ÿåˆ—.</description></item><item><title>1. OFN Overview</title><link>https://www.ryken.cloud/1.-OFN-Overview/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/1.-OFN-Overview/</guid><description>1 2 list from &amp;#34;CloudNative/Faas-ofn&amp;#34; sort file.name æ¶æ„å›¾</description></item><item><title>1. spiderpool ä»‹ç»</title><link>https://www.ryken.cloud/1.-spiderpool-%E4%BB%8B%E7%BB%8D/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/1.-spiderpool-%E4%BB%8B%E7%BB%8D/</guid><description>ä»‹ç» ä¸€ä¸ªä¸»è¦è¿ç”¨äº underlay ipam çš„ä¸€ä¸ª cni æ’ä»¶
Spiderpool æä¾›äº†ä¸€ä¸ª Kubernetes çš„ underlay å’Œ RDMA ç½‘ç»œè§£å†³æ–¹æ¡ˆ, å®ƒèƒ½è¿è¡Œåœ¨è£¸é‡‘å±ã€è™šæ‹Ÿæœºå’Œå…¬æœ‰äº‘ä¸Šã€‚
ç»„ä»¶ - æ¶æ„å›¾ CNI åˆ—è¡¨ cni æœ‰ä¸‰ç±» plugin CNIï¼š</description></item><item><title>1. ç½‘ç»œ datapath + ebpf(xdpã€tc)</title><link>https://www.ryken.cloud/1.-%E7%BD%91%E7%BB%9C-datapath-+-ebpfxdptc/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/1.-%E7%BD%91%E7%BB%9C-datapath-+-ebpfxdptc/</guid><description>ç½‘ç»œåŒ… Data Path XDP hookä½œç”¨äºåˆ°Ingressæµé‡ï¼Œä¹Ÿå°±æ˜¯RXæµå‘ã€‚ä¸ä¼šä½œç”¨åˆ° Egress æµé‡ã€‚ TC hookä½œç”¨äºEgressæµé‡ï¼Œä¹Ÿå°±æ˜¯TXæµå‘ã€‚
åœ¨æ²¡æœ‰å¼•å…¥XDPä¹‹å‰ï¼ŒåŸæ¥çš„ç½‘ç»œæ•°æ®åŒ…ä¼ è¾“è·¯å¾„æ˜¯è¿™æ ·çš„ï¼š å¯ç”¨XDPåï¼Œç½‘ç»œåŒ…ä¼ è¾“è·¯å¾„æ˜¯è¿™æ ·çš„ï¼š cilium ä¸­å…³äº xdp ä¸‰ç§æ¨¡å¼çš„è§£é‡Šï¼š
Nativeï¼š è¿™æ˜¯é»˜è®¤æ¨¡å¼ï¼Œå…¶ä¸­XDP BPFç¨‹åºç›´æ¥ä»ç½‘ç»œé©±åŠ¨ç¨‹åºçš„æ—©æœŸæ¥æ”¶è·¯å¾„è¿è¡Œã€‚å¤§å¤šæ•°ç”¨äº10GåŠä»¥ä¸Šçš„å¹¿æ³›ä½¿ç”¨çš„NICå·²ç»æ”¯æŒåŸç”ŸXDPã€‚</description></item><item><title>2. OFN Install</title><link>https://www.ryken.cloud/2.-OFN-Install/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/2.-OFN-Install/</guid><description>å®‰è£… helm repo add openfunction https://openfunction.github.io/charts/ helm repo update kubectl create namespace openfunction helm install openfunction openfunction/openfunction -n openfunction å®‰è£…å‰åå¯¹æ¯”å›¾ï¼š v1.</description></item><item><title>2. åˆå§‹åŒ– - ç»„ä»¶</title><link>https://www.ryken.cloud/2.-%E5%88%9D%E5%A7%8B%E5%8C%96-%E7%BB%84%E4%BB%B6/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/2.-%E5%88%9D%E5%A7%8B%E5%8C%96-%E7%BB%84%E4%BB%B6/</guid><description>éƒ¨ç½²åç»„ä»¶æ€»è§ˆ daemonsetï¼šspiderpool-agent deploymentï¼šspiderpool-controller podï¼šspiderpool-init spiderpoolInit podï¼š/usr/bin/spiderpool-init æ ¹æ®ç¯å¢ƒå˜é‡åˆå§‹åŒ– spiderpoolCoordinatorã€subnetã€ippoolã€å¤šé›†ç¾¤èµ„æºï¼Œåˆå§‹åŒ–å®Œæˆä¹‹åé€€å‡ºã€‚
daemonset - agent(hostnetwork) init container install plugins multus-cni containers spiderpool-agent daemon &amp;ndash;config-path=/tmp/spiderpool/config-map/conf.</description></item><item><title>3. OFN QuickStart</title><link>https://www.ryken.cloud/3.-OFN-QuickStart/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/3.-OFN-QuickStart/</guid><description>ç¯å¢ƒè¦æ±‚ é•œåƒä»“åº“ secret æ„å»º funcation ä¼šæ„å»ºä¸€ä¸ª funcation é•œåƒï¼Œæ­¤æ—¶éœ€è¦ä½ å°†æ„é€ çš„é•œåƒ push åˆ° dockerhub æˆ–è€…Quary.io å› æ­¤éœ€è¦æä¾›ä¸€ä¸ª secret
1 2 3 4 5 REGISTRY_SERVER=https://index.</description></item><item><title>3. TC ä»‹ç»</title><link>https://www.ryken.cloud/3.-TC-%E4%BB%8B%E7%BB%8D/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/3.-TC-%E4%BB%8B%E7%BB%8D/</guid><description>TC - Traffic Control æµé‡æ§åˆ¶å™¨TCï¼ˆTraffic Controlï¼‰ç”¨äºLinuxå†…æ ¸çš„æµé‡æ§åˆ¶ï¼Œå®ƒåˆ©ç”¨é˜Ÿåˆ—è§„å®šå»ºç«‹å¤„ç†æ•°æ®åŒ…çš„é˜Ÿåˆ—ï¼Œå¹¶å®šä¹‰é˜Ÿåˆ—ä¸­çš„æ•°æ®åŒ…è¢«å‘é€çš„æ–¹å¼ï¼Œ ä»è€Œå®ç°å¯¹æµé‡çš„æ§åˆ¶(è°ƒåº¦ç½‘ç»œåŒ…çš„å»¶è¿Ÿã€ä¸¢å¤±ã€ä¼ è¾“é¡ºåºå’Œé€Ÿåº¦æ§åˆ¶ï¼Œä¾‹å¦‚ä¿®æ”¹åŒ…ï¼ˆmangleï¼Œç»™ skb æ‰“æ ‡è®°ï¼‰ã€é‡è·¯ç”±ï¼ˆrerouteï¼‰ã€ä¸¢å¼ƒåŒ…ï¼ˆdropï¼‰)
TCä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªåŸºæœ¬è¦ç´ ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 1: qdiscï¼šé˜Ÿåˆ—è§„åˆ™ï¼ŒTCçš„æ ¸å¿ƒï¼Œç”¨äºç¡®å®šæ•°æ®åŒ…çš„å‘é€æ–¹å¼ã€‚å¦‚ä¸‹å‘½ä»¤å®ç°äº†æŒ‡å®šçš„eth0ç½‘å¡ä¸Šæ‰€æœ‰çš„åŒ…å›ºå®šåŠ äº†200mså»¶æ—¶ # tc qdisc add dev eth0 root netem delay 200ms 2: classå’Œfilterï¼šç±»å’Œè¿‡æ»¤å™¨ã€‚ç±»å³æ˜¯æ•°æ®æµé‡çš„ç±»åˆ«ï¼Œå„ç§åº”ç”¨å’Œç»ˆç«¯çš„æµé‡é€šè¿‡filterè¿›è¡Œåˆ†ç±»ï¼Œè¿›å…¥åˆ°é˜Ÿåˆ—è§„åˆ™é‡Œæ’é˜Ÿè¿›è¡Œå‘é€ã€‚å¦‚ä¸‹å‘½ä»¤è¡Œæ‰€ç¤ºå³é€šè¿‡classå’Œfilterå®ç°äº†å¯¹æŒ‡å®šipçš„é™é€Ÿï¼Œå…¶å®ƒå¼±ç½‘ç±»ä¼¼ï¼š # tc class add dev eth0 parent 1:1 classid 1:2 htb rate 500kbit # tc filter add dev eth0 protocol ip parent 1:0 prio 3 u32 match 192.</description></item><item><title>4. CoreDNS ç–‘éš¾æ‚ç—‡</title><link>https://www.ryken.cloud/4.-Coredns-%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/4.-Coredns-%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/</guid><description>1. coredns &amp;ldquo;no nameservers found&amp;rdquo; error coredns CrashLoopBackOff
1 kubectl edit configmap coredns -n kube-system åŸ coredns configmap é…ç½®å¦‚ä¸‹ï¼š</description></item><item><title>bandwidth å¸¦å®½é™åˆ¶</title><link>https://www.ryken.cloud/bandwidth-%E5%B8%A6%E5%AE%BD%E9%99%90%E5%88%B6/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/bandwidth-%E5%B8%A6%E5%AE%BD%E9%99%90%E5%88%B6/</guid><description>bandwidth æ’ä»¶ CNI-bandwidth
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 { &amp;#34;cniVersion&amp;#34;: &amp;#34;0.</description></item><item><title>BGP ç¯å¢ƒæ­å»º</title><link>https://www.ryken.cloud/BGP-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/BGP-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</guid><description>å®‰è£…å·¥å…· å®‰è£…ç½‘æ¡¥å·¥å…· apt install -y bridge-utils å®‰è£… bird apt-get install -y bird ä¿®æ”¹é…ç½®æ–‡ä»¶ ä¿®æ”¹ç½‘ç»œé…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 source /etc/network/interfaces.</description></item><item><title>Big TCP</title><link>https://www.ryken.cloud/Big-TCP/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Big-TCP/</guid><description>ä½¿ç”¨ ipv4 &amp;amp; ipv6 çš„ big TCP éœ€è¦ 6.3 åŠä»¥ä¸Šçš„å†…æ ¸
å®éªŒä½¿ç”¨çš„å†…æ ¸ç‰ˆæœ¬ä¸ºï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 root@server:~# cat /etc/os-release PRETTY_NAME=&amp;#34;Ubuntu 22.</description></item><item><title>build record</title><link>https://www.ryken.cloud/build-record/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/build-record/</guid><description>build å·¥å…·åŒ… go å®‰è£…åŒ…ä¸‹è½½åœ°å€ï¼š
wget https://studygolang.com/dl/golang/go1.17.6.linux-amd64.tar.gz 1 2 3 4 5 6 7 8 # é…ç½®ç¯å¢ƒ cat &amp;lt;&amp;lt;EOF &amp;gt; /etc/profile.</description></item><item><title>Cilium 1.15</title><link>https://www.ryken.cloud/Cilium-1.15/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Cilium-1.15/</guid><description>Service Mesh &amp;amp; Ingress/Gateway API Gateway API 1.0 Support: Cilium now supports Gateway API 1.0 Gateway API gRPC Support: Cilium can now route gRPC traffic, using the Gateway API Annotation Propagation from GW to LB:Â Both the Cilium Ingress and Gateway API can propagate annotations to the Kubernetes LoadBalancer Service Reduced Envoy Privileges: Envoyâ€™s security posture has been reinforced Ingress Network Policy:Â Enforce ingress network policies for traffic inbound via Ingress + GatewayAPI Gateway API åœ¨ cilium 1.</description></item><item><title>Cilium 1.16</title><link>https://www.ryken.cloud/Cilium-1.16/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Cilium-1.16/</guid><description>æ›´æ–°èŒƒå›´åŒ…æ‹¬ ğŸš Â Networking ğŸ•¸ï¸Â Service Mesh &amp;amp; Ingress/Gateway API ğŸ’‚â€â™€ï¸Â Security ğŸŒ…Â Day 2 Operations and Scale ğŸ›°ï¸Â Hubble &amp;amp; Observability Networking ğŸš¤Â Cilium NetKit:Â container-network throughput and latency as fast as host-network.</description></item><item><title>cilium gateway api</title><link>https://www.ryken.cloud/cilium-gateway-api/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/cilium-gateway-api/</guid><description>ä»‹ç» å¤§å¤šæ•°å¾®æœåŠ¡æ¶æ„éƒ½éœ€è¦å°†ä¸€äº›æœåŠ¡æš´éœ²ç»™é›†ç¾¤å¤–éƒ¨å¹¶å°†æµé‡å®‰å…¨åœ°è·¯ç”±åˆ°é›†ç¾¤ä¸­ã€‚Kubernetes Ingress API ä¼ ç»Ÿä¸Šæ˜¯å¹³å°è¿è¥å•†å°†æµé‡è·¯ç”±åˆ°é›†ç¾¤çš„æ–¹å¼ï¼Œä½†å®ƒä¹Ÿæœ‰è®¸å¤šçš„é™åˆ¶ã€‚
Gateway API è§£å†³äº†è¿™äº›é™åˆ¶ï¼ŒåŒæ—¶ Cilium å·²ç»æ”¯æŒ Gateway APIã€‚
å¦‚æœä½ é—®ä¸€ç™¾ä¸ªäººä»€ä¹ˆæ˜¯æœåŠ¡ç½‘æ ¼ï¼Œä½ å¯èƒ½ä¼šå¾—åˆ°ä¸€ç™¾ä¸ªä¸åŒçš„ç­”æ¡ˆã€‚æ¯ä¸ªäººå¯¹æœåŠ¡ç½‘æ ¼çš„ä½œç”¨åŠå…¶è§£å†³çš„é—®é¢˜éƒ½æœ‰ä¸åŒçš„è§£é‡Šã€‚ åœ¨ Cilium Service Mesh æµ‹è¯•æœŸé—´ï¼Œå½“è¢«é—®åˆ°â€œæ‚¨æœ€æ„Ÿå…´è¶£ Service Mesh çš„å“ªäº›åŠŸèƒ½â€æ—¶ï¼Œç»å¤§å¤šæ•°äººè®¤ä¸ºå¯è§æ€§å’Œæµé‡åŠ å¯†æ˜¯å…³é”®åŠŸèƒ½ã€‚ ä½†åŒæ ·å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸€åŠçš„å‚ä¸è€…å›ç­”â€œKubernetes Ingressâ€ï¼Œå°½ç®¡äº‹å®ä¸Šæœ‰äº›äººå¯èƒ½ä¸è®¤ä¸ºå®ƒæ˜¯æœåŠ¡ç½‘æ ¼çš„å…³é”®ç»„ä»¶ã€‚æ— è®ºæ‚¨æ˜¯å¦è®¤ä¸º Ingress æ˜¯ Service Mesh åŠŸèƒ½ï¼Œå®ƒä»ç„¶æ˜¯ Kubernetes æµé‡å·¥ç¨‹çš„ä¸€ä¸ªé‡è¦æ–¹é¢ã€‚</description></item><item><title>cilium ingress controller</title><link>https://www.ryken.cloud/cilium-ingress-controller/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/cilium-ingress-controller/</guid><description>How to deploy Cilium Service Mesh Traffic Management &amp;amp; Load-Balancing with Ingress Enable L7 Observability Configuration Kubernetes æä¾›äº†æ ‡å‡†çš„ Ingress èµ„æºç±»å‹æ¥é…ç½® L7 è´Ÿè½½å‡è¡¡å’Œæµé‡ç®¡ç†ã€‚ Cilium è‡ªåŠ¨åœ¨é›†ç¾¤ä¸­å®ç° Ingress å¹¶æ‰§è¡Œå·²é…ç½®çš„è´Ÿè½½å‡è¡¡é…ç½®ã€‚ åœ¨å¤§å¤šæ•°é›†ç¾¤ä¸­ï¼Œåº”ç”¨ Ingress èµ„æºéœ€è¦å®‰è£… Ingress Controllerï¼Œä¾‹å¦‚ä½¿ç”¨Nginxã€Traefik æˆ– Contourã€‚ åœ¨æœ¬å®éªŒä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ Cilium æ¥ç®¡ç† Ingress èµ„æºï¼Œæ— éœ€å¤–éƒ¨æ§åˆ¶å™¨ï¼Œå› æ­¤æ‚¨æ— éœ€é€‰æ‹© Ingress Controller æä¾›ç¨‹åºï¼Œä¹Ÿæ— éœ€å…³å¿ƒä½¿å…¶ä¿æŒæœ€æ–°çŠ¶æ€ï¼</description></item><item><title>cilium ipam</title><link>https://www.ryken.cloud/cilium-ipam/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/cilium-ipam/</guid><description>1 2 3 kubectl get cm -n kube-system cilium-config -o yaml| grep tunnel routing-mode: tunnel tunnel-protocol: vxlan å®¹å™¨çš„ç½‘ç»œæ•°æ®è·¯å¾„</description></item><item><title>ciliumnodes</title><link>https://www.ryken.cloud/IPAM-ciliumnodes/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/IPAM-ciliumnodes/</guid><description>https://github.com/cilium/cilium/blob/186b84ec5ce362e6acf762ae5c907812a84f31f0/pkg/k8s/apis/cilium.io/v2/types.go#L313 AWS ENI â€” Cilium 1.15.7 documentation
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 // +genclient // +genclient:nonNamespaced // +k8s:deepcopy-gen:interfaces=k8s.</description></item><item><title>clustermesh</title><link>https://www.ryken.cloud/clustermesh/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/clustermesh/</guid><description>Cilium Cluster Mesh å…è®¸é“¾æ¥å¤šä¸ª Kubernetes é›†ç¾¤ï¼Œå‰ææ˜¯ï¼š
æ‰€æœ‰é›†ç¾¤éƒ½å°† Cilium ä½œä¸º CNI è¿è¡Œ æ‰€æœ‰å·¥ä½œèŠ‚ç‚¹éƒ½æœ‰å”¯ä¸€çš„IPåœ°å€å¹¶ä¸”èƒ½å¤Ÿç›¸äº’è¿æ¥ åœ¨ Cilium é›†ç¾¤ä¸Šæ¿€æ´»é›†ç¾¤ç½‘æ ¼æ—¶ï¼Œä¼šéƒ¨ç½²ä¸€ä¸ªæ–°çš„æ§åˆ¶å¹³é¢æ¥ç®¡ç†è¯¥é›†ç¾¤çš„ç½‘æ ¼åŠå…¶ etcd é”®å€¼å­˜å‚¨ã€‚ ç„¶åï¼Œå…¶ä»–é›†ç¾¤çš„ä»£ç†å¯ä»¥ä»¥åªè¯»æ¨¡å¼è®¿é—®æ­¤é›†ç¾¤ç½‘æ ¼æ§åˆ¶å¹³é¢ï¼Œä»è€Œå…è®¸å®ƒä»¬è®¿é—®æœ‰å…³é›†ç¾¤çš„å…ƒæ•°æ®ï¼Œä¾‹å¦‚æœåŠ¡åç§°å’Œç›¸åº”çš„ IPã€‚ å½“ä¸¤ä¸ªæˆ–å¤šä¸ªé›†ç¾¤ç½‘æ ¼åŒ–æ—¶ï¼ŒCilium å…è®¸æ‚¨é€šè¿‡å‘æœåŠ¡æ·»åŠ æ³¨é‡Šæ¥å°†æœåŠ¡è®¾ç½®ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªé›†ç¾¤ä¸­çš„å…¨å±€æœåŠ¡ï¼š service.</description></item><item><title>flannel å®¹å™¨ç½‘ç»œæ’ä»¶çš„è®¾è®¡å®ç°åŸç†</title><link>https://www.ryken.cloud/flannel-%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6%E7%9A%84%E8%AE%BE%E8%AE%A1%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/flannel-%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6%E7%9A%84%E8%AE%BE%E8%AE%A1%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86/</guid><description>flannel å®¹å™¨ç½‘ç»œæ’ä»¶çš„è®¾è®¡å®ç°åŸç† æœ¬æ–‡åŸºäº flannel v0.21.0 ç‰ˆæœ¬æºç åˆ†æ.
CNI, å®ƒçš„å…¨ç§°æ˜¯ Container Network Interface, å³å®¹å™¨ç½‘ç»œçš„ API æ¥å£. å¹³æ—¶æ¯”è¾ƒå¸¸ç”¨çš„ CNI å®ç°æœ‰ Flannelã€Calico ç­‰.</description></item><item><title>GatewayAPI-Lab1</title><link>https://www.ryken.cloud/GatewayAPI-Lab1/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/GatewayAPI-Lab1/</guid><description>ä»‹ç» å®éªŒåœ°å€ï¼š https://isovalent.com/labs/cilium-gateway-api/
å®éªŒæ€»è§ˆ
Cilium Installation with Gateway API Gateway API - HTTP Traffic Management Gateway API - HTTPS Traffic Management Gateway API - TLS Passthrough Gateway API - HTTP Load Balancing åµŒå…¥å¼ Envoy ä»£ç† Cilium å·²ç»ä½¿ç”¨ Envoy å®ç°äº†æŸäº›åè®®çš„ L7 ç­–ç•¥å’Œå¯è§‚å¯Ÿæ€§ã€‚</description></item><item><title>GatewayAPI-Lab2</title><link>https://www.ryken.cloud/GatewayAPI-Lab2/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/GatewayAPI-Lab2/</guid><description>https://isovalent.com/labs/cilium-gateway-api-advanced/ https://isovalent.com/blog/post/tutorial-redirect-rewrite-and-mirror-http-requests-with-cilium-gateway-api/
Gateway API â€” Deploy Sample App HTTP Request and Response Header Modifier Gateway API â€” HTTP Mirroringã€HTTP Rewriteã€HTTP Redirect Cross-namespace &amp;amp; Shared Gateway API Gateway API â€” gRPC routing Example Gateway API â€” Gamma Example 1 2 3 4 5 6 7 kubectl get crd \ gatewayclasses.</description></item><item><title>grafana å¯è§†åŒ–</title><link>https://www.ryken.cloud/grafana-%E5%8F%AF%E8%A7%86%E5%8C%96/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/grafana-%E5%8F%AF%E8%A7%86%E5%8C%96/</guid><description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 kubectl apply -f - &amp;lt;&amp;lt;EOF apiVersion: v1 kind: ConfigMap metadata: name: grafana-config namespace: calico-monitoring data: prometheus.</description></item><item><title>hubble</title><link>https://www.ryken.cloud/hubble/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/hubble/</guid><description>hubble labsï¼š</description></item><item><title>hybridnet ç½‘ç»œæ’ä»¶</title><link>https://www.ryken.cloud/hybridnet-%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/hybridnet-%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6/</guid><description>[[vlan é…ç½®]]
ä¸€é”®å®‰è£… 1 2 3 helm repo add hybridnet https://alibaba.github.io/hybridnet/ helm repo update helm install hybridnet hybridnet/hybridnet -n kube-system --set init.</description></item><item><title>ingress api - gateway api</title><link>https://www.ryken.cloud/ingress-api-gateway-api/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/ingress-api-gateway-api/</guid><description> https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-v1/ https://kubernetes.io/docs/reference/kubernetes-api/service-resources/ingress-class-v1/
https://kubernetes.io/docs/concepts/services-networking/ingress/ https://kubernetes.io/docs/concepts/services-networking/gateway/ https://gateway-api.sigs.k8s.io/
https://github.com/kubernetes/kubernetes/blob/master/staging/src/k8s.io/api/networking/v1/types.go https://github.com/kubernetes-sigs/gateway-api/blob/main/apis/v1/gateway_types.go</description></item><item><title>iptables</title><link>https://www.ryken.cloud/iptables/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/iptables/</guid><description>Calico ä½¿ç”¨ iptables æ•°æ®é¢æ—¶ä¼šåˆ›å»ºå¤šä¸ª iptables è§„åˆ™æ¥å®ç°ç½‘ç»œç­–ç•¥å’Œæµé‡æ§åˆ¶ã€‚è¿™äº›è§„åˆ™ç”¨äºå®ç°è¯¸å¦‚æµé‡éš”ç¦»ã€æµé‡è½¬å‘ã€è´Ÿè½½å‡è¡¡å’Œè®¿é—®æ§åˆ¶ç­‰åŠŸèƒ½ã€‚ Calico ä¼šæ ¹æ®å®šä¹‰çš„ç½‘ç»œç­–ç•¥è‡ªåŠ¨ç”Ÿæˆ iptables è§„åˆ™ã€‚æ­¤å¤–ï¼ŒCalico è¿˜ä¼šåˆ›å»ºä¸€äº›åŸºç¡€è§„åˆ™æ¥å®ç°å…¶æ ¸å¿ƒåŠŸèƒ½ï¼Œä¾‹å¦‚è·¯ç”±å’Œç½‘ç»œéš”ç¦»ã€‚æ‰€ä»¥è¯´ï¼Œå³ä½¿æ‚¨æ²¡æœ‰å®šä¹‰ä»»ä½•ç½‘ç»œç­–ç•¥ï¼ŒCalico ä»ç„¶ä¼šåœ¨ä¸»æœºä¸Šåˆ›å»ºä¸€äº› iptables è§„åˆ™ã€‚
calico ä½¿ç”¨ iptables
ä¸ service æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ</description></item><item><title>iptables mark</title><link>https://www.ryken.cloud/iptables-mark/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/iptables-mark/</guid><description>&amp;ndash;set-mark ç”¨äºè®¾ç½®æ•°æ®åŒ…çš„ 32 ä½æ ‡è®°å€¼ &amp;ndash;set-xmark ç”¨äºè®¾ç½®æ•°æ®åŒ…çš„ 128 ä½æ ‡è®°å€¼
fff00000 -m mark
mark connmark
calico mark raw è¡¨ ä¸»è¦ç”¨æ¥å†³å®šæ˜¯å¦å¯¹æ•°æ®åŒ…è¿›è¡ŒçŠ¶æ€è·Ÿè¸ªã€‚å­˜åœ¨äºPREROUTING å’Œ OUTPUT é“¾ï¼Œå¯¹æ”¶åˆ°çš„æ•°æ®åŒ…åœ¨è¿æ¥è·Ÿè¸ªå‰è¿›è¡Œå¤„ç†</description></item><item><title>iptables æŸ¥çœ‹æµå‘</title><link>https://www.ryken.cloud/iptables-%E6%9F%A5%E7%9C%8B%E6%B5%81%E5%90%91/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/iptables-%E6%9F%A5%E7%9C%8B%E6%B5%81%E5%90%91/</guid><description>å¯ä»¥ä½¿ç”¨ iptables æä¾›çš„ LOG target æˆ– mark set&amp;amp;match æ–¹å¼æ¥è·Ÿè¸ª iptables ä¸­çš„æ•°æ®æµï¼Œéœ€è¦é’ˆå¯¹ç‰¹å®šæµç¨‹æ’å…¥LOG targetæˆ–matchåœ¨å…¥å£åŒ…è®¾å®šå¥½çš„markï¼Œå¯¹iptablesè§„åˆ™çš„ä¾µå…¥è¾ƒå¤§ï¼Œè°ƒè¯•å’Œè§‚å¯Ÿä¹Ÿè¾ƒä¸ºå¤æ‚ï¼› iptablesè‡ªèº«æä¾›äº†TRACEåŠŸèƒ½ï¼Œä¸€æ—¦è®¾å®šï¼Œå½“æ•°æ®åŒ…åŒ¹é…åˆ°ä»»æ„chainä¸Šä»»æ„tableçš„å¤„ç†è§„åˆ™æ—¶ï¼Œiptablesä¼šåœ¨ç³»ç»Ÿæ—¥å¿—(/var/log/syslog)ä¸­è‡ªåŠ¨è¾“å‡ºæ­¤æ—¶çš„æ•°æ®åŒ…çŠ¶æ€æ—¥å¿—ã€‚ TRACE target åªèƒ½åœ¨ iptables çš„ raw è¡¨ä¸­æ·»åŠ ï¼Œraw è¡¨ä¸­æœ‰ä¸¤æ¡ iptables built-in chain: PREROUTING å’Œ OUTPUTï¼Œåˆ†åˆ«ä»£è¡¨ç½‘å¡æ•°æ®å…¥å£å’Œæœ¬åœ°è¿›ç¨‹ä¸‹æ¨æ•°æ®çš„å‡ºå£ã€‚TRACE target å°±æ·»åŠ åœ¨è¿™ä¸¤æ¡ chain ä¸Šã€‚</description></item><item><title>k3s å¤šèŠ‚ç‚¹å®‰è£…</title><link>https://www.ryken.cloud/k3s-%E5%A4%9A%E8%8A%82%E7%82%B9%E5%AE%89%E8%A3%85/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/k3s-%E5%A4%9A%E8%8A%82%E7%82%B9%E5%AE%89%E8%A3%85/</guid><description>é¡¹ç›®åœ°å€ï¼š https://github.com/k3s-io/k3s/releases æ–‡æ¡£åœ°å€ï¼š https://docs.k3s.io/zh/
k3s æ¶æ„ å¤šèŠ‚ç‚¹å®‰è£… å®‰è£… server èŠ‚ç‚¹ å¦‚æœä¸è¦å¤šèŠ‚ç‚¹éƒ¨ç½²å®ç°é«˜å¯ç”¨ï¼Œå¯ä»¥ç¦ç”¨ servicelb ç»„ä»¶ã€‚traefik è™½ç„¶æ˜¯ K3s è‡ªå¸¦çš„ç½‘ç»œç»„ä»¶ï¼Œä½†æ˜¯å…¶é»˜è®¤ä¼šå ç”¨ 80 å’Œ 443 ç«¯å£ï¼Œä¹Ÿå¯ä»¥ç¦ç”¨ã€‚</description></item><item><title>kube-proxy replacement</title><link>https://www.ryken.cloud/kube-proxy-replacement/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kube-proxy-replacement/</guid><description>Kube-proxy Kube-proxy æ˜¯ Kubernetes ä¸­çš„ç½‘ç»œç»„ä»¶ï¼Œä½œä¸º daemonset å®‰è£…åœ¨é›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ä¸Šï¼Œè´Ÿè´£ Service å’Œ Pod ä¹‹é—´çš„é€šä¿¡ã€‚å…¶ä¸»è¦ä½œç”¨æ˜¯ç»´æŠ¤ service-to-pod mapçš„ç½‘ç»œè§„åˆ™ï¼ŒåŒ…æ‹¬å¿…è¦æ—¶çš„NATè½¬æ¢ï¼Œä»¥ç¡®ä¿æ•°æ®åŒ…åˆ°è¾¾é¢„æœŸç›®çš„åœ°ã€‚Kube-proxy åˆ©ç”¨ iptables æˆ– IPVS å……å½“ L3/L4 ç½‘ç»œä»£ç†å’Œè´Ÿè½½å‡è¡¡å™¨ï¼Œå…¶ä¸­ iptables ä½œä¸ºå¼€ç®±å³ç”¨çš„é»˜è®¤è®¾ç½®ã€‚</description></item><item><title>kubeadm install k8s</title><link>https://www.ryken.cloud/kubeadm-install-k8s/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kubeadm-install-k8s/</guid><description>ubuntu å®‰è£… kubernetes 1. å®‰è£… docker å®‰è£…dockerï¼š
curl -sSL https://get.daocloud.io/docker | sh curl -fsSL https://get.docker.com | bash -s docker &amp;ndash;mirror Aliyun 2.</description></item><item><title>kubernetes nodeipam å®ç°åŸç†</title><link>https://www.ryken.cloud/nodeIPAM-%E6%BA%90%E7%A0%81/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/nodeIPAM-%E6%BA%90%E7%A0%81/</guid><description>kubernetes nodeipam å®ç°åŸç† åŸæ–‡æ¡£é“¾æ¥ï¼š notes/kubernetes_nodeipam_controller_code.md at main Â· rfyiamcool/notes (github.com)
åŸºäº kubernetes v1.27.0 ç‰ˆæœ¬å¯¹ nodeipam controller æºç åˆ†æ</description></item><item><title>nodeIPAM</title><link>https://www.ryken.cloud/nodeIPAM/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/nodeIPAM/</guid><description>ä¸‹é¢ä¸º kube-controller-manager 1.25.3 çš„å¯åŠ¨å‘½ä»¤ï¼Œå¯ä»¥çœ‹å‡º cluster-cidr æŒ‡å®šäº† podCIDRsï¼Œnode-cidr-mask-size ç”¨äºæŒ‡å®š cluster-cidr çš„åˆ†å—å¤§å°ï¼Œservice-cluster-ip-range ç”¨äºæŒ‡å®š serviceCIDR
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 - kube-controller-manager- --allocate-node-cidrs=true- --authentication-kubeconfig=/etc/kubernetes/controller-manager.</description></item><item><title>Nodelocaldns åŸç†</title><link>https://www.ryken.cloud/3.-Nodelocaldns-%E5%8E%9F%E7%90%86/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/3.-Nodelocaldns-%E5%8E%9F%E7%90%86/</guid><description>NodeLocal DNS æ˜¯ä»€ä¹ˆï¼Ÿ é€šè¿‡åœ¨é›†ç¾¤èŠ‚ç‚¹ä¸Šè¿è¡Œä¸€ä¸ª DaemonSet æ¥æé«˜ clusterDNS æ€§èƒ½å’Œå¯é æ€§ã€‚
å¤„äº ClusterFirst çš„ DNS æ¨¡å¼ä¸‹çš„ Pod å¯ä»¥è¿æ¥åˆ° kube-dns çš„ serviceIP è¿›è¡Œ DNS æŸ¥è¯¢ã€‚é€šè¿‡ kube-proxy ç»„ä»¶æ·»åŠ çš„ iptables è§„åˆ™å°†å…¶è½¬æ¢ä¸º CoreDNS ç«¯ç‚¹ã€‚é€šè¿‡åœ¨æ¯ä¸ªé›†ç¾¤èŠ‚ç‚¹ä¸Šè¿è¡Œ DNS ç¼“å­˜ï¼ŒNodeLocal DNSCache å¯ä»¥ç¼©çŸ­ DNS æŸ¥æ‰¾çš„å»¶è¿Ÿæ—¶é—´ã€ä½¿ DNS æŸ¥æ‰¾æ—¶é—´æ›´åŠ ä¸€è‡´ï¼Œä»¥åŠå‡å°‘å‘é€åˆ° kube-dns çš„ DNS æŸ¥è¯¢æ¬¡æ•°ã€‚</description></item><item><title>perf æ€§èƒ½åˆ†æ</title><link>https://www.ryken.cloud/perf-%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/perf-%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90/</guid><description>[[ç½‘å¡å¤šé˜Ÿåˆ— + ä¸­æ–­ç»‘å®š]]
Wiki - Linux æ•ˆèƒ½åˆ†æå·¥å…·: Perf (ncku.edu.tw) ç½‘ç»œæµ‹è¯•å·¥å…· ä¸€ã€iperf iperfæ˜¯ä¸€ä¸ªç½‘ç»œæ€§èƒ½æµ‹è¯•å·¥å…·ã€‚iperfå¯ä»¥æµ‹è¯•TCPå’ŒUDPå¸¦å®½è´¨é‡ã€‚iperfå¯ä»¥æµ‹é‡æœ€å¤§TCPå¸¦å®½ï¼Œå…·æœ‰å¤šç§å‚æ•°å’ŒUDPç‰¹æ€§ã€‚iperfå¯ä»¥æŠ¥å‘Šå¸¦å®½ï¼Œå»¶è¿ŸæŠ–åŠ¨å’Œæ•°æ®åŒ…ä¸¢å¤±ã€‚åˆ©ç”¨iperfè¿™ä¸€ç‰¹æ€§ï¼Œå¯ä»¥ç”¨æ¥æµ‹è¯•ä¸€äº›ç½‘ç»œè®¾å¤‡å¦‚è·¯ç”±å™¨ï¼Œé˜²ç«å¢™ï¼Œäº¤æ¢æœºç­‰çš„æ€§èƒ½ã€‚
æœåŠ¡ç«¯10.74.148.74å¯åŠ¨iperf3ï¼Œç›‘å¬ç«¯å£12345ï¼Œè¯·æ±‚é—´æ–­æ—¶é—´1s ~#Â iperf3Â -sÂ -pÂ 12345Â -iÂ 1 å®¢æˆ·ç«¯å‘10.</description></item><item><title>Pod</title><link>https://www.ryken.cloud/Pod/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Pod/</guid><description>Podæ˜¯Kubernetesæœ€é‡è¦çš„åŸºæœ¬æ¦‚å¿µï¼Œæ¯ä¸ªPodéƒ½æœ‰ä¸€ä¸ªç‰¹æ®Šçš„è¢«ç§°ä¸ºâ€œæ ¹å®¹å™¨â€çš„Pauseå®¹å™¨ã€‚é™¤äº†Pauseå®¹å™¨ï¼Œæ¯ä¸ªPodè¿˜åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªç´§å¯†ç›¸å…³çš„ç”¨æˆ·ä¸šåŠ¡å®¹å™¨ã€‚ pause å®¹å™¨ï¼š å¼•å…¥ä¸šåŠ¡æ— å…³å¹¶ä¸”ä¸æ˜“æ­»äº¡çš„Pauseå®¹å™¨ä½œä¸ºPodçš„æ ¹å®¹å™¨ï¼Œä»¥å®ƒçš„çŠ¶æ€ä»£è¡¨æ•´ä¸ªå®¹å™¨ç»„çš„çŠ¶æ€ã€‚ Podé‡Œçš„å¤šä¸ªä¸šåŠ¡å®¹å™¨å…±äº«Pauseå®¹å™¨çš„IPï¼Œå…±äº«Pauseå®¹å™¨æŒ‚æ¥çš„Volumeï¼Œè¿™æ ·æ—¢ç®€åŒ–äº†å¯†åˆ‡å…³è”çš„ä¸šåŠ¡å®¹å™¨ä¹‹é—´çš„é€šä¿¡é—®é¢˜ï¼Œä¹Ÿå¾ˆå¥½åœ°è§£å†³äº†å®ƒä»¬ä¹‹é—´çš„æ–‡ä»¶å…±äº«é—®é¢˜ã€‚ Podçš„ç½‘ç»œï¼š Kubernetesä¸ºæ¯ä¸ªPodéƒ½åˆ†é…äº†å”¯ä¸€çš„IPåœ°å€ï¼Œç§°ä¹‹ä¸ºPod IPã€‚
Podå†…ç½‘ç»œï¼šä¸€ä¸ªPodé‡Œçš„å¤šä¸ªå®¹å™¨å…±äº«Pod IPåœ°å€ã€‚ Podé—´ç½‘ç»œï¼šä¸€ä¸ªPodé‡Œçš„å®¹å™¨ä¸å¦å¤–ä¸»æœºä¸Šçš„Podå®¹å™¨èƒ½å¤Ÿç›´æ¥é€šä¿¡ã€‚å› ä¸ºKubernetesè¦æ±‚åº•å±‚ç½‘ç»œæ”¯æŒé›†ç¾¤å†…ä»»æ„ä¸¤ä¸ªPodä¹‹é—´çš„TCP/IPç›´æ¥é€šä¿¡ï¼Œè¿™é€šå¸¸é‡‡ç”¨è™šæ‹ŸäºŒå±‚ç½‘ç»œæŠ€æœ¯æ¥å®ç°ï¼Œä¾‹å¦‚Flannelã€Open vSwitchç­‰ã€‚ Podç±»å‹ é™æ€Podï¼šå¹¶æ²¡è¢«å­˜æ”¾åœ¨Kubernetesçš„etcdå­˜å‚¨é‡Œï¼Œè€Œæ˜¯è¢«å­˜æ”¾åœ¨æŸä¸ªå…·ä½“çš„Nodeä¸Šçš„ä¸€ä¸ªå…·ä½“æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”åªåœ¨æ­¤Nodeä¸Šå¯åŠ¨ã€è¿è¡Œã€‚ æ™®é€šPodï¼šä¸€æ—¦è¢«åˆ›å»ºï¼Œå°±ä¼šè¢«æ”¾å…¥etcdä¸­å­˜å‚¨ï¼Œéšåä¼šè¢«Kubernetes Masterè°ƒåº¦åˆ°æŸä¸ªå…·ä½“çš„Nodeä¸Šå¹¶è¿›è¡Œç»‘å®šï¼Œéšåè¯¥Podè¢«å¯¹åº”çš„Nodeä¸Šçš„kubeletè¿›ç¨‹å®ä¾‹åŒ–æˆä¸€ç»„ç›¸å…³çš„Dockerå®¹å™¨å¹¶å¯åŠ¨ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“Podé‡Œçš„æŸä¸ªå®¹å™¨åœæ­¢æ—¶ï¼ŒKubernetesä¼šè‡ªåŠ¨æ£€æµ‹åˆ°è¿™ä¸ªé—®é¢˜å¹¶ä¸”é‡æ–°å¯åŠ¨è¿™ä¸ªPodï¼ˆé‡å¯Podé‡Œçš„æ‰€æœ‰å®¹å™¨ï¼‰ï¼Œå¦‚æœPodæ‰€åœ¨çš„Nodeå®•æœºï¼Œå°±ä¼šå°†è¿™ä¸ªNodeä¸Šçš„æ‰€æœ‰Podé‡æ–°è°ƒåº¦åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šã€‚ å›¾Podã€å®¹å™¨ä¸Nodeçš„å…³ç³»</description></item><item><title>Q&amp;A æ¢ç´¢</title><link>https://www.ryken.cloud/QA-%E6%8E%A2%E7%B4%A2/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/QA-%E6%8E%A2%E7%B4%A2/</guid><description>ipam + æ•°æ®æµå‘ å¦‚ä½•é…ç½® container network overlay - native route bgp - CiliumBGPPeeringPolicy
kube-proxy æ›¿æ¢ 1.13 ç‰ˆæœ¬
https://docs.cilium.io/en/stable/network/kubernetes/kubeproxy-free/ 1.14 ç‰ˆæœ¬</description></item><item><title>SDN ç½‘ç»œ</title><link>https://www.ryken.cloud/SDN-%E7%BD%91%E7%BB%9C/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/SDN-%E7%BD%91%E7%BB%9C/</guid><description>ASW ï¼ˆæ¥å…¥å±‚äº¤æ¢æœºï¼‰æ•°æ®äº¤æ¢æ¨¡å—æ¥å…¥äº¤æ¢æœºï¼Œæ¥å…¥äº‘æœåŠ¡å™¨ï¼Œä¸Šè¡Œäº’è”æ ¸å¿ƒäº¤æ¢æœºDSWã€‚ DSW ï¼ˆåˆ†å¸ƒå±‚äº¤æ¢æœºï¼‰ï¼šæ ¸å¿ƒäº¤æ¢æœºï¼Œç”¨äºè¿æ¥å„ä¸ªASWæ¥å…¥äº¤æ¢æœºã€‚ CSW ï¼ˆå†…ç½‘æ¥å…¥äº¤æ¢æœºï¼‰ï¼šæ¥å…¥ç”¨æˆ·å†…ç½‘éª¨å¹²ï¼Œå®ç°äº‘ç½‘ç»œå†…å¤–éƒ¨çš„è·¯ç”±åˆ†å‘äº¤äº’ï¼ŒåŒ…æ‹¬VPCä¸“çº¿æ¥å…¥ã€‚CSWå¯ä»¥å®ç°ä¸“çº¿ä¾§åˆ°XGWçš„VxLANå°è£…ã€‚ LSW ï¼ˆç»¼åˆæ¥å…¥äº¤æ¢æœºï¼‰ç»¼åˆæ¥å…¥æ¨¡å—,äº‘äº§å“æœåŠ¡æ¥å…¥äº¤æ¢æœºï¼Œä¸»è¦æä¾›VPCå’ŒSLBç­‰æœåŠ¡ã€‚å„ç±»äº‘äº§å“æœåŠ¡å™¨ï¼ˆXGW/SLB/OPSï¼‰åˆ†åˆ«ä¸ä¸¤å°LSWäº’è”ï¼Œé€šè¿‡OSPFäº¤æ¢è·¯ç”±ä¿¡æ¯ï¼›ä¸¤å°LSWä¹‹é—´é€šè¿‡iBGPäº¤äº’è·¯ç”±ä¿¡æ¯ï¼›LSWä¸DSWã€CSWä¹‹é—´é€šè¿‡eBGPäº¤æ¢è·¯ç”±ä¿¡æ¯ã€‚ äº‘è®¡ç®—ç½‘ç»œ ASW DSW CSW LSW - zzzzy09 - åšå®¢å›­ (cnblogs.</description></item><item><title>servicemesh</title><link>https://www.ryken.cloud/servicemesh/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/servicemesh/</guid><description>https://isovalent.com/blog/post/cilium-service-mesh/ What is Cilium Service Mesh? - Interview with Thomas Graf on eCHO Livestream (youtube.com)
éšç€åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºçš„å¼•å…¥ï¼Œé¢å¤–çš„å¯è§æ€§ã€è¿æ¥æ€§å’Œå®‰å…¨æ€§è¦æ±‚ä¹Ÿéšä¹‹æµ®ç°ã€‚ åº”ç”¨ç¨‹åºç»„ä»¶é€šè¿‡ä¸å—ä¿¡ä»»çš„ç½‘ç»œè·¨äº‘å’Œæœ¬åœ°è¾¹ç•Œè¿›è¡Œé€šä¿¡ï¼Œéœ€è¦è´Ÿè½½å¹³è¡¡æ¥ç†è§£åº”ç”¨ç¨‹åºåè®®ï¼Œå¼¹æ€§å˜å¾—è‡³å…³é‡è¦ï¼Œå¹¶ä¸”å®‰å…¨æ€§å¿…é¡»å‘å±•åˆ°å‘é€è€…å’Œæ¥æ”¶è€…å¯ä»¥éªŒè¯å½¼æ­¤èº«ä»½çš„æ¨¡å‹ã€‚åœ¨åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºçš„æ—©æœŸï¼Œè¿™äº›éœ€æ±‚æ˜¯é€šè¿‡å°†æ‰€éœ€çš„é€»è¾‘ç›´æ¥åµŒå…¥åˆ°åº”ç”¨ç¨‹åºä¸­æ¥è§£å†³çš„ã€‚ æœåŠ¡ç½‘æ ¼ä»åº”ç”¨ç¨‹åºä¸­æå–è¿™äº›åŠŸèƒ½ï¼Œå¹¶å°†å®ƒä»¬ä½œä¸ºåŸºç¡€è®¾æ–½çš„ä¸€éƒ¨åˆ†æä¾›ç»™æ‰€æœ‰åº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œå› æ­¤ä¸å†éœ€è¦æ›´æ”¹æ¯ä¸ªåº”ç”¨ç¨‹åºã€‚
å¼¹æ€§è¿æ¥ æœåŠ¡é—´é€šä¿¡å¿…é¡»èƒ½å¤Ÿè·¨è¶Šäº‘ã€é›†ç¾¤å’Œåœºæ‰€ç­‰è¾¹ç•Œã€‚é€šä¿¡å¿…é¡»å…·æœ‰å¼¹æ€§å’Œå®¹é”™èƒ½åŠ›</description></item><item><title>Submariner</title><link>https://www.ryken.cloud/Submariner/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Submariner/</guid><description>Submariner (rancher.cn)
å®‰è£…ï¼š
subctlï¼š curl -Ls https://get.submariner.io | bash è‡ªå®šä¹‰ crd ä»¥åŠä½œç”¨
éƒ¨ç½² broker
åŠ å…¥é›†ç¾¤</description></item><item><title>tc</title><link>https://www.ryken.cloud/tc/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/tc/</guid><description>tc ebpf çš„ direct-action (da) æ¨¡å¼ï¼š( https://arthurchiao.art/blog/understanding-tc-da-mode-zh/)
ç”¨ä½œ action æ—¶ï¼ŒeBPF ç¨‹åºçš„è¿”å›å€¼ æç¤ºç³»ç»Ÿæ¥ä¸‹æ¥å¯¹è¿™ä¸ªåŒ…æ‰§è¡Œä»€ä¹ˆåŠ¨ä½œï¼Œä¸‹é¢çš„å†…å®¹æ¥è‡ªÂ tc-bpf(8)ï¼š
TC_ACT_OK (0)ï¼šç»“æŸå¤„ç†è¿‡ç¨‹ï¼Œæ”¾è¡Œï¼ˆallows the packet to proceedï¼‰ã€‚ TC_ACT_SHOT (2)ï¼š==ä¸¢å¼ƒåŒ…==ã€‚ TC_ACT_UNSPEC (-1)ï¼šä½¿ç”¨ tc çš„é»˜è®¤ actionï¼ˆä¸ classifier/filter è¿”å›Â -1Â æ—¶ç±»ä¼¼ï¼‰ã€‚ TC_ACT_PIPE (3)ï¼šå¦‚æœæœ‰ä¸‹ä¸€ä¸ª actionï¼Œæ‰§è¡Œä¹‹ã€‚ TC_ACT_RECLASSIFY (1)ï¼šä»å¤´å¼€å§‹ï¼Œé‡æ–°æ‰§è¡Œåˆ†ç±»è¿‡ç¨‹ã€‚ å…¶ä»–å€¼ï¼šå®šä¹‰åœ¨Â include/uapi/linux/pkt_cls.</description></item><item><title>TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹</title><link>https://www.ryken.cloud/TCP%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%92%8C%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/TCP%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%92%8C%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/</guid><description>TCPä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ å¤§é‡çš„ TIME_WAIT çŠ¶æ€ TCP è¿æ¥å­˜åœ¨ï¼Œå…¶æœ¬è´¨åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ å¤§é‡çš„çŸ­è¿æ¥å­˜åœ¨ ç‰¹åˆ«æ˜¯ HTTP è¯·æ±‚ä¸­ï¼Œå¦‚æœ connection å¤´éƒ¨å–å€¼è¢«è®¾ç½®ä¸º close æ—¶ï¼ŒåŸºæœ¬éƒ½ç”±ã€ŒæœåŠ¡ç«¯ã€å‘èµ·ä¸»åŠ¨å…³é—­è¿æ¥ è€Œï¼ŒTCP å››æ¬¡æŒ¥æ‰‹å…³é—­è¿æ¥æœºåˆ¶ä¸­ï¼Œä¸ºäº†ä¿è¯ ACK é‡å‘å’Œä¸¢å¼ƒå»¶è¿Ÿæ•°æ®ï¼Œè®¾ç½® time_wait ä¸º 2 å€çš„ MSLï¼ˆæŠ¥æ–‡æœ€å¤§å­˜æ´»æ—¶é—´ï¼‰ TIME_WAIT çŠ¶æ€ï¼š</description></item><item><title>webhook</title><link>https://www.ryken.cloud/webhook/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/webhook/</guid><description>åŠ¨æ€å‡†å…¥æ§åˆ¶æ’ä»¶
MutatingWebhookConfiguration ValidatingWebhookConfiguration k8s webhookå‡†å…¥æ§åˆ¶æ’ä»¶æºç çº§åˆ«ç†è§£-æ³¨å…¥sidecar - çŸ¥ä¹ (zhihu.com)
openelb webhook ä½¿ç”¨ kube-webhook-certgen port-allocator webhook ä½¿ç”¨ cert-manager
ksä½¿ç”¨ helm</description></item><item><title>ä¸€ä¸ªç®€å•çš„ä¾‹å­</title><link>https://www.ryken.cloud/%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BE%8B%E5%AD%90/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BE%8B%E5%AD%90/</guid><description>ä¸€ä¸ªè¿è¡Œåœ¨Tomcaté‡Œçš„Web Appï¼ŒJSPé¡µé¢é€šè¿‡JDBCç›´æ¥è®¿é—®MySQLæ•°æ®åº“å¹¶å±•ç¤ºæ•°æ®ã€‚è¯¥ä¾‹å­åªè¦ç¨‹åºæ­£ç¡®è¿æ¥åˆ°äº†æ•°æ®åº“ï¼Œå°±ä¼šè‡ªåŠ¨å®Œæˆå¯¹åº”çš„è¡¨çš„åˆ›å»ºä¸åˆå§‹åŒ–æ•°æ®çš„å‡†å¤‡å·¥ä½œã€‚æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬é€šè¿‡æµè§ˆå™¨è®¿é—®æ­¤åº”ç”¨æ—¶ï¼Œå°±ä¼šæ˜¾ç¤ºä¸€ä¸ªè¡¨æ ¼çš„é¡µé¢ï¼Œæ•°æ®åˆ™æ¥è‡ªæ•°æ®åº“ã€‚ å¯åŠ¨ä¸¤ä¸ªå®¹å™¨ï¼šWeb Appå®¹å™¨å’ŒMySQLå®¹å™¨ï¼Œå¹¶ä¸”Web Appå®¹å™¨éœ€è¦è®¿é—®MySQLå®¹å™¨ã€‚åœ¨Dockeræ—¶ä»£ï¼Œå‡è®¾æˆ‘ä»¬åœ¨ä¸€ä¸ªå®¿ä¸»æœºä¸Šå¯åŠ¨äº†è¿™ä¸¤ä¸ªå®¹å™¨ï¼Œå°±éœ€è¦æŠŠMySQLå®¹å™¨çš„IPåœ°å€é€šè¿‡ç¯å¢ƒå˜é‡æ³¨å…¥Web Appå®¹å™¨é‡Œï¼›åŒæ—¶ï¼Œéœ€è¦å°†Web Appå®¹å™¨çš„8080ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºçš„8080ç«¯å£ï¼Œä»¥ä¾¿åœ¨å¤–éƒ¨è®¿é—®ã€‚
åˆ›å»ºmysqlæœåŠ¡ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 apiVersion:v1kind:ReplicationControllermetadata:name:mysqlspec:replicas:1selector:app:mysqltemplate:metadata:labels:app:mysqlspec:containers:- name:mysqlimage:mysql:5.</description></item><item><title>ä¼˜åŒ–æ€»è§ˆ</title><link>https://www.ryken.cloud/%E4%BC%98%E5%8C%96%E6%80%BB%E8%A7%88/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E4%BC%98%E5%8C%96%E6%80%BB%E8%A7%88/</guid><description>è™šæ‹ŸåŒ–å¸¦æ¥äº†çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ï¼Œä½†åŒæ—¶ä¹Ÿä¼´éšç€ä¸€äº›æ€§èƒ½ä¸Šçš„æŸå¤±ï¼›ç‰¹åˆ«æ˜¯åœ¨ç½‘ç»œæ€§èƒ½ä¸Šï¼Œè®©å®¹å™¨ç½‘ç»œæ€§èƒ½ç›¸æ¯”ä¸»æœºç½‘ç»œæ€§èƒ½å¤§å¹…ä¸‹é™äº† 35%ã€‚
å›é¡¾ä¸€ä¸‹æ ‡å‡† Kubernetes ç½‘ç»œæ•°æ®è·¯å¾„æ¶æ„å¸¦æ¥çš„ä¸€äº›é™åˆ¶ä»¥åŠ Cilium å¦‚ä½•è§£å†³è¿™äº›é™åˆ¶
Kube-proxy æ›¿æ¢ Kube-Proxy å°†é€šè¿‡ iptables æˆ– ipvs ç³»ç»Ÿå¤„ç† NAT å’Œ services è´Ÿè½½å¹³è¡¡
é™åˆ¶</description></item><item><title>ä½¿ç”¨ containerlab + kind æ­å»º calico-tor</title><link>https://www.ryken.cloud/%E4%BD%BF%E7%94%A8-containerlab-+-kind-%E6%90%AD%E5%BB%BA-calico-tor/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E4%BD%BF%E7%94%A8-containerlab-+-kind-%E6%90%AD%E5%BB%BA-calico-tor/</guid><description>1. ä½¿ç”¨ kind åˆ›å»º node èŠ‚ç‚¹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 kind:Clustername:clusterapiVersion:kind.</description></item><item><title>å…‰å¤§ç›‘æ§éœ€æ±‚æ•´ç†</title><link>https://www.ryken.cloud/%E5%85%89%E5%A4%A7%E7%9B%91%E6%8E%A7%E9%9C%80%E6%B1%82%E6%95%B4%E7%90%86/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%85%89%E5%A4%A7%E7%9B%91%E6%8E%A7%E9%9C%80%E6%B1%82%E6%95%B4%E7%90%86/</guid><description>éœ€æ±‚æ•´ç† ç½‘ç»œç›‘æ§çš„è‡ªè¯ï¼Œä»ç›‘æ§å’Œæ—¥å¿—ä¸Šç»™è¯æ®ã€‚(å¸¦å®½ã€ååç‡ã€å»¶è¿Ÿã€æŠ–åŠ¨ã€é”™è¯¯çš„ç›‘æ§) ç½‘ç»œé”™è¯¯åã€ä¸šåŠ¡çš„å¿«é€Ÿæ¢å¤ã€‚æ–¹æ¡ˆä¸Šå¯ä»¥åˆ‡æ¢é›†ç¾¤ã€ç½‘ç»œè‡ªä¿®å¤ç­‰ã€‚(å¿«é€Ÿæ¢å¤ç¯å¢ƒçš„æœ€ä½³å®è·µæ–‡æ¡£) æ–‡æ¡£ç»†åŒ– æ–‡æ¡£ word åŒ–ï¼Œè„‘å›¾ + åˆ†ææ­¥éª¤ è„‘å›¾ä¸­ä¸€äº›è¯´æ˜è¡¥å……ä¸ºå‘½ä»¤çš„æŒ‡å¯¼(å¦‚å››å±‚çš„ç½‘ç»œæ£€æµ‹æ€ä¹ˆåšï¼Œncå‘½ä»¤çš„ç®€è¦è¯´æ˜) æ•°æ®çš„é‡‡é›†ã€æ—¥å¿—çš„é‡‡é›†(ä¸€é”®æ”¶é›†æ—¥å¿—çš„è„šæœ¬) [é•¿æœŸ] äº‘ä¸Šç½‘ç»œç›‘æ§çš„æ•´ä½“è§„åˆ’ï¼Œä¸ä¾èµ–å…·ä½“cniã€‚ KSE 4.</description></item><item><title>å…±äº«Podçº§ volume</title><link>https://www.ryken.cloud/%E5%85%B1%E4%BA%ABPod%E7%BA%A7-volume/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%85%B1%E4%BA%ABPod%E7%BA%A7-volume/</guid><description>åœ¨Podå†…åŒ…å«ä¸¤ä¸ªå®¹å™¨ï¼štomcatå’Œbusyboxï¼Œåœ¨Podçº§åˆ«è®¾ç½®Volumeâ€œapp-logsâ€ï¼Œç”¨äºtomcatå‘å…¶ä¸­å†™æ—¥å¿—æ–‡ä»¶ï¼Œbusyboxè¯»æ—¥å¿—æ–‡ä»¶ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 apiVersion:v1kind:Podmetadata:name:volume-podspec:containers:- name:tomcatimage:kubeguide/tomcat-app:v1ports:- containerPort:8080volumeMounts:- name:app-logsmountPath:/usr/local/tomcat/logs- name:Ubuntuimage:Ubuntu:latestcommand:[&amp;#34;sh&amp;#34;,&amp;#34;-c&amp;#34;,&amp;#34;tail -f /logs/catalina*.</description></item><item><title>å†…æ ¸å‚æ•°</title><link>https://www.ryken.cloud/%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0/</guid><description>ipvs warn å…³é—­ - å½“ipvsè¿ä¸ä¸Šåç«¯æ—¶ä¼šæ‰“å°ç›¸å…³çš„æŠ¥é”™ä¿¡æ¯ sysctl -w net.ipv4.vs.ignore_no_rs_error=1 IPVS no destination available - Kubernetes å®è·µæŒ‡å— (imroc.cc)</description></item><item><title>å¦‚ä½•æœ¬æœº debug Cilium</title><link>https://www.ryken.cloud/%E5%A6%82%E4%BD%95%E6%9C%AC%E6%9C%BA-debug-Cilium/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%A6%82%E4%BD%95%E6%9C%AC%E6%9C%BA-debug-Cilium/</guid><description>å¼€å‘è€…æ–‡æ¡£ï¼š https://docs.cilium.io/en/stable/contributing/development/
ä½¿ç”¨ kind make kindï¼šæ ¹æ®ä¼ é€’çš„å‚æ•°åˆ›å»ºä¸€ä¸ª kind é›†ç¾¤ make kind-downï¼šå…³é—­å¹¶åˆ é™¤ kind é›†ç¾¤
makeÂ kind-image: æ„å»ºæ‰€æœ‰çš„ Cilium é•œåƒå¹¶å°†å…¶åŠ è½½åˆ°é›†ç¾¤ä¸­ makeÂ kind-image-agent: ä»…æ„å»º Cilium Agent é•œåƒå¹¶å°†å…¶åŠ è½½åˆ°é›†ç¾¤ä¸­ makeÂ kind-image-operator: ä»…æ„å»º Cilium Operator (generic) é•œåƒå¹¶å°†å…¶åŠ è½½åˆ°é›†ç¾¤ä¸­ makeÂ kind-debug: æ„å»ºç¦ç”¨ä¼˜åŒ–å¹¶åµŒå…¥ dlv ä»¥è¿›è¡Œå®æ—¶è°ƒè¯•çš„æ‰€æœ‰ Cilium é•œåƒå¹¶å°†å…¶åŠ è½½åˆ°é›†ç¾¤ä¸­ makeÂ kind-debug-agent: åƒÂ kind-debug, ä½†åªé’ˆå¯¹cilium agent.</description></item><item><title>å®˜æ–¹ç¤ºä¾‹</title><link>https://www.ryken.cloud/%E5%AE%98%E6%96%B9%E7%A4%BA%E4%BE%8B/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%AE%98%E6%96%B9%E7%A4%BA%E4%BE%8B/</guid><description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 kubeProxyReplacement:truek8sServiceHost:kind-control-planek8sServicePort:6443operator:# only 1 replica needed on a single node setupreplicas:1prometheus:enabled:trueserviceMonitor:enabled:truehubble:relay:# enable relay in 02# enabled: trueservice:type:NodePortprometheus:enabled:trueserviceMonitor:enabled:truemetrics:serviceMonitor:enabled:trueenableOpenMetrics:trueenabled:- dns- drop- tcp- icmp- &amp;#34;flow:sourceContext=workload-name|reserved-identity;destinationContext=workload-name|reserved-identity&amp;#34;- &amp;#34;kafka:labelsContext=source_namespace,source_workload,destination_namespace,destination_workload,traffic_direction;sourceContext=workload-name|reserved-identity;destinationContext=workload-name|reserved-identity&amp;#34;- &amp;#34;httpV2:exemplars=true;labelsContext=source_ip,source_namespace,source_workload,destination_ip,destination_namespace,destination_workload,traffic_direction;sourceContext=workload-name|reserved-identity;destinationContext=workload-name|reserved-identity&amp;#34;dashboards:enabled:truenamespace:monitoringannotations:grafana_folder:&amp;#34;Hubble&amp;#34;ui:# enable UI in 02# enabled: trueservice:type:NodePortprometheus:enabled:trueserviceMonitor:enabled:true å››ä¸ªç¯å¢ƒä¿¡å·</description></item><item><title>æ•°å­—èŠ±å›­æ¥å†</title><link>https://www.ryken.cloud/%E6%88%91%E7%9A%84%E6%95%B0%E5%AD%97%E8%8A%B1%E5%9B%AD%E6%9D%A5%E5%8E%86/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%88%91%E7%9A%84%E6%95%B0%E5%AD%97%E8%8A%B1%E5%9B%AD%E6%9D%A5%E5%8E%86/</guid><description>ä»…ä¸ºä¸ªäººçœ‹æ³•ï¼Œä¸å–œå‹¿å–·ï¼Œè°¢è°¢ï¼ï¼ï¼è‹¥æœ‰ä¾µçŠ¯åˆ°ä½ ï¼Œçº¯å±å¶ç„¶ï¼Œè¯·è”ç³»æˆ‘åˆ é™¤ã€‚
çœ‹äº†è¿™ç¯‡ ã€Šè¯­é›€å›°ä½äº†å¤šå°‘äººã€‹æœ‰æ„Ÿï¼Œæ¥è®²è®²æˆ‘å’Œè¯­é›€çš„äº¤é›†ã€‚
ä¹‹å‰æˆ‘ä¸€ç›´ä½¿ç”¨çš„ç¬”è®°è½¯ä»¶æ˜¯OneNoteï¼Œå®ƒçš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œä¸€å—ç”»å¸ƒå¯ä»¥æ— é™æ”¾å¤§ï¼Œæ”¯æŒå›¾ç‰‡ã€æ–‡ä»¶ã€ç»˜å›¾ã€å½•éŸ³ç­‰å„ç§å†…å®¹çš„æ’å…¥ã€‚ä½†æ˜¯åŒæ­¥å’Œå…±äº«æ–¹é¢å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œé€Ÿåº¦ä¹Ÿæ¯”è¾ƒæ…¢ã€‚åæ¥äº†è§£åˆ°äº†è¯­é›€ï¼Œå¹¶é€æ­¥å°†ç¬”è®°å¢é‡è®°å½•åˆ°è¯­é›€ä¸Š(ä¸å¾—ä¸è¯´è¯­é›€çš„çŸ¥è¯†åº“ç®¡ç†è¿˜æ˜¯å¯ä»¥çš„)ã€‚ç›´åˆ°2022å¹´10æœˆä»½å·¦å³ï¼Œè¯­é›€æ¨å‡ºäº†ä¸€ä¸ªä»˜è´¹è®¡åˆ’ã€‚å½“ç¬”è®°æ•°é‡è¶…è¿‡100ç¯‡æ—¶å°±éœ€è¦æ”¶è´¹ã€‚å½“æ—¶æœ‰å¾ˆå¤šç”¨æˆ·çš„ç¬”è®°æ•°é‡å·²ç»è¶…è¿‡äº†è¿™ä¸ªæ•°å­—ï¼Œä¹Ÿä¸å¾—ä¸è¯´è¯­é›€è¿™æ³¢è°ƒæ•´åƒç›¸éš¾çœ‹ã€‚è¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œè¯­é›€é‡æ–°è°ƒæ•´äº†æ”¶è´¹æ ‡å‡†ï¼Œæ™®é€šç”¨æˆ·ä¸€ä¸ªæœˆå¯ä»¥åˆ›å»º100ç¯‡æ–‡ç« ï¼ŒçŸ¥è¯†åº“ä¸Šé™æ˜¯10ç¯‡ï¼Œä¸”ä¸èƒ½å…¬å¼€å…±äº«çŸ¥è¯†åº“ã€‚åˆšå¼€å§‹ä¼šé€šè¿‡ä¸€äº›æ´»åŠ¨å…è´¹èµ é€3ä¸ªæœˆæˆ–6ä¸ªæœˆçš„ä¼šå‘˜èµ„æ ¼ï¼Œç­‰ç”¨æˆ·é€æ¸æ¥å—åå¼€å§‹æ­£å¸¸æ”¶è´¹æ¥è´­ä¹°ä¼šå‘˜äº†ã€‚
è¯­é›€ä¸ªäººå®šä»·è°ƒæ•´çš„è‡´æ­‰ è¯­é›€ä¸ªäººç‰ˆæ–°å®šä»·çš„ç»†åˆ™å’Œæ€è€ƒ ä¸è¿‡åœ¨ä»–ç¬¬ä¸€æ¬¡è°ƒæ•´æ”¶è´¹æ ‡å‡†çš„æ—¶å€™ï¼Œæˆ‘å°±å·²ç»ä¸‹å®šå†³å¿ƒæ¢ç”¨å…¶ä»–çš„è½¯ä»¶äº†ï¼Œå› ä¸ºæˆ‘ä¹‹å‰ä¸çŸ¥é“ä»å“ªé‡Œäº†è§£åˆ°è¯­é›€ä¼šå¼€æºï¼Œä½†æ˜¯è¯­é›€çš„è¡ŒåŠ¨å‘Šè¯‰æˆ‘ä»–è¦æ”¶è´¹äº†ï¼Œè¿™ä¸ªè½å·®æœ‰ç‚¹å¤§ã€‚âŠ™_âŠ™ ç®—äº†ç®—äº†
ç¡®å®å…¬å¸ä¹Ÿæ˜¯è¦åƒé¥­çš„ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å–œæ¬¢ç™½å«–ï¼Œå¦‚äºæ˜¯ä¹å°±å¼€å§‹æ‰¾ä¸€äº›å®¹é”™ç‡é«˜ã€æ–¹ä¾¿è¿ç§»ã€æ–¹ä¾¿å…±äº«ã€é£æ ¼ç±»ä¼¼çš„ç¬”è®°è½¯ä»¶ä»¥åŠå‘å¸ƒå¹³å°ã€‚
å…¶å®æˆ‘ä¸€ç›´æƒ³æ­å»ºä¸€ä¸ªå±äºè‡ªå·±çš„ç¬”è®°åº“ï¼Œè€Œä¸æ˜¯åšå®¢é‚£ç§å½¢å¼ã€‚ç›¸è¾ƒäºåšå®¢æ£€ç´¢ä¸å¤ªæ–¹ä¾¿ï¼Œæˆ‘æ›´å€¾å‘äºä½¿ç”¨ç¬”è®°åº“æˆ–æ•°å­—èŠ±å›­æ¥è®°å½•å’Œç®¡ç†ç¬”è®°ï¼Œå› ä¸ºå®ƒé‡‡ç”¨æ­£åé“¾çš„å…³ç³»å›¾ã€å‘æ•£çš„æ–¹å¼è¿›è¡Œç®¡ç†ã€‚è¿™ç§å…³ç³»å›¾æ›´èƒ½ç¬¦åˆæˆ‘å½“åˆè®°å½•ç¬”è®°æ—¶çš„åˆè¡·ã€‚å¹¶ä¸”åœ¨å‘å¸ƒå¾ˆä¹…ä¹‹åå›å¤´æŸ¥çœ‹ï¼Œå¯ä»¥å¾ˆå¿«åœ°æ‰¾åˆ°å½“åˆçš„é‚£ç§æ„Ÿè§‰ã€‚å¦å¤–ç¬”è®°åº“ä¹Ÿå¯ä»¥ä½¿ç”¨æ–‡ä»¶å¤¹çš„æ–¹å¼æ¥ç®¡ç†æ–‡æ¡£(ç±»ä¼¼å½’æ¡£)ï¼Œä½¿ç”¨ tag è¿›è¡Œåˆ†ç±»ã€‚
å¯¹äºæ•°å­—èŠ±å›­ï¼Œä½ å¯ä»¥å»ä»¥ä¸‹é“¾æ¥ä¸­äº†è§£æ›´å¤šä¿¡æ¯ï¼š</description></item><item><title>æ—¥å¿—</title><link>https://www.ryken.cloud/%E6%97%A5%E5%BF%97/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%97%A5%E5%BF%97/</guid><description>calico æ—¥å¿— calico ä¸»è¦è¿è¡Œç»„ä»¶ä¸ºï¼šcalico-node ä»¥åŠ calico-kube-controller-manager
calico-node ä¸»è¦æœ‰ felixã€birdã€cni å¯¹äº kube-controller-manager æ—¥å¿—æ²¡æœ‰ç‰¹æ®Šé…ç½® node å®ä¾‹çš„æ—¥å¿—ï¼š kubectl logs -n kube-system calico-node-xxxx</description></item><item><title>æœªå‘½å</title><link>https://www.ryken.cloud/mactap/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/mactap/</guid><description>mactap å’Œ macvlan ç›¸ä¼¼çš„æŠ€æœ¯è¿˜æœ‰ä¸€ç§æ˜¯ mactapã€‚å’Œ macvlan ä¸åŒçš„æ˜¯ï¼Œmactap æ”¶åˆ°åŒ…ä¹‹åä¸æ˜¯äº¤ç»™åè®®æ ˆï¼Œè€Œæ˜¯äº¤ç»™ä¸€ä¸ª tapX æ–‡ä»¶ï¼Œç„¶åé€šè¿‡è¿™ä¸ªæ–‡ä»¶ï¼Œå®Œæˆå’Œç”¨æˆ·æ€çš„ç›´æ¥é€šä¿¡ã€‚</description></item><item><title>æµ‹è¯•ç¯å¢ƒæ­å»º</title><link>https://www.ryken.cloud/%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</guid><description>psï¼šè·¯ç”±å™¨å¯ä»¥ä½¿ç”¨ vxnet-xxx å¹¶åˆ†é… 172.30.10.6/24ï¼ŒåŒæ—¶é…ç½® vpc ç«¯å£è½¬å‘åˆ° ssh ç«¯å£ï¼Œåœ¨é…ç½®å¥½ ssh ä¹‹åï¼Œå¯ä»¥æ–¹ä¾¿æ“ä½œ
ä½¿ç”¨è‡ªç®¡ç½‘ç»œä»¥åŠ vpc ç½‘ç»œæŒ‰ç…§ä»¥ä¸Šçš„ç½‘ç»œæ¶æ„è¿æ¥å¥½ã€‚ä¹‹åå¼€å§‹ä¸‹é¢çš„æ“ä½œï¼š
é€šè¿‡é…ç½® vpc ç«¯å£è½¬å‘ï¼Œå°†å…¬ç½‘çš„ä¸åŒç«¯å£è½¬å‘åˆ°å„ä¸ªèŠ‚ç‚¹çš„ ssh ç«¯å£ï¼Œå¹¶æ·»åŠ åˆ°å®‰å…¨ç»„ é…ç½®èŠ‚ç‚¹çš„ç¬¬äºŒå¼ ç½‘å¡ ipï¼Œæ­¤æ—¶ä½¿ç”¨ dhcp æ˜¯æ— æ³•æ­£å¸¸è·å–åˆ° ip çš„ï¼Œå› æ­¤éœ€è¦é…ç½®ä¸ºé™æ€ ipã€‚ ubuntu é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼šcat /etc/network/interfaces 1 2 3 4 5 6 7 8 9 10 11 12 13 14 # interfaces(5) file used by ifup(8) and ifdown(8) # Include files from /etc/network/interfaces.</description></item><item><title>ç‰©ç†ç½‘ç»œæ¶æ„</title><link>https://www.ryken.cloud/%E7%89%A9%E7%90%86%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%89%A9%E7%90%86%E7%BD%91%E7%BB%9C%E6%9E%B6%E6%9E%84/</guid><description>é’ˆå¯¹ L2/L3 çš„ä¸€äº›è®¨è®º
ä¼ ç»Ÿçš„æ•°æ®ä¸­å¿ƒç½‘ç»œç»“æ„ ä¼ ç»Ÿçš„æ•°æ®ä¸­å¿ƒç½‘ç»œç»“æ„æ˜¯ä¸‰å±‚çš„ï¼Œä¸€èˆ¬åŒ…æ‹¬æ¥å…¥äº¤æ¢æœºã€æ±‡èšäº¤æ¢æœºå’Œæ ¸å¿ƒäº¤æ¢æœºã€‚
æ ¸å¿ƒå±‚ æ ¸å¿ƒå±‚ä¸»è¦è®¾å¤‡æ˜¯æ ¸å¿ƒäº¤æ¢æœºï¼Œå¯é‡‡ç”¨åŒæ ¸å¿ƒäº¤æ¢æœºå¤‡ä»½éƒ¨ç½²æ–¹å¼ï¼Œæ ¸å¿ƒäº¤æ¢æœºé‡‡ç”¨æ¨¡å—åŒ–æ¡†å¼äº¤æ¢æœºï¼Œé…å¤‡åŒç”µæºã€åŒå¼•æ“åŠæ”¯æŒçƒ­æ’æ‹”åŠŸèƒ½ã€‚
æ±‡èšå±‚ æ±‡èšå±‚åƒå…†å…‰äº¤æ¢æœºï¼Œæ¯æ ‹æ¥¼å®‡éƒ¨ç½²åƒå…†æ±‡èšäº¤æ¢æœºï¼Œè¿›è¡Œé«˜å¯†åº¦æ¥å…¥ã€é«˜æ€§èƒ½æ±‡èšï¼Œé‡‡ç”¨åŒæ±‡èšå¤‡ä»½è®¾è®¡ï¼Œæ±‡èšäº¤æ¢æœºä¸æ ¸å¿ƒä¾§äº¤æ¢æœºä¸é‡‡ç”¨åŒé“¾è·¯ä¿éšœï¼Œå®ç°ç½‘ç»œå®Œå…¨é“¾æ¥ã€‚
æ¥å…¥å±‚ å‰ç«¯è®¾å¤‡é€šè¿‡IPç½‘ç»œæ¥å…¥æ¥¼å®‡å¼±ç”µæœºæˆ¿è¿›è¡Œæ±‡èšã€‚
åœ¨è¿™æ¶æ„ä¸‹åˆåˆ†ä¸ºL3æ¶æ„å’Œå¤§2å±‚æ¶æ„ï¼ŒåŒºåˆ«å°±åœ¨äºL2/L3çš„åˆ†éš”å±‚æ¬¡ã€‚
L3æ¶æ„ å½“L2/L3éš”ç¦»åœ¨æ±‡èšäº¤æ¢æœºæ—¶ï¼Œæ˜¯L3æ¶æ„ï¼Œæ¯å¯¹æ±‡èšäº¤æ¢æœºæ„æˆä¸€ä¸ªL2çš„å¹¿æ’­åŸŸï¼Œè·¨æ±‡èšå±‚çš„æµé‡éœ€è¦é€šè¿‡æ ¸å¿ƒäº¤æ¢æœºè·¯ç”±è½¬å‘å®Œæˆã€‚
å¥½å¤„ï¼š
åœ¨ä¸€ä¸ªL2çš„å¹¿æ’­åŸŸä¸­ï¼Œæœ‰æ•ˆçš„é™åˆ¶äº†BUMï¼ˆBroadcaseï¼ŒUnknown Unicastï¼ŒMulticastï¼‰ï¼Œå¦‚é£æš´ç­‰é—®é¢˜ã€‚ ç¼ºç‚¹ï¼š ç”±äºL2å¹¿æ’­åŸŸèŒƒå›´çš„é™åˆ¶ï¼Œä¸åˆ©äºæœåŠ¡çš„ä»»æ„éƒ¨ç½²ã€‚å¦‚æœè¦å‘ç”Ÿä½ç½®è¿ç§»ï¼Œä¹Ÿå°±ä¼šå¯¼è‡´ç›¸åº”äºŒå±‚ç½‘ç»œçš„å˜åŒ–ï¼ŒåŒ…æ‹¬ç½‘å…³ç­‰é…ç½®å˜åŒ–ã€‚ åœ¨ä¸šåŠ¡æµé‡ä¸Šï¼Œä¸»è¦é€‚åº”äºå—åŒ—å‘æµé‡çš„è½¬å‘ï¼Œå¯¹äºæ¨ªå‘æµé‡ï¼Œç‰¹åˆ«æ˜¯è·¨2å±‚æµé‡ï¼ŒæœåŠ¡å™¨ä¹‹é—´æ— ç›´æ¥è·¯ç”±äº¤æ¢çš„è·¯å¾„ï¼Œéœ€è¦ç»å†æ¥å…¥-æ±‡èš-æ ¸å¿ƒ-æ±‡èš-æ¥å…¥ï¼Œå…±5å±‚çš„è½¬å‘ï¼Œæ‰€ä»¥æ— è®ºæ˜¯å¸¦å®½è¿˜æ˜¯å»¶æ—¶æ€§éƒ½ä¸ä¼šæœ‰å¾ˆå¥½çš„æ”¯æŒã€‚ å¤§2å±‚ç½‘ç»œæ¶æ„ å°†L2/3å‘ä¸Šç§»åŠ¨ä¸€å±‚ï¼Œä¹Ÿå°±æ˜¯åœ¨æ ¸å¿ƒäº¤æ¢æœºçš„ä½ç½®åšåˆ†ç¦»ï¼Œè¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„å¤§2å±‚ç½‘ç»œæ¶æ„ã€‚</description></item><item><title>ç›‘æ§æ–‡æ¡£</title><link>https://www.ryken.cloud/%E7%9B%91%E6%8E%A7%E6%96%87%E6%A1%A3/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%9B%91%E6%8E%A7%E6%96%87%E6%A1%A3/</guid><description>calicoctl node ä½œç”¨ï¼š calicoctl node runï¼šè¿è¡Œ calico-node é•œåƒ calicoctl node statusï¼š calico-node çš„ä¸€äº›çŠ¶æ€ä¿¡æ¯ calicoctl node diagsï¼šä¸º Calico èŠ‚ç‚¹æ”¶é›†è¯Šæ–­åŒ… calicoctl node checksystemï¼šæ£€æµ‹è¯¥èŠ‚ç‚¹èƒ½å¦è¿è¡Œ calico-node ç¼ºé™·ï¼š åªèƒ½è·å–æœ¬èŠ‚ç‚¹çš„ä¿¡æ¯</description></item><item><title>ç«¯å£å…³ç³»</title><link>https://www.ryken.cloud/%E7%AB%AF%E5%8F%A3%E5%85%B3%E7%B3%BB/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%AB%AF%E5%8F%A3%E5%85%B3%E7%B3%BB/</guid><description> type=NodePortå’ŒnodePort=30001çš„ä¸¤ä¸ªå±æ€§è¡¨æ˜æ­¤Serviceå¼€å¯äº†NodePortæ–¹å¼çš„å¤–ç½‘è®¿é—®æ¨¡å¼ã€‚</description></item><item><title>ç½‘ç»œéš”ç¦»çš„æœ€å°é…ç½®</title><link>https://www.ryken.cloud/%E7%BD%91%E7%BB%9C%E9%9A%94%E7%A6%BB%E7%9A%84%E6%9C%80%E5%B0%8F%E9%85%8D%E7%BD%AE/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%BD%91%E7%BB%9C%E9%9A%94%E7%A6%BB%E7%9A%84%E6%9C%80%E5%B0%8F%E9%85%8D%E7%BD%AE/</guid><description>å®¢æˆ·çš„ç–‘é—®ï¼š(é¡¹ç›®ä¸‹çš„ç½‘ç»œéš”ç¦»)
ç½‘ç»œéš”ç¦»çš„æœ€å°é…ç½® 1.è¿™é‡Œçš„ç½‘ç»œéš”ç¦»æ˜¯é’ˆå¯¹Podçš„å—ï¼Ÿ 2.ç½‘ç»œéš”ç¦»çš„æœ€å°é…ç½®æ˜¯ä»€ä¹ˆï¼Ÿ â‘ å¦‚æœåªé€šè¿‡ingressæš´éœ²æœåŠ¡ï¼Œæœ€å°é…ç½®æ˜¯ä»€ä¹ˆï¼Ÿ â‘¡å¦‚æœåªé€šè¿‡LBç±»å‹çš„Serviceï¼Œæœ€å°é…ç½®ï¼Ÿ â‘¢å¦‚æœåªé€šè¿‡NodePortç±»å‹çš„Serviceï¼Œæœ€å°é…ç½®ï¼Ÿ â‘£ä¸Šè¿°æœ€å°é…ç½®åï¼Œå“ªäº›æ˜¯å¯ä»¥è®¿é—®çš„ï¼Œå“ªäº›æ˜¯ä¸å¯è®¿é—®çš„ï¼Œæœ‰æ²¡æœ‰ä¸€ä¸ªè¡¨æ ¼ï¼ˆç±»ä¼¼æ•°æ®åº“éš”ç¦»çº§åˆ«é‚£æ ·çš„ï¼‰ â‘¤ä¸Šè¿°æš´éœ²æ–¹å¼çš„æµé‡çš„å…·ä½“é“¾è·¯æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œå¿…é¡»åŒ…å«ä½†ä¸é™äºä»¥ä¸‹æ¦‚å¿µï¼ŒSLBï¼ŒNodeèŠ‚ç‚¹ï¼Œç½‘å…³ï¼ŒIngressï¼ŒServiceï¼ŒPodï¼Œæœ‰æ²¡æœ‰ç¤ºæ„å›¾ç‰‡ã€‚
ks ä¸­ç½‘ç»œç­–ç•¥çš„å®ç°æ€è·¯ å…ˆä»‹ç»ä¸€ä¸‹ ks ä¸­ç½‘ç»œç­–ç•¥çš„å®ç°æ€è·¯ï¼š kubesphere å¯¹äº networkpolicy çš„å®ç°ä¸­ä¸»è¦åŒ…å«ï¼š é›†ç¾¤ç½‘ç»œç­–ç•¥ç®¡ç†ï¼šä¸»è¦æä¾›ä¸€ä¸ªåŸç”Ÿçš„ networkpolicy èµ„æºçš„ç®¡ç†ï¼Œå½“ ks ç§Ÿæˆ·ç½‘ç»œéš”ç¦»æ— æ³•æ»¡è¶³ç”¨æˆ·çš„å…¨éƒ¨éœ€æ±‚æ—¶ï¼Œå¯ä»¥åœ¨æ­¤é€šè¿‡ yaml ç®¡ç†åŸç”Ÿçš„ network policy</description></item><item><title>è¯­é›€å¯¼å‡ºæ–‡æ¡£å°å·¥å…·</title><link>https://www.ryken.cloud/%E8%AF%AD%E9%9B%80%E5%AF%BC%E5%87%BA%E5%B0%8F%E5%B7%A5%E5%85%B7/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E8%AF%AD%E9%9B%80%E5%AF%BC%E5%87%BA%E5%B0%8F%E5%B7%A5%E5%85%B7/</guid><description>è¯­é›€å¯¼å‡ºæ–‡æ¡£å°å·¥å…· åŠŸèƒ½ï¼š æ¨¡æ‹Ÿç”¨æˆ·æµè§ˆå™¨æ“ä½œä¸€ç¯‡ä¸€ç¯‡å¯¼å‡º markdown æ–‡æ¡£ æ”¯æŒå°†åŒåçš„æ–‡æ¡£å¯¼å‡º æ”¯æŒå¯¼å‡ºå¤±è´¥é‡è¯• æˆ‘çš„çŸ¥è¯†åº“ä¸å¯¼å‡ºæ–‡ä»¶ç›®å½• è¯´æ˜ï¼š è¿™æ˜¯ä¸€ä¸ªåŸºäºpuppeteer æ¥æ¨¡æ‹Ÿç”¨æˆ·åœ¨æµè§ˆå™¨çš„æ“ä½œä¸€ç¯‡ä¸€ç¯‡çš„å¯¼å‡ºè¯­é›€æ–‡æ¡£çš„å·¥å…·ã€‚ å…³äºè¯­é›€çš„å¯¼å‡ºå¯ä»¥è¯¦æƒ…è¯´æ˜è§å®˜æ–¹çš„æ–‡æ¡£ï¼š å¦‚ä½•å¯¼å…¥å¯¼å‡ºçŸ¥è¯†åº“
é¦–å…ˆè¯­é›€æ”¯æŒå¯¼å‡ºæ–‡æ¡£ä¸º markdown æ ¼å¼ã€‚ å•ç¯‡å¯¼å‡ºï¼šæ”¯æŒå¯¼å‡ºä¸º markdownã€wordã€pdfã€lakebookç­‰ æ‰¹é‡å¯¼å‡ºï¼šæ”¯æŒå¯¼å‡ºä¸º lakebookã€pdf æ ¼å¼ã€‚å¯¹äºè¶…çº§ç”¨æˆ·æ˜¯å¯ä»¥é€šè¿‡åˆ›å»º token æ¥ä½¿ç”¨ å®˜æ–¹çš„ exporter å·¥å…·æˆ–è€…å…¶ä»–åŸºäº api çš„å·¥å…·è¿›è¡Œæ‰¹é‡å¯¼å‡ºï¼›è¶…çº§ç”¨æˆ·çš„ä»·æ ¼ä¸º 299/æœˆã€‚</description></item><item><title>é—®é¢˜æ’æŸ¥</title><link>https://www.ryken.cloud/%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/</link><pubDate>Tue, 29 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E9%97%AE%E9%A2%98%E6%8E%92%E6%9F%A5/</guid><description>[[iptables æŸ¥çœ‹æµå‘]]
åœ¨è£¸é‡‘å±ç¯å¢ƒä¸­æ­å»ºæ—¶ï¼Œè®¾ç½®é»˜è®¤æ¨¡å¼ä¸º underlayï¼Œå®‰è£…å®Œæˆ kubernetes åï¼Œcoredns ä¸€ç›´ not readyï¼ŒæŠ“åŒ…åå‘ç°ä¸€ç›´
å°† local-pv è°ƒåº¦åˆ°æœ¬æœºåæŠ“åŒ…ï¼Œå¯ä»¥æ­£å¸¸è¿è¡Œ å†æ¬¡å®šä½é—®é¢˜ å½“å®¹å™¨ä½¿ç”¨ä¸»æœºç½‘ç»œæ—¶ï¼Œä¸”ä½¿ç”¨ iptables ä½œä¸ºkube-proxy è½¬å‘æ—¶ï¼Œé€šè¿‡ svc è®¿é—®ä¼šæ”¶åˆ° reset åŒ…</description></item><item><title/><link>https://www.ryken.cloud/%E5%B7%A5%E5%85%B7%E5%88%97%E8%A1%A8/</link><pubDate>Tue, 15 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%B7%A5%E5%85%B7%E5%88%97%E8%A1%A8/</guid><description>#tool #linux #network
å·¥å…·åŒ… [[ç½‘ç»œå·¥å…·åŒ…]] ebpf ç›¸å…³ [[ebpf æ’æŸ¥å·¥å…·]] iptables ç›¸å…³ [[iptables è½¬å‘]] conntrack/netstats/ss/lsof [[Network/Tools/conntrack]] ç½‘å¡å¤šé˜Ÿåˆ—ã€ä¸­æ–­ç»‘å®š [[ç½‘å¡å¤šé˜Ÿåˆ— + ä¸­æ–­ç»‘å®š]]</description></item><item><title>conntrack</title><link>https://www.ryken.cloud/conntrack/</link><pubDate>Tue, 15 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/conntrack/</guid><description>conntrack çŠ¶æ€
1 2 3 4 5 CT_NEW, CT_ESTABLISHED, CT_REPLY, CT_RELATED, CT_REOPENED, conntrack map äº”å…ƒç»„ sip:sport-dip:dport-åè®® -</description></item><item><title>kube-proxy</title><link>https://www.ryken.cloud/kube-proxy/</link><pubDate>Thu, 10 Oct 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kube-proxy/</guid><description>ä½¿ç”¨æ¨¡å¼ï¼šipvs or iptables or nftables
åˆ‡æ¢æ–¹å¼
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 ~#: kubectl -n kube-system edit cm kube-proxy apiVersion: v1 data: config.</description></item><item><title>cilium kube-proxy æ›¿æ¢</title><link>https://www.ryken.cloud/cilium-kube-proxy-%E6%9B%BF%E6%8D%A2/</link><pubDate>Mon, 02 Sep 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/cilium-kube-proxy-%E6%9B%BF%E6%8D%A2/</guid><description>ä½¿ç”¨ kubekey å®‰è£…é›†ç¾¤æ—¶ï¼Œè®¾ç½®ä¸å®‰è£… kube-proxyï¼›é›†ç¾¤å®‰è£…å®Œæˆä¹‹åä½¿ç”¨ cilium cli å®‰è£… cilium ä¼šè‡ªåŠ¨æ›¿æ¢ kube-proxy
1 cilium install 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 root@node1:/home/cilium# cilium status --verbose KubeProxyReplacement: True [eth0 172.</description></item><item><title/><link>https://www.ryken.cloud/sctp/</link><pubDate>Fri, 30 Aug 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/sctp/</guid><description>SCTPï¼ˆæµæ§åˆ¶ä¼ è¾“åè®®ï¼‰æ˜¯ç”¨äºåº”ç”¨ç¨‹åºä¹‹é—´é€šä¿¡çš„ä¼ è¾“å±‚åè®®ã€‚å®ƒä¸ TCP ç±»ä¼¼ï¼Œä½†å®ƒæä¾›äº†é¢å¤–çš„åŠŸèƒ½ï¼Œä¾‹å¦‚å¤šå®¿ä¸»å’Œæ¶ˆæ¯åˆ†æ®µã€‚éœ€è¦å¯é ã€æœ‰åºçš„æ•°æ®ä¼ è¾“ï¼ŒåŒæ—¶è¿˜éœ€è¦èƒ½å¤ŸåŒæ—¶å¤„ç†å¤šä¸ªæ•°æ®æµçš„åº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨ SCTPã€‚ SCTP ä¸»è¦ç”±æœåŠ¡æä¾›å•†å’Œç§»åŠ¨è¿è¥å•†ä½¿ç”¨ã€‚ ä½¿ç”¨ SCTP çš„åº”ç”¨ç¨‹åºç¤ºä¾‹åŒ…æ‹¬ï¼š
4G å’Œ 5G ç§»åŠ¨ç½‘ç»œä¸­çš„ä¿¡ä»¤ä¼ è¾“ VoIPï¼ˆIP è¯­éŸ³ï¼‰ ç³»ç»Ÿä¸­çš„ SIPï¼ˆâ€‹â€‹ä¼šè¯å‘èµ·åè®®ï¼‰ä¿¡ä»¤ è™½ç„¶ Kubernetes 1.</description></item><item><title>host-firewall</title><link>https://www.ryken.cloud/host-firewall/</link><pubDate>Fri, 30 Aug 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/host-firewall/</guid><description>è‡ªæˆç«‹ä»¥æ¥ï¼ŒCilium ä¸€ç›´æ”¯æŒ Kubernetes ç½‘ç»œç­–ç•¥ï¼Œä»¥åœ¨ L3/L4 ä¸Šå¼ºåˆ¶æ‰§è¡Œè¿›å‡º pod çš„æµé‡æ§åˆ¶ã€‚ ä½† Cilium ç½‘ç»œç­–ç•¥ç”šè‡³æ›´è¿›ä¸€æ­¥ï¼šé€šè¿‡åˆ©ç”¨ eBPFï¼Œå®ƒå¯ä»¥æä¾›å¯¹æ•°æ®åŒ…çš„æ›´å¤§å¯è§æ€§å¹¶åœ¨ L7 ä¸Šå®æ–½æµé‡ç­–ç•¥ï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ® FQDNã€åè®®ï¼ˆä¾‹å¦‚ kafkaã€grpcï¼‰ç­‰æ ‡å‡†è¿‡æ»¤æµé‡&amp;hellip;&amp;hellip;</description></item><item><title>todo</title><link>https://www.ryken.cloud/todo/</link><pubDate>Wed, 07 Aug 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/todo/</guid><description>1. ç¼–è¯‘ ebpf - è°ƒè¯• é‡åˆ°çš„é—®é¢˜&amp;amp;è§£å†³ é—®é¢˜ï¼š make build ç¼–è¯‘å„ä¸ªäºŒè¿›åˆ¶ï¼Œç¼–è¯‘ bpf ä¼šæŠ¥é”™ï¼Œç›¸å…³ç±»å‹è½¬æ¢çš„é”™è¯¯ åŒæ—¶è¿è¡Œ daemon cilium-agent å¤±è´¥ï¼Œæ— æ³•ç¼–è¯‘ bpf ç¨‹åº
1 error: implicit conversion loses integer precision: &amp;#39;const __u64&amp;#39; (aka &amp;#39;const unsigned long long&amp;#39;) to &amp;#39;__u32&amp;#39; (aka &amp;#39;unsigned int&amp;#39;) [-Werror,-Wshorten-64-to-32]ï¼Œ å»æ‰ç¼–è¯‘ä¸­çš„å‚æ•° -Werror åï¼Œç¼–è¯‘æˆåŠŸï¼Œä½¿ç”¨ tc filter add åˆ°ç½‘å¡ä¸Šæ—¶æç¤ºï¼š</description></item><item><title>1. ebpf map ç±»å‹</title><link>https://www.ryken.cloud/1.-ebpf-map-%E7%B1%BB%E5%9E%8B/</link><pubDate>Tue, 06 Aug 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/1.-ebpf-map-%E7%B1%BB%E5%9E%8B/</guid><description>å†…æ ¸ç›®å‰æ”¯æŒÂ 30 æ¥ç§ BPF map ç±»å‹ã€‚v5.10 å†…æ ¸ç‰ˆæœ¬æ‰€æœ‰çš„ bpf map ç±»å‹å¦‚ä¸‹ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 // https://github.</description></item><item><title>cilium å®‰è£…ä½¿ç”¨</title><link>https://www.ryken.cloud/cilium-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/</link><pubDate>Wed, 31 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/cilium-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8/</guid><description>å·¥å…· cilium client
1 2 3 4 5 6 7 CILIUM_CLI_VERSION=$(curl -s https://raw.githubusercontent.com/cilium/cilium-cli/main/stable.txt) CLI_ARCH=amd64 if [ &amp;#34;$(uname -m)&amp;#34; = &amp;#34;aarch64&amp;#34; ]; then CLI_ARCH=arm64; fi curl -L --fail --remote-name-all https://github.</description></item><item><title>git sync</title><link>https://www.ryken.cloud/git-sync/</link><pubDate>Wed, 24 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/git-sync/</guid><description>ç”±äºæ–°çš„éœ€æ±‚åœ¨ä»“åº“(upstream)æ–°å»ºäº†ä¸€ä¸ªåˆ†æ”¯newï¼Œç„¶è€Œæˆ‘forkçš„origin(è¿œç¨‹ä¸ªäººä»“åº“ï¼Œéç”µè„‘ä¸­çš„æœ¬åœ°ä»“åº“)ä¸­æ²¡æœ‰è¿™ä¸ªåˆ†æ”¯ï¼Œæˆ‘éœ€è¦åœ¨newåˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘å¹¶ä¸upstreamè¿½è¸ªï¼Œå¦‚ä½•å°†æ–°åˆ†æ”¯newæ’å…¥originä¸­äº†ï¼Œæ­¥éª¤å¦‚ä¸‹: 1ï¼šåˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°çš„ä¸Šæ¸¸åˆ†æ”¯çš„æœ¬åœ°ç‰ˆæœ¬ git checkout -b new upstream/newï¼› 2ï¼šå°†æ–°çš„åˆ†æ”¯æ¨é€åˆ°ä¸ªäººè¿œç¨‹ä»“åº“ git push -u origin new,-uè·Ÿè¸ªæŒ‡å®šçš„è¿œç¨‹ï¼›
åŒæ­¥å…¶ä»–æäº¤
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 git remote add upstream https://github.</description></item><item><title>cnitool</title><link>https://www.ryken.cloud/cnitool/</link><pubDate>Tue, 23 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/cnitool/</guid><description>å®˜æ–¹æ–‡æ¡£é“¾æ¥ï¼š
https://www.cni.dev/docs/cnitool/ https://github.com/containernetworking/cni/tree/main/cnitool cnitool æ˜¯ä¸€ä¸ªæ‰§è¡Œcni é…ç½®çš„ç®€æ˜“ç¨‹åºï¼Œå¯ä»¥åœ¨å·²ç»åˆ›å»ºçš„ç½‘ç»œå‘½åç©ºé—´å†…æ·»åŠ ã€åˆ é™¤ interface
ç¯å¢ƒå˜é‡ NETCONFPATHï¼šé…ç½®æ–‡ä»¶è·¯å¾„ç›®å½•ï¼Œé»˜è®¤ä¸º /etc/cni/net.dã€‚cnitool åœ¨ç»™å®šç›®å½•ä¸­æœç´¢æ‰©å±•åä¸º *.conf æˆ– *.json çš„ CNI é…ç½®æ–‡ä»¶ã€‚å®ƒåŠ è½½æ­¤ç›®å½•ä¸­çš„æ‰€æœ‰ CNI é…ç½®æ–‡ä»¶ï¼Œå¦‚æœæ‰¾åˆ°å…·æœ‰ç»™ cnitool çš„ç½‘ç»œåç§°çš„ CNI é…ç½®ï¼Œåˆ™è¿”å›ç›¸åº”çš„ CNI é…ç½®ï¼Œå¦åˆ™è¿”å› nil CNI_PATHï¼šæ£€ç´¢ cni å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ å®‰è£… 1 2 go get github.</description></item><item><title>cni-chaining mode</title><link>https://www.ryken.cloud/cni-chaining-mode/</link><pubDate>Mon, 22 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/cni-chaining-mode/</guid><description>How to Use Cilium Hubble for Observability in CNI Chaining Mode https://isovalent.com/blog/post/cilium-hubble-observability-cni-chaining-mode/
Kube-OVN æ–‡æ¡£ä¸­ä¹Ÿæœ‰ç±»ä¼¼çš„é›†æˆï¼š https://kube-ovn.readthedocs.io/zh-cn/latest/advance/with-cilium/ https://kube-ovn.readthedocs.io/zh-cn/latest/advance/cilium-hubble-observe/
Cilium è‡ªèº« Monitoring &amp;amp; Metrics https://docs.</description></item><item><title>Hive å’Œ cell</title><link>https://www.ryken.cloud/Hive-%E5%92%8C-cell/</link><pubDate>Wed, 17 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Hive-%E5%92%8C-cell/</guid><description>Cilium ä½¿ç”¨ä¾èµ–æ³¨å…¥ï¼ˆé€šè¿‡ pkg/hiveï¼‰æ¥è¿æ¥å…¶ç»„ä»¶çš„åˆå§‹åŒ–ã€å¯åŠ¨å’Œåœæ­¢ã€‚ ä¾èµ–æ³¨å…¥ (DI) æ˜¯ä¸€ç§å°†å¯¹è±¡çš„ä½¿ç”¨ä¸å…¶åˆ›å»ºå’Œåˆå§‹åŒ–åˆ†å¼€çš„æŠ€æœ¯ã€‚æœ¬è´¨ä¸Šï¼Œä¾èµ–æ³¨å…¥æ˜¯å…³äºè‡ªåŠ¨åŒ–ä¾èµ–å…³ç³»çš„æ‰‹åŠ¨ç®¡ç†ã€‚å¯¹è±¡æ„é€ å‡½æ•°åªéœ€å°†å…¶ä¾èµ–é¡¹å£°æ˜ä¸ºå‡½æ•°å‚æ•°ï¼Œå…¶ä½™éƒ¨åˆ†ç”±åº“å¤„ç†ã€‚è¿™æœ‰åŠ©äºæ„å»ºæ¾æ•£è€¦åˆçš„æ¨¡å—åŒ–æ¶æ„ï¼Œå› ä¸ºå®ƒæ¶ˆé™¤äº†é›†ä¸­åˆå§‹åŒ–å’Œé…ç½®çš„éœ€è¦ã€‚å®ƒè¿˜å‡å°‘äº†ä½¿ç”¨å…¨å±€å˜é‡è€Œä¸æ˜¯æ˜¾å¼ä¼ é€’å¯¹è±¡çš„å€¾å‘ï¼Œè¿™é€šå¸¸æ˜¯é”™è¯¯çš„æ ¹æºï¼ˆç”±äºæ„å¤–çš„åˆå§‹åŒ–é¡ºåºï¼‰å¹¶ä¸”åœ¨æµ‹è¯•ä¸­éš¾ä»¥å¤„ç†ï¼ˆå› ä¸ºéœ€è¦ä¸ºä¸‹ä¸€ä¸ªæµ‹è¯•æ¢å¤çŠ¶æ€ï¼‰ã€‚é€šè¿‡ä¾èµ–æ³¨å…¥ï¼Œç»„ä»¶è¢«æè¿°ä¸ºçº¯å€¼ï¼ˆæˆ‘ä»¬çš„ DI é£æ ¼ä¸­çš„ Cellï¼‰ï¼Œä»è€Œå®ç°ç»„ä»¶é—´ä¾èµ–å…³ç³»çš„å¯è§†åŒ–å¹¶å¼€æ”¾å†…éƒ¨æ¶æ„ä»¥ä¾›æ£€æŸ¥ã€‚
è¿™é‡Œæè¿°çš„ä¾èµ–æ³¨å…¥å’Œæœºåˆ¶åªæ˜¯å¸®åŠ©æˆ‘ä»¬å®ç°çœŸæ­£ç›®æ ‡çš„å·¥å…·ï¼šä¸€ä¸ªæ¨¡å—åŒ–çš„è½¯ä»¶æ¶æ„ï¼Œå¯ä»¥ç”±ä¸€å¤§ç¾¤å¼€å‘äººå‘˜è½»æ¾ç†è§£ã€æ‰©å±•ã€é‡æ–°è°ƒæ•´ç”¨é€”ã€æµ‹è¯•å’Œé‡æ„ï¼Œå¹¶ä¸”æ¨¡å—ä¹‹é—´çš„é‡å æœ€å°åŒ–ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç›®æ ‡ï¼Œæˆ‘ä»¬åœ¨è®¾è®¡æ¶æ„å’Œ API æ—¶è¿˜éœ€è¦è€ƒè™‘æ¨¡å—åŒ–ã€‚
èœ‚å·¢å’Œç»†èƒ
Cilium åº”ç”¨ç¨‹åºæ˜¯ä½¿ç”¨è¿è¡Œæ—¶ä¾èµ–æ³¨å…¥ä»ä¸€ç»„ç§°ä¸ºå•å…ƒçš„æ¨¡å—åŒ–ç»„ä»¶ç»„æˆçš„ï¼Œè¿™äº›ç»„ä»¶ç»„åˆåœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªèœ‚å·¢ï¼ˆå¦‚èœ‚å·¢ï¼‰ã€‚ç„¶åå¯ä»¥ä¸ºé…ç½®å•å…ƒæä¾›é…ç½®å¹¶æ‰§è¡Œã€‚
åˆ›å»ºä¸€ä¸ª podï¼Œcilium agent æœ‰ä»¥ä¸‹ subsys åä½œ</description></item><item><title>cilium-operator åˆ†æ</title><link>https://www.ryken.cloud/cilium-operator-%E5%88%86%E6%9E%90/</link><pubDate>Tue, 16 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/cilium-operator-%E5%88%86%E6%9E%90/</guid><description>ç»„ä»¶çš„åŠŸèƒ½ï¼š crd æ³¨å†Œ ipam lb-ipam kv æ“ä½œ Identity åƒåœ¾å›æ”¶ ciliumEndpoint åƒåœ¾å›æ”¶ è¡ç”Ÿçš„ç½‘ç»œç­–ç•¥åˆ›å»º ingressã€gateway api æ”¯æŒ ç›¸äº’è®¤è¯æ”¯æŒ CRD æ³¨å†Œ CiliumBGPAdvertisement CiliumBGPClusterConfig CiliumBGPNodeConfig CiliumBGPNodeConfigOverride CiliumBGPPeerConfig CiliumBGPPeeringPolicy IPAM ç›¸å…³çš„ crd &amp;ndash;set enableCiliumEndpointSlice=true</description></item><item><title>CiliumCIDRGroup</title><link>https://www.ryken.cloud/NetworkPolicy-CiliumCIDRGroup/</link><pubDate>Tue, 16 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/NetworkPolicy-CiliumCIDRGroup/</guid><description>https://github.com/cilium/cilium/pull/24638
CiliumCIDRGroup æ˜¯å¤–éƒ¨ CIDR çš„åˆ—è¡¨ï¼ˆå³é€‰æ‹©é›†ç¾¤å¤–éƒ¨å¯¹ç­‰ç‚¹çš„ CIDRï¼‰ï¼Œå¯ä»¥ä½œä¸º CiliumNetworkPolicies ä¸­çš„å•ä¸ªå®ä½“å¼•ç”¨ã€‚</description></item><item><title>ciliumpodippool</title><link>https://www.ryken.cloud/IPAM-ciliumpodippool/</link><pubDate>Tue, 16 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/IPAM-ciliumpodippool/</guid><description>å¦‚ä½•å¯ç”¨ç”± CiliumPodIPPool CRD æ”¯æŒçš„å¤šæ±  IPAM
https://docs.cilium.io/en/stable/network/bgp-control-plane/#ciliumpodippool-announcements https://docs.cilium.io/en/stable/network/kubernetes/ipam-multi-pool/#validate-installation https://docs.cilium.io/en/stable/network/concepts/ipam/multi-pool/#ipam-crd-multi-pool</description></item><item><title>ClusterMesh - ciliumexternalworkloads</title><link>https://www.ryken.cloud/ClusterMesh-ciliumexternalworkloads/</link><pubDate>Tue, 16 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/ClusterMesh-ciliumexternalworkloads/</guid><description>è¦å…è®¸å¤–éƒ¨å·¥ä½œè´Ÿè½½åŠ å…¥å·²ç»åˆ›å»ºå¥½çš„é›†ç¾¤ï¼Œå¿…é¡»å‘é›†ç¾¤é€šæŠ¥æ¯ä¸ªæ­¤ç±»å·¥ä½œè´Ÿè½½ã€‚é€šè¿‡ä¸ºæ¯ä¸ªå¤–éƒ¨å·¥ä½œè´Ÿè½½åˆ›å»º CiliumExternalWorkload (CEW) èµ„æºæ¥å®Œæˆã€‚
CEW èµ„æºæŒ‡å®šå·¥ä½œè´Ÿè½½çš„åç§°å’Œèº«ä»½æ ‡ç­¾ï¼ˆåŒ…æ‹¬å‘½åç©ºé—´ï¼‰ã€‚è¯¥åç§°å¿…é¡»æ˜¯å¤–éƒ¨å·¥ä½œè´Ÿè½½çš„ä¸»æœºåã€‚
https://docs.cilium.io/en/stable/network/external-workloads/</description></item><item><title>IPAM - Ciliumendpoints</title><link>https://www.ryken.cloud/IPAM-ciliumendpoints/</link><pubDate>Tue, 16 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/IPAM-ciliumendpoints/</guid><description>CiliumEndpoint å¯¹è±¡ç”± cilium-agent ä¸ºé›†ç¾¤ä¸­çš„æ¯ä¸ª Pod åˆ›å»ºã€‚</description></item><item><title>IPAM - ciliumendpointslice</title><link>https://www.ryken.cloud/IPAM-ciliumendpointslice/</link><pubDate>Tue, 16 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/IPAM-ciliumendpointslice/</guid><description>CiliumEndpoint çš„æ‰©å±•ã€‚æ”¯æŒå¯¹é›†ç¾¤ä¸­çš„ CiliumEndpoint (CEP) å¯¹è±¡è¿›è¡Œæ‰¹å¤„ç†ï¼Œä»¥å®ç°æ›´å¥½çš„å¯æ‰©å±•æ€§ã€‚
å¯ç”¨åï¼ŒCilium operator ä¼šç›‘è§† CEP å¯¹è±¡å¹¶å°†å…¶åˆ†ç»„/æ‰¹é‡ç²¾ç®€ç‰ˆæœ¬æ”¾å…¥ CES å¯¹è±¡ä¸­ã€‚ Cilium agent åœ¨æ­¤æ¨¡å¼ä¸‹ç›‘è§† CES å¯¹è±¡ä»¥äº†è§£è¿œç¨‹ç«¯ç‚¹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåº”å‡å°‘ç”±äºè¿œç¨‹ç«¯ç‚¹ä¿¡æ¯ä¼ æ’­è€Œå¯¼è‡´çš„ API æœåŠ¡å™¨å‹åŠ›ï¼Œä»è€Œå®ç°æ›´å¥½çš„å¯æ‰©å±•æ€§ï¼Œä½†ä»£ä»·æ˜¯åœ¨æ•´ä¸ªé›†ç¾¤ä¸­è¯†åˆ«æ–°ç«¯ç‚¹çš„èº«ä»½ä¹‹å‰å¯èƒ½ä¼šå‡ºç°æ›´é•¿çš„å»¶è¿Ÿã€‚</description></item><item><title>IPAM - ciliumnodeconfigs</title><link>https://www.ryken.cloud/IPAM-ciliumnodeconfigs/</link><pubDate>Tue, 16 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/IPAM-ciliumnodeconfigs/</guid><description>CiliumNodeConfig å¯¹è±¡å…è®¸è¦†ç›– ConfigMap / Agent å‚æ•°ã€‚
å®ƒç”±ä¸€ç»„å­—æ®µå’Œä¸€ä¸ª labelSelector ç»„æˆã€‚labelSelector å®šä¹‰é…ç½®é€‚ç”¨äºå“ªäº›èŠ‚ç‚¹ã€‚ç©ºçš„ LabelSelector ä¼šé€‰æ‹©æ‰€æœ‰èŠ‚ç‚¹ã€‚
åˆ›å»ºæˆ–ä¿®æ”¹ CiliumNodeConfig ä¸ä¼šå¯¼è‡´æ›´æ”¹ç”Ÿæ•ˆï¼Œéœ€è¦åˆ é™¤ Pod å¹¶é‡æ–°åˆ›å»ºã€‚</description></item><item><title>LBIPAM -</title><link>https://www.ryken.cloud/LBIPAM-CiliumL2AnnouncementPolicy/</link><pubDate>Tue, 16 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/LBIPAM-CiliumL2AnnouncementPolicy/</guid><description>https://docs.cilium.io/en/stable/network/l2-announcements/#l2-announcements</description></item><item><title>LBIPAM - Ciliumloadbalancerippools</title><link>https://www.ryken.cloud/LBIPAM-Ciliumloadbalancerippools/</link><pubDate>Tue, 16 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/LBIPAM-Ciliumloadbalancerippools/</guid><description>æ”¯æŒ Loadbalancer ç±»å‹çš„ serviceï¼ŒåŒæ—¶ä½¿ç”¨ CiliumL2Announcement æˆ–è€… bgp è¿›è¡Œå®£å‘Š service ipã€‚
https://docs.cilium.io/en/stable/network/lb-ipam/</description></item><item><title>NetworkPolicy - CiliumNetworkPolicies</title><link>https://www.ryken.cloud/NetworkPolicy-CiliumNetworkPolicies/</link><pubDate>Tue, 16 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/NetworkPolicy-CiliumNetworkPolicies/</guid><description>CiliumNetworkPolicy ä¸æ ‡å‡† NetworkPolicy éå¸¸ç›¸ä¼¼ã€‚ç›®çš„æ˜¯æä¾› NetworkPolicy å°šä¸æ”¯æŒçš„åŠŸèƒ½ã€‚
https://docs.cilium.io/en/stable/network/kubernetes/policy/#ciliumnetworkpolicy</description></item><item><title>Security - CiliumIdentity</title><link>https://www.ryken.cloud/Security-CiliumIdentity/</link><pubDate>Tue, 16 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Security-CiliumIdentity/</guid><description>CRD èº«ä»½åˆ†é…ä½¿ç”¨ Kubernetes è‡ªå®šä¹‰èµ„æº CiliumIdentity æ¥è¡¨ç¤ºå®‰å…¨èº«ä»½ã€‚
Security identitiesæ˜¯ä»æ ‡ç­¾ç”Ÿæˆçš„ã€‚å€¼ä¸º uint32 å³ 1 ~ 2^32 - 1ï¼Œ0 ä¸æ˜¯æœ‰æ•ˆå€¼ã€‚
Security identities ç”¨äºä»¥ä¸‹ç”¨é€”ï¼š
Cluster-local ClusterMesh CIDR-based policies remote nodes (optional) 1 2 3 4 5 6 0x00000001 - 0x000000FF (1 to 2^8 - 1 ) =&amp;gt; reserved identities 0x00000100 - 0x0000FFFF (2^8 to 2^16 - 1 ) =&amp;gt; cluster-local identities 0x00010000 - 0x00FFFFFF (2^16 to 2^24 - 1 ) =&amp;gt; identities for remote clusters 0x01000000 - 0x01FFFFFF (2^24 to 2^25 - 1 ) =&amp;gt; identities for CIDRs (node-local) 0x02000000 - 0x02FFFFFF (2^25 to 2^25 + 2^24 - 1) =&amp;gt; identities for remote nodes (local) 0x01010000 - 0xFFFFFFFF (2^25 + 2^24 to 2^32 - 1 ) =&amp;gt; reserved for future use https://docs.</description></item><item><title>é…ç½® - åŠ¨æ€é…ç½® cilium</title><link>https://www.ryken.cloud/%E9%85%8D%E7%BD%AE-%E5%8A%A8%E6%80%81%E9%85%8D%E7%BD%AE-cilium/</link><pubDate>Tue, 16 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E9%85%8D%E7%BD%AE-%E5%8A%A8%E6%80%81%E9%85%8D%E7%BD%AE-cilium/</guid><description>https://docs.cilium.io/en/stable/helm-reference/#helm-reference
ä¸Šè¿°ä¸º cilium å®‰è£…æ—¶ï¼Œhelm å¯é…ç½®çš„ values å€¼ï¼Œè¿™äº› helm values æœ€ç»ˆä¼šè½¬æ¢ä¸º cilium agent å’Œ cilium operator ç­‰ç»„ä»¶çš„é…ç½®å¹¶å­˜å‚¨åœ¨ configmap ä¸­
ä½ å¯ä»¥è¿è¡Œ kubectl -n kube-system get configmap cilium-config -o yaml æ¥æŸ¥çœ‹å…·ä½“çš„é…ç½®ã€‚</description></item><item><title>bash</title><link>https://www.ryken.cloud/bash/</link><pubDate>Tue, 09 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/bash/</guid><description>1 2 3 4 5 6 7 8 9 10 11 # 1. å®‰è£… zsh apt-get -y install zsh # 2.</description></item><item><title>cilium-agent åˆ†æ</title><link>https://www.ryken.cloud/cilium-agent-%E5%88%86%E6%9E%90/</link><pubDate>Tue, 09 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/cilium-agent-%E5%88%86%E6%9E%90/</guid><description>6 ä¸ª init container config cilium-dbg build-config æ ¹æ®é…ç½®æ–‡ä»¶åˆ›å»ºå¯¹åº”çš„é…ç½®ç›®å½• - /tmp/cilium/config-mapï¼›ï¼ˆè§£æé…ç½®å¹¶åº”ç”¨åˆ°èŠ‚ç‚¹ä¸Šï¼‰ config-map - config-map:&amp;lt;namespace&amp;gt;/name or config-map:name node - node:&amp;lt;NODENAME&amp;gt; cilium-node-config - cilium-node-config:&amp;lt;NAMESPACE&amp;gt; orcilium-node-config:&amp;lt;NAMESPACE&amp;gt;/name åˆ†åˆ«å¯¹åº”ï¼š</description></item><item><title>å…¶ä»–ç›¸å…³</title><link>https://www.ryken.cloud/%E5%85%B6%E4%BB%96%E7%9B%B8%E5%85%B3/</link><pubDate>Tue, 09 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%85%B6%E4%BB%96%E7%9B%B8%E5%85%B3/</guid><description>cilium ç›¸å…³ç½‘å¡
lxcxxxxx - æ€»é•¿ä¸º 8 ??? - ä¹‹å‰çš„ cilium ï¼Ÿ æ‹¥æœ‰ cilium_ å‰ç¼€ tc maps : /sys/fs/bpf/tc/globals cilium map åç§°åŒ…å« cilium_ï¼› tunnel map åç§° cilium_tunnel_map</description></item><item><title>kube-proxy æ›¿æ¢</title><link>https://www.ryken.cloud/kube-proxy-%E6%9B%BF%E6%8D%A2/</link><pubDate>Tue, 02 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kube-proxy-%E6%9B%BF%E6%8D%A2/</guid><description>å°† ipvs è§„åˆ™æ”¾å…¥äº† ebpf æ•°æ®é¢ï¼Œè½¬å‘è¿‡ç¨‹å¯ä»¥é€šè¿‡ ebpf æ¥å®Œæˆï¼Œä½†æ˜¯è¿˜æ˜¯éœ€è¦æœ‰ kube-proxy ç»„ä»¶å­˜åœ¨
1 2 3 4 5 6 7 8 curl -sfL https://get.</description></item><item><title>ç»„ä»¶+å®ç°åŸç†</title><link>https://www.ryken.cloud/%E7%BB%84%E4%BB%B6+%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86/</link><pubDate>Tue, 02 Jul 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%BB%84%E4%BB%B6+%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86/</guid><description>loxilb èµ·åˆæ˜¯ä¸€ä¸ªæ—¨åœ¨ç®€åŒ–è¾¹ç¼˜äº‘åŸç”Ÿ/Kuberneteså·¥ä½œè´Ÿè½½éƒ¨ç½²çš„é¡¹ç›®ã€‚å½“æˆ‘ä»¬åœ¨ AWS/GCP ç­‰å…¬å…±äº‘ä¸­éƒ¨ç½²æœåŠ¡æ—¶ï¼Œè¿™äº›æœåŠ¡å˜å¾—å®¹æ˜“è¢«å¤–ç•Œè®¿é—®æˆ–å¯¼å‡ºã€‚å…¬å…±äº‘æä¾›å•†é€šå¸¸é»˜è®¤ä¼šä¸ºè¿™äº›æœåŠ¡åˆ†é…è´Ÿè½½å‡è¡¡å™¨å®ä¾‹ï¼Œä»¥ç¡®ä¿ä¸€åˆ‡è¿è¡Œé¡ºç•…ã€‚
ç„¶è€Œï¼Œå¯¹äºæœ¬åœ°å’Œè¾¹ç¼˜éƒ¨ç½²ï¼Œé»˜è®¤æƒ…å†µä¸‹å¹¶æ²¡æœ‰æä¾›å¤–éƒ¨è´Ÿè½½å‡è¡¡å™¨ç±»å‹çš„æœåŠ¡ã€‚é•¿æœŸä»¥æ¥ï¼Œæºè‡ªè°·æ­Œçš„ MetalLB æ˜¯å”¯ä¸€çš„é€‰æ‹©ã€‚ä½†è¾¹ç¼˜æœåŠ¡å®Œå…¨æ˜¯å¦ä¸€å›äº‹ï¼Œå› ä¸ºå­˜åœ¨è®¸å¤šä¸åŒçš„åè®®ï¼Œå¦‚ GTPã€SCTPã€SRv6 ç­‰ï¼Œå°†æ‰€æœ‰è¿™äº›é›†æˆåˆ°ä¸€ä¸ªæ— ç¼å·¥ä½œçš„è§£å†³æ–¹æ¡ˆä¸­ä¸€ç›´éå¸¸å›°éš¾ã€‚
loxilb å¼€å‘å›¢é˜Ÿæ¥åˆ°äº†è®¸å¤šå¸Œæœ›è§£å†³æ­¤é—®é¢˜çš„äººçš„è¯·æ±‚ã€‚è§£å†³é—®é¢˜çš„ç¬¬ä¸€æ­¥æ˜¾è€Œæ˜“è§ï¼šè™½ç„¶ Linux å†…æ ¸æä¾›çš„ç½‘ç»œå †æ ˆéå¸¸ç¨³å›ºï¼Œä½†åœ¨å¿«é€Ÿæ”¯æŒå„ç§åè®®å’ŒçŠ¶æ€è´Ÿè½½å‡è¡¡çš„å¤šç§ç»„åˆæ–¹é¢ï¼Œå¼€å‘è¿‡ç¨‹çš„æ•æ·æ€§å´æ˜¾å¾—ä¸è¶³ã€‚æˆ‘ä»¬çš„æœç´¢å¼•å¯¼æˆ‘ä»¬å‘ç°äº†ç”± Linux ç¤¾åŒºå¼€å‘çš„ä¼˜ç§€æŠ€æœ¯â€”â€”eBPFã€‚å°†æ–°åŠŸèƒ½å¼•å…¥æ“ä½œç³»ç»Ÿå†…æ ¸ä½œä¸ºå®‰å…¨æ²™ç®±ç¨‹åºçš„çµæ´»æ€§å®Œå…¨ç¬¦åˆæˆ‘ä»¬çš„è®¾è®¡ç†å¿µã€‚å®ƒä¹Ÿä¸éœ€è¦ä»»ä½•ä¸“ç”¨çš„ CPU æ ¸å¿ƒï¼Œéå¸¸é€‚åˆè®¾è®¡èŠ‚èƒ½çš„è¾¹ç¼˜æ¶æ„ã€‚
loxilb æ˜¯ä»€ä¹ˆ loxilb æ˜¯ä¸€ä¸ªåŸºäº GoLang/eBPF çš„å¼€æºäº‘åŸç”Ÿè´Ÿè½½å‡è¡¡å™¨ï¼Œæ—¨åœ¨å®ç°è·¨æœ¬åœ°ã€å…¬æœ‰äº‘æˆ–æ··åˆ K8s ç¯å¢ƒçš„å¹¿æ³›å…¼å®¹æ€§ã€‚</description></item><item><title>éƒ¨ç½²åœ¨é›†ç¾¤å†…</title><link>https://www.ryken.cloud/%E9%83%A8%E7%BD%B2%E5%9C%A8%E9%9B%86%E7%BE%A4%E5%86%85/</link><pubDate>Fri, 28 Jun 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E9%83%A8%E7%BD%B2%E5%9C%A8%E9%9B%86%E7%BE%A4%E5%86%85/</guid><description>&amp;ndash;kubelet-arg=&amp;ldquo;cgroup-driver=systemd&amp;rdquo;
1 2 3 4 5 6 7 curl -sfL https://get.k3s.io | INSTALL_K3S_EXEC=&amp;#34;server --write-kubeconfig ~/.kube/config --disable traefik --disable servicelb --disable-cloud-controller --kube-proxy-arg metrics-bind-address=0.</description></item><item><title>æµé‡è½¬å‘è·¯å¾„</title><link>https://www.ryken.cloud/%E6%B5%81%E9%87%8F%E8%BD%AC%E5%8F%91%E8%B7%AF%E5%BE%84/</link><pubDate>Wed, 26 Jun 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%B5%81%E9%87%8F%E8%BD%AC%E5%8F%91%E8%B7%AF%E5%BE%84/</guid><description/></item><item><title>éƒ¨ç½²åœ¨é›†ç¾¤å¤–</title><link>https://www.ryken.cloud/%E9%83%A8%E7%BD%B2%E5%9C%A8%E9%9B%86%E7%BE%A4%E5%A4%96/</link><pubDate>Wed, 26 Jun 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E9%83%A8%E7%BD%B2%E5%9C%A8%E9%9B%86%E7%BE%A4%E5%A4%96/</guid><description>å‰ç½®æ¡ä»¶ èŠ‚ç‚¹å¤šç½‘å¡ï¼›é»˜è®¤è·¯ç”±ç½‘å¡ eth0 ç”¨äºå®‰è£…é›†ç¾¤ï¼›é¢å¤– eth1 ç”¨äºè¿è¡Œ macvlan éƒ¨ç½² æ¶æ„å›¾ loxilb ä½œä¸º docker è¿è¡Œï¼Œå¹¶å°†ä½¿ç”¨ macvlan æ¥å¤„ç†ä¼ å…¥æµé‡ã€‚
èŠ‚ç‚¹å®é™…ç½‘å¡ eth1 ip ä¸ºï¼š172.</description></item><item><title>3. cni å®¹å™¨ç½‘ç»œå¤„ç†è¿‡ç¨‹</title><link>https://www.ryken.cloud/3.-cni-%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E5%A4%84%E7%90%86%E8%BF%87%E7%A8%8B/</link><pubDate>Mon, 24 Jun 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/3.-cni-%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E5%A4%84%E7%90%86%E8%BF%87%E7%A8%8B/</guid><description>cni é…ç½®æ–‡ä»¶ cat /etc/cni/net.d/00-multus.conf
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 {&amp;#34;cniVersion&amp;#34;: &amp;#34;0.</description></item><item><title>ipvlan</title><link>https://www.ryken.cloud/ipvlan/</link><pubDate>Mon, 24 Jun 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/ipvlan/</guid><description>ä»‹ç» å…è®¸ä½ åœ¨åŒä¸€ç‰©ç†è®¾å¤‡ä¸Šåˆ›å»ºå¤šä¸ªè™šæ‹Ÿç½‘ç»œæ¥å£ï¼Œè¿™äº›æ¥å£å¯ä»¥å…±äº«åŒä¸€ä¸ª MAC åœ°å€ã€‚
å½“æœ¬åœ°äº¤æ¢æœºå¯¹å®ƒå¯ç®¡ç†çš„ MAC åœ°å€çš„æ€»æ•°æ–½åŠ çº¦æŸæ—¶ï¼ŒIPVLAN æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚
ipvlan ä¸‰ç§æ¨¡å¼ L2 L3 L3s L2 æ¨¡å¼ åœ¨ IPVLANÂ L2 æ¨¡å¼Â ä¸­ï¼Œè™šæ‹Ÿè®¾å¤‡æ¥æ”¶å¹¶å“åº”åœ°å€è§£æåè®®(ARP)è¯·æ±‚ã€‚netfilterÂ æ¡†æ¶ä»…åœ¨æ‹¥æœ‰è™šæ‹Ÿè®¾å¤‡çš„å®¹å™¨ä¸­è¿è¡Œã€‚å®¹å™¨åŒ–æµé‡çš„é»˜è®¤å‘½åç©ºé—´ä¸­ä¸ä¼šæ‰§è¡ŒÂ netfilterÂ é“¾ã€‚ä½¿ç”¨L2 æ¨¡å¼ä¼šæä¾›è‰¯å¥½çš„æ€§èƒ½ï¼Œä½†å¯¹ç½‘ç»œæµé‡çš„æ§åˆ¶è¦å°ã€‚</description></item><item><title>IPAM</title><link>https://www.ryken.cloud/5.-IPAM-%E5%8E%9F%E7%90%86/</link><pubDate>Fri, 21 Jun 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/5.-IPAM-%E5%8E%9F%E7%90%86/</guid><description>IPAM Underlay ç½‘ç»œå’Œ Overlay ç½‘ç»œçš„ IPAM äº‘åŸç”Ÿç½‘ç»œä¸­å‡ºç°äº†ä¸¤ç§æŠ€æœ¯ç±»åˆ«ï¼š&amp;ldquo;Overlay ç½‘ç»œæ–¹æ¡ˆ&amp;rdquo; å’Œ &amp;ldquo;Underlay ç½‘ç»œæ–¹æ¡ˆ&amp;rdquo;ã€‚ äº‘åŸç”Ÿç½‘ç»œå¯¹äºå®ƒä»¬æ²¡æœ‰ä¸¥æ ¼çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥ä»å¾ˆå¤š CNI é¡¹ç›®çš„å®ç°åŸç†ä¸­ï¼Œç®€å•æŠ½è±¡å‡ºè¿™ä¸¤ç§æŠ€æœ¯æµæ´¾çš„ç‰¹ç‚¹ï¼Œå®ƒä»¬å¯ä»¥æ»¡è¶³ä¸åŒåœºæ™¯ä¸‹çš„éœ€æ±‚ã€‚
Spiderpool æ˜¯ä¸º Underlay ç½‘ç»œç‰¹ç‚¹è€Œè®¾è®¡ï¼Œä»¥ä¸‹å¯¹ä¸¤ç§æ–¹æ¡ˆè¿›è¡Œæ¯”è¾ƒï¼Œèƒ½å¤Ÿæ›´å¥½è¯´æ˜ Spiderpool çš„ç‰¹ç‚¹å’Œä½¿ç”¨åœºæ™¯ã€‚</description></item><item><title>kube-proxy strictARP</title><link>https://www.ryken.cloud/kube-proxy-strictARP/</link><pubDate>Thu, 20 Jun 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kube-proxy-strictARP/</guid><description>ipvs æ¨¡å¼ä¸‹çš„ strictARP ä½œç”¨äºä¸‹é¢ä¸¤ä¸ª arp å‚æ•°ï¼š[[arp ç›¸å…³å†…æ ¸å‚æ•°]]
net/ipv4/conf/all/arp_ignore net/ipv4/conf/all/arp_announce</description></item><item><title>ringbuffer å¯¹å¸¦å®½çš„å½±å“</title><link>https://www.ryken.cloud/ringbuffer-%E5%AF%B9%E5%B8%A6%E5%AE%BD%E7%9A%84%E5%BD%B1%E5%93%8D/</link><pubDate>Thu, 20 Jun 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/ringbuffer-%E5%AF%B9%E5%B8%A6%E5%AE%BD%E7%9A%84%E5%BD%B1%E5%93%8D/</guid><description>ringbufferæ˜¯ç½‘å¡æ”¶å‘æŠ¥æ–‡çš„ç¼“å†²åŒºã€‚ringçš„æ„æ€å°±æ˜¯ç¯å½¢ï¼Œæ•°æ®å¾€ç¯é‡Œå¯ä»¥ä¸åœå†™å…¥ï¼Œå¦‚æœåˆ°äº†å¤´ï¼Œå°±ä¼šå†å†™ä¸€åœˆï¼ŒæŠŠè€çš„æ•°æ®è¦†ç›–äº†ã€‚
æŠ¥æ–‡åˆ°è¾¾è¿™ä¸ªç¼“å†²åŒºåï¼Œå¦‚æœæ²¡æœ‰åŠæ—¶è¢«cpuå¤„ç†ï¼Œå°±ä¼šç§¯ç´¯ï¼Œè¶…è¿‡bufferå¤§å°åï¼Œå°±ä¼šè¦†ç›–ä¹‹å‰çš„æ•°æ®ï¼Œå¯¼è‡´ä¸¢åŒ…ã€‚
ringbufferè¶Šå¤§è¶Šä¸å®¹æ˜“å†™æ»¡ï¼Œä¸¢åŒ…æ¦‚ç‡å°±è¶Šä½ï¼Œä½†æ˜¯cpuå¤„ç†åˆ°æŠ¥æ–‡çš„å“åº”æ—¶é—´å°±è¶Šé•¿ï¼Œæ‰€ä»¥ç½‘ç»œå»¶æ—¶å°±ä¼šå˜é«˜ã€‚
ç†è§£ringbufferçš„ä½œç”¨ï¼Œå¯ä»¥ç±»æ¯”åˆ°æœºåœºçš„è¡Œæä¼ é€å¸¦ã€‚è¿™ä¸ªä¼ é€å¸¦æ˜¯ä¸ªç¯ï¼Œ å…¶ä¸­ä¸€è¾¹æœ‰è¡Œæè¢«ä¸æ–­é€åˆ°ä¼ é€å¸¦ä¸Šï¼Œå¦ä¸€è¾¹æœ‰å¾ˆå¤šæ—…å®¢æŠŠè¡Œæå–èµ°ã€‚å½“ä¼ é€å¸¦ä¸å¤Ÿé•¿ï¼Œå¹¶ä¸”æ—…å®¢å°‘çš„æ—¶å€™ï¼Œå°±ä¼šå‡ºç°æ–°çš„è¡Œææ²¡åœ°æ–¹æ”¾ï¼Œåªèƒ½æŠŠè€è¡Œææ‰”äº†ï¼Œè…¾å‡ºä½ç½®æ”¾æ–°è¡Œæï¼Œè¿™å°±æ˜¯ä¸¢åŒ…çš„æƒ…å†µã€‚
æŠŠä¼ é€å¸¦åŠ é•¿å¯ä»¥ç¼“è§£ä¸¢è¡Œæçš„é—®é¢˜ï¼Œå¸¦æ¥çš„é—®é¢˜æ˜¯æ—…å®¢è¦ç­‰å¾…æ›´å¤šæ—¶é—´æ‰èƒ½å–åˆ°è¡Œæï¼Œè¿™å°±æ˜¯ç½‘ç»œå»¶æ—¶ä¼šå˜é«˜çš„åŸå› ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 root@pekt3dr01n08:~# ethtool -g enp66s0f0 Ring parameters for enp66s0f0: Pre-set maximums: RX: 8192 RX Mini: 0 RX Jumbo: 0 TX: 8192 Current hardware settings: RX: 1024 RX Mini: 0 RX Jumbo: 0 TX: 1024 root@pekt3dr01n07:~# iperf -c pekt3dr01n08 -i 1 -t 3 -P 1 ------------------------------------------------------------ Client connecting to pekt3dr01n08, TCP port 5001 TCP window size: 85.</description></item><item><title>rust é¡¹ç›®ä¸Šæ‰‹</title><link>https://www.ryken.cloud/rust-%E9%A1%B9%E7%9B%AE%E4%B8%8A%E6%89%8B/</link><pubDate>Thu, 20 Jun 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/rust-%E9%A1%B9%E7%9B%AE%E4%B8%8A%E6%89%8B/</guid><description>openelb ä¿®æ”¹ä¸º rust è¯­è¨€ kube-rs/controller-rs: A kubernetes reference controller (github.com) kube-rs/kube: Rust Kubernetes client and controller runtime (github.</description></item><item><title>1. Kubernetes DNS</title><link>https://www.ryken.cloud/1.-Kubernetes-DNS/</link><pubDate>Wed, 19 Jun 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/1.-Kubernetes-DNS/</guid><description>Kubernetes DNS è§„èŒƒ Records for a Service with ClusterIP A/AAAA recordsÂ  kubernetes.default.svc.cluster.local. 4 IN A 10.3.0.1 kubernetes.default.svc.cluster.local. 4 IN AAAA 2001:db8::1 SRV recordsÂ  æœªå‘½åçš„ç«¯å£æ²¡æœ‰ SRV è®°å½•</description></item><item><title>coredns ä½¿ç”¨</title><link>https://www.ryken.cloud/5.-CoreDNS-%E4%BD%BF%E7%94%A8/</link><pubDate>Wed, 19 Jun 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/5.-CoreDNS-%E4%BD%BF%E7%94%A8/</guid><description>æ–‡æ¡£é“¾æ¥ï¼š Customizing DNS Service | Kubernetes</description></item><item><title>Calico over IP fabrics</title><link>https://www.ryken.cloud/Calico-over-IP-fabrics/</link><pubDate>Tue, 18 Jun 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Calico-over-IP-fabrics/</guid><description>å®˜æ–¹æ–‡æ¡£é“¾æ¥ï¼š
Calico over IP fabrics | Calico Documentation ä¸‰ç§æ¨¡å‹ The AS Per Rack model æ¯ä¸ª TOR äº¤æ¢æœºï¼ˆåŠå…¶é™„å±è®¡ç®—æœåŠ¡å™¨ï¼‰éƒ½æ˜¯ä¸€ä¸ªç‹¬ç‰¹çš„è‡ªæ²»ç³»ç»Ÿ (AS)ï¼Œå¹¶ä¸”å®ƒä»¬é€šè¿‡å¶/ä¸»å¹²æ¶æ„ä¸­çš„ä¸»å¹²äº¤æ¢æœºæä¾›çš„ä»¥å¤ªç½‘äº¤æ¢å¹³é¢æˆ–é€šè¿‡ä¸€ç»„äº’è¿éª¨å¹²äº¤æ¢æœºï¼Œæ¯ä¸ªéª¨å¹²äº¤æ¢æœºä¹Ÿæ˜¯ä¸€ä¸ªå”¯ä¸€çš„ASã€‚</description></item><item><title>å…¶ä»–èµ„æ–™-å·¥å…·</title><link>https://www.ryken.cloud/%E5%85%B6%E4%BB%96%E8%B5%84%E6%96%99-%E5%B7%A5%E5%85%B7/</link><pubDate>Tue, 18 Jun 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%85%B6%E4%BB%96%E8%B5%84%E6%96%99-%E5%B7%A5%E5%85%B7/</guid><description> xdp-project/xdp-tools: Utilities and example programs for use with XDP</description></item><item><title>å®¹æ˜“å¯¼è‡´ä¸¢åŒ…çš„å†…æ ¸é…ç½®é¡¹</title><link>https://www.ryken.cloud/%E5%AE%B9%E6%98%93%E5%AF%BC%E8%87%B4%E4%B8%A2%E5%8C%85%E7%9A%84%E5%86%85%E6%A0%B8%E9%85%8D%E7%BD%AE%E9%A1%B9/</link><pubDate>Tue, 18 Jun 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%AE%B9%E6%98%93%E5%AF%BC%E8%87%B4%E4%B8%A2%E5%8C%85%E7%9A%84%E5%86%85%E6%A0%B8%E9%85%8D%E7%BD%AE%E9%A1%B9/</guid><description> [[arp proxy | arp_ignore]] &amp;mdash;- [[arp ç›¸å…³å†…æ ¸å‚æ•°]] [[rp_filter é—®é¢˜ | rp_filter]]</description></item><item><title>å¸¸è§é—®é¢˜</title><link>https://www.ryken.cloud/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/</link><pubDate>Tue, 18 Jun 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98/</guid><description>éƒ¨ç½²ä¹‹åç½‘ç»œä¸é€š æ£€æŸ¥Calico IPPoolç½‘æ®µæ˜¯å¦ä¸èŠ‚ç‚¹ç½‘æ®µé‡å  æ£€æŸ¥rp_filter, arp_ignoreç­‰å‚æ•°æ˜¯å¦é…ç½®æ­£ç¡® æ‰§è¡Œä¸‹iptables -t filter -F æŸ¥çœ‹æ˜¯å¦æ˜¯é˜²ç«å¢™å½±å“ æ£€æŸ¥æ˜¯å¦iptables FORWARDé»˜è®¤è§„åˆ™æ˜¯å¦æ˜¯ACCEPT æ£€æŸ¥IAASæ˜¯å¦æ”¾å¼€å®‰å…¨ç»„ï¼Œ æ˜¯å¦æ”¯æŒIPIPï¼ˆazureå°±ä¸æ”¯æŒIPIPï¼‰ éƒ¨ç½²ä¹‹åCalico Nodeå¯åŠ¨å¤±è´¥ æ£€æŸ¥æ˜¯å¦èŠ‚ç‚¹é…ç½®å¤šä¸ªç½‘å¡ï¼Œ å¦‚æœæ˜¯é‚£ä¹ˆä¿®æ”¹IP_AUTODETECTION_METHOD https://docs.</description></item><item><title>ç½‘ç»œæ•°æ®è·¯å¾„</title><link>https://www.ryken.cloud/%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E8%B7%AF%E5%BE%84/</link><pubDate>Tue, 18 Jun 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E8%B7%AF%E5%BE%84/</guid><description>Ciliumå­¦ä¹ ç¬”è®°
Ciliumç”¨åˆ°çš„é’©å­åŒ…æ‹¬ï¼š
é’©å­ è¯´æ˜ XDP ç½‘ç»œè·¯å¾„ä¸Šæœ€æ—©çš„ã€å¯ä»¥è½¯ä»¶ä»‹å…¥çš„ç‚¹ï¼Œåœ¨é©±åŠ¨æ¥æ”¶åˆ°å°åŒ…ä¹‹åï¼Œå…·æœ‰æœ€å¥½çš„å°åŒ…å¤„ç†æ€§èƒ½</description></item><item><title>2. XDP ä»‹ç»</title><link>https://www.ryken.cloud/2.-XDP-%E4%BB%8B%E7%BB%8D/</link><pubDate>Thu, 16 May 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/2.-XDP-%E4%BB%8B%E7%BB%8D/</guid><description>XDP - eXpress Data Path XDP ä¼ å…¥å‚æ•°ï¼š
XDPæš´éœ²çš„é’©å­å…·æœ‰ç‰¹å®šçš„è¾“å…¥ä¸Šä¸‹æ–‡ï¼Œå®ƒæ˜¯å•ä¸€è¾“å…¥å‚æ•°ã€‚å®ƒçš„ç±»å‹ä¸º struct xdp_mdï¼Œåœ¨å†…æ ¸å¤´æ–‡ä»¶ bpf.h ä¸­å®šä¹‰ï¼Œå…·ä½“å­—æ®µå¦‚ä¸‹æ‰€ç¤ºï¼š
1 2 3 4 5 6 7 8 9 10 struct xdp_md { __u32 data; __u32 data_end; __u32 data_meta; /* Below access go through struct xdp_rxq_info */ __u32 ingress_ifindex; /* rxq-&amp;gt;dev-&amp;gt;ifindex */ __u32 rx_queue_index; /* rxq-&amp;gt;queue_index */ __u32 egress_ifindex; /* txq-&amp;gt;dev-&amp;gt;ifindex */ }; data å’Œ data_end å­—æ®µåˆ†åˆ«æ˜¯æ•°æ®åŒ…å¼€å§‹å’Œç»“æŸçš„æŒ‡é’ˆï¼Œå®ƒä»¬æ˜¯ç”¨æ¥è·å–å’Œè§£æä¼ æ¥çš„æ•°æ® data_metaæŒ‡é’ˆï¼Œåˆå§‹é˜¶æ®µå®ƒæ˜¯ä¸€ä¸ªç©ºé—²çš„å†…å­˜åœ°å€ï¼Œä¾›XDPç¨‹åºä¸å…¶ä»–å±‚äº¤æ¢æ•°æ®åŒ…å…ƒæ•°æ®æ—¶ä½¿ç”¨ã€‚ æœ€åä¸¤ä¸ªå­—æ®µåˆ†åˆ«æ˜¯æ¥æ”¶æ•°æ®åŒ…çš„æ¥å£å’Œå¯¹åº”çš„RXé˜Ÿåˆ—çš„ç´¢å¼•ã€‚å½“è®¿é—®è¿™ä¸¤ä¸ªå€¼æ—¶ï¼ŒBPFä»£ç ä¼šåœ¨å†…æ ¸å†…éƒ¨é‡å†™ï¼Œä»¥è®¿é—®å®é™…æŒæœ‰è¿™äº›å€¼çš„å†…æ ¸ç»“æ„struct xdp_rxq_infoã€‚ XDP action ç±»å‹ï¼š</description></item><item><title>5. å¼€å‘è‡ªå·±çš„ ebpf</title><link>https://www.ryken.cloud/5.-%E5%BC%80%E5%8F%91%E8%87%AA%E5%B7%B1%E7%9A%84-ebpf/</link><pubDate>Thu, 16 May 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/5.-%E5%BC%80%E5%8F%91%E8%87%AA%E5%B7%B1%E7%9A%84-ebpf/</guid><description>å¼€å‘ ebpf éœ€è¦çš„å·¥å…·é“¾ apt install libelf-dev gcc-multilib clang llvm
bcc BCCå…¨ç§°ä¸ºBPF Compiler Collectionï¼Œè¯¥é¡¹ç›®æ˜¯ä¸€ä¸ªpythonåº“ï¼Œ åŒ…å«äº†å®Œæ•´çš„ç¼–å†™ã€ç¼–è¯‘ã€å’ŒåŠ è½½BPFç¨‹åºçš„å·¥å…·é“¾ï¼Œä»¥åŠç”¨äºè°ƒè¯•å’Œè¯Šæ–­æ€§èƒ½é—®é¢˜çš„å·¥å…·ã€‚
é¡¹ç›®åœ°å€ï¼š https://github.com/iovisor/bcc
libbpf å¦‚æœä½¿ç”¨ libbpf åº“æ¥è¿›è¡ŒåŠ è½½ï¼Œéœ€è¦æˆ‘ä»¬å†é¢å¤–ç¼–å†™ä¸€éƒ¨åˆ†ç”¨æˆ·ç©ºé—´ä»£ç ï¼Œè¿™å’Œå¼€å‘å…¶å®ƒç±»å‹çš„ eBPF ç¨‹åºçš„æµç¨‹æ˜¯ç›¸åŒçš„ã€‚</description></item><item><title>4. XDPã€TC æ¯”è¾ƒ</title><link>https://www.ryken.cloud/4.-XDPTC-%E6%AF%94%E8%BE%83/</link><pubDate>Mon, 13 May 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/4.-XDPTC-%E6%AF%94%E8%BE%83/</guid><description>è¿™ä¸¤ä¸ªé’©å­éƒ½å¯ä»¥ç”¨äºç›¸åŒçš„åº”ç”¨åœºæ™¯ï¼Œå¦‚DDoSç¼“è§£ã€éš§é“ã€å¤„ç†é“¾è·¯å±‚ä¿¡æ¯ç­‰ã€‚ä½†æ˜¯ï¼Œç”±äºXDPåœ¨ä»»ä½•å¥—æ¥å­—ç¼“å†²åŒºï¼ˆSKBï¼‰åˆ†é…ä¹‹å‰è¿è¡Œï¼Œæ‰€ä»¥å®ƒå¯ä»¥è¾¾åˆ°æ¯”TCä¸Šçš„ç¨‹åºæ›´é«˜çš„ååé‡å€¼ã€‚ç„¶è€Œï¼Œåè€…å¯ä»¥ä»é€šè¿‡ struct __sk_buff æä¾›çš„é¢å¤–çš„è§£ææ•°æ®ä¸­å—ç›Šï¼Œå¹¶ä¸”å¯ä»¥æ‰§è¡Œ BPF ç¨‹åºï¼Œå¯¹å…¥ç«™æµé‡å’Œå‡ºç«™æµé‡éƒ½å¯ä»¥æ‰§è¡Œ BPF ç¨‹åºï¼Œæ˜¯ TX é“¾è·¯ä¸Šçš„èƒ½è¢«æ“æ§çš„æœ€ä¸€å±‚ã€‚</description></item><item><title>bpftool ä½¿ç”¨</title><link>https://www.ryken.cloud/bpftool-%E4%BD%BF%E7%94%A8/</link><pubDate>Mon, 13 May 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/bpftool-%E4%BD%BF%E7%94%A8/</guid><description>bcc/bpftrace/bpftool
å…¶ä»– å¯ä»¥é€šè¿‡llvm-objdumpè¿™ä¸ªå·¥å…·æ¥åˆ†æä¸‹è¿™ä¸ªå¯æ‰§è¡Œæ–‡ä»¶çš„åæ±‡ç¼–æŒ‡ä»¤ä¿¡æ¯ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 llvm-objdump -S xdp-drop.</description></item><item><title>ä½¿ç”¨ ebpf çš„é¡¹ç›®</title><link>https://www.ryken.cloud/%E4%BD%BF%E7%94%A8-ebpf-%E7%9A%84%E9%A1%B9%E7%9B%AE/</link><pubDate>Fri, 10 May 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E4%BD%BF%E7%94%A8-ebpf-%E7%9A%84%E9%A1%B9%E7%9B%AE/</guid><description>eBPF Applications Landscape
åŸºç¡€è®¾æ–½åº“ï¼š
https://github.com/libbpf/libbpf-rs https://github.com/aya-rs/aya kubernetes-sigs/blixt: Layer 4 Kubernetes load-balancer (github.com)</description></item><item><title>ä½¿ç”¨ libebpf</title><link>https://www.ryken.cloud/%E4%BD%BF%E7%94%A8-libebpf/</link><pubDate>Fri, 10 May 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E4%BD%BF%E7%94%A8-libebpf/</guid><description/></item><item><title>è°ƒè¯• BPF ç¨‹åº</title><link>https://www.ryken.cloud/%E8%B0%83%E8%AF%95-BPF-%E7%A8%8B%E5%BA%8F/</link><pubDate>Wed, 08 May 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E8%B0%83%E8%AF%95-BPF-%E7%A8%8B%E5%BA%8F/</guid><description>I use these three methods:
bpf_printk - so far works best bpftool - to dump map entries bpfmon( https://github.com/CrowdStrike/bpfmon-example) - to get notifications when map entries are updated.</description></item><item><title/><link>https://www.ryken.cloud/felix-%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B/</link><pubDate>Tue, 07 May 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/felix-%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B/</guid><description>#calico-felix #calico-ebpf
å…¥å£å¤„ï¼šfelix/dataplane/linux/int_dataplane.goÂ çš„Â NewIntDataplaneDriver()Â å‡½æ•°ï¼Œè¿›è¡Œdataplaneçš„åˆå§‹åŒ– é¦–å…ˆä¼šåˆ¤æ–­æ˜¯å¦å¼€å¯äº†BPFï¼Œå¦‚æœæ˜¯å¼€å¯çŠ¶æ€ï¼Œåˆ™è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š 1ï¼‰æ³¨å†Œ map managerï¼Œè¯¥managerçš„ä½œç”¨æ˜¯è´Ÿè´£ç®¡ç†ebpfçš„mapï¼ˆmapç”¨äºuserspaceå’Œkernelä¹‹é—´è¿›è¡Œæ•°æ®çš„å…±äº«ï¼‰ 2ï¼‰æ³¨å†Œendpoint managerï¼Œè¯¥managerçš„ä½œç”¨æ˜¯è´Ÿè´£å„ç§epçš„ç®¡ç†ï¼ŒåŒ…æ‹¬hostã€workloadç­‰ 3ï¼‰åˆ›å»ºå„ç§mapï¼Œæ¯”å¦‚natçš„frontendMapã€backendMapã€routeMapã€conntrackMapç­‰ 4ï¼‰å¼€å¯kube-proxyï¼Œæ³¨æ„æ­¤kube-proxyå¹¶ékubernetesçš„kube-proxyï¼Œè€Œæ˜¯proxyçš„ä¸€ä¸ªå°è£…ï¼Œè´Ÿè´£å’Œkubernetesé€šä¿¡ï¼Œç»´æŠ¤å„ç§mapä¸­çš„ä¿¡æ¯ 5ï¼‰è‹¥BPFConnTimeEnabledå¼€å¯ï¼Œåˆ™å®‰è£…connect_time_loadbalancerï¼Œå³åŠ è½½ç›¸å…³çš„eBPFç¨‹åº 6ï¼‰å¯åŠ¨dataplaneï¼ˆè¿™éƒ¨åˆ†æš‚ä¸æ¶‰åŠconnect_time_loadbalancerï¼Œæœ¬æ–‡æš‚ä¸åˆ†æï¼‰
calico å…¨éƒ¨çš„ç»„ä»¶ä»¥åŠå…¶è¿›ç¨‹æ ‘è¯¦è§ï¼š[[CloudNative/cni-network/calico/ç»„ä»¶åˆ†æ/ç»„ä»¶]] felix ç»„ä»¶ [[felix]]</description></item><item><title>conntrack ç–‘éš¾æ‚ç—‡</title><link>https://www.ryken.cloud/conntrack-%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/</link><pubDate>Tue, 07 May 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/conntrack-%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/</guid><description>dmesg -T å†…æ ¸æ—¥å¿— conntrack -L # List conntrack or expectation table conntrack -S # Show statistics ç½‘å¡ç»Ÿè®¡åŒ… ip -s link show eth0 ethtool -S eth0 ifconfig eth0 cat /proc/net/netstat è¿æ¥å¤ªå¤šå¯¼è‡´ conntrack table è¢«æ‰“çˆ† ç°è±¡ ä¸šåŠ¡å±‚ï¼ˆåº”ç”¨å±‚ï¼‰ç°è±¡ å­˜åœ¨éšæœºã€å¶å‘çš„ ==æ–°å»ºè¿æ¥== è¶…æ—¶ï¼ˆconnect timeoutï¼‰ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœä¸šåŠ¡ç”¨çš„æ˜¯ Javaï¼Œé‚£å¯¹åº”çš„æ˜¯Â jdbc4.</description></item><item><title>å®¹å™¨ç½‘ç»œç–‘éš¾æ’æŸ¥æ¡ˆä¾‹</title><link>https://www.ryken.cloud/%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E7%96%91%E9%9A%BE%E6%8E%92%E6%9F%A5%E6%A1%88%E4%BE%8B/</link><pubDate>Mon, 06 May 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%AE%B9%E5%99%A8%E7%BD%91%E7%BB%9C%E7%96%91%E9%9A%BE%E6%8E%92%E6%9F%A5%E6%A1%88%E4%BE%8B/</guid><description>é—®é¢˜ä¸€ï¼šcalicoç‰¹å®šåœºæ™¯ä¸‹çš„ç½‘ç»œæ€§èƒ½é—®é¢˜ iptraf-ngå‘½ä»¤è§‚å¯Ÿç½‘å¡æµé‡ ip linkx show devname sysctl -aæŸ¥è¯¢ç½‘å¡ç›¸å…³çš„ç³»ç»Ÿå‚æ•° ethoolæŸ¥è¯¢ç½‘å¡é…ç½® ethtool -K vxlan.calico tx onä¿®æ”¹å‚æ•° ç»“è®ºï¼š calicoé»˜è®¤å…³æ‰äº† checksum è¿™ä¸ªé…ç½®é¡¹ checksumå’Œoffloadæ˜¯å…³è”çš„é…ç½®é¡¹ï¼ŒçœŸæ­£å½±å“æˆ‘ä»¬æµ‹è¯•æ€§èƒ½çš„åº”è¯¥æ˜¯offloadè¿™ä¸ªé…ç½®ï¼Œæ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡åæ¢å¤</description></item><item><title>ä»¥systemdå¯åŠ¨</title><link>https://www.ryken.cloud/%E4%BB%A5systemd%E5%90%AF%E5%8A%A8/</link><pubDate>Fri, 19 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E4%BB%A5systemd%E5%90%AF%E5%8A%A8/</guid><description>ä»¥ ubuntu 22.04 ä¸ºä¾‹ é¦–å…ˆæ­£å¸¸å®‰è£… calicoï¼Œå¹¶ç¡®ä¿å…¶è¿è¡ŒçŠ¶æ€æ­£å¸¸
å®‰è£… runit/bird/ipset 1 apt-get installÂ runit runit-systemd ipset -y ä¿®æ”¹ç›¸å…³é…ç½® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 # 1.</description></item><item><title/><link>https://www.ryken.cloud/Calico-Full-Mesh-BGP-%E6%8A%A5%E6%96%87/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Calico-Full-Mesh-BGP-%E6%8A%A5%E6%96%87/</guid><description>#bgp #calico-bgp
é›†ç¾¤ç¯å¢ƒ èŠ‚ç‚¹ ip åœ°å€ è§’è‰² node1 172.30.10.2 master+worker node2 172.</description></item><item><title/><link>https://www.ryken.cloud/calico-iperf/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-iperf/</guid><description>calico å†…éƒ¨ node - node pod - pod ï¼ˆè‡ªèº«ï¼‰ pod - nodeï¼ˆåŒï¼‰ pod - node iperf3å·¥å…·æ¯100mså‘ä¸€è½®æŠ¥æ–‡ï¼Œæ¯æ¬¡åœ¨2ã€3mså†…ç¬é—´å‘å®Œï¼Œiperfå·¥å…·åˆ™å‡åŒ€çš„å‘é€æŠ¥æ–‡ï¼Œæ¥å£é™é€Ÿä½¿ç”¨ iperf3 ä½œä¸ºæµ‹è¯•å·¥å…·éœ€è¦è°ƒæ•´ä»¤ç‰Œæ¡¶å‚æ•°ä»¥è¾¾åˆ°æœ€ä½³æ•ˆæœã€‚</description></item><item><title/><link>https://www.ryken.cloud/Calico-TOR-BGP-%E6%8A%A5%E6%96%87/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Calico-TOR-BGP-%E6%8A%A5%E6%96%87/</guid><description>#bgp #calico-bgp #calico
é›†ç¾¤ç¯å¢ƒ èŠ‚ç‚¹ ip åœ°å€ è§’è‰² node1 10.1.5.11 master+worker node2 10.</description></item><item><title/><link>https://www.ryken.cloud/calico-%E8%BF%90%E8%90%A5%E9%97%AE%E9%A2%98/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-%E8%BF%90%E8%90%A5%E9%97%AE%E9%A2%98/</guid><description>#calico #issue
é…ç½®etcd calico æ”¯æŒä¸¤ç§æ•°æ®å­˜å‚¨ï¼Œä¸€ç§æ˜¯ä½¿ç”¨ kubernetes api æ¥å£æ¥å¯¹å…¶ etcd è¿›è¡Œè¯»å†™æ“ä½œï¼›ä¸€ç§ç›´æ¥è¿æ¥ etcd è¿›è¡Œè¯»å†™æ“ä½œï¼ŒåŒæ—¶ calico æ”¯æŒé…ç½® etcd tls è¿›è¡Œæ•°æ®åŠ å¯†å®ç°å®‰å…¨çš„å­˜å‚¨ï¼Œå¯¹äº etcd ç›¸å…³çš„è¯ä¹¦ç”Ÿæˆä»¥åŠæ›´æ–°ç»´æŠ¤ä¸åœ¨ calico ç®¡ç†èŒƒå›´ä¹‹å†…ã€‚ docs/generate-self-signed-certificates.</description></item><item><title/><link>https://www.ryken.cloud/felix/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/felix/</guid><description>felix ä¸»è¦çš„å·¥ä½œç»„ä»¶ï¼šsyncer, CalcGraph, dataplane
SyncerÂ åç¨‹è´Ÿè´£ç›‘å¬ datastore ä¸­çš„æ›´æ–°ï¼Œå¹¶å°†æ›´æ–°çš„å†…å®¹é€šè¿‡ channel å‘é€ç»™Â ValidatorÂ åç¨‹ã€‚Validator å®Œæˆæ ¡éªŒåï¼Œå°†å…¶å‘é€ç»™Â Calc graphÂ åç¨‹ã€‚Calc graph å®Œæˆè®¡ç®—åï¼Œå‘é€ç»™dataplaneåç¨‹ã€‚æœ€ådataplaneå®Œæˆæ•°æ®å¹³é¢å¤„ç†ã€‚ syncer, calicoctl å¯ä»¥ç›´æ¥å‘ datastore å¢åˆ æ”¹æŸ¥ä¸€ç³»åˆ— Resourceã€‚syncer åŒæ­¥ä¸”ç›‘å¬è¿™äº›Resourceï¼Œå½“èµ„æºå˜åŠ¨æ—¶ï¼Œé€šè¿‡å›è°ƒonUpdate é€šçŸ¥ä¸‹æ¸¸ç»„ä»¶ï¼ˆæ¯”å¦‚CalcGraphï¼‰ã€‚ CalcGraph, syncer ä¼ é€’çš„ datastore æ•°æ®é€šå¸¸ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦CalcGraph åšä¸€äº›è®¡ç®—å’Œå½’å¹¶å†äº¤ç»™dataplane dataplane è´Ÿè´£å¯¹ node åšå‡ºå¤„ç†ã€‚ dataplane åˆ†ä¸ºæœ¬åœ°å’Œè¿œç¨‹ä¸¤ç§å½¢æ€ï¼Œå¦‚æœæ˜¯æœ¬åœ°è¿è¡Œï¼Œåˆ™é€šè¿‡channel ç›´æ¥ä¼ è¾“ proto modelï¼Œå¦‚æœæ˜¯dataplane è¿œç¨‹ç‹¬ç«‹è¿è¡Œï¼Œåˆ™æ‰§è¡Œgrpc è°ƒç”¨ï¼› github.</description></item><item><title/><link>https://www.ryken.cloud/%E5%85%89%E5%A4%A7-calico-bgp-%E6%96%AD%E8%81%94%E5%8E%9F%E5%9B%A0/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%85%89%E5%A4%A7-calico-bgp-%E6%96%AD%E8%81%94%E5%8E%9F%E5%9B%A0/</guid><description>èƒŒæ™¯ + åˆ†æ è¡Œå†…åœ¨è¿›è¡Œ http çŸ­è¿æ¥æ€§èƒ½æµ‹è¯•æ—¶ï¼Œcalico æ„å¤–é‡å¯ï¼Œè€Œ calico é‡å¯å¯¼è‡´äº†èŠ‚ç‚¹ä¸äº¤æ¢æœº bgp æ–­è¿ï¼Œè§¦å‘è¡Œå†…äº¤æ¢æœºç›‘æ§å‘Šè­¦ã€‚ é‡å¯æ—¶æŸ¥çœ‹ä¹‹å‰å®¹å™¨æ—¥å¿—å‘ç°å¹¶æ²¡æœ‰æ˜æ˜¾çš„é”™è¯¯æ—¥å¿—ï¼ŒæŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—å‘ç°åŒä¸€æ—¶é—´æ®µ kubelet æ¢é’ˆè¶…æ—¶å¤±è´¥ï¼Œå¹¶ä¸”ä¹Ÿæœ‰å…¶ä»– pod å‘ç”Ÿé‡å¯çš„æ—¥å¿—ã€‚ ç”±äºæ˜¯é’ˆå¯¹ä¸ç½‘ç»œçš„æµ‹è¯•ï¼Œæ‰€æœ‰åˆ†æå¹¶æå‡ºä»¥ä¸‹è§£å†³æ–¹æ¡ˆï¼š æ’æŸ¥è·¯ç”±æ•°é‡ å¯¹äºè·¯ç”±èšåˆ
äº¤æ¢æœºä¾§ï¼šå…ˆè®¨è®ºäº¤æ¢æœºä¸Šå¯è¡Œæ€§ï¼Œä½†å› ä¸ºä¸¤ä¼šæœŸé—´ï¼Œè¡Œå†…å°ç½‘æ— æ³•è¿›è¡Œäº¤æ¢æœºé…ç½®çš„æ”¹åŠ¨ï¼Œæ²¡æœ‰è¿›è¡Œå°è¯• bird é…ç½®ï¼šä¸´æ—¶ä¿®æ”¹äº† calico bird é…ç½®ï¼ˆè¿›å…¥ docker merge è¯»å†™å±‚ä¿®æ”¹ bird é…ç½®æ–‡ä»¶ï¼Œå¹¶æ‰‹åŠ¨åˆ›å»º/åˆ é™¤ ippoolï¼Œè®© confd é‡æ–°åˆ·æ–°é…ç½®å¹¶ç”Ÿæ•ˆï¼Œæ³¨æ„é‡å¯ calico åï¼Œbird é…ç½®ä¼šå¤åŸï¼‰ï¼Œè®©å…¶åªå¯¼å…¥é›†ç¾¤ç›¸å…³çš„è·¯ç”±ï¼Œå°†è·¯ç”±æ•°é‡ç”±5600å¤šå‡å°‘åˆ° 100 å·¦å³ã€‚ å‡å°‘è·¯ç”±åæµ‹è¯•ï¼Œcalico ä»ç„¶ä¼šè§¦å‘é‡å¯ï¼Œæ’é™¤è·¯ç”±æ•°é‡çš„å› ç´ ã€‚</description></item><item><title/><link>https://www.ryken.cloud/%E5%86%85%E6%A0%B8%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%86%85%E6%A0%B8%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0/</guid><description/></item><item><title/><link>https://www.ryken.cloud/%E7%BB%84%E4%BB%B6/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%BB%84%E4%BB%B6/</guid><description>calico-node calico-controller
å¥åº·æ£€æŸ¥
ready live calico-node å®¹å™¨ä»¥runit ä½œä¸ºè¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œè¿è¡Œå¤šä¸ªè¿›ç¨‹
è¿›ç¨‹æ ‘ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 # ps -ef UID PID PPID C STIME TTY TIME CMD root 1 0 0 Jul28 ?</description></item><item><title>1. æ‰€æœ‰æƒ</title><link>https://www.ryken.cloud/1.-%E6%89%80%E6%9C%89%E6%9D%83/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/1.-%E6%89%80%E6%9C%89%E6%9D%83/</guid><description>æ‰€æœ‰æƒ æ‰€æœ‰è¿è¡Œçš„ç¨‹åºéƒ½å¿…é¡»ç®¡ç†å…¶ä½¿ç”¨è®¡ç®—æœºå†…å­˜çš„æ–¹å¼ã€‚
ä¸€äº›è¯­è¨€ä¸­å…·æœ‰åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶ä¸æ–­åœ°å¯»æ‰¾ä¸å†ä½¿ç”¨çš„å†…å­˜ï¼› ä¸€äº›è¯­è¨€ä¸­ï¼Œç¨‹åºå‘˜å¿…é¡»äº²è‡ªåˆ†é…å’Œé‡Šæ”¾å†…å­˜ã€‚ Rust åˆ™é€‰æ‹©é€šè¿‡æ‰€æœ‰æƒç³»ç»Ÿç®¡ç†å†…å­˜ï¼ˆç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶ä¼šæ ¹æ®ä¸€ç³»åˆ—çš„è§„åˆ™è¿›è¡Œæ£€æŸ¥ã€‚åœ¨è¿è¡Œæ—¶ï¼Œæ‰€æœ‰æƒç³»ç»Ÿçš„ä»»ä½•åŠŸèƒ½éƒ½ä¸ä¼šå‡æ…¢ç¨‹åºï¼‰ è·Ÿè¸ªå“ªéƒ¨åˆ†ä»£ç æ­£åœ¨ä½¿ç”¨å †ä¸Šçš„å“ªäº›æ•°æ®ï¼Œæœ€å¤§é™åº¦çš„å‡å°‘å †ä¸Šçš„é‡å¤æ•°æ®çš„æ•°é‡ï¼Œä»¥åŠæ¸…ç†å †ä¸Šä¸å†ä½¿ç”¨çš„æ•°æ®ç¡®ä¿ä¸ä¼šè€—å°½ç©ºé—´ï¼Œè¿™äº›é—®é¢˜æ­£æ˜¯æ‰€æœ‰æƒç³»ç»Ÿè¦å¤„ç†çš„ã€‚æ‰€æœ‰æƒçš„å­˜åœ¨å°±æ˜¯ä¸ºäº†ç®¡ç†å †æ•°æ®ã€‚
æ‰€æœ‰æƒè®© rust æ— éœ€åƒåœ¾å›æ”¶å³å¯ä¿éšœå†…å­˜å®‰å…¨ã€‚
æ‰€æœ‰æƒè§„åˆ™
Rust ä¸­çš„æ¯ä¸€ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªè¢«ç§°ä¸ºå…¶Â æ‰€æœ‰è€…ï¼ˆownerï¼‰çš„å˜é‡ã€‚ å€¼æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ‰€æœ‰è€…ã€‚ å½“æ‰€æœ‰è€…ï¼ˆå˜é‡ï¼‰ç¦»å¼€ä½œç”¨åŸŸï¼Œè¿™ä¸ªå€¼å°†è¢«ä¸¢å¼ƒã€‚ Rust å†…å­˜å›æ”¶ç­–ç•¥ï¼šå†…å­˜åœ¨æ‹¥æœ‰å®ƒçš„å˜é‡ç¦»å¼€ä½œç”¨åŸŸåå°±è¢«è‡ªåŠ¨é‡Šæ”¾ã€‚å½“å˜é‡ç¦»å¼€ä½œç”¨åŸŸï¼ŒRust ä¸ºæˆ‘ä»¬è°ƒç”¨ä¸€ä¸ªç‰¹æ®Šçš„Â dropå‡½æ•°ï¼Œé‡Šæ”¾å†…å­˜ã€‚</description></item><item><title>1.æ€§èƒ½æµ‹è¯•æ— æ³•æ»¡è¶³æœŸæœ› - reuse</title><link>https://www.ryken.cloud/1.%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E6%97%A0%E6%B3%95%E6%BB%A1%E8%B6%B3%E6%9C%9F%E6%9C%9B-reuse/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/1.%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E6%97%A0%E6%B3%95%E6%BB%A1%E8%B6%B3%E6%9C%9F%E6%9C%9B-reuse/</guid><description>åœ¨é«˜å¹¶å‘ã€çŸ­è¿æ¥çš„åœºæ™¯ä¸‹ï¼Œkube-proxy ipvså­˜åœ¨rsåˆ é™¤å¤±è´¥æˆ–æ˜¯å»¶è¿Ÿé«˜çš„é—®é¢˜ï¼Œç¤¾åŒºä¹Ÿæœ‰ä¸å°‘Issueåé¦ˆï¼Œæ¯”å¦‚ kube-proxy ipvs conn_reuse_mode setting causes errors with high load from single clientã€‚æ–‡æœ¬å¯¹è¿™äº›é—®é¢˜è¿›è¡Œäº†æ¢³ç†ï¼Œè¯•å›¾ä»‹ç»äº§ç”Ÿè¿™äº›é—®é¢˜çš„å†…éƒ¨åŸå› ã€‚ç”±äºèƒ½åŠ›æœ‰é™ï¼Œå…¶ä¸­æ¶‰åŠå†…æ ¸éƒ¨åˆ†ï¼Œåªèƒ½æµ…å°è¾„æ­¢ã€‚
èƒŒæ™¯ ç«¯å£é‡ç”¨ ä¸€åˆ‡é—®é¢˜æ¥æºäºç«¯å£é‡ç”¨ã€‚åœ¨TCPå››æ¬¡æŒ¥æ‰‹ä¸­æœ‰ä¸ªTIME_WAITçš„çŠ¶æ€ï¼Œä½œä¸ºå…ˆå‘é€FINåŒ…çš„ä¸€ç«¯ï¼Œåœ¨æ¥æ”¶åˆ°å¯¹ç«¯å‘é€çš„FINåŒ…åè¿›å…¥TIME_WAITï¼Œåœ¨ç»è¿‡2MSLåæ‰ä¼šçœŸæ­£å…³é—­è¿æ¥ã€‚TIME_WAITçŠ¶æ€çš„å­˜åœ¨ï¼Œä¸€æ¥å¯ä»¥é¿å…å°†ä¹‹å‰è¿æ¥çš„å»¶è¿ŸæŠ¥æ–‡ï¼Œä½œä¸ºå½“å‰è¿æ¥çš„æŠ¥æ–‡å¤„ç†ï¼›äºŒæ˜¯å¯ä»¥å¤„ç†æœ€åä¸€ä¸ªACKä¸¢å¤±å¸¦æ¥çš„é—®é¢˜ã€‚
è€Œåœ¨çŸ­è¿æ¥ã€é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œä¼šå‡ºç°å¤§é‡çš„TIME-WAITè¿æ¥ï¼Œå¯¼è‡´èµ„æºæ— æ³•åŠæ—¶é‡Šæ”¾ã€‚Linuxä¸­å†…æ ¸å‚æ•°net.ipv4.tcp_tw_reuseæä¾›äº†ä¸€ç§å‡å°‘TIME-WAITè¿æ¥çš„æ–¹å¼ï¼Œå¯ä»¥å°†TIME-WAITè¿æ¥çš„ç«¯å£åˆ†é…ç»™æ–°çš„TCPè¿æ¥ï¼Œæ¥å¤ç”¨ç«¯å£ã€‚
1 2 3 4 5 tcp_tw_reuse - BOOLEAN Allow to reuse TIME-WAIT sockets for new connections when it is safe from protocol viewpoint.</description></item><item><title>2. kube-proxy è·¨ vlan è®¿é—®</title><link>https://www.ryken.cloud/2.-kube-proxy-%E8%B7%A8-vlan-%E8%AE%BF%E9%97%AE/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/2.-kube-proxy-%E8%B7%A8-vlan-%E8%AE%BF%E9%97%AE/</guid><description>èƒŒæ™¯ ä½¿ç”¨ hybridnet æ­å»ºçš„ vlan ç¯å¢ƒåœ¨æµ‹è¯• svc çš„è¿é€šæ€§çš„æ—¶å€™å‘ç°äº†ä¸€ä¸ªå¾ˆç–‘æƒ‘çš„é—®é¢˜ å®é™…æ­å»ºçš„ç¯å¢ƒå¦‚ä¸‹ï¼š node22ã€node23ã€node24 ä¸‰ä¸ªèŠ‚ç‚¹å‡åœ¨ vlan 50ï¼›åˆ’åˆ†äº† vlan53 å’Œ vlan73 ç½‘ç»œåŸŸåï¼Œä¼šåœ¨ node22ã€node23 ä¸Šåˆ›å»ºç›¸åº”çš„å­æ¥å£ã€‚ ä½äºnode22ã€node23 ä¸Šçš„ pod åœ¨è®¿é—®åˆ†å¸ƒåœ¨ node24 çš„ pod æš´éœ²çš„ svc æ—¶ï¼ŒæŠ¥é”™ï¼š</description></item><item><title>2. å¼•ç”¨ä¸å€Ÿç”¨</title><link>https://www.ryken.cloud/2.-%E5%BC%95%E7%94%A8%E4%B8%8E%E5%80%9F%E7%94%A8/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/2.-%E5%BC%95%E7%94%A8%E4%B8%8E%E5%80%9F%E7%94%A8/</guid><description>ä¸å¯å˜å¼•ç”¨ calculate_lengthÂ å‡½æ•°ï¼Œå®ƒä»¥ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ä½œä¸ºå‚æ•°è€Œä¸æ˜¯è·å–å€¼çš„æ‰€æœ‰æƒ
1 2 3 4 5 6 7 8 9 fn main(){lets1=String::from(&amp;#34;hello&amp;#34;);letlen=calculate_length(&amp;amp;s1);println!(&amp;#34;The length of &amp;#39;{}&amp;#39; is {}.&amp;#34;,s1,len);}fn calculate_length(s: &amp;amp;String)-&amp;gt; usize {s.</description></item><item><title>3. slice ç±»å‹</title><link>https://www.ryken.cloud/3.-slice-%E7%B1%BB%E5%9E%8B/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/3.-slice-%E7%B1%BB%E5%9E%8B/</guid><description>slice å…è®¸ä½ å¼•ç”¨é›†åˆä¸­ä¸€æ®µè¿ç»­çš„å…ƒç´ åºåˆ—ï¼Œè€Œä¸ç”¨å¼•ç”¨æ•´ä¸ªé›†åˆã€‚slice æ²¡æœ‰æ‰€æœ‰æƒ
å¼•å‡ºé—®é¢˜ é¢˜ç›®ï¼šç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›åœ¨è¯¥å­—ç¬¦ä¸²ä¸­æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå•è¯ã€‚å¦‚æœå‡½æ•°åœ¨è¯¥å­—ç¬¦ä¸²ä¸­å¹¶æœªæ‰¾åˆ°ç©ºæ ¼ï¼Œåˆ™æ•´ä¸ªå­—ç¬¦ä¸²å°±æ˜¯ä¸€ä¸ªå•è¯ï¼Œæ‰€ä»¥åº”è¯¥è¿”å›æ•´ä¸ªå­—ç¬¦ä¸²ã€‚
å°† string è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„ï¼Œè¿”å›å­—èŠ‚ç´¢å¼•å€¼ 1 2 3 4 5 6 7 8 9 10 fn first_word(s: &amp;amp;String)-&amp;gt; usize {letbytes=s.</description></item><item><title>calico ipam è¿‡ç¨‹</title><link>https://www.ryken.cloud/calico-ipam-%E8%BF%87%E7%A8%8B/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-ipam-%E8%BF%87%E7%A8%8B/</guid><description>calico ipam ç›¸å…³ CRD èµ„æº èµ„æºå ä»‹ç» ippool ç”¨äº ipam åˆ†é…çš„ ip æ±  ipamblock block ä¸­ ip åˆ†é…ä¿¡æ¯ç­‰ blockaffinities ç”± ippool åˆ†å‰²çš„ç»†ç²’åº¦çš„ ip å—ä»¥åŠ block ä¸èŠ‚ç‚¹çš„äº²å’Œæ€§ç»‘å®šå…³ç³» ipamconfigs ç”¨äºé…ç½® ipam ç›¸å…³å‚æ•° ipamhandles ç”¨äºä¿å­˜ pod ä¸ block å…³ç³» ippool è¡¨ç¤º IP åœ°å€çš„é›†åˆï¼ŒCalico ä»ä¸­åˆ†é… IPç»™ podã€‚ ç¤ºä¾‹ yamlï¼š</description></item><item><title>calico ipip å’Œ bgp å…±å­˜</title><link>https://www.ryken.cloud/calico-ipip-%E5%92%8C-bgp-%E5%85%B1%E5%AD%98/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-ipip-%E5%92%8C-bgp-%E5%85%B1%E5%AD%98/</guid><description>calico å¸¸ç”¨çš„æœ‰ä¸‰ç§æ¨¡å¼ï¼šipipã€vxlan å’Œ bgpï¼Œå‰ä¸¤è€…å±äº overlay å°è£…ï¼Œæ— éœ€å…³å¿ƒåº•å±‚ç½‘ç»œï¼›è€Œ bgp æ˜¯ underlay æ¨¡å¼ï¼Œå¦‚æœé›†ç¾¤å¤–éƒ¨çš„äº¤æ¢æœºå’Œ calico å»ºç«‹äº† bgp è¿æ¥ï¼Œcalico bgp ä¼šå°†é›†ç¾¤å†…éƒ¨çš„è·¯ç”±å®£å‘Šå‡ºå»ï¼Œæ­¤æ—¶å°±éœ€è¦å…³æ³¨åº•å±‚ç½‘ç»œã€æ³¨æ„ä¸è¦å‡ºç° ip å†²çªçš„é—®é¢˜ã€‚
è®¨è®ºé›†ç¾¤å†…å®¹å™¨ç½‘ç»œçš„å°è£… calico ippool ä¸­é€šè¿‡ä»¥ä¸‹ä¸¤ä¸ªå­—æ®µæ¥å†³å®šï¼šè¯¥ ippool æ‰€å®šä¹‰çš„ç½‘æ®µä»¥ä»€ä¹ˆæ ·çš„æ¨¡å¼æ¥å°è£…ã€‚</description></item><item><title>calico å®‰è£…</title><link>https://www.ryken.cloud/calico-%E5%AE%89%E8%A3%85/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-%E5%AE%89%E8%A3%85/</guid><description>manifests å®‰è£… upgrade-ipam ç”¨äºå‡çº§ Calico CNI æ’ä»¶çš„ IPAM ç®¡ç†æ¨¡å—ï¼Œä»¥æ”¯æŒæ›´é«˜æ•ˆå’Œçµæ´»çš„ IP åœ°å€æ± çš„ç®¡ç†ã€‚ install-cni å®‰è£… calico-cni åˆ°æŒ‡å®šç›®å½• flexvol-driver å®¹å™¨å­˜å‚¨æ¥å£ï¼ˆCSIï¼‰é©±åŠ¨ç¨‹åº åœ¨æ¯ä¸ªpodä¸­è¿è¡Œçš„Felixå’ŒDikasteså®¹å™¨ä¹‹é—´å¯ç”¨å®‰å…¨è¿æ¥ã€‚å®ƒæŒ‚è½½äº†ä¸€ä¸ªå…±äº«å·ï¼ŒFelixå°†UnixåŸŸå¥—æ¥å­—æ’å…¥å…¶ä¸­ Dikastesæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒä¸Calicoçš„Felixç»„ä»¶ä¸€èµ·è¿è¡Œï¼Œç”¨äºåœ¨æ¯ä¸ªpodä¸­å®ç°åº”ç”¨å±‚ç­–ç•¥ã€‚å®ƒé€šè¿‡ä¸Felixå…±äº«çš„UnixåŸŸå¥—æ¥å­—ä¸Felixè¿›è¡Œé€šä¿¡ï¼Œä»¥ä¾¿åœ¨Envoyä»£ç†ä¸­æ‰§è¡ŒCalicoå®‰å…¨ç­–ç•¥ https://www.</description></item><item><title>calico ç½‘ç»œç­–ç•¥</title><link>https://www.ryken.cloud/calico-%E7%BD%91%E7%BB%9C%E7%AD%96%E7%95%A5/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-%E7%BD%91%E7%BB%9C%E7%AD%96%E7%95%A5/</guid><description>Kubernetes NetworkPolicyï¼š [[networkPolicy - ç½‘ç»œç­–ç•¥]] namespace çº§åˆ«çš„ç½‘ç»œç­–ç•¥ ç½‘ç»œç­–ç•¥åº”ç”¨äº labelSelector é€‰å–å‡ºçš„ pod ç½‘ç»œç­–ç•¥å¯ä»¥æŒ‡å®šå…è®¸ä»å“ªäº› pods æ¥ã€åˆ°å“ªäº› pods å»ã€namespace æˆ–è€… cidr çš„æµé‡ ç½‘ç»œç­–ç•¥å¯ä»¥æŒ‡å®šåè®®(TCP/UDP/SCTP)ï¼Œå¹¶æŒ‡å®šç‰¹å®šçš„ç«¯å£ Calico NetworkPolicy æ‰©å±•äº† kubernetes networkpolicy</description></item><item><title>calico è¿è¥æ–‡æ¡£</title><link>https://www.ryken.cloud/calico-%E8%BF%90%E8%90%A5%E6%96%87%E6%A1%A3/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-%E8%BF%90%E8%90%A5%E6%96%87%E6%A1%A3/</guid><description>æ–°å¢ or æ‰©å®¹ ippool å›ºå®š ip ns ä¸ subnet ç»‘å®š calico é™é€Ÿ calico çš„ tunnel åœ°å€ä¼šè‡ªåŠ¨åˆ†é… è¿ç§» ippool çš„å®¹é‡å‡†å¤‡ blockSize åº”è¯¥å¦‚ä½•å–å€¼ kubesphere é›†æˆäº†cni çš„ ippool å’Œ ç½‘ç»œç­–ç•¥ï¼Œks åœ¨ cni åŸºç¡€ä¹‹ä¸Šå°è£…äº†ä¸€å±‚ï¼Œç”¨äºå±è”½ä¸åŒ cni åº•å±‚å®ç°çš„ï¼Œç°é˜¶æ®µç‰ˆæœ¬ä¸­åº•å±‚ä¸­ä¸»è¦ä½¿ç”¨äº† calicoã€‚</description></item><item><title>calicoé…ç½®æ–‡ä»¶</title><link>https://www.ryken.cloud/calico%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/</guid><description>cni é…ç½®æ–‡ä»¶ 1 kubectl get cm -n kube-system calico-config -o yaml åœ¨å®‰è£… calico æ—¶ï¼Œconfigmap ä¸­çš„ç‰¹å®šå‚æ•°ä¼šæ›¿æ¢ä¸º calico å®šä¹‰çš„å€¼ï¼ŒåŒæ—¶è¯¥ configmap ä¹Ÿä¼šåœ¨ calico-daemonset çš„ init å®¹å™¨åˆå§‹åŒ–æ—¶ï¼Œè¢«æ‹·è´åˆ° /etc/cni/net.</description></item><item><title>ipvs ç›¸å…³çš„å†…æ ¸å‚æ•°</title><link>https://www.ryken.cloud/ipvs-%E7%9B%B8%E5%85%B3%E7%9A%84%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/ipvs-%E7%9B%B8%E5%85%B3%E7%9A%84%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0/</guid><description>ipvs ç›¸å…³å†…æ ¸æ–‡æ¡£ï¼š
IPvs-sysctl â€” The Linux Kernel documentation 1. å‚æ•° am_droprate 1 2 3 am_droprate - INTEGER default 10 It sets the always mode drop rate, which is used in the mode 3 of the drop_rate defense.</description></item><item><title>kubekey install k8s</title><link>https://www.ryken.cloud/kubekey-install-k8s/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kubekey-install-k8s/</guid><description>ä¸‹è½½ kubekey
1 2 export KKZONE=cn curl -sfL https://get-kk.kubesphere.io | VERSION=v2.3.0 sh - ç”Ÿæˆé…ç½®æ–‡ä»¶
1 2 3 4 5 6 7 8 .</description></item><item><title>Service NodePort</title><link>https://www.ryken.cloud/Service-NodePort/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Service-NodePort/</guid><description>kubernetes version state v1.20 alpha v1.22 beta, the feature gate feature switch needs to be turned on at the same time v1.</description></item><item><title>typha çš„æµ‹è¯•æ–¹æ¡ˆ</title><link>https://www.ryken.cloud/typha-%E7%9A%84%E6%B5%8B%E8%AF%95%E6%96%B9%E6%A1%88-old/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/typha-%E7%9A%84%E6%B5%8B%E8%AF%95%E6%96%B9%E6%A1%88-old/</guid><description>Typha å¼•å…¥å‰åæ€§èƒ½å¯¹æ¯”æµ‹è¯•æ–¹æ¡ˆï¼š æµ‹è¯•ç›®æ ‡ï¼š å¯¹æ¯”å¼•å…¥ Typha å‰å Calico åœ¨å¤§è§„æ¨¡ Kubernetes é›†ç¾¤ä¸­çš„æ€§èƒ½è¡¨ç°ï¼Œç‰¹åˆ«å¼ºè°ƒ Typha å¼•å…¥åè§£å†³çš„é—®é¢˜ï¼Œå³å‡å°‘æ¯ä¸ªèŠ‚ç‚¹å¯¹æ•°æ®å­˜å‚¨çš„ç›´æ¥è®¿é—®ä»¥å¢åŠ è§„æ¨¡ã€‚
æµ‹è¯•ç¯å¢ƒï¼š å¤§å‹ Kubernetes é›†ç¾¤ Calico æœªä½¿ç”¨ Typha çš„æƒ…å†µï¼ˆåŸºå‡†æµ‹è¯•ï¼‰ Calico ä½¿ç”¨ Typha çš„æƒ…å†µ æµ‹è¯•æ–¹æ¡ˆï¼š åŸºå‡†æµ‹è¯•ï¼ˆæœªå¯ç”¨ Typhaï¼‰ï¼š</description></item><item><title>typha çš„æµ‹è¯•æ–¹æ¡ˆ</title><link>https://www.ryken.cloud/typha-%E7%9A%84%E6%B5%8B%E8%AF%95%E6%96%B9%E6%A1%88/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/typha-%E7%9A%84%E6%B5%8B%E8%AF%95%E6%96%B9%E6%A1%88/</guid><description>Typha å¼•å…¥å‰åæ€§èƒ½å¯¹æ¯”æµ‹è¯•æ–¹æ¡ˆï¼š æµ‹è¯•ç›®æ ‡ï¼š å¯¹æ¯”å¼•å…¥ Typha å‰å Calico åœ¨å¤§è§„æ¨¡ Kubernetes é›†ç¾¤ä¸­çš„æ€§èƒ½è¡¨ç°ï¼Œç‰¹åˆ«å¼ºè°ƒ Typha å¼•å…¥åè§£å†³çš„é—®é¢˜ï¼Œå³å‡å°‘æ¯ä¸ªèŠ‚ç‚¹å¯¹æ•°æ®å­˜å‚¨çš„ç›´æ¥è®¿é—®ä»¥å¢åŠ è§„æ¨¡ã€‚
æµ‹è¯•ç¯å¢ƒï¼š å¤§å‹ Kubernetes é›†ç¾¤ Calico æœªä½¿ç”¨ Typha çš„æƒ…å†µ Calico ä½¿ç”¨ Typha çš„æƒ…å†µ æµ‹è¯•æ–¹æ¡ˆï¼š å¼€å¯ kubernetes å®¡è®¡ã€‚ è®°å½•å¼•å…¥ Typha å‰åï¼Œcalico è®¿é—® kubernetes æ¬¡æ•°ï¼ŒåŒæ—¶è®°å½• kubernetes apiserver è´Ÿè½½æƒ…å†µ æµ‹è¯•æ­¥éª¤ï¼š å¼€å¯ kubernetes å®¡è®¡ å®šä¹‰å®¡è®¡è§„åˆ™ 1 2 3 4 5 6 apiVersion:audit.</description></item><item><title>typha ç»„ä»¶</title><link>https://www.ryken.cloud/typha-%E7%BB%84%E4%BB%B6/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/typha-%E7%BB%84%E4%BB%B6/</guid><description>ä¸»è¦ä»»åŠ¡ï¼š é€šè¿‡å‡å°‘æ¯ä¸ªèŠ‚ç‚¹å¯¹æ•°æ®å­˜å‚¨çš„å½±å“æ¥å¢åŠ è§„æ¨¡ã€‚ ä½œä¸ºæ•°æ®å­˜å‚¨å’Œ Felix å®ä¾‹ä¹‹é—´çš„å®ˆæŠ¤è¿›ç¨‹è¿è¡Œã€‚é»˜è®¤å®‰è£…ï¼Œä½†æœªé…ç½®ã€‚ Typha ä»£è¡¨æ‰€æœ‰å®¢æˆ·ç«¯ï¼ˆä¾‹å¦‚ Felix å’Œ confdï¼‰ç»´æŠ¤å•ä¸ªæ•°æ®å­˜å‚¨è¿æ¥ã€‚å®ƒç¼“å­˜æ•°æ®å­˜å‚¨çŠ¶æ€å¹¶åˆ é™¤é‡å¤äº‹ä»¶ï¼Œä»¥ä¾¿å°†å®ƒä»¬åˆ†æ•£åˆ°è®¸å¤šä¾¦å¬å™¨ã€‚ç”±äºä¸€ä¸ª Typha å®ä¾‹å¯ä»¥æ”¯æŒæ•°ç™¾ä¸ª Felix å®ä¾‹ï¼Œå› æ­¤å®ƒå¤§å¤§å‡å°‘äº†æ•°æ®å­˜å‚¨ä¸Šçš„è´Ÿè½½ã€‚è€Œä¸”ç”±äº Typha å¯ä»¥è¿‡æ»¤æ‰ä¸ Felix æ— å…³çš„æ›´æ–°ï¼Œå› æ­¤ä¹Ÿé™ä½äº† Felix çš„ CPU ä½¿ç”¨ç‡ã€‚åœ¨å¤§è§„æ¨¡ï¼ˆ100+èŠ‚ç‚¹ï¼‰Kubernetesé›†ç¾¤ä¸­ï¼Œè¿™æ˜¯è‡³å…³é‡è¦çš„ï¼Œå› ä¸ºAPIæœåŠ¡å™¨ç”Ÿæˆçš„æ›´æ–°æ•°é‡éšç€èŠ‚ç‚¹æ•°é‡çš„å¢åŠ è€Œå˜åŒ–ã€‚</description></item><item><title>å¤šç½‘å¡èŠ‚ç‚¹ç¼ºå°‘è·¯ç”±</title><link>https://www.ryken.cloud/%E5%A4%9A%E7%BD%91%E5%8D%A1%E8%8A%82%E7%82%B9%E7%BC%BA%E5%B0%91%E8%B7%AF%E7%94%B1/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%A4%9A%E7%BD%91%E5%8D%A1%E8%8A%82%E7%82%B9%E7%BC%BA%E5%B0%91%E8%B7%AF%E7%94%B1/</guid><description>èƒŒæ™¯ å¤šèŠ‚ç‚¹é›†ç¾¤ä¸­ 10.168.50.60 å’Œ 10.168.50.61 èŠ‚ç‚¹ä¸Šçš„ pod è®¿é—®ä¸é€šï¼Œä¸”æ²¡æœ‰ç›¸å…³çš„è·¯ç”±ï¼›åŒæ ·çš„åœ¨èŠ‚ç‚¹ 10.168.50.60 ä¸Šæ²¡æœ‰ calico ç›¸å…³çš„è·¯ç”±ï¼Œè¯¥èŠ‚ç‚¹è·¯ç”±æƒ…å†µå¦‚ä¸‹ï¼š æ­£å¸¸èŠ‚ç‚¹è·¯ç”±å¦‚ä¸‹ï¼š ä¸”æ‰€æœ‰èŠ‚ç‚¹ä¸ºå¤šç½‘å¡ï¼š æ’æŸ¥è§£å†³ bgp è¿æ¥ èŠ‚ç‚¹ä¸Šæ²¡æœ‰è·¯ç”±ï¼Œå¤šåŠæ˜¯ bgp å‡ºç°äº†é—®é¢˜ï¼ŒæŸ¥çœ‹å„ä¸ªèŠ‚ç‚¹çš„ bgp çŠ¶æ€ä¹‹åå‘ç°ï¼Œç¡®å®æœ‰ä¸€éƒ¨åˆ† bgp æ²¡æœ‰å»ºç«‹è¿æ¥ï¼Œä¸€ç›´å¡åœ¨ passiveã€passive on çŠ¶æ€ã€‚è€Œè¯¥çŠ¶æ€æ˜¯ä¸ºäº†é¿å…èŠ‚ç‚¹é—´åŒæ—¶å‘å¯¹æ–¹è¿æ¥å¯¼è‡´çš„è·¯ç”±æŠ–åŠ¨ï¼Œé‡‡ç”¨ä¸€æ–¹è¢«åŠ¨ä¸€æ–¹ä¸»åŠ¨æ–¹å¼ã€‚</description></item><item><title>æ ¹æ®ç³»ç»Ÿæ—¥å¿—æ’æŸ¥</title><link>https://www.ryken.cloud/%E6%A0%B9%E6%8D%AE%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97%E6%8E%92%E6%9F%A5/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%A0%B9%E6%8D%AE%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97%E6%8E%92%E6%9F%A5/</guid><description>calico æ„å¤–é‡å¯ ä½äº master2 çš„ calico-node åœ¨ 3d2h å‰æ„å¤–é‡å¯ï¼Œç°åœ¨ä½¿ç”¨ kubectl logsæŸ¥çœ‹æ—¥å¿—ä¸ºç°è¿è¡Œæ—¶çš„æ—¥å¿—ï¼Œæ²¡æœ‰å‚è€ƒä»·å€¼ã€‚å¯ä»¥åœ¨æ—¥å¿—ç»„ä»¶ä¸­æ£€ç´¢å¯¹åº” podä¸”åœ¨å¯¹åº”æ—¶é—´æ®µçš„æ—¥å¿—ï¼›å¦å¤–å¯ä»¥é€šè¿‡ kubectl logs -p xxx è·å–åˆ°é‡å¯å‰çš„æ—¥å¿—
æœ¬æ¬¡æ’æŸ¥åœ¨æ—¥å¿—æ²¡æœ‰æ˜æ˜¾çš„æŠ¥é”™ï¼Œä¹‹åæŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—ï¼ˆæ³¨æ„ç³»ç»Ÿæ—¥å¿—é»˜è®¤ä¿ç•™æ—¶é—´ä¸º 7 å¤©ï¼‰</description></item><item><title>ç½‘ç»œå·¥å…·è¯Šæ–­</title><link>https://www.ryken.cloud/%E7%BD%91%E7%BB%9C%E5%B7%A5%E5%85%B7%E8%AF%8A%E6%96%AD/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%BD%91%E7%BB%9C%E5%B7%A5%E5%85%B7%E8%AF%8A%E6%96%AD/</guid><description>å®šä½é—®é¢˜ å‡ºç°é—®é¢˜æ—¶å…ˆå®šä½æ˜¯å“ªä¸€éƒ¨åˆ†å‘ç”Ÿäº†é—®é¢˜ï¼Œdns è§£æã€kube-proxyã€cniã€åº•å±‚ç½‘ç»œ [[ç½‘ç»œæ’æŸ¥]]
åœ¨ pod å†…é€šè¿‡ service name è¿›è¡Œè®¿é—®å…¶ä»–ä¸šåŠ¡æœåŠ¡æ—¶ï¼Œå‡ºç°è®¿é—®ä¸äº†çš„é—®é¢˜çš„æ’æŸ¥æ€è·¯
æ’æŸ¥ dns è¿›å…¥å®¹å™¨ä¸­ä½¿ç”¨ ping æˆ–è€… nslookup æŸ¥çœ‹åŸŸåè§£ææ˜¯å¦æ­£å¸¸ï¼Œå¦‚æœè§£æéœ€è¦æ’æŸ¥ DNSç»„ä»¶ï¼Œæœ‰å…³ DNS è°ƒè¯•å‚è€ƒ è°ƒè¯• DNS é—®é¢˜ | Kubernetesï¼›å¦‚æœè§£ææ­£å¸¸è¿›ä¸€æ­¥æ£€æŸ¥2</description></item><item><title>é€šè¿‡äº‹ä»¶ã€æ—¥å¿—æ’æŸ¥</title><link>https://www.ryken.cloud/%E9%80%9A%E8%BF%87%E4%BA%8B%E4%BB%B6%E6%97%A5%E5%BF%97%E6%8E%92%E6%9F%A5/</link><pubDate>Mon, 15 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E9%80%9A%E8%BF%87%E4%BA%8B%E4%BB%B6%E6%97%A5%E5%BF%97%E6%8E%92%E6%9F%A5/</guid><description>BIRD is not ready: è¾“å…¥å‘½ä»¤ï¼škubectl describe pods calico-node-xxx -n kube-system
1 2 3 4 5 6 7 8 9 10 Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal Scheduled 36m default-scheduler Successfully assigned kube-system/calico-node-xxx to worker1 Normal Pulled 36m kubelet Container image &amp;#34;calico/node:v3.</description></item><item><title>é…ç½® git æ‹‰å–</title><link>https://www.ryken.cloud/%E9%85%8D%E7%BD%AE-git-%E6%8B%89%E5%8F%96/</link><pubDate>Fri, 12 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E9%85%8D%E7%BD%AE-git-%E6%8B%89%E5%8F%96/</guid><description>æ‹·è´ ssh å¯†é’¥ä¿¡æ¯åˆ°è¿œç¨‹å¼€å‘æœºä¸Š chmod 600 ~/.ssh/id_rsa* é…ç½® git é‚®ç®±ã€ç”¨æˆ·åã€gitæ‹‰å– git config --global --edit
1 2 3 4 5 6 [user]name = renyunkangemail = rykren1998@gmail.</description></item><item><title>H3C 0519x64</title><link>https://www.ryken.cloud/H3C-0519x64/</link><pubDate>Sun, 07 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/H3C-0519x64/</guid><description>æ–‡æ¡£é“¾æ¥ï¼š
H3C VSRç³»åˆ—è™šæ‹Ÿè·¯ç”±å™¨ é…ç½®æŒ‡å¯¼-E0518-5W101_ä¸‰å±‚æŠ€æœ¯-IPè·¯ç”±é…ç½®æŒ‡å¯¼_BGPé…ç½®-æ–°åä¸‰é›†å›¢-H3C 1. è¿å¤–ç½‘ è¿æ¥å…¬ç½‘ip é…ç½®åŸºç¡€ç½‘ç»œç½‘å¡ip 1 2 3 interface ge3/0 ip address 10.</description></item><item><title>å®‰è£…</title><link>https://www.ryken.cloud/%E5%AE%89%E8%A3%85/</link><pubDate>Tue, 02 Apr 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%AE%89%E8%A3%85/</guid><description>å®‰è£…ï¼šcurl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh å¸è½½ï¼šrustup self uninstall å‡çº§ï¼šrustup update å®‰è£…åçš„éªŒè¯ï¼š rustc --version è¿è¡Œæœ¬åœ°æ–‡æ¡£ï¼šrustup doc å®˜æ–¹æ–‡æ¡£é“¾æ¥ï¼šhttps://www.rust-lang.org/learn/get-started 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 root@node:~# curl --proto &amp;#39;=https&amp;#39; --tlsv1.</description></item><item><title>git submodule</title><link>https://www.ryken.cloud/git-submodule/</link><pubDate>Tue, 05 Mar 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/git-submodule/</guid><description>ä¸‹è½½äº†é¡¹ç›®ä¹‹ååˆå§‹åŒ–å­æ¨¡å— git submodule update &amp;ndash;init &amp;ndash;recursive æ·»åŠ å­æ¨¡å— git submodule add url path git submodule add -b dev https://github.com/xx/xx content åˆ é™¤å­æ¨¡å— åˆ é™¤ submodule ç¼“å­˜ git rm &amp;ndash;cached submodule_name åˆ é™¤æ–‡ä»¶ rm -rf content/ -Â åˆ é™¤é¡¹ç›®ç›®å½•ä¸‹.</description></item><item><title>calicoctl ipam æ¸…ç†å¼‚å¸¸</title><link>https://www.ryken.cloud/calicoctl-ipam-%E6%B8%85%E7%90%86%E5%BC%82%E5%B8%B8/</link><pubDate>Thu, 29 Feb 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calicoctl-ipam-%E6%B8%85%E7%90%86%E5%BC%82%E5%B8%B8/</guid><description>calicoctl datastore migrate lock calicoctl ipam check -o report.json calicoctl ipam release &amp;ndash;from-report report.json calicoctl datastore migrate unlock</description></item><item><title>rp_filter é—®é¢˜</title><link>https://www.ryken.cloud/rp_filter-%E9%97%AE%E9%A2%98/</link><pubDate>Thu, 29 Feb 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/rp_filter-%E9%97%AE%E9%A2%98/</guid><description>èƒŒæ™¯ calico ipipæ¨¡å¼çš„ pod ä¸ bgp æ¨¡å¼çš„ podï¼Œæ— æ³•æ­£å¸¸é€šä¿¡ï¼›èŠ‚ç‚¹æ”¶åˆ°å›åŒ…ä¹‹åå°†åŒ…ç»™ä¸¢å¼ƒäº†ï¼Œåœ¨ ubuntu 20 ä¸Šè¡Œä¸é€šï¼Œä½†æ˜¯åœ¨ ubuntu 22 ä¸Šå¯è¡Œï¼Œ(å…ˆæŠŠä¸¤è¾¹çš„Â sysctlÂ -aÂ æ‹¿å‡ºæ¥ï¼Œåšä¸‹Â diffï¼Œåœ¨Â netÂ åŒºå—éƒ¨åˆ†èƒ½çœ‹å‡ºæ¥æœ‰å·®å¼‚) net.</description></item><item><title>ç§»åŠ¨å…‰æ ‡</title><link>https://www.ryken.cloud/shell-%E5%B8%B8%E7%94%A8/</link><pubDate>Sat, 27 Jan 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/shell-%E5%B8%B8%E7%94%A8/</guid><description>ç§»åŠ¨å…‰æ ‡ ctrl+a**: ç§»åˆ°è¡Œé¦–ï¼ˆaæ˜¯é¦–å­—æ¯ï¼‰**
ctrl+e**: ç§»åˆ°è¡Œå°¾ï¼ˆendï¼‰**
ctrl+b: å‰ç§»ä¸€ä¸ªå­—ç¬¦(backward)
ctrl+f: åç§»ä¸€ä¸ªå­—ç¬¦(forward)
alt+b: å‰ç§»ä¸€ä¸ªå•è¯</description></item><item><title>å‡çº§</title><link>https://www.ryken.cloud/%E5%8D%87%E7%BA%A7/</link><pubDate>Fri, 26 Jan 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%8D%87%E7%BA%A7/</guid><description>3.26.1 - å®¢æˆ·ç«¯TLSæ¡æ‰‹å¯èƒ½ä¼šæ— é™æœŸé˜»æ­¢æœåŠ¡å™¨ï¼Œå¯¼è‡´æ‹’ç»æœåŠ¡ 3.26.3 3.26.4 3.27.0</description></item><item><title>å…¬æœ‰äº‘ - ccm</title><link>https://www.ryken.cloud/%E5%85%AC%E6%9C%89%E4%BA%91-ccm/</link><pubDate>Thu, 25 Jan 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%85%AC%E6%9C%89%E4%BA%91-ccm/</guid><description>https://cwiki.yunify.com/pages/viewpage.action?pageId=23659614&amp;src=contextnavpagetreemode
https://cwiki.yunify.com/pages/viewpage.action?pageId=96318071&amp;src=contextnavpagetreemode
yunify/qingcloud-cloud-controller-manager: A kubernetes cloud-controller-manager for the qingcloud (github.com)
yunify/qingcloud-cloud-controller-manager: A kubernetes cloud-controller-manager for the qingcloud (github.</description></item><item><title>dlv è°ƒè¯•coreæ–‡ä»¶</title><link>https://www.ryken.cloud/dlv-%E8%B0%83%E8%AF%95core%E6%96%87%E4%BB%B6/</link><pubDate>Sun, 21 Jan 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/dlv-%E8%B0%83%E8%AF%95core%E6%96%87%E4%BB%B6/</guid><description>linuxç¯å¢ƒä¸‹ ç”Ÿæˆcoreæ–‡ä»¶ è®¾ç½®ç¯å¢ƒå˜é‡ export GOTRACEBACK=crash è§£é™¤ulimitç³»ç»Ÿèµ„æºé™åˆ¶ï¼Œå…è®¸ç”Ÿæˆcoreæ–‡ä»¶ æœ‰å…³GOTRACEBACKå‚è€ƒå®˜ç½‘ï¼š https://pkg.go.dev/runtime?utm_source=godoc 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 package main import ( &amp;#34;fmt&amp;#34; &amp;#34;time&amp;#34; ) func main() { waitchan := make(chan struct{}) go func() { for i := 0; i &amp;lt; 10; i++ { fmt.</description></item><item><title>4. å®‰è£…æµ‹è¯•</title><link>https://www.ryken.cloud/4.-%E5%AE%89%E8%A3%85%E6%B5%8B%E8%AF%95/</link><pubDate>Wed, 17 Jan 2024 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/4.-%E5%AE%89%E8%A3%85%E6%B5%8B%E8%AF%95/</guid><description> setup_singleCni_macvlan - kind ä¸»æœºä¸æœ¬æœº pod ä¸é€š pod ä¸ service ä¸é€š setup_dualCni_calico setup_dualCni_cilium</description></item><item><title>æœªå‘½å</title><link>https://www.ryken.cloud/Antrea/</link><pubDate>Tue, 05 Dec 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Antrea/</guid><description/></item><item><title>æœªå‘½å</title><link>https://www.ryken.cloud/cilium-%E8%B7%A8%E9%9B%86%E7%BE%A4%E9%80%9A%E4%BF%A1/</link><pubDate>Tue, 05 Dec 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/cilium-%E8%B7%A8%E9%9B%86%E7%BE%A4%E9%80%9A%E4%BF%A1/</guid><description/></item><item><title>å¸¸ç”¨ cni æ’ä»¶</title><link>https://www.ryken.cloud/%E5%B8%B8%E7%94%A8-cni-%E6%8F%92%E4%BB%B6/</link><pubDate>Tue, 28 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%B8%B8%E7%94%A8-cni-%E6%8F%92%E4%BB%B6/</guid><description> Flannelï¼šFlannel æ˜¯æœ€å¸¸ç”¨çš„ k8s ç½‘ç»œæ’ä»¶ä¹‹ä¸€ï¼Œå®ƒä½¿ç”¨äº†è™šæ‹Ÿç½‘ç»œæŠ€æœ¯æ¥å®ç°å®¹å™¨ä¹‹é—´çš„é€šä¿¡ï¼Œæ”¯æŒå¤šç§ç½‘ç»œåç«¯ï¼Œå¦‚ VXLANã€UDP å’Œ Host-GWã€‚ Calicoï¼šCalico æ˜¯ä¸€ç§åŸºäº BGP çš„ç½‘ç»œæ’ä»¶ï¼Œå®ƒä½¿ç”¨è·¯ç”±è¡¨æ¥è·¯ç”±å®¹å™¨ä¹‹é—´çš„æµé‡ï¼Œæ”¯æŒå¤šç§ç½‘ç»œæ‹“æ‰‘ç»“æ„ï¼Œå¹¶æä¾›äº†å®‰å…¨æ€§å’Œç½‘ç»œç­–ç•¥åŠŸèƒ½ã€‚ Canalï¼šCanal æ˜¯ä¸€ä¸ªç»„åˆäº† Flannel å’Œ Calico çš„ç½‘ç»œæ’ä»¶ï¼Œå®ƒä½¿ç”¨ Flannel æ¥æä¾›å®¹å™¨ä¹‹é—´çš„é€šä¿¡ï¼ŒåŒæ—¶ä½¿ç”¨ Calico æ¥æä¾›ç½‘ç»œç­–ç•¥å’Œå®‰å…¨æ€§åŠŸèƒ½ã€‚ Weave Netï¼šWeave Net æ˜¯ä¸€ç§è½»é‡çº§çš„ç½‘ç»œæ’ä»¶ï¼Œå®ƒä½¿ç”¨è™šæ‹Ÿç½‘ç»œæŠ€æœ¯æ¥ä¸ºå®¹å™¨æä¾› IP åœ°å€ï¼Œå¹¶æ”¯æŒå¤šç§ç½‘ç»œåç«¯ï¼Œå¦‚ VXLANã€UDP å’Œ TCP/IPï¼ŒåŒæ—¶è¿˜æä¾›äº†ç½‘ç»œç­–ç•¥å’Œå®‰å…¨æ€§åŠŸèƒ½ã€‚ Ciliumï¼šCilium æ˜¯ä¸€ç§åŸºäº eBPF (Extended Berkeley Packet Filter) æŠ€æœ¯çš„ç½‘ç»œæ’ä»¶ï¼Œå®ƒä½¿ç”¨ Linux å†…æ ¸çš„åŠ¨æ€æ’ä»¶æ¥æä¾›ç½‘ç»œåŠŸèƒ½ï¼Œå¦‚è·¯ç”±ã€è´Ÿè½½å‡è¡¡ã€å®‰å…¨æ€§å’Œç½‘ç»œç­–ç•¥ç­‰ã€‚ Contivï¼šContiv æ˜¯ä¸€ç§åŸºäº SDN æŠ€æœ¯çš„ç½‘ç»œæ’ä»¶ï¼Œå®ƒæä¾›äº†å¤šç§ç½‘ç»œåŠŸèƒ½ï¼Œå¦‚è™šæ‹Ÿç½‘ç»œã€ç½‘ç»œéš”ç¦»ã€è´Ÿè½½å‡è¡¡å’Œå®‰å…¨ç­–ç•¥ç­‰ã€‚ Antreaï¼šAntrea æ˜¯ä¸€ç§åŸºäº OVS (Open vSwitch) æŠ€æœ¯çš„ç½‘ç»œæ’ä»¶ï¼Œå®ƒæä¾›äº†å®¹å™¨ä¹‹é—´çš„é€šä¿¡ã€ç½‘ç»œç­–ç•¥å’Œå®‰å…¨æ€§ç­‰åŠŸèƒ½ï¼Œè¿˜æ”¯æŒå¤šç§ç½‘ç»œæ‹“æ‰‘ç»“æ„ã€‚ openshift-sdn ovn-kubernetes kube-ovn</description></item><item><title>1. vector + map</title><link>https://www.ryken.cloud/1.-vector-+-map/</link><pubDate>Fri, 24 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/1.-vector-+-map/</guid><description>Vector å­—ç¬¦ä¸² Map</description></item><item><title>iptables è½¬å‘ service æµé‡æœªå‘½å</title><link>https://www.ryken.cloud/iptables-%E8%BD%AC%E5%8F%91-service-%E6%B5%81%E9%87%8F/</link><pubDate>Fri, 24 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/iptables-%E8%BD%AC%E5%8F%91-service-%E6%B5%81%E9%87%8F/</guid><description/></item><item><title>ipvs è½¬å‘ service æµé‡</title><link>https://www.ryken.cloud/ipvs-%E8%BD%AC%E5%8F%91-service-%E6%B5%81%E9%87%8F/</link><pubDate>Fri, 24 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/ipvs-%E8%BD%AC%E5%8F%91-service-%E6%B5%81%E9%87%8F/</guid><description>ä¸ºä»€ä¹ˆå¼•å…¥äº† ipvs æ˜¯å¦å®Œå…¨æ›¿ä»£äº† iptables æœ‰å“ªäº›ä¸ iptables ç›¸å…³çš„é…ç½®å‚æ•° 1 2 3 // Generate the masquerade mark to use for SNAT rules.</description></item><item><title>kube-proxy å¤„ç†</title><link>https://www.ryken.cloud/kube-proxy-%E5%A4%84%E7%90%86/</link><pubDate>Fri, 24 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kube-proxy-%E5%A4%84%E7%90%86/</guid><description>user space iptables ipvs ç›®çš„ï¼š å°† service ip è½¬å‘åˆ°åç«¯ pod ip ä¸Š node -&amp;gt; svc ip -&amp;gt; pod ip</description></item><item><title>iptables è§„åˆ™</title><link>https://www.ryken.cloud/iptables-%E8%A7%84%E5%88%99/</link><pubDate>Wed, 22 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/iptables-%E8%A7%84%E5%88%99/</guid><description>è§„åˆ™ç”±åŒ¹é…æ¡ä»¶å’Œå¤„ç†åŠ¨ä½œç»„æˆã€‚ åŒ¹é…æ¡ä»¶ åŒ¹é…æ¡ä»¶åˆ†ä¸ºåŸºæœ¬åŒ¹é…æ¡ä»¶ä¸æ‰©å±•åŒ¹é…æ¡ä»¶ åŸºæœ¬åŒ¹é…æ¡ä»¶ï¼š æºåœ°å€Source IPï¼Œç›®æ ‡åœ°å€ Destination IPï¼Œå¯ä»¥ä½œä¸ºåŸºæœ¬åŒ¹é…æ¡ä»¶ã€‚ æ‰©å±•åŒ¹é…æ¡ä»¶ï¼š é™¤äº†ä¸Šè¿°çš„æ¡ä»¶å¯ä»¥ç”¨äºåŒ¹é…ï¼Œè¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„æ¡ä»¶å¯ä»¥ç”¨äºåŒ¹é…ï¼Œè¿™äº›æ¡ä»¶æ³›ç§°ä¸ºæ‰©å±•æ¡ä»¶ï¼Œè¿™äº›æ‰©å±•æ¡ä»¶å…¶å®ä¹Ÿæ˜¯netfilterä¸­çš„ä¸€éƒ¨åˆ†ï¼Œåªæ˜¯ä»¥æ¨¡å—çš„å½¢å¼å­˜åœ¨ï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨è¿™äº›æ¡ä»¶ï¼Œåˆ™éœ€è¦ä¾èµ–å¯¹åº”çš„æ‰©å±•æ¨¡å—ã€‚ æºç«¯å£Source Port, ç›®æ ‡ç«¯å£Destination Portï¼Œå¯ä»¥ä½œä¸ºæ‰©å±•åŒ¹é…æ¡ä»¶ å¤„ç†åŠ¨ä½œ å¤„ç†åŠ¨ä½œåœ¨iptablesä¸­è¢«ç§°ä¸ºtargetï¼ˆè¿™æ ·è¯´å¹¶ä¸å‡†ç¡®ï¼Œæˆ‘ä»¬æš‚ä¸”è¿™æ ·ç§°å‘¼ï¼‰ï¼ŒåŠ¨ä½œä¹Ÿå¯ä»¥åˆ†ä¸ºåŸºæœ¬åŠ¨ä½œå’Œæ‰©å±•åŠ¨ä½œã€‚ æ­¤å¤„åˆ—å‡ºä¸€äº›å¸¸ç”¨çš„åŠ¨ä½œ
ACCEPTï¼šå…è®¸æ•°æ®åŒ…é€šè¿‡ã€‚ DROPï¼šç›´æ¥ä¸¢å¼ƒæ•°æ®åŒ…ï¼Œä¸ç»™ä»»ä½•å›åº”ä¿¡æ¯ï¼Œè¿™æ—¶å€™å®¢æˆ·ç«¯ä¼šæ„Ÿè§‰è‡ªå·±çš„è¯·æ±‚æ³¥ç‰›å…¥æµ·äº†ï¼Œè¿‡äº†è¶…æ—¶æ—¶é—´æ‰ä¼šæœ‰ååº”ã€‚ REJECTï¼šæ‹’ç»æ•°æ®åŒ…é€šè¿‡ï¼Œå¿…è¦æ—¶ä¼šç»™æ•°æ®å‘é€ç«¯ä¸€ä¸ªå“åº”çš„ä¿¡æ¯ï¼Œå®¢æˆ·ç«¯åˆšè¯·æ±‚å°±ä¼šæ”¶åˆ°æ‹’ç»çš„ä¿¡æ¯ã€‚ SNATï¼šæºåœ°å€è½¬æ¢ï¼Œè§£å†³å†…ç½‘ç”¨æˆ·ç”¨åŒä¸€ä¸ªå…¬ç½‘åœ°å€ä¸Šç½‘çš„é—®é¢˜ã€‚ MASQUERADEï¼šæ˜¯SNATçš„ä¸€ç§ç‰¹æ®Šå½¢å¼ï¼Œé€‚ç”¨äºåŠ¨æ€çš„ã€ä¸´æ—¶ä¼šå˜çš„ipä¸Šã€‚ DNATï¼šç›®æ ‡åœ°å€è½¬æ¢ã€‚ REDIRECTï¼šåœ¨æœ¬æœºåšç«¯å£æ˜ å°„ã€‚ LOGï¼šåœ¨/var/log/messagesæ–‡ä»¶ä¸­è®°å½•æ—¥å¿—ä¿¡æ¯ï¼Œç„¶åå°†æ•°æ®åŒ…ä¼ é€’ç»™ä¸‹ä¸€æ¡è§„åˆ™ï¼Œä¹Ÿå°±æ˜¯è¯´é™¤äº†è®°å½•ä»¥å¤–ä¸å¯¹æ•°æ®åŒ…åšä»»ä½•å…¶ä»–æ“ä½œï¼Œä»ç„¶è®©ä¸‹ä¸€æ¡è§„åˆ™å»åŒ¹é…ã€‚ MARKï¼šä¸ºåŒ¹é…çš„æ•°æ®åŒ…è®¾ç½®æ ‡è®°ï¼Œå¯ä»¥ç”¨äºåç»­è§„åˆ™çš„åŒ¹é…å’Œå¤„ç†ã€‚ NOTRACKï¼šæ’é™¤åŒ¹é…çš„æ•°æ®åŒ…ä¸è¢«è¿æ¥è·Ÿè¸ªç³»ç»Ÿè·Ÿè¸ªã€‚ RETURNï¼šè¿”å›åˆ°è°ƒç”¨é“¾çš„ä¸Šä¸€ä¸ªè§„åˆ™ï¼Œç”¨äºåœ¨å­é“¾ä¸­æ‰§è¡Œå®Œç‰¹å®šæ“ä½œåè¿”å›ã€‚</description></item><item><title>iptables è½¬å‘</title><link>https://www.ryken.cloud/iptables-%E8%BD%AC%E5%8F%91/</link><pubDate>Wed, 22 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/iptables-%E8%BD%AC%E5%8F%91/</guid><description>ç«¯å£è½¬å‘ å°†æœ¬æœºçš„8080ç«¯å£è½¬å‘è‡³å…¶ä»–ä¸»æœºï¼Œä¸»æœºIPï¼š192.168.1.12ï¼Œç›®æ ‡ä¸»æœºIPå’Œç«¯å£ï¼š192.168.1.13:8088ï¼Œè§„åˆ™å¦‚ä¸‹
1 2 3 iptables -t nat -A PREROUTING -p tcp -m tcp --dport 8080 -j DNAT --to-destination 192.</description></item><item><title>runtime</title><link>https://www.ryken.cloud/runtime/</link><pubDate>Wed, 22 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/runtime/</guid><description>crio
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 # 1.</description></item><item><title>2. use å¼•å…¥ä½œç”¨åŸŸ</title><link>https://www.ryken.cloud/2.-use-%E5%BC%95%E5%85%A5%E4%BD%9C%E7%94%A8%E5%9F%9F/</link><pubDate>Tue, 21 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/2.-use-%E5%BC%95%E5%85%A5%E4%BD%9C%E7%94%A8%E5%9F%9F/</guid><description>ä½¿ç”¨ use å°†è·¯å¾„å¼•å…¥ä½œç”¨åŸŸ 1 2 3 4 5 6 7 8 9 10 11 12 13 mod front_of_house{pubmod hosting{pubfn add_to_waitlist(){}}}usefront_of_house::hosting;pubfn eat_at_restaurant(){hosting::add_to_waitlist();hosting::add_to_waitlist();hosting::add_to_waitlist();} 1 2 3 4 5 6 usestd::collections::HashMap;fn main(){letmutmap=HashMap::new();map.</description></item><item><title>æœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“é“¾æ¥</title><link>https://www.ryken.cloud/%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93%E4%B8%8E%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E9%93%BE%E6%8E%A5/</link><pubDate>Tue, 21 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93%E4%B8%8E%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E9%93%BE%E6%8E%A5/</guid><description>è®¾ç½®è¿œç¨‹ä»“åº“åœ°å€ git remote add origin https://gitee.com/Stark-Gs/copter-4.0.7.git
æ‹‰å–è¿œç¨‹ä»£ç  git pull origin master &amp;ndash;allow-unrelated-histories
æäº¤åˆ°è¿œç¨‹ä»“åº“ git push origin master</description></item><item><title>1. åŒ…+crate</title><link>https://www.ryken.cloud/1.-%E5%8C%85+crate/</link><pubDate>Tue, 14 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/1.-%E5%8C%85+crate/</guid><description>åŒ… + Crate åŒ…ï¼šæä¾›ä¸€ç³»åˆ—åŠŸèƒ½çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ª crateã€‚ä¸€ä¸ªåŒ…ä¸­ä¼šåŒ…å«æœ‰ä¸€ä¸ª Cargo.toml æ–‡ä»¶ï¼Œç”¨äºé˜è¿°å¦‚ä½•æ„å»ºè¿™äº› crateã€‚
crateï¼šä¸€ä¸ªäºŒè¿›åˆ¶é¡¹æˆ–è€…åº“ã€‚crate rootÂ æ˜¯ä¸€ä¸ªæºæ–‡ä»¶ï¼ŒRust ç¼–è¯‘å™¨ä»¥å®ƒä¸ºèµ·å§‹ç‚¹ï¼Œå¹¶æ„æˆcrate çš„æ ¹æ¨¡å—
åŒ…å’Œ crate å…³ç³»ï¼š
åŒ…ä¸­è‡³å¤šåªèƒ½åŒ…å«ä¸€ä¸ªåº“ crate åŒ…ä¸­å¯ä»¥åŒ…å«ä»»æ„å¤šä¸ªäºŒè¿›åˆ¶ crateã€‚ åŒ…ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ª crateï¼Œæ— è®ºæ˜¯åº“çš„è¿˜æ˜¯äºŒè¿›åˆ¶çš„ 1 2 3 4 5 6 7 ~#: cargo new hello_world ~#: tree hello_world/ hello_world/ â”œâ”€â”€ Cargo.</description></item><item><title>3. æ‹†åˆ†æ¨¡å—åˆ°ä¸åŒæ–‡ä»¶ä¸­</title><link>https://www.ryken.cloud/3.-%E6%8B%86%E5%88%86%E6%A8%A1%E5%9D%97%E5%88%B0%E4%B8%8D%E5%90%8C%E6%96%87%E4%BB%B6%E4%B8%AD/</link><pubDate>Tue, 14 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/3.-%E6%8B%86%E5%88%86%E6%A8%A1%E5%9D%97%E5%88%B0%E4%B8%8D%E5%90%8C%E6%96%87%E4%BB%B6%E4%B8%AD/</guid><description>åˆæ–‡ä»¶ï¼š src/lib.rs
1 2 3 4 5 6 7 8 9 10 11 12 mod front_of_house{mod hosting{fn add_to_waitlist(){}fn seat_at_table(){}}mod serving{fn take_order(){}fn server_order(){}fn take_payment(){}}} ç¬¬ä¸€æ­¥æ‹†åˆ†ï¼šsrc/lib.</description></item><item><title>6. å­—ç¬¦-string</title><link>https://www.ryken.cloud/6.-%E5%AD%97%E7%AC%A6-string/</link><pubDate>Tue, 14 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/6.-%E5%AD%97%E7%AC%A6-string/</guid><description>å­—ç¬¦ä¸²å­—é¢å€¼ï¼šå­—ç¬¦ä¸²å€¼è¢«ç¡¬ç¼–ç è¿›ç¨‹åºé‡Œã€‚å­—ç¬¦ä¸²å­—é¢å€¼æ˜¯å¾ˆæ–¹ä¾¿çš„ï¼Œä¸è¿‡ä»–ä»¬å¹¶ä¸é€‚åˆä½¿ç”¨æ–‡æœ¬çš„æ¯ä¸€ç§åœºæ™¯ã€‚åŸå› ä¹‹ä¸€å°±æ˜¯ä»–ä»¬æ˜¯ä¸å¯å˜çš„ String ç±»å‹ï¼šè¢«åˆ†é…åˆ°å †ä¸Šï¼Œæ‰€ä»¥èƒ½å¤Ÿå­˜å‚¨åœ¨ç¼–è¯‘æ—¶æœªçŸ¥å¤§å°çš„æ–‡æœ¬ã€‚
1 2 3 4 lets=&amp;#34;hello&amp;#34;;letmuts=String::from(&amp;#34;hello&amp;#34;);s.push_str(&amp;#34;, world!&amp;#34;);// push_str() åœ¨å­—ç¬¦ä¸²åè¿½åŠ å­—é¢å€¼ println!(&amp;#34;{}&amp;#34;,s);// å°†æ‰“å° `hello, world!` slice å…è®¸ä½ å¼•ç”¨é›†åˆä¸­ä¸€æ®µè¿ç»­çš„å…ƒç´ åºåˆ—ï¼Œè€Œä¸ç”¨å¼•ç”¨æ•´ä¸ªé›†åˆã€‚slice æ²¡æœ‰æ‰€æœ‰æƒ å­—ç¬¦ä¸²å­—é¢å€¼å°±æ˜¯ sliceï¼Œå­—ç¬¦ä¸²å­—é¢å€¼è¢«å‚¨å­˜åœ¨äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ã€‚ sÂ çš„ç±»å‹æ˜¯Â &amp;amp;strï¼šå®ƒæ˜¯ä¸€ä¸ªæŒ‡å‘äºŒè¿›åˆ¶ç¨‹åºç‰¹å®šä½ç½®çš„ sliceã€‚&amp;amp;strÂ æ˜¯ä¸€ä¸ªä¸å¯å˜å¼•ç”¨ã€‚</description></item><item><title>4. ç»“æ„ä½“</title><link>https://www.ryken.cloud/4.-%E7%BB%93%E6%9E%84%E4%BD%93/</link><pubDate>Wed, 08 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/4.-%E7%BB%93%E6%9E%84%E4%BD%93/</guid><description>å®šä¹‰ç»“æ„ä½“ å’Œå…ƒç»„ä¸€æ ·ï¼Œç»“æ„ä½“çš„æ¯ä¸€éƒ¨åˆ†å¯ä»¥æ˜¯ä¸åŒç±»å‹ã€‚ä½†ä¸åŒäºå…ƒç»„ï¼Œç»“æ„ä½“éœ€è¦å‘½åå„éƒ¨åˆ†æ•°æ®ä»¥ä¾¿èƒ½æ¸…æ¥šçš„è¡¨æ˜å…¶å€¼çš„æ„ä¹‰ã€‚æœ‰äº†åå­—ï¼Œå°±ä¸éœ€è¦ä¾èµ–é¡ºåºæ¥æŒ‡å®šæˆ–è®¿é—®å®ä¾‹ä¸­çš„å€¼ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 struct User{username: String,email: String,sign_in_count: u64,active: bool,}fn main(){lettup=(500,6.</description></item><item><title>5. æšä¸¾ä¸match</title><link>https://www.ryken.cloud/5.-%E6%9E%9A%E4%B8%BE%E4%B8%8Ematch/</link><pubDate>Wed, 08 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/5.-%E6%9E%9A%E4%B8%BE%E4%B8%8Ematch/</guid><description>æšä¸¾ 1 2 3 4 5 6 7 enum IpAddrKind{V4,V6,}// åˆ›å»ºå®ä¾‹ï¼Œä½äºå…¶æ ‡è¯†ç¬¦çš„å‘½åç©ºé—´ä¸­ï¼Œå¹¶ä½¿ç”¨ä¸¤ä¸ªå†’å·åˆ†å¼€ letfour=IpAddrKind::V4;letsix=IpAddrKind::V6; 1. å°†æ•°æ®æ”¾è¿›æšä¸¾æˆå‘˜
1 2 3 4 5 6 enum IpAddr{V4(String),V6(String),}lethome=IpAddr::V4(String::from(&amp;#34;127.</description></item><item><title>nodeIPAM é—®é¢˜</title><link>https://www.ryken.cloud/nodeIPAM-%E9%97%AE%E9%A2%98/</link><pubDate>Wed, 08 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/nodeIPAM-%E9%97%AE%E9%A2%98/</guid><description> å¯¹äº controller-manager æ— æ³•ä¿®æ”¹ cluster-cidr å³ podCIDR Can&amp;rsquo;t change kube-controller-manager cluster cidr Â· Issue #75461 Â· kubernetes/kubernetes (github.com)</description></item><item><title/><link>https://www.ryken.cloud/%E7%96%91%E9%97%AE/</link><pubDate>Fri, 03 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%96%91%E9%97%AE/</guid><description> ç”Ÿå‘½å‘¨æœŸ - ç»“æ„ä½“ä½¿ç”¨ &amp;amp;str æˆå‘˜ trait ç±»å•å…ƒç»“æ„ä½“ - unit ç±»å‹</description></item><item><title>3. å‡½æ•°</title><link>https://www.ryken.cloud/3.-%E5%87%BD%E6%95%B0/</link><pubDate>Thu, 02 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/3.-%E5%87%BD%E6%95%B0/</guid><description>åœ¨å‡½æ•°ç­¾åä¸­ï¼Œå¿…é¡»Â å£°æ˜æ¯ä¸ªå‚æ•°çš„ç±»å‹ã€‚è¿”å›å€¼è¦åœ¨ç®­å¤´ï¼ˆ-&amp;gt;ï¼‰åå£°æ˜å®ƒçš„ç±»å‹ ä½¿ç”¨Â returnÂ å…³é”®å­—å’ŒæŒ‡å®šå€¼ï¼Œå¯ä»å‡½æ•°ä¸­æå‰è¿”å›ï¼›ä½†å¤§éƒ¨åˆ†å‡½æ•°éšå¼çš„è¿”å›æœ€åçš„è¡¨è¾¾å¼ã€‚
è¡¨è¾¾å¼ï¼šè¡¨è¾¾å¼ä¼šè®¡ç®—å‡ºä¸€äº›å€¼ï¼Œè¡¨è¾¾å¼å¯ä»¥æ˜¯è¯­å¥çš„ä¸€éƒ¨åˆ†ã€‚å‡½æ•°è°ƒç”¨æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚å®è°ƒç”¨æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚ è¯­å¥ï¼šè¯­å¥å¹¶ä¸è¿”å›å€¼ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 fn main(){letx=plus_one(5);println!</description></item><item><title>1. helloworld</title><link>https://www.ryken.cloud/1.-helloworld/</link><pubDate>Wed, 01 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/1.-helloworld/</guid><description>HelloWorld 1 2 3 fn main(){println!(&amp;#34;Hello, world!&amp;#34;);} rust æ˜¯é¢„ç¼–è¯‘é™æ€ç±»å‹è¯­è¨€ï¼Œå°†ç¼–è¯‘å’Œè¿è¡Œåˆ†ä¸ºä¸¤ä¸ªç‹¬ç«‹çš„æ­¥éª¤ï¼› rustc ç¼–è¯‘æºæ–‡ä»¶ rustfmtÂ çš„è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç å·¥å…· println!Â è°ƒç”¨äº† Rust å®ï¼›ç¬¦å·Â !</description></item><item><title>1. å˜é‡ä¸å¯å˜æ€§</title><link>https://www.ryken.cloud/1.-%E5%8F%98%E9%87%8F%E4%B8%8E%E5%8F%AF%E5%8F%98%E6%80%A7/</link><pubDate>Wed, 01 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/1.-%E5%8F%98%E9%87%8F%E4%B8%8E%E5%8F%AF%E5%8F%98%E6%80%A7/</guid><description>å˜é‡ã€åŸºæœ¬ç±»å‹ã€å‡½æ•°ã€æ³¨é‡Šå’Œæ§åˆ¶æµ
Rust å˜é‡ Rust å˜é‡ä¸å¯å˜æ€§çš„åŸå› åŠæ–¹æ³•ï¼Œä½•æ—¶ä¸ä½¿ç”¨ä¸å¯å˜æ€§
å˜é‡ä¸å¯å˜çš„åŸå›  åœ¨å°è¯•æ”¹å˜é¢„è®¾ä¸ºä¸å¯å˜çš„å€¼æ—¶ï¼Œäº§ç”Ÿç¼–è¯‘æ—¶é”™è¯¯æ˜¯å¾ˆé‡è¦çš„ï¼Œå› ä¸ºè¿™ç§æƒ…å†µå¯èƒ½å¯¼è‡´ bugã€‚å¦‚æœä¸€éƒ¨åˆ†ä»£ç å‡è®¾ä¸€ä¸ªå€¼æ°¸è¿œä¹Ÿä¸ä¼šæ”¹å˜ï¼Œè€Œå¦ä¸€éƒ¨åˆ†ä»£ç æ”¹å˜äº†è¿™ä¸ªå€¼ï¼Œç¬¬ä¸€éƒ¨åˆ†ä»£ç å°±æœ‰å¯èƒ½ä»¥ä¸å¯é¢„æ–™çš„æ–¹å¼è¿è¡Œã€‚ä¸å¾—ä¸æ‰¿è®¤è¿™ç§ bug çš„èµ·å› éš¾ä»¥è·Ÿè¸ªï¼Œå°¤å…¶æ˜¯ç¬¬äºŒéƒ¨åˆ†ä»£ç åªæ˜¯Â æœ‰æ—¶Â ä¼šæ”¹å˜å€¼ã€‚
Rust ç¼–è¯‘å™¨ä¿è¯ï¼Œå¦‚æœå£°æ˜ä¸€ä¸ªå€¼ä¸ä¼šå˜ï¼Œå®ƒå°±çœŸçš„ä¸ä¼šå˜ã€‚è¿™æ„å‘³ç€å½“é˜…è¯»å’Œç¼–å†™ä»£ç æ—¶ï¼Œä¸éœ€è¦è¿½è¸ªä¸€ä¸ªå€¼å¦‚ä½•å’Œåœ¨å“ªå¯èƒ½ä¼šè¢«æ”¹å˜ï¼Œä»è€Œä½¿å¾—ä»£ç æ˜“äºæ¨å¯¼ã€‚
å˜é‡å¯å˜ä¸ä¸å¯å˜ å˜é‡é»˜è®¤æ˜¯ä¸å¯æ”¹å˜çš„ï¼Œå½“å˜é‡ä¸å¯å˜æ—¶ï¼Œä¸€æ—¦å€¼è¢«ç»‘å®šä¸€ä¸ªåç§°ä¸Šï¼Œä½ å°±ä¸èƒ½æ”¹å˜è¿™ä¸ªå€¼ã€‚ ä½†æ˜¯ä»ç„¶å¯ä»¥ä½¿ç”¨å¯å˜å˜é‡ï¼Œå˜é‡åä¹‹å‰åŠ Â mutÂ æ¥ä½¿å…¶å¯å˜ã€‚é™¤äº†å…è®¸æ”¹å˜å€¼ä¹‹å¤–ï¼ŒmutÂ å‘è¯»è€…è¡¨æ˜äº†å…¶ä»–ä»£ç å°†ä¼šæ”¹å˜è¿™ä¸ªå˜é‡å€¼çš„æ„å›¾ã€‚ ä½•æ—¶ä¸ä½¿ç”¨ä¸å¯å˜æ€§ å¾ˆå¤šåœ°æ–¹éœ€è¦æƒè¡¡å–èˆã€‚ å¦‚ä½¿ç”¨å¤§å‹æ•°æ®ç»“æ„æ—¶ï¼Œé€‚å½“åœ°ä½¿ç”¨å¯å˜å˜é‡ï¼Œå¯èƒ½æ¯”å¤åˆ¶å’Œè¿”å›æ–°åˆ†é…çš„å®ä¾‹æ›´å¿«ã€‚å¯¹äºè¾ƒå°çš„æ•°æ®ç»“æ„ï¼Œæ€»æ˜¯åˆ›å»ºæ–°å®ä¾‹ï¼Œé‡‡ç”¨æ›´åå‘å‡½æ•°å¼çš„ç¼–ç¨‹é£æ ¼ï¼Œå¯èƒ½ä¼šä½¿ä»£ç æ›´æ˜“ç†è§£ï¼Œä¸ºå¯è¯»æ€§è€Œç‰ºç‰²æ€§èƒ½æˆ–è®¸æ˜¯å€¼å¾—çš„ã€‚</description></item><item><title>2. æ•°æ®ç±»å‹</title><link>https://www.ryken.cloud/2.-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</link><pubDate>Wed, 01 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/2.-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</guid><description>Rust æ˜¯Â é™æ€ç±»å‹ï¼ˆstatically typedï¼‰è¯­è¨€ï¼Œå³åœ¨ç¼–è¯‘æ—¶å°±å¿…é¡»çŸ¥é“æ‰€æœ‰å˜é‡çš„ç±»å‹ã€‚æ ¹æ®å€¼åŠå…¶ä½¿ç”¨æ–¹å¼ï¼Œç¼–è¯‘å™¨é€šå¸¸å¯ä»¥æ¨æ–­å‡ºæˆ‘ä»¬æƒ³è¦ç”¨çš„ç±»å‹ã€‚å½“å¤šç§ç±»å‹å‡æœ‰å¯èƒ½æ—¶ï¼Œå¿…é¡»å¢åŠ ç±»å‹æ³¨è§£ã€‚
1 letguess: u32 =&amp;#34;42&amp;#34;.parse().expect(&amp;#34;Not a number!&amp;#34;); ä¸¤ç±»æ•°æ®ç±»å‹å­é›†ï¼šæ ‡é‡ï¼ˆscalarï¼‰å’Œå¤åˆï¼ˆcompoundï¼‰
æ ‡é‡ç±»å‹ æ•´å‹ æµ®ç‚¹å‹ å¸ƒå°”å‹ å­—ç¬¦ç±»å‹ æ•´å‹ é•¿åº¦ æœ‰ç¬¦å· æ— ç¬¦å· 8-bit i8 u8 16-bit i16 u16 32-bit i32 u32 64-bit i64 u64 128-bit i128 u128 arch isize usize isizeÂ å’ŒÂ usizeÂ ç±»å‹ä¾èµ–è¿è¡Œç¨‹åºçš„è®¡ç®—æœºæ¶æ„ï¼š64 ä½æ¶æ„ä¸Šå®ƒä»¬æ˜¯ 64 ä½çš„ï¼Œ 32 ä½æ¶æ„ä¸Šå®ƒä»¬æ˜¯ 32 ä½çš„ã€‚isizeÂ æˆ–Â usizeÂ ä¸»è¦ä½œä¸ºæŸäº›é›†åˆçš„ç´¢å¼•ã€‚ Rust æ•°å­—ç±»å‹é»˜è®¤æ˜¯Â i32ï¼šå®ƒé€šå¸¸æ˜¯æœ€å¿«çš„ï¼Œç”šè‡³åœ¨ 64 ä½ç³»ç»Ÿä¸Šä¹Ÿæ˜¯ã€‚ æ•´æ•°æº¢å‡ºï¼š</description></item><item><title>2. çŒœæ•°æ¸¸æˆ</title><link>https://www.ryken.cloud/2.-%E7%8C%9C%E6%95%B0%E6%B8%B8%E6%88%8F/</link><pubDate>Wed, 01 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/2.-%E7%8C%9C%E6%95%B0%E6%B8%B8%E6%88%8F/</guid><description>è¯»å–æ ‡å‡†è¾“å…¥çš„æ•°æ® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 usestd::io;/* é»˜è®¤æƒ…å†µä¸‹ï¼ŒRust å°† prelude æ¨¡å—ä¸­å°‘é‡çš„ç±»å‹å¼•å…¥åˆ°æ¯ä¸ªç¨‹åºçš„ä½œç”¨åŸŸä¸­ã€‚ å¦‚æœéœ€è¦çš„ç±»å‹ä¸åœ¨ prelude ä¸­ï¼Œä½ å¿…é¡»ä½¿ç”¨ use è¯­å¥æ˜¾å¼åœ°å°†å…¶å¼•å…¥ä½œç”¨åŸŸ */fn main(){letmutguess=String::new();/* 1.</description></item><item><title>rust ç¼–ç è§„èŒƒ</title><link>https://www.ryken.cloud/rust-%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/</link><pubDate>Wed, 01 Nov 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/rust-%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83/</guid><description>å¸¸é‡çš„å‘½åè§„èŒƒï¼šä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”çš„å¤§å†™å­—æ¯å•è¯ï¼Œå¹¶ä¸”å¯ä»¥åœ¨æ•°å­—å­—é¢å€¼ä¸­æ’å…¥ä¸‹åˆ’çº¿æ¥æå‡å¯è¯»æ€§ã€‚
1 2 3 fn main(){constMAX_POINTS: u32 =100_000;} Rust ä»£ç ä¸­çš„å‡½æ•°å’Œå˜é‡åä½¿ç”¨Â snake case è§„èŒƒé£æ ¼ã€‚åœ¨ snake case ä¸­ï¼Œæ‰€æœ‰å­—æ¯éƒ½æ˜¯å°å†™å¹¶ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”å•è¯ã€‚</description></item><item><title>Backblaze + Cloudflare + PicGo å›¾åºŠæ­å»º</title><link>https://www.ryken.cloud/Backblaze-+-Cloudflare-+-PicGo-%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/</link><pubDate>Mon, 30 Oct 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Backblaze-+-Cloudflare-+-PicGo-%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/</guid><description>ç›®æ ‡å®ç°è‡ªå®šä¹‰åŸŸåçš„å›¾åºŠ
ä½¿ç”¨ Cloudflare + Backblaze B2+PicGoçš„æ­å»ºå…è´¹å›¾åºŠ ä½¿ç”¨PicGo+CF(Cloudflare)+B2(Backblaze)ä½œä¸ºåšå®¢å›¾åºŠ</description></item><item><title>é—®é¢˜1ï¼špaused deployment</title><link>https://www.ryken.cloud/%E9%97%AE%E9%A2%981paused-deployment/</link><pubDate>Mon, 30 Oct 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E9%97%AE%E9%A2%981paused-deployment/</guid><description>æš‚åœå·²ç»å‘å¸ƒçš„ deploymentï¼Œæ­¤æ—¶é’ˆå¯¹ PodTemplateSpec çš„æ›´æ–°ä¸ä¼šè§¦å‘æ–°çš„ä¸Šçº¿ï¼Œé‡å¯æ—¶ä¹Ÿä¼šæŠ¥ï¼šcan&amp;rsquo;t restart paused deployment (run rollout resume first)
1 2 kubectl rollout pause deployment busybox-deployment deployment.extensions/busybox-deployment paused å½“ resume deploy èµ„æºä¹‹åï¼Œä¾¿ä¼šæ¢å¤</description></item><item><title>ipvs strictARP å‚æ•°</title><link>https://www.ryken.cloud/ipvs-strictARP-%E5%8F%82%E6%95%B0/</link><pubDate>Tue, 24 Oct 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/ipvs-strictARP-%E5%8F%82%E6%95%B0/</guid><description>[[arp ç›¸å…³å†…æ ¸å‚æ•°]] è®¾ç½®ä¸º true æ—¶
net/ipv4/conf/all/arp_ignore =&amp;gt; 1 net/ipv4/conf/all/arp_announce =&amp;gt; 2</description></item><item><title>å‡çº§ calico + calico bgp filter é…ç½®</title><link>https://www.ryken.cloud/%E5%8D%87%E7%BA%A7-calico-+-calico-bgp-filter-%E9%85%8D%E7%BD%AE/</link><pubDate>Tue, 24 Oct 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%8D%87%E7%BA%A7-calico-+-calico-bgp-filter-%E9%85%8D%E7%BD%AE/</guid><description>å‡çº§ calico å®˜æ–¹æ–‡æ¡£ï¼šÂ Upgrade Calico on Kubernetes | Calico Documentation (tigera.io)
å¯¹äº kk å®‰è£…çš„é›†ç¾¤ï¼Œé»˜è®¤ä½¿ç”¨ calico manifest å®‰è£…ï¼Œå› æ­¤ä¾ç…§å®˜æ–¹æ–‡æ¡£çš„ä½¿ç”¨ manifest çš„æ–¹æ¡ˆå‡çº§ï¼šÂ  https://docs.</description></item><item><title>go å·¥ä½œç©ºé—´</title><link>https://www.ryken.cloud/go-%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4/</link><pubDate>Sat, 21 Oct 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/go-%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4/</guid><description>go work å·¥ä½œç©ºé—´æ­£ç¡®çš„ä½¿ç”¨æ–¹å¼
åˆå§‹åŒ– go workspace go work init ä½¿ç”¨é¡¹ç›® go work use [-r] [é¡¹ç›®1 é¡¹ç›®2 .</description></item><item><title>kube-proxy åŸç†</title><link>https://www.ryken.cloud/kube-proxy-%E5%8E%9F%E7%90%86/</link><pubDate>Sat, 21 Oct 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kube-proxy-%E5%8E%9F%E7%90%86/</guid><description>kube-proxy å¦‚ä½•å®ç°æµé‡è½¬å‘
1 2 3 root@node22:~# ps -elf | grep kube-proxy 4 S root 39828 39784 0 80 0 - 188257 futex_ 10:04 ?</description></item><item><title>hybridnet æµ‹è¯•æ–¹æ¡ˆ</title><link>https://www.ryken.cloud/hybridnet-%E6%B5%8B%E8%AF%95%E6%96%B9%E6%A1%88/</link><pubDate>Tue, 17 Oct 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/hybridnet-%E6%B5%8B%E8%AF%95%E6%96%B9%E6%A1%88/</guid><description>éœ€è¦éªŒè¯ç½‘ç»œæ’ä»¶çš„åŠŸèƒ½ä»¥åŠ kube-proxy ä¸º iptables ä»¥åŠ ipvs æ¨¡å¼ä¸ç½‘ç»œæ’ä»¶çš„å…¼å®¹æ€§ã€‚
æå‰è§„åˆ’ï¼š
node cidr é›†ç¾¤å¯ç”¨çš„ vlan cidr æ ¹æ®æ–‡æ¡£ä½¿ç”¨ kk è¿›è¡Œéƒ¨ç½²ç¯å¢ƒ
kk ä½¿ç”¨ hybridnet æ’ä»¶å®‰è£…é›†ç¾¤ éªŒè¯ ipvs æ—¶ï¼Œä¿®æ”¹ç›¸åº” kk çš„é…ç½®ï¼š</description></item><item><title>è‡ªå®šä¹‰ç¯å¢ƒå˜é‡</title><link>https://www.ryken.cloud/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/</link><pubDate>Thu, 28 Sep 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/</guid><description>å…‰å¤§ä¸æƒ³è¦Â default-ipv4-ippoolï¼Œä»–ä»¬æƒ³æŠŠæ‰€æœ‰çš„Â ippoolÂ å‘½åéƒ½ç»Ÿä¸€ä¸€ä¸‹ï¼Œç°åœ¨æœ‰ä¸€ä¸ªæ–¹æ³•ï¼šå¯ä»¥é€šè¿‡è®¾ç½®Â calico-node è·³è¿‡Â defaultÂ ippoolÂ çš„åˆ›å»º
1 2 3 NO_DEFAULT_POOLS=&amp;#34;true&amp;#34;CALICO_IPV4POOL_CIDR=&amp;#34;&amp;#34;CALICO_IPV6POOL_CIDR=&amp;#34;&amp;#34; é€šè¿‡è®¾ç½®å¯ä»¥ä¿®æ”¹é»˜è®¤ ippool çš„ nodeSelector CALICO_IPV4POOL_NODE_SELECTOR</description></item><item><title>hybridnet å®‰è£…å»ºè®®</title><link>https://www.ryken.cloud/hybridnet-%E5%AE%89%E8%A3%85%E5%BB%BA%E8%AE%AE/</link><pubDate>Wed, 27 Sep 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/hybridnet-%E5%AE%89%E8%A3%85%E5%BB%BA%E8%AE%AE/</guid><description>å¯¹äºé›†ç¾¤ä¸­ä¸å»ºè®®ä½¿ç”¨ 10 11 21 22 çš„ vlan ç½‘æ®µï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–çš„ vlanï¼Œå¯ä»¥é¿å…ä¸€äº›é—®é¢˜
å‡è®¾ 10.11.22.2 ä½¿ç”¨äº† native vlan wwï¼Œhybridnet ä¼šåˆ›å»º 22 å­æ¥å£ï¼Œå¯¼è‡´æ— æ³•ä¸ç½‘å…³é€šä¿¡ï¼Œæ— æ³•åˆ›å»ºè´Ÿè½½ å…¨éƒ¨ä½¿ç”¨å­æ¥å£ - æš‚æ—¶æ²¡æœ‰é—®é¢˜</description></item><item><title>calico bandwidth é€‚é…</title><link>https://www.ryken.cloud/calico-bandwidth-%E9%80%82%E9%85%8D/</link><pubDate>Wed, 13 Sep 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-bandwidth-%E9%80%82%E9%85%8D/</guid><description>éœ€æ±‚ä»¥åŠä¿®æ”¹æ–¹å¼è§ï¼š[[bandwidth å¸¦å®½é™åˆ¶]]
å¯¹äº bandwidth ç¼–è¯‘ä¹‹åï¼Œæ ¹æ® [[github release]] å°†ç¼–è¯‘ç”Ÿæˆçš„æ–‡ä»¶ä¸Šä¼ åˆ° github release
é‡æ–°ç¼–è¯‘ cni-plugin é•œåƒï¼Œå°†å…¶ä¸­ä¸‹è½½çš„ cni plugin æ›´æ¢ä¸ºè‡ªå·±ç»´æŠ¤çš„ cni ä»“åº“ release åŒ…</description></item><item><title>ipvs</title><link>https://www.ryken.cloud/ipvs/</link><pubDate>Wed, 13 Sep 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/ipvs/</guid><description>LVS - Linux Virtual Server çš„ç®€ç§°ï¼Œkubernetes ä¸­ä¸»è¦åŒ…å« ipvs + ipvsadmã€‚ å®˜æ–¹é“¾æ¥ï¼š The Linux Virtual Server Project - Linux Server Cluster for Load Balancing</description></item><item><title>networkPolicy - ç½‘ç»œç­–ç•¥</title><link>https://www.ryken.cloud/networkPolicy-%E7%BD%91%E7%BB%9C%E7%AD%96%E7%95%A5/</link><pubDate>Wed, 13 Sep 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/networkPolicy-%E7%BD%91%E7%BB%9C%E7%AD%96%E7%95%A5/</guid><description>ç½‘ç»œç­–ç•¥ | Kubernetes
https://kubernetes.io/docs/concepts/services-networking/network-policies/
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 apiVersion:networking.</description></item><item><title>github release</title><link>https://www.ryken.cloud/github-release/</link><pubDate>Thu, 07 Sep 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/github-release/</guid><description>æŒ‡å¯¼æ–‡æ¡£ï¼š
å‘å¸ƒ assets - GitHub æ–‡æ¡£ Release CNI Plugins v1.3.0 Â· renyunkang/plugins (github.com) apt-get install gridsite-clients</description></item><item><title>kubernetes document</title><link>https://www.ryken.cloud/kubernetes-document/</link><pubDate>Thu, 07 Sep 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kubernetes-document/</guid><description>å®˜æ–¹æ–‡æ¡£ repoï¼š
Kubernetes website and documentation repo grc images - Container Registry</description></item><item><title>å®‰è£… calico</title><link>https://www.ryken.cloud/%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</link><pubDate>Thu, 07 Sep 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</guid><description>å®˜ç½‘ About Calico (tigera.io)
å®‰è£… calico calicoctl ä½¿ç”¨calicoctl å¯ä»¥ä½¿ç”¨calico çš„æ›´å¤šçš„åŠŸèƒ½ï¼Œcalicoctl ç”¨äºç®¡ç† Calico ç­–ç•¥å’Œé…ç½®ï¼Œä»¥åŠæŸ¥çœ‹è¯¦ç»†çš„é›†ç¾¤çŠ¶æ€ã€‚
API groups æ‰€æœ‰ Kubernetes èµ„æºéƒ½å±äºä¸€ä¸ª API ç»„ã€‚ API ç»„ç”±èµ„æºçš„ apiVersion æŒ‡å®šã€‚Calico ä½¿ç”¨ projectcalico.</description></item><item><title>kubekey å®‰è£…é«˜å¯ç”¨é›†ç¾¤</title><link>https://www.ryken.cloud/kubekey-%E5%AE%89%E8%A3%85%E9%AB%98%E5%8F%AF%E7%94%A8%E9%9B%86%E7%BE%A4/</link><pubDate>Fri, 01 Sep 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kubekey-%E5%AE%89%E8%A3%85%E9%AB%98%E5%8F%AF%E7%94%A8%E9%9B%86%E7%BE%A4/</guid><description>k8sÂ çš„HAÂ ç”¨kubekeyçš„è¯æ”¯æŒä¸‰ç§ï¼š 1.Â å¤–ç½®Â lbÂ 2.Â å†…ç½®Â haproxyÂ ï¼ˆæ¯ä¸ªworkerèŠ‚ç‚¹ï¼‰Â 3.Â å†…ç½®Â kube-vipÂ ï¼ˆæ¯ä¸ªmasterèŠ‚ç‚¹ï¼‰
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 apiVersion:kubekey.</description></item><item><title>k3s + rancher å®‰è£…</title><link>https://www.ryken.cloud/k3s-+-rancher-%E5%AE%89%E8%A3%85/</link><pubDate>Fri, 25 Aug 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/k3s-+-rancher-%E5%AE%89%E8%A3%85/</guid><description>æ–‡æ¡£é“¾æ¥ï¼š
å®‰è£…åœ¨dockerï¼š https://oldj.net/article/2022/04/17/install-k3s-and-rancher/ å®‰è£…åˆ°k3s ä¸­ï¼š https://blog.lv5.moe/p/use-k3s-to-build-homelab-based-on-kubernetes rancher å®˜æ–¹æ–‡æ¡£ï¼š https://ranchermanager.docs.rancher.com/zh/ https://ranchermanager.docs.rancher.com/v2.5/pages-for-subheaders/load-balancer-and-ingress-controller å®‰è£… k3sï¼š[[k3s å¤šèŠ‚ç‚¹å®‰è£…]] å®‰è£… rancherï¼š
ä½¿ç”¨ helm å®‰è£…</description></item><item><title>ç½‘å¡å‘½åè§„åˆ™</title><link>https://www.ryken.cloud/%E7%BD%91%E5%8D%A1%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99/</link><pubDate>Thu, 10 Aug 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%BD%91%E5%8D%A1%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99/</guid><description>GRUB_CMDLINE_LINUX_DEFAULT æœ‰2ä¸ªå‚æ•°ï¼Œå†³å®šç½‘å¡åå­—æ€ä¹ˆæ˜¾ç¤ºï¼š
biosdevname=1: em1 æ¿è½½ç½‘å¡ p3p4 pciç½‘å¡ net.ifnames=1 eno1 æ¿è½½ç½‘å¡ enp51s0f1 pciç½‘å¡ ens1 èƒ½çƒ­æ’æ‹”çš„ç½‘å¡ ç»„åˆçš„æƒ…å†µ</description></item><item><title>calico ä¸­çš„ proxy-arp</title><link>https://www.ryken.cloud/calico-%E4%B8%AD%E7%9A%84-proxy-arp/</link><pubDate>Wed, 02 Aug 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-%E4%B8%AD%E7%9A%84-proxy-arp/</guid><description> /proc/sys/net/ipv4/conf/DEV/rp_filterÂ =&amp;gt; 1ï¼šå¼€å¯åå‘è·¯å¾„è¿‡æ»¤ï¼Œç¡®è®¤æ•°æ®åŒ…æ¥æºï¼Œå¯¹äºæ™®é€šå®¹å™¨ï¼ŒIPåŸºæœ¬æ— æ³•ä¼ªè£…ï¼Œä½†æ˜¯å¦‚æœæ˜¯VMï¼ˆCalicoä¹Ÿæ”¯æŒVMï¼‰ï¼Œå¾ˆå®¹æ˜“ä¼ªè£…IPåœ°å€ï¼Œæ‰€ä»¥ä¸ºäº†å®‰å…¨æ‰“å¼€è¿™ä¸ªé€‰é¡¹ã€‚ /proc/sys/net/ipv4/conf/DEV/route_localnetÂ =&amp;gt; 1ï¼šå…è®¸è·¯ç”±åˆ°æœ¬åœ°ã€‚ /proc/sys/net/ipv4/neigh/DEV/proxy_delayÂ =&amp;gt; 0ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œä¸»æœºä¸ºäº†å‡å°‘ARPé£æš´çš„å¯èƒ½ï¼Œä¼šå»¶è¿Ÿä¸€æ®µæ—¶é—´å›å¤ARPåŒ…ï¼Œè¿™ä¸ªé€‰é¡¹å…³é—­è¿™ä¸ªå»¶è¿Ÿã€‚ /proc/sys/net/ipv4/conf/DEV/forwardingÂ =&amp;gt; 1ï¼šå…è®¸è½¬å‘æ•°æ®åŒ…ï¼ˆå¦‚æœä¸å…è®¸è½¬å‘çš„è¯ï¼Œé‚£æ•°æ®åŒ…å°±å‡ºä¸å»ä¸»æœºäº†ï¼‰ã€‚ ä¸Šé¢æ˜¯IPv4çš„æƒ…å†µï¼Œå¦‚æœæ˜¯IPv6çš„ç½‘ç»œï¼Œåˆ™ä¼šè®¾ç½®ï¼š
/proc/sys/net/ipv6/conf/DEV/proxy_ndpÂ =&amp;gt; 1ï¼šè¿™ä¸ªå’Œproxy_arpæ˜¯ä¸€æ ·çš„ã€‚ /proc/sys/net/ipv4/conf/DEV/forwardingÂ =&amp;gt; 1ï¼šåŒIPv4ã€‚</description></item><item><title>ç½‘ç»œé—®é¢˜</title><link>https://www.ryken.cloud/%E7%BD%91%E7%BB%9C%E6%8E%92%E6%9F%A5/</link><pubDate>Fri, 28 Jul 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%BD%91%E7%BB%9C%E6%8E%92%E6%9F%A5/</guid><description>ç½‘ç»œé—®é¢˜å®šä½ dns è§£æ svc-pod è½¬å‘ä¸é€š(ä½¿ç”¨svcname è®¿é—®) ä½¿ç”¨ svcip å¯ä»¥è®¿é—® æ£€æŸ¥ dns ç»„ä»¶é—®é¢˜ ä½¿ç”¨ svcip ä¹Ÿä¸èƒ½è®¿é—® è¿›ä¸€æ­¥æ£€æŸ¥ kube-proxy kube-proxy svc-pod è½¬å‘ä¸é€š(ç›´æ¥ä½¿ç”¨ svc ipè®¿é—®) ç›´æ¥è®¿é—®åç«¯ pod-ip å¯é€š è¿›ä¸€æ­¥æ£€æŸ¥ kube-proxy è§„åˆ™é—®é¢˜ ç›´æ¥è®¿é—®åç«¯ pod-ip ä¸é€š è¿›ä¸€æ­¥æ£€æŸ¥ cni é—®é¢˜ æ³¨æ„ï¼šä¸è¦ä½¿ç”¨ ping å‘½ä»¤æµ‹è¯• svcip icmp æ˜¯å¦è¿é€šï¼Œåº”è¯¥æµ‹è¯• svc çš„å››å±‚è½¬å‘æ˜¯å¦è¿é€š cni è·¨èŠ‚ç‚¹pod-podä¸é€šï¼Œpod-nodeä¸é€š 1.</description></item><item><title>åŠ¨æ‰‹å®ç° hybridnet - åŸç†</title><link>https://www.ryken.cloud/%E5%8A%A8%E6%89%8B%E5%AE%9E%E7%8E%B0-hybridnet-%E5%8E%9F%E7%90%86/</link><pubDate>Thu, 27 Jul 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%8A%A8%E6%89%8B%E5%AE%9E%E7%8E%B0-hybridnet-%E5%8E%9F%E7%90%86/</guid><description>é»˜è®¤è·¯ç”±è¡¨
1 2 3 4 ~# ip rule 0: from all lookup local 32766: from all lookup main 32767: from all lookup default 1 2 3 4 5 6 7 8 9 ~# ip rule 0: from all lookup local 1: from all lookup 39999 2: from all lookup 40000 3: from all fwmark 0x20/0x20 lookup 40001 4: from 172.</description></item><item><title>åŠ¨æ‰‹å®ç° hybridnet - å®è·µ</title><link>https://www.ryken.cloud/%E5%8A%A8%E6%89%8B%E5%AE%9E%E7%8E%B0-hybridnet-%E5%AE%9E%E8%B7%B5/</link><pubDate>Thu, 27 Jul 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%8A%A8%E6%89%8B%E5%AE%9E%E7%8E%B0-hybridnet-%E5%AE%9E%E8%B7%B5/</guid><description>[[vlan é…ç½®]] [[ç½‘å¡ vlan]] [[æ‰‹åŠ¨åˆ›å»º netns + è·¨ä¸»æœºé€šä¿¡]] [[åŠ¨æ‰‹å®ç° hybirdnet.svg]]
è§„åˆ’çš„ç½‘æ®µï¼š
overlayï¼š10.233.100.0/24 vlanï¼š 10.10.11.0/24 10.10.20.0/24 æ·»åŠ  vlan å­æ¥å£</description></item><item><title>journalctl</title><link>https://www.ryken.cloud/journalctl/</link><pubDate>Fri, 21 Jul 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/journalctl/</guid><description>éœ€æ›´æ”¹è®¾ç½®,å¦‚ä¸Šæ¬¡ç³»ç»Ÿå´©æºƒï¼Œéœ€è¦æŸ¥çœ‹æ—¥å¿—æ—¶ï¼Œå°±è¦çœ‹ä¸Šä¸€æ¬¡çš„å¯åŠ¨æ—¥å¿—ã€‚ journalctl -b -1
æŸ¥çœ‹æŒ‡å®šæ—¶é—´çš„æ—¥å¿— journalctl &amp;ndash;since=&amp;ldquo;2012-10-3018:17:16&amp;rdquo; journalctl &amp;ndash;since &amp;ldquo;20 minago&amp;rdquo; journalctl &amp;ndash;since yesterday journalctl &amp;ndash;since&amp;quot;2015-01-10&amp;quot; &amp;ndash;until &amp;ldquo;2015-01-11 03:00&amp;rdquo; journalctl &amp;ndash;since 09:00 &amp;ndash;until&amp;quot;1 hour ago&amp;quot; journalctl &amp;ndash;since&amp;quot;15:15&amp;quot; &amp;ndash;until now</description></item><item><title>hybridnet è‡ªå®šä¹‰èµ„æºè§£é‡Š</title><link>https://www.ryken.cloud/hybridnet-%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B5%84%E6%BA%90%E8%A7%A3%E9%87%8A/</link><pubDate>Sun, 16 Jul 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/hybridnet-%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B5%84%E6%BA%90%E8%A7%A3%E9%87%8A/</guid><description>[[hybridnet ç½‘ç»œæ’ä»¶]]
èµ„æº è§£é‡Š networks ç½‘ç»œåŸŸ subnets èŠ‚ç‚¹å¯ç”¨çš„ç½‘æ®µèµ„æº ipinstances ip åˆ†é…æƒ…å†µï¼ˆåªè¯»ï¼‰ nodeinfoes èŠ‚ç‚¹æƒ…å†µ vxlan ä¿¡æ¯ æ¯ä¸ª Network è‡³å°‘éœ€è¦æœ‰ä¸€ä¸ª Subnet æ‰èƒ½çœŸæ­£è¢«ä½¿ç”¨ ç›®å‰è¿˜ä¸æ”¯æŒä¸€ä¸ªèŠ‚ç‚¹å±äºå¤šä¸ª Underlay Networkï¼Œä½†æ˜¯æ”¯æŒä¸€ä¸ªèŠ‚ç‚¹å±äºå¤šä¸ªä¸åŒ typeï¼ˆæ¯”å¦‚ Overlayã€Underlayï¼‰çš„ Network network network.</description></item><item><title>å®‰è£… bcc å·¥å…·åŒ…</title><link>https://www.ryken.cloud/%E5%AE%89%E8%A3%85-bcc-%E5%B7%A5%E5%85%B7%E5%8C%85/</link><pubDate>Sun, 16 Jul 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%AE%89%E8%A3%85-bcc-%E5%B7%A5%E5%85%B7%E5%8C%85/</guid><description>eunomia-bpf æ˜¯ä¸€ä¸ªå¼€æºçš„ eBPF åŠ¨æ€åŠ è½½è¿è¡Œæ—¶å’Œå¼€å‘å·¥å…·é“¾ï¼Œå®ƒçš„ç›®çš„æ˜¯ç®€åŒ– eBPF ç¨‹åºçš„å¼€å‘ã€æ„å»ºã€åˆ†å‘ã€è¿è¡Œã€‚å®ƒåŸºäº libbpf çš„ CO-RE è½»é‡çº§å¼€å‘æ¡†æ¶ï¼Œæ”¯æŒé€šè¿‡ç”¨æˆ·æ€ WASM è™šæ‹Ÿæœºæ§åˆ¶ eBPF ç¨‹åºçš„åŠ è½½å’Œæ‰§è¡Œï¼Œå¹¶å°†é¢„ç¼–è¯‘çš„ eBPF ç¨‹åºæ‰“åŒ…ä¸ºé€šç”¨çš„ JSON æˆ– WASM æ¨¡å—è¿›è¡Œåˆ†å‘ã€‚</description></item><item><title>calico non-root + non-privileged è¿è¡Œ</title><link>https://www.ryken.cloud/calico-non-root-+-non-privileged-%E8%BF%90%E8%A1%8C/</link><pubDate>Fri, 02 Jun 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-non-root-+-non-privileged-%E8%BF%90%E8%A1%8C/</guid><description>å‚ç…§ operator ä¿®æ”¹æ–¹å¼è¿›è¡Œä¿®æ”¹ privilege è¿è¡Œæ˜¯ç”±äº Bidirectional æŒ‚è½½å¿…é¡»ä¸º privilege æ¨¡å¼
1 2 3 - mountPath:/sys/fs/mountPropagation:Bidirectionalname:sysfs 1 The DaemonSet &amp;#34;calico-node&amp;#34; is invalid: spec.</description></item><item><title>ip åœ°å€</title><link>https://www.ryken.cloud/ip-%E5%9C%B0%E5%9D%80/</link><pubDate>Thu, 01 Jun 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/ip-%E5%9C%B0%E5%9D%80/</guid><description>IPv4 åœ°å€å— CIDR èŒƒå›´ åœ°å€æ•° æ•ˆç”¨åŸŸ ç”¨é€” 0.0.0.0/8 0.0.0.0 â€“ 0.255.255.255 16,777,216 è½¯ä»¶ ç”¨äºå¹¿æ’­ä¿¡æ¯åˆ°å½“å‰ä¸»æœº 10.</description></item><item><title>About me</title><link>https://www.ryken.cloud/About-me/</link><pubDate>Wed, 24 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/About-me/</guid><description> My Github MyKnowledgeGarden (ryken.cloud) MyEmail: rykren1998@gmail</description></item><item><title>æ­å»ºæ•°å­—èŠ±å›­</title><link>https://www.ryken.cloud/%E6%90%AD%E5%BB%BA%E6%95%B0%E5%AD%97%E8%8A%B1%E5%9B%AD/</link><pubDate>Wed, 24 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%90%AD%E5%BB%BA%E6%95%B0%E5%AD%97%E8%8A%B1%E5%9B%AD/</guid><description>å‘å¸ƒçš„æ–¹æ¡ˆï¼š obsidian ç›®å‰æœ€å®Œç¾çš„å…è´¹å‘å¸ƒæ–¹æ¡ˆ - æ¸è¿›å¼æ•™ç¨‹ (oldwinter.top)
å‚è€ƒå‘å¸ƒçš„èŠ±å›­ + æ­å»ºæ–¹æ¡ˆï¼š
quartz + obsidian-export(æ·»åŠ .export-ignore)+github jackyzha0/quartz: ğŸŒ± host your own second brain and digital garden for free (github.</description></item><item><title>multipass</title><link>https://www.ryken.cloud/multipass/</link><pubDate>Tue, 23 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/multipass/</guid><description>å®˜æ–¹githubï¼š https://github.com/canonical/multipass windows ç¯å¢ƒä¸‹çš„å®‰è£…ä»¥åŠä½¿ç”¨ï¼š https://multipass.run/docs/installing-on-windows
windows æ”¯æŒä»¥ä¸‹ä¸¤ç§æ¨¡å¼ï¼š
Hyper-Vï¼šï¼ˆåªèƒ½æ˜¯windows Pro æˆ–è€… windows ä¼ä¸šç‰ˆï¼‰ VirtualBoxï¼šä¾èµ– VirtualBox åˆ‡æ¢æ¨¡å¼ï¼š
multipass set local.</description></item><item><title>calico åº”æ€¥æ–¹æ¡ˆ</title><link>https://www.ryken.cloud/calico-%E5%BA%94%E6%80%A5%E6%96%B9%E6%A1%88/</link><pubDate>Wed, 10 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-%E5%BA%94%E6%80%A5%E6%96%B9%E6%A1%88/</guid><description>ç¡®è®¤å‡ºç°é—®é¢˜çš„å…·ä½“éƒ¨åˆ†å’Œé”™è¯¯ç°è±¡ ç¡®è®¤é—®é¢˜å‡ºç°çš„æ—¶é—´ã€åœºæ™¯ï¼Œäº†è§£ç³»ç»Ÿçš„è¿è¡Œç¯å¢ƒã€ç‰ˆæœ¬ä¿¡æ¯ã€ç³»ç»Ÿé…ç½®ç­‰ï¼Œä»¥ä¾¿æ˜ç¡®é—®é¢˜çš„èŒƒå›´å’Œåˆ†æã€‚ ç¡®è®¤é”™è¯¯ç°è±¡æ˜¯å¦å…·æœ‰å¯é‡ç°æ€§ï¼Œæ˜¯å¦å­˜åœ¨è§„å¾‹æ€§ä¸å‘¨æœŸæ€§ï¼Œæœ‰åŠ©äºé—®é¢˜è¿›ä¸€æ­¥æ’æŸ¥å’Œåˆ†æã€‚ æ£€æŸ¥ Calico æ—¥å¿—[[CloudNative/cni-network/calico/æ—¥å¿—/æ—¥å¿—|æ—¥å¿—]] æŸ¥çœ‹ calico describe ä»¥åŠæ—¥å¿—ã€‚[[é€šè¿‡äº‹ä»¶ã€æ—¥å¿—æ’æŸ¥]] æ ¹æ®é”™è¯¯æç¤ºæˆ–è­¦å‘Šä¿¡æ¯ï¼ŒæŸ¥æ‰¾ç›¸å…³çš„è§£å†³æ–¹æ¡ˆæˆ–é”™è¯¯æ’é™¤æ–¹æ³•ã€‚ å¦‚æœæ—¥å¿—ä¸­æ²¡æœ‰æ˜æ˜¾é”™è¯¯æˆ–è­¦å‘Šä¿¡æ¯ï¼Œå¯ä»¥å°†æ—¥å¿—çº§åˆ«è°ƒæ•´ä¸º DEBUGï¼ŒæŸ¥çœ‹æ›´ä¸ºè¯¦ç»†çš„æ—¥å¿—ä¿¡æ¯ï¼Œè¿›ä¸€æ­¥åˆ†æé—®é¢˜åŸå› ã€‚ calicoæ²¡æœ‰æ˜æ˜¾é”™è¯¯æ—¥å¿—è®°å½•æ—¶ï¼Œå¯ä»¥æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—ï¼Œå¹¶å‚è€ƒç³»ç»Ÿèµ„æºæƒ…å†µæ¥åˆ†æé—®é¢˜åŸå› ã€‚[[æ ¹æ®ç³»ç»Ÿæ—¥å¿—æ’æŸ¥]] è¿›è¡Œç½‘ç»œè¯Šæ–­ [[ç½‘ç»œå·¥å…·è¯Šæ–­]] ä½¿ç”¨ pingã€tracerouteã€tcpdump ç­‰ç½‘ç»œè¯Šæ–­å·¥å…·ï¼Œæ£€æŸ¥ç½‘ç»œè¿é€šæ€§å’Œç½‘ç»œé€šä¿¡çŠ¶æ€(pod-pod/pod-node/pod-svc/node-svc/node-gatewayã€pod-gateway)ï¼Œç¡®è®¤æ˜¯å¦å­˜åœ¨ç½‘ç»œé—®é¢˜ï¼Œå¹¶ä» gatewayâ†’nodeâ†’svcâ†’pod ä¸€å±‚ä¸€å±‚æ›´ç»†åŒ–çš„å®šä½é—®é¢˜æ ¹æºã€‚ å¦‚æœé—®é¢˜æ ¹æºæ¶‰åŠ podï¼Œå¯ä»¥ä» ipamã€bgp è·¯ç”±è§’åº¦åˆ†æ å¦‚æœæ¶‰åŠ svcï¼Œå¯ä»¥ä» kube-proxyã€iptables è§’åº¦åˆ†æ å¦‚æœæ¶‰åŠ nodeï¼Œå¯ä»¥ä»ç‰©ç†ç½‘ç»œã€gateway è§’åº¦åˆ†æ å¯¹æ¯”ä¸åŒæœºå™¨ä¸Šçš„æ€§èƒ½æŒ‡æ ‡ä»¥åŠç½‘ç»œçŠ¶å†µï¼Œç¡®å®šå‡ºé”™çš„æœºå™¨æ˜¯å¦å­˜åœ¨ç‰¹æ®Šç½‘ç»œé—®é¢˜ã€‚ æ£€æŸ¥ Calico é…ç½® [[calicoé…ç½®æ–‡ä»¶]] ç¡®è®¤ Calico çš„é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®ï¼Œæ˜¯å¦ç¼ºå¤±æˆ–é”™è¯¯é…ç½®ã€‚åŒ…æ‹¬ cni configmapã€bgpã€bgppeerã€felixç­‰ç›¸å…³é…ç½® æ£€æŸ¥ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ æŸ¥çœ‹ç³»ç»Ÿ CPUã€å†…å­˜ã€ç£ç›˜ç­‰èµ„æºçš„ä½¿ç”¨æƒ…å†µï¼Œå¦‚æœå­˜åœ¨èµ„æºä¸è¶³æˆ–è¶…è½½ç°è±¡ï¼Œå¯ä»¥è€ƒè™‘ä¼˜åŒ–æˆ–æ‰©å®¹ã€‚ ç¡®è®¤ Calico çš„ç½‘ç»œå¸¦å®½ä½¿ç”¨æƒ…å†µï¼Œåˆ†æç½‘ç»œæµé‡çš„åˆ†å¸ƒå’Œæƒ…å†µï¼Œç¡®è®¤æ˜¯å¦å‡ºç°äº†ç½‘ç»œæµé‡ç“¶é¢ˆã€‚ é€ä¸€æ’æŸ¥å¯èƒ½çš„åŸå›  å¦‚æœæ˜¯ç½‘ç»œé€šä¿¡é—®é¢˜ï¼Œå¯ä»¥æ£€æŸ¥ç½‘ç»œæ‹“æ‰‘ï¼Œè·¯ç”±å™¨ã€äº¤æ¢æœºã€é˜²ç«å¢™ç­‰è®¾å¤‡çš„é…ç½®ï¼Œç¡®è®¤æ˜¯å¦å­˜åœ¨é…ç½®é”™è¯¯æˆ–æ•…éšœã€‚ å¦‚æœæ˜¯æ€§èƒ½ç“¶é¢ˆé—®é¢˜ï¼Œå¯ä»¥è¿›è¡Œæ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–ï¼Œå¦‚ä½¿ç”¨æ€§èƒ½å·¥å…·ã€è°ƒæ•´é…ç½®å‚æ•°ç­‰ã€‚ å¦‚æœæ˜¯ç³»ç»Ÿå´©æºƒé—®é¢˜ï¼Œå¯ä»¥é€šè¿‡æ•…éšœæ—¥å¿—ã€å†…å­˜è½¬å‚¨æ–‡ä»¶ç­‰è¿›è¡Œåˆ†æå®šä½ã€‚ è¿›è¡Œæµ‹è¯•ç¯å¢ƒéƒ¨ç½²å’Œæµ‹è¯• å¦‚æœå‡ºç°é—®é¢˜çš„ç¯å¢ƒæ¯”è¾ƒå¤æ‚ï¼Œå¯ä»¥è€ƒè™‘åœ¨æµ‹è¯•ç¯å¢ƒä¸­è¿›è¡Œéƒ¨ç½²å’Œæµ‹è¯•ï¼Œä»¥æ’é™¤ç¯å¢ƒé…ç½®å’Œéƒ¨ç½²å·¥å…·é—®é¢˜ã€‚ æ›´æ–°å’Œå‡çº§ Calico ç‰ˆæœ¬ å¦‚æœå‘ç° Calico çš„é—®é¢˜å­˜åœ¨äºæ—§ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥å°è¯•å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚ Upgrade Calico on Kubernetes å¯»æ±‚ç¤¾åŒºå¸®åŠ© å¦‚æœä»¥ä¸Šæ–¹æ³•æ— æ³•è§£å†³é—®é¢˜ï¼Œå¯ä»¥è”ç³» Calico çš„ç¤¾åŒºæˆå‘˜ï¼Œæä¾›è¯¦ç»†çš„é—®é¢˜æè¿°å’Œç›¸å…³ä¿¡æ¯ï¼Œä»¥ä¾¿ç¤¾åŒºæˆå‘˜è¿›è¡ŒååŠ©å’Œè§£å†³ã€‚ å¯ä»¥åœ¨ç¤¾åŒºè®ºå›æˆ–é‚®ä»¶åˆ—è¡¨ä¸Šç•™è¨€ï¼Œæˆ–ç›´æ¥å‘ç¤¾åŒºæˆå‘˜è”ç³»ï¼Œæä¾›ç›¸å…³é—®é¢˜ä¿¡æ¯ï¼Œäº¤æµé—®é¢˜è§£å†³æ–¹æ¡ˆã€‚ Issues Â· projectcalico/calico Discuss Calico https://calicousers.</description></item><item><title>ç½‘å¡ vlan</title><link>https://www.ryken.cloud/%E7%BD%91%E5%8D%A1-vlan/</link><pubDate>Wed, 10 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%BD%91%E5%8D%A1-vlan/</guid><description>æ·»åŠ  vlan å­æ¥å£ ä½¿ç”¨ ip å‘½ä»¤ ip link add link enp125s0f0 name enp125s0f0.100 type vlan id 100 ä½¿ç”¨ vconfig å‘½ä»¤ ç›¸å…³æ¨¡å— lsmod |grep -i 8021q ç›¸å…³å·¥å…·åŒ… apt-get install vlan or yum install vconfig modprobe 8021q æ·»åŠ  vlan vconfig add enp8s0f1 100 åœ¨enp8s0f1æ¥å£ä¸Šé…ç½®ä¸¤ä¸ªVLAN vconfig set_flag enp8s0f1.</description></item><item><title/><link>https://www.ryken.cloud/2.-%E7%BC%96%E8%AF%91%E5%92%8C%E9%93%BE%E6%8E%A5/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/2.-%E7%BC%96%E8%AF%91%E5%92%8C%E9%93%BE%E6%8E%A5/</guid><description>é¢„ç¼–è¯‘ã€ç¼–è¯‘ã€æ±‡ç¼–ã€é“¾æ¥
1 2 3 4 5 6 7 // hello.c #include &amp;lt;stdio.h&amp;gt;int main() { printf(&amp;#34;hello world\n&amp;#34;); return 0; } | $ gcc hello.</description></item><item><title/><link>https://www.ryken.cloud/3.-%E5%B7%A5%E5%85%B7%E9%93%BE/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/3.-%E5%B7%A5%E5%85%B7%E9%93%BE/</guid><description>å®‰è£…
å·¥å…· go build
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 usage: go build [-o output] [build flags] [packages] # æ ¹æ®ä»–ä»¬çš„ä¾èµ–æ¥ç¼–è¯‘importè·¯å¾„ä¸­çš„åŒ…ï¼Œä½†æ˜¯ä¸installç»“æœ Build compiles the packages named by the import paths, along with their dependencies, but it does not install the results.</description></item><item><title/><link>https://www.ryken.cloud/3.-%E7%9B%AE%E6%A0%87%E6%96%87%E4%BB%B6/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/3.-%E7%9B%AE%E6%A0%87%E6%96%87%E4%BB%B6/</guid><description>ç¼–è¯‘å™¨ç¼–è¯‘æºç ä¹‹åçš„ç”Ÿæˆçš„æ–‡ä»¶å«åšç›®æ ‡æ–‡ä»¶
2. 3. ELFæ–‡ä»¶ç»“æ„æè¿° æ–‡ä»¶å¤´ æ®µè¡¨ é‡å®šä½è¡¨ å­—ç¬¦ä¸²è¡¨ 4. é“¾æ¥çš„æ¥å£ - ç¬¦å·</description></item><item><title/><link>https://www.ryken.cloud/3.1-%E7%9B%AE%E6%A0%87%E6%96%87%E4%BB%B6%E7%9A%84%E6%A0%BC%E5%BC%8F/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/3.1-%E7%9B%AE%E6%A0%87%E6%96%87%E4%BB%B6%E7%9A%84%E6%A0%BC%E5%BC%8F/</guid><description>ç›®æ ‡æ–‡ä»¶çš„æ ¼å¼ ç°åœ¨PCå¹³å°æµè¡Œçš„å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼åªè¦æ˜¯PE(Windows Portable Executable)å’ŒELF(Linux Executable Linkable Format)ã€‚å®ƒä»¬éƒ½æ˜¯COFF(Common file format)çš„å˜ç§ã€‚COFFçš„ä¸»è¦è´¡çŒ®æ˜¯åœ¨ç›®æ ‡æ–‡ä»¶ä¸­å¼•å…¥äº†æ®µçš„æœºåˆ¶ï¼Œä¸åŒçš„ç›®æ ‡æ–‡ä»¶å¯ä»¥æ‹¥æœ‰ä¸åŒæ•°é‡ä»¥åŠä¸åŒç±»å‹çš„æ®µï¼Œå¦å¤–è¿˜å®šä¹‰äº†è°ƒè¯•æ•°æ®æ ¼å¼ã€‚ç›®æ ‡æ–‡ä»¶å°±æ˜¯æºä»£ç ç¼–è¯‘ä¹‹åæ²¡æœ‰è¿›è¡Œé“¾æ¥çš„ä¸­é—´æ–‡ä»¶ï¼Œå®ƒåŒå¯æ‰§è¡Œæ–‡ä»¶çš„å†…å®¹ç»“æ„å¾ˆç›¸ä¼¼ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸å¯æ‰§è¡Œæ–‡ä»¶ä¸€èµ·é‡‡ç”¨ä¸€ç§æ ¼å¼å­˜å‚¨ã€‚ ä¸å…‰å¯æ‰§è¡Œæ–‡ä»¶æŒ‰ç…§å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼å­˜å‚¨ï¼ŒåŠ¨æ€é“¾æ¥åº“ä»¥åŠé™æ€é“¾æ¥åº“éƒ½æ˜¯æŒ‰ç…§å¯æ‰§è¡Œæ–‡ä»¶çš„æ ¼å¼è¿›è¡Œå­˜å‚¨ï¼ŒWindowsä¸‹ç»Ÿç§°ä¸ºPE-COFFæ–‡ä»¶æ ¼å¼ï¼ŒLinuxä¸‹ç»Ÿç§°ä¸ºELFæ–‡ä»¶ã€‚ é™æ€é“¾æ¥åº“ç¨æœ‰ä¸åŒï¼Œé™æ€é“¾æ¥åº“æŠŠå¾ˆå¤šç›®æ ‡æ–‡ä»¶æ†ç»‘åœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªæ–‡ä»¶ï¼Œå†åŠ ä¸Šä¸€äº›ç´¢å¼•ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå®ƒç†è§£ä¸ºä¸€ä¸ªåŒ…å«å¾ˆå¤šç›®æ ‡æ–‡ä»¶çš„æ–‡ä»¶åŒ…ã€‚ ELFæ–‡ä»¶æ ‡å‡†å°†ç³»ç»Ÿä¸­ELFæ ¼å¼çš„æ–‡ä»¶å½’ä¸ºä»¥ä¸‹4ç±»ï¼š
ELFæ–‡ä»¶ç±»å‹ è¯´æ˜ å®ä¾‹ å¯é‡å®šå‘æ–‡ä»¶ã€Relocatable Fileã€‘ è¿™ç±»æ–‡ä»¶åŒ…å«äº†ä»£ç å’Œæ•°æ®ï¼Œå¯ä»¥è¢«ç”¨æ¥è¿é“¾æ¥æˆå¯æ‰§è¡Œæ–‡ä»¶æˆ–å…±äº«ç›®æ ‡æ–‡ä»¶ï¼Œé™æ€é“¾æ¥åº“ä¹Ÿå¯ä»¥å½’ä¸ºè¿™ä¸€ç±» Linuxçš„.</description></item><item><title/><link>https://www.ryken.cloud/3.2-%E7%9B%AE%E6%A0%87%E6%96%87%E4%BB%B6%E7%9A%84%E5%86%85%E5%AE%B9/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/3.2-%E7%9B%AE%E6%A0%87%E6%96%87%E4%BB%B6%E7%9A%84%E5%86%85%E5%AE%B9/</guid><description>ç›®æ ‡æ–‡ä»¶çš„å†…å®¹ ç›®æ ‡æ–‡ä»¶ä¸­å«æœ‰ç¼–è¯‘åçš„æœºå™¨æŒ‡ä»¤ä»£ç ã€æ•°æ®ä»¥åŠé“¾æ¥æ—¶æ‰€éœ€è¦çš„ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚ç¬¦å·è¡¨ã€è°ƒè¯•ä¿¡æ¯ã€å­—ç¬¦ä¸²ç­‰ã€‚ä¸€èˆ¬ç›®æ ‡æ–‡ä»¶å°†è¿™äº›ä¿¡æ¯æŒ‰ç…§ä¸åŒçš„å±æ€§ï¼Œä»¥â€œèŠ‚/æ®µâ€çš„å½¢å¼å­˜å‚¨ã€‚
æ®µå åç§° å†…å®¹ ä»£ç æ®µ .codeæˆ–è€….text æºä»£ç ç¼–è¯‘åçš„æœºå™¨æŒ‡ä»¤ æ•°æ®æ®µ .data å…¨å±€å˜é‡å’Œå±€éƒ¨é™æ€å˜é‡ .</description></item><item><title/><link>https://www.ryken.cloud/3.3-ELF%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E6%8F%8F%E8%BF%B0/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/3.3-ELF%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E6%8F%8F%E8%BF%B0/</guid><description>ELFåŸºæœ¬ç»“æ„ ELFæ–‡ä»¶å¤´ï¼šåŒ…å«äº†æè¿°æ•´ä¸ªæ–‡ä»¶çš„åŸºæœ¬å±æ€§(ELFæ–‡ä»¶ç‰ˆæœ¬ã€ç›®æ ‡æœºå™¨å‹å·ã€ç¨‹åºå…¥å£åœ°å€ç­‰) å„ä¸ªæ®µï¼ˆä»£ç æ®µã€æ•°æ®æ®µã€bssæ®µï¼‰ æ®µè¡¨ï¼šæè¿°äº†ELFæ–‡ä»¶åŒ…å«çš„æ‰€æœ‰æ®µçš„ä¿¡æ¯(æ®µåã€æ®µçš„é•¿åº¦ã€åœ¨æ–‡ä»¶ä¸­çš„åç§»ã€è¯»å†™æƒé™ã€æ®µçš„å…¶ä»–å±æ€§) ELFè¾…åŠ©ç»“æ„ï¼šå­—ç¬¦ä¸²è¡¨ã€ç¬¦å·è¡¨ç­‰ æ–‡ä»¶å¤´ readelf å‘½ä»¤æŸ¥çœ‹ELFæ–‡ä»¶ï¼šreadelf -h hello.o
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 ELF Header | ELF Header: ELFé­”æ•° | Magic: 7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00 æ–‡ä»¶æœºå™¨å­—èŠ‚é•¿åº¦ | Class: ELF64 æ•°æ®å­˜å‚¨æ–¹å¼ | Data: 2&amp;#39;s complement, little endian ç‰ˆæœ¬ | Version: 1 (current) è¿è¡Œå¹³å° | OS/ABI: UNIX - System V ABIç‰ˆæœ¬ | ABI Version: 0 ELFé‡å®šä½ç±»å‹ | Type: REL (Relocatable file) ç¡¬ä»¶å¹³å° | Machine: Advanced Micro Devices X86-64 ç¡¬ä»¶å¹³å°ç‰ˆæœ¬ | Version: 0x1 å…¥å£åœ°å€ | Entry point address: 0x0 ç¨‹åºå¤´å…¥å£ | Start of program headers: 0 (bytes into file) æ®µè¡¨çš„ä½ç½® | Start of section headers: 1176 (bytes into file) â€”â€”â€”â€” | Flags: 0x0 æ–‡ä»¶å¤´é•¿åº¦ | Size of this header: 64 (bytes) ç¨‹åºå¤´é•¿åº¦ | Size of program headers: 0 (bytes) ç¨‹åºå¤´æ•°é‡ | Number of program headers: 0 æ®µè¡¨çš„é•¿åº¦ | Size of section headers: 64 (bytes) æ®µæ•°é‡ | Number of section headers: 14 | Section header string table index: 13 ELFæ–‡ä»¶å¤´ä¸­å®šä¹‰äº†ELFé­”æ•°ã€æ–‡ä»¶æœºå™¨å­—èŠ‚é•¿åº¦ã€æ•°æ®å­˜å‚¨æ–¹å¼ã€ç‰ˆæœ¬ã€è¿è¡Œå¹³å°ã€ABIç‰ˆæœ¬ã€ELFé‡å®šä½ç±»å‹ã€ç¡¬ä»¶å¹³å°ã€ç¡¬ä»¶å¹³å°ç‰ˆæœ¬ã€å…¥å£åœ°å€ã€ç¨‹åºå¤´å…¥å£å’Œé•¿åº¦ã€æ®µè¡¨çš„ä½ç½®å’Œé•¿åº¦ã€æ®µçš„æ•°é‡ç­‰ã€‚ ELFé­”æ•°ï¼š16ä¸ªå­—èŠ‚ï¼Œç”¨äºæ ‡è¯†ELFæ–‡ä»¶çš„å¹³å°å±æ€§ã€‚å¦‚ELFå­—é•¿ã€å­—èŠ‚åºã€ELFæ–‡ä»¶ç‰ˆæœ¬ã€‚ ELFæ–‡ä»¶çš„é­”æ•°ï¼š7f 45 4c 46ï¼›a.</description></item><item><title/><link>https://www.ryken.cloud/3.4-%E9%93%BE%E6%8E%A5%E7%9A%84%E6%8E%A5%E5%8F%A3-%E7%AC%A6%E5%8F%B7/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/3.4-%E9%93%BE%E6%8E%A5%E7%9A%84%E6%8E%A5%E5%8F%A3-%E7%AC%A6%E5%8F%B7/</guid><description>é“¾æ¥çš„æœ¬è´¨å°±æ˜¯å°†ä¸åŒçš„ç›®æ ‡æ–‡ä»¶ä¹‹é—´ç›¸äº’ç²˜åœ¨ä¸€èµ·ï¼Œæƒ³è¦ç²˜åˆå°±å¿…é¡»è¦æœ‰å›ºå®šçš„è§„åˆ™æ‰è¡Œã€‚åœ¨é“¾æ¥ä¸­ï¼Œç›®æ ‡æ–‡ä»¶ä¹‹é—´ç›¸äº’æ‹¼åˆå®é™…ä¸Šæ˜¯ç›®æ ‡æ–‡ä»¶ä¹‹é—´å¯¹åœ°å€çš„å¼•ç”¨ï¼Œå³å¯¹å‡½æ•°å’Œå˜é‡çš„åœ°å€çš„å¼•ç”¨ï¼Œå¦‚Aä½¿ç”¨Bä¸­çš„å‡½æ•°funcï¼Œå³Aä¸­å®šä¹‰äº†å‡½æ•°funcã€Bå¼•ç”¨äº†funcã€‚é“¾æ¥ä¸­ï¼Œæˆ‘ä»¬å°†å‡½æ•°å’Œå˜é‡ç»Ÿç§°ä¸ºæ”¹ç¬¦å·ï¼Œå‡½æ•°åæˆ–è€…å˜é‡åå°±æ˜¯ç¬¦å·åã€‚ æ•´ä¸ªé“¾æ¥çš„è¿‡ç¨‹æ­£æ˜¯åŸºäºç¬¦å·æ‰èƒ½æ­£ç¡®å®Œæˆï¼Œé“¾æ¥çš„è¿‡ç¨‹ä¸­å¾ˆå…³é”®çš„ä¸€éƒ¨åˆ†å°±æ˜¯ç¬¦å·çš„ç®¡ç†ï¼Œæ¯ä¸€ä¸ªç›®æ ‡æ–‡ä»¶éƒ½ä¼šæœ‰ä¸€ä¸ªç›¸åº”çš„ç¬¦å·è¡¨ï¼Œè¿™ä¸ªè¡¨é‡Œé¢è®°å½•ç›®æ ‡æ–‡ä»¶ä¸­æ‰€ç”¨åˆ°çš„æ‰€æœ‰ç¬¦å·ï¼Œæ¯ä¸ªå®šä¹‰çš„ç¬¦å·æœ‰ä¸€ä¸ªå¯¹åº”çš„å€¼å«åšç¬¦å·å€¼ã€‚å¯¹äºå˜é‡æ ¸å‡½æ•°æ¥è¯´ï¼Œç¬¦å·å€¼å°±æ˜¯å®ƒä»¬çš„åœ°å€ï¼Œæˆ‘ä»¬å°†ç¬¦å·è¡¨ä¸­çš„æ‰€æœ‰ç¬¦å·è¿›è¡Œåˆ†ç±»ï¼š
å®šä¹‰åœ¨æœ¬ç›®æ ‡æ–‡ä»¶çš„å…¨å±€ç¬¦å·ï¼Œå¯ä»¥è¢«å…¶ä»–ç›®æ ‡æ–‡ä»¶å¼•ç”¨ åœ¨æœ¬ç›®æ ‡æ–‡ä»¶ä¸­å¼•ç”¨çš„å…¨å±€ç¬¦å·ï¼Œå´æ²¡æœ‰å®šä¹‰åœ¨æœ¬ç›®æ ‡æ–‡ä»¶ï¼Œè¿™ä¸€èˆ¬å«å¤–éƒ¨ç¬¦å·ã€‚ æ®µåï¼Œè¿™ç§ç¬¦å·å¾€å¾€ç”±ç¼–è¯‘å™¨äº§ç”Ÿï¼Œå®ƒçš„å€¼å°±æ˜¯è¯¥æ®µçš„èµ·å§‹åœ°å€ å±€éƒ¨ç¬¦å·ï¼Œè¿™ç±»ç¬¦å·å¾€å¾€åªåœ¨ç¼–è¯‘å•å…ƒå†…éƒ¨å¯è§ï¼Œæ¯”å¦‚staticçš„å˜é‡ã€‚è°ƒè¯•å™¨å¯ä»¥ä½¿ç”¨è¿™äº›ç¬¦å·æ¥åˆ†æç¨‹åºæˆ–å¥”æºƒæ—¶çš„æ ¸å¿ƒè½¬å‚¨æ–‡ä»¶ã€‚è¿™äº›å±€éƒ¨ç¬¦å·å¯¹äºé“¾æ¥è¿‡ç¨‹æ²¡æœ‰ä½œç”¨ï¼Œé“¾æ¥å™¨å¾€å¾€ä¼šå¿½ç•¥å®ƒä»¬ è¡Œå·ä¿¡æ¯ï¼Œå³ç›®æ ‡æ–‡ä»¶æŒ‡ä»¤ä¸æºä»£ç ä¸­ä»£ç è¡Œçš„å¯¹åº”å…³ç³»ï¼Œè¿™æ˜¯å¯é€‰çš„ æˆ‘ä»¬æœ€å…³å¿ƒçš„æ˜¯å…¨å±€ç¬¦å·ï¼Œå³ä»¥ä¸Šåˆ†ç±»çš„ç¬¬ä¸€ç±»å’Œç¬¬äºŒç±»ï¼Œå› ä¸ºé“¾æ¥çš„è¿‡ç¨‹åªå…³å¿ƒå…¨å±€ç¬¦å·çš„ç›¸äº’ç²˜åˆï¼Œå±€éƒ¨ç¬¦å·ã€æ®µåã€è¡Œå·ç­‰éƒ½æ˜¯æ¬¡è¦çš„ï¼Œå› ä¸ºä»–ä»¬å¯¹äºå…¶ä»–ç›®æ ‡æ–‡ä»¶æ¥è¯´æ˜¯ä¸å¯è§çš„ã€‚ æŸ¥çœ‹ç¬¦å·è¡¨å‘½ä»¤ï¼šnm hello.o
1 2 3 4 5 6 7 8 9 root@orange:/home/orange/program/test# nm hello.</description></item><item><title/><link>https://www.ryken.cloud/4.-%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/4.-%E9%9D%99%E6%80%81%E9%93%BE%E6%8E%A5/</guid><description>æœ¬ç« å°ç»“ï¼š</description></item><item><title/><link>https://www.ryken.cloud/9.1-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/9.1-%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/</guid><description>å•å…ƒæµ‹è¯•/æ€§èƒ½æµ‹è¯•/ä»£ç è¦†ç›–ç‡ç­‰ä¸€èµ·ä¿éšœäº†ä»£ç æ€»æ˜¯åœ¨å¯æ§èŒƒå›´å†…ã€‚å•å…ƒæµ‹è¯•ç”¨æ¥æµ‹è¯•åŒ…æˆ–è€…ç¨‹åºçš„ä¸€éƒ¨åˆ†ä»£ç æˆ–è€…ä¸€ç»„ä»£ç çš„å‡½æ•°ã€‚
å•å…ƒæµ‹è¯•åˆ†ç±»
æ­£å‘æµ‹è¯•ï¼šåœ¨æ­£å¸¸æ‰§è¡Œçš„æƒ…å†µä¸‹ï¼Œä¿è¯ä»£ç ä¸äº§ç”Ÿé”™è¯¯çš„æµ‹è¯•ã€‚
åå‘æµ‹è¯•ï¼šä¿è¯ä»£ç ä¸ä»…ä¼šäº§ç”Ÿé”™è¯¯ï¼Œè€Œä¸”æ˜¯é¢„æœŸçš„é”™è¯¯
åŸºç¡€æµ‹å®šï¼šåªä½¿ç”¨ä¸€ç»„å‚æ•°å’Œç»“æœæ¥æµ‹è¯•ä¸€æ®µä»£ç 
è¡¨ç»„æµ‹è¯•ï¼šä½¿ç”¨å¤šç»„å‚æ•°å’Œç»“æœæ¥è¿›è¡Œæµ‹è¯•
mockæµ‹è¯•ï¼šæ¨¡ä»¿æµ‹è¯•ä»£ç éœ€è¦ç”¨åˆ°çš„å¤–éƒ¨èµ„æºï¼Œæ¯”å¦‚ï¼šæ•°æ®åº“æˆ–ç½‘ç»œæœåŠ¡å™¨ï¼Œæœ‰åŠ©äºè®©æµ‹è¯•åœ¨æ²¡æœ‰æ‰€éœ€è¦çš„å¤–éƒ¨èµ„æºå¯ç”¨çš„æ—¶å€™ï¼Œæ¨¡æ‹Ÿè¿™äº›èµ„æºçš„è¡Œä¸ºä½¿å¾—æµ‹è¯•æ­£å¸¸è¿›è¡Œã€‚
testing å·¥å…·é“¾å’Œæ ‡å‡†åº“è‡ªå¸¦çš„å•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œå¯ä»¥ä½¿æµ‹è¯•å·¥ä½œå˜å¾—ç›¸å¯¹å®¹æ˜“ï¼Œæä¾›äº†ä»æµ‹è¯•æ¡†æ¶åˆ°æŠ¥å‘Šæµ‹è¯•çš„è¾“å‡ºå’ŒçŠ¶æ€çš„å„ç§æµ‹è¯•åŠŸèƒ½çš„æ”¯æŒã€‚</description></item><item><title/><link>https://www.ryken.cloud/9.2-%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/9.2-%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/</guid><description>æ€§èƒ½æµ‹è¯•å‡½æ•°ä»¥benchmarkä¸ºå‰ç¼€ï¼ŒåŒæ ·ä¿å­˜åœ¨&amp;quot;*_test.go&amp;quot;æ–‡ä»¶ä¸­ go test -bench. æµ‹è¯•å·¥å…·é»˜è®¤ä¸ä¼šæ‰§è¡Œæ€§èƒ½æµ‹è¯•ï¼Œé¡»ä½¿ç”¨benchå‚æ•°ï¼Œä»–é€æ­¥è°ƒæ•´B.Nå€¼ï¼Œåå¤æ‰§è¡Œæµ‹è¯•å‡½æ•°ï¼Œç›´åˆ°èƒ½è·å¾—å‡†ç¡®çš„æµ‹è¯•ç»“æœã€‚
å¦‚æœå¸Œæœ›åªæ‰§è¡Œæ€§èƒ½æµ‹è¯•ï¼Œrun=NONEå¿½ç•¥æ‰€æœ‰çš„å•å…ƒæµ‹è¯•ç”¨ä¾‹ã€‚ é»˜è®¤ä»¥å¹¶å‘æ–¹å¼æ‰§è¡Œæµ‹è¯•ï¼Œä½†å¯ç”¨cpuå‚æ•°è®¾å®šå¤šä¸ªå¹¶å‘é™åˆ¶æ¥è§‚å¯Ÿç»“æœã€‚ benchtimeç”¨äºè®¾å®šæœ€å°æµ‹è¯•æ—¶é—´ï¼Œå¢åŠ å¾ªç¯æ¬¡æ•°ï¼Œç”¨äºè§£å†³æŸäº›è€—æ—¶çš„ç›®æ ‡é»˜è®¤å¾ªç¯æ¬¡æ•°è¿‡å°‘ï¼Œå–å¹³å‡å€¼ä¸è¶³ä»¥ç²¾ç¡®è®¡é‡æ€§èƒ½ã€‚
timer å¦‚æœåœ¨æµ‹è¯•å‡½æ•°ä¸­è¦æ‰§è¡Œä¸€äº›é¢å¤–çš„æ“ä½œï¼Œåº”è¯¥ä¸´æ—¶åœæ­¢å®šæ—¶å™¨å·¥ä½œ
memory æ€§èƒ½æµ‹è¯•å…³å¿ƒçš„ä¸ä»…ä»…æ˜¯æ‰§è¡Œæ—¶é—´ï¼Œè¿˜åŒ…æ‹¬åœ¨å †ä¸Šçš„å†…å­˜åˆ†é…ã€‚å†…å­˜åˆ†é…å’Œå†…å­˜å›æ”¶çš„ç›¸å…³æ“ä½œä¹Ÿåº”è®¡å…¥åˆ°æ¶ˆè€—æˆæœ¬ go test -bench . -benchmem -gcflags &amp;ldquo;-N -l&amp;rdquo; # ç¦ç”¨å†…è”å’Œä¼˜åŒ–ï¼Œä¾¿äºè§‚å¯Ÿç»“æœ å¯ä»¥å°†æµ‹è¯•å‡½æ•°è®¾ç½®ä¸ºæ€»è¾“å‡ºå†…å­˜åˆ†é…ä¿¡æ¯ï¼Œæ— è®ºæ˜¯å¦ä½¿ç”¨benchmemå‚æ•° B.</description></item><item><title/><link>https://www.ryken.cloud/9.3-%E4%BB%A3%E7%A0%81%E8%A6%86%E7%9B%96%E7%8E%87/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/9.3-%E4%BB%A3%E7%A0%81%E8%A6%86%E7%9B%96%E7%8E%87/</guid><description>å•å…ƒæµ‹è¯•ä¸æ€§èƒ½æµ‹è¯•å…³æ³¨ä»£ç è´¨é‡ï¼Œä»£ç è¦†ç›–ç‡åº¦é‡æµ‹è¯•è‡ªèº«å®Œæ•´å’Œæœ‰æ•ˆæ€§çš„ä¸€ç§æ‰‹æ®µ é€šè¿‡è¦†ç›–å€¼ï¼Œå¯ä»¥åˆ†æå‡ºæµ‹è¯•ä»£ç çš„ç¼–å†™è´¨é‡ï¼›æ£€æµ‹å…¶æ˜¯å¦æä¾›äº†è¶³å¤Ÿçš„æµ‹è¯•æ¡ä»¶ï¼Œæ˜¯å¦æ‰§è¡Œäº†è¶³å¤Ÿçš„å‡½æ•°/è¯­å¥/åˆ†æ”¯/ä»£ç è¡Œï¼Œä»¥æ­¤é‡åŒ–æµ‹è¯•æœ¬èº«ï¼Œè®©ç™½ç›’æµ‹è¯•èµ·åˆ°åº”æœ‰çš„è´¨é‡ä¿è¯ã€‚ ä»£ç è¦†ç›–ç‡ä¹Ÿå¸¸è¢«ç”¨æ¥å‘ç°æ­»ä»£ç ï¼ˆæ°¸è¿œä¸ä¼šè¢«æ‰§è¡Œçš„ä»£ç ï¼‰
1 2 3 4 5 6 7 8 9 10 11 12 13 14 func deadCode(a,b int) { num := a+b if num &amp;gt; 3 { log.</description></item><item><title/><link>https://www.ryken.cloud/9.4-%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/9.4-%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7/</guid><description>å¼•å‘æ€§èƒ½é—®é¢˜ï¼šæ‰§è¡Œæ—¶é—´è¿‡é•¿/å†…å­˜å ç”¨è¿‡å¤š/æ„å¤–é˜»å¡ ç­‰ é€šè¿‡æ•è·ç›‘æ§ç›¸å…³æ‰§è¡ŒçŠ¶æ€æ•°æ®ï¼Œä¾¿å¯å®šä½å¼•å‘é—®é¢˜çš„åŸå› ï¼Œä»è€Œä¼˜åŒ–æ”¹è¿›ã€‚
åœ¨æµ‹è¯•æ—¶è¾“å‡ºå¹¶ä¿å­˜ç›¸å…³æ•°æ®ï¼Œè¿›è¡ŒåˆæœŸè¯„ä¼° åœ¨è¿è¡Œé˜¶æ®µé€šè¿‡webæ¥å£è·å–å®æ—¶æ•°æ®ï¼Œåˆ†æä¸€æ®µæ—¶é—´å†…çš„å¥åº·çŠ¶å†µ é™¤æ­¤ä¹‹å¤–ï¼Œå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰è®¡æ•°å™¨ï¼ˆexpvarï¼‰æä¾›æ›´å¤šä¸é€»è¾‘ç›¸å…³çš„å‚è€ƒæ•°æ® go test -run -bench . -memprofile mem.out -cpuprofile cpu.out net/http</description></item><item><title/><link>https://www.ryken.cloud/c++%E7%B1%BB%E5%B0%81%E8%A3%85/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/c++%E7%B1%BB%E5%B0%81%E8%A3%85/</guid><description>CGOæ˜¯Cè¯­è¨€å’ŒGoè¯­è¨€ä¹‹é—´çš„æ¡¥æ¢ï¼ŒåŸåˆ™ä¸Šæ— æ³•ç›´æ¥æ”¯æŒC++çš„ç±»ã€‚CGOä¸æ”¯æŒC++è¯­æ³•çš„æ ¹æœ¬åŸå› æ˜¯C++è‡³ä»Šä¸ºæ­¢è¿˜æ²¡æœ‰ä¸€ä¸ªäºŒè¿›åˆ¶æ¥å£è§„èŒƒ(ABI)ã€‚ä¸€ä¸ªC++ç±»çš„æ„é€ å‡½æ•°åœ¨ç¼–è¯‘ä¸ºç›®æ ‡æ–‡ä»¶æ—¶å¦‚ä½•ç”Ÿæˆé“¾æ¥ç¬¦å·åç§°ã€æ–¹æ³•åœ¨ä¸åŒå¹³å°ç”šè‡³æ˜¯C++çš„ä¸åŒç‰ˆæœ¬ä¹‹é—´éƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚ä½†æ˜¯C++æ˜¯å…¼å®¹Cè¯­è¨€ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡å¢åŠ ä¸€ç»„Cè¯­è¨€å‡½æ•°æ¥å£ä½œä¸ºC++ç±»å’ŒCGOä¹‹é—´çš„æ¡¥æ¢ï¼Œè¿™æ ·å°±å¯ä»¥é—´æ¥åœ°å®ç°C++å’ŒGoä¹‹é—´çš„äº’è”ã€‚å½“ç„¶ï¼Œå› ä¸ºCGOåªæ”¯æŒCè¯­è¨€ä¸­å€¼ç±»å‹çš„æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬æ˜¯æ— æ³•ç›´æ¥ä½¿ç”¨C++çš„å¼•ç”¨å‚æ•°ç­‰ç‰¹æ€§çš„ã€‚
c++ç±»åˆ°Goè¯­è¨€å¯¹è±¡ ã€å£°æ˜æ¥å£ã€‘å…ˆä»ç”¨æˆ·çš„è§’åº¦æ€è€ƒéœ€è¦ä»€ä¹ˆæ ·çš„æ¥å£ï¼Œæä¾›ä¸€ä¸ªçº¯cè¯­è¨€çš„æ¥å£ ã€çº¯Cå®ç°æ¥å£ã€‘åŸºäºC++çš„ç±»å®šä¹‰è¿™äº›Cè¯­è¨€åŒ…è£…å‡½æ•°ï¼Œå¹¶ç”¨çº¯cå‡½æ•°æ¥å£å°è£…C++ç±» ã€å°†çº¯Cæ¥å£è½¬ä¸ºGoå‡½æ•°ã€‘å¦‚æœåŒ…ä¸­æœ‰C++11çš„è¯­æ³•ï¼Œè¦é€šè¿‡#cgo CXXFLAGS: -std=c++11æ‰“å¼€C++11 ã€è¿›ä¸€æ­¥å°†Goå‡½æ•°å°è£…ä¸ºGoå¯¹è±¡ã€‘åŸºäºGOå‡½æ•°å°è£…ä¸ºGoè¯­æ³•çš„Goå¯¹è±¡ Goè¯­è¨€å¯¹è±¡åˆ°C++ç±» ã€å£°æ˜æ¥å£ã€‘å…ˆä»ç”¨æˆ·çš„è§’åº¦æ€è€ƒéœ€è¦ä»€ä¹ˆæ ·çš„æ¥å£ï¼Œæä¾›ä¸€ä¸ªçº¯cè¯­è¨€çš„æ¥å£ ã€å¯¼å‡ºCæ¥å£ã€‘åŸºäºGoè¯­è¨€å°è£…Goå¯¹è±¡ï¼Œå¯¼å‡ºCæ¥å£ ã€å°è£…C++å¯¹è±¡ã€‘æœ‰äº†Cæ¥å£ï¼Œè¿›ä¸€æ­¥è¿›è¡ŒC++çš„å°è£…ä¸ºå¯¹è±¡ å°†Goå¯¹è±¡å¯¼å‡ºä¸ºCæ¥å£ï¼Œç„¶ååŸºäºCæ¥å£å†åŒ…è£…ä¸ºC++å¯¹è±¡ä»¥ä¾¿äºä½¿ç”¨</description></item><item><title/><link>https://www.ryken.cloud/CGO%E5%85%A5%E9%97%A8/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/CGO%E5%85%A5%E9%97%A8/</guid><description>ä½¿ç”¨ç³»ç»Ÿåº“è¾“å‡ºhelloworld 1 2 3 4 5 6 7 8 package main //#include &amp;lt;stdio.h&amp;gt; import &amp;#34;C&amp;#34; func main() { C.</description></item><item><title/><link>https://www.ryken.cloud/CGO%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/CGO%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/</guid><description>CGOæ˜¯æ¶æ¥Goè¯­è¨€å’ŒCè¯­è¨€çš„æ¡¥æ¢ï¼Œå®ƒä½¿äºŒè€…åœ¨äºŒè¿›åˆ¶æ¥å£å±‚é¢å®ç°äº†äº’é€šï¼Œä½†æ˜¯æˆ‘ä»¬è¦æ³¨æ„å› ä¸¤ç§è¯­è¨€çš„å†…å­˜æ¨¡å‹çš„å·®å¼‚è€Œå¯èƒ½å¼•èµ·çš„é—®é¢˜ã€‚å¦‚æœåœ¨CGOå¤„ç†çš„è·¨è¯­è¨€å‡½æ•°è°ƒç”¨æ—¶æ¶‰åŠåˆ°äº†æŒ‡é’ˆçš„ä¼ é€’ï¼Œåˆ™å¯èƒ½ä¼šå‡ºç°Goè¯­è¨€å’ŒCè¯­è¨€å…±äº«æŸä¸€æ®µå†…å­˜çš„åœºæ™¯ã€‚æˆ‘ä»¬çŸ¥é“Cè¯­è¨€çš„å†…å­˜åœ¨åˆ†é…ä¹‹åå°±æ˜¯ç¨³å®šçš„ï¼Œä½†æ˜¯Goè¯­è¨€å› ä¸ºå‡½æ•°æ ˆçš„åŠ¨æ€ä¼¸ç¼©å¯èƒ½å¯¼è‡´æ ˆä¸­å†…å­˜åœ°å€çš„ç§»åŠ¨(è¿™æ˜¯Goå’ŒCå†…å­˜æ¨¡å‹çš„æœ€å¤§å·®å¼‚)ã€‚å¦‚æœCè¯­è¨€æŒæœ‰çš„æ˜¯ç§»åŠ¨ä¹‹å‰çš„GoæŒ‡é’ˆï¼Œé‚£ä¹ˆä»¥æ—§æŒ‡é’ˆè®¿é—®Goå¯¹è±¡æ—¶ä¼šå¯¼è‡´ç¨‹åºå´©æºƒã€‚
GOè®¿é—®Cå†…å­˜ Cè¯­è¨€ç©ºé—´çš„å†…å­˜æ˜¯ç¨³å®šçš„ï¼Œåªè¦ä¸æ˜¯è¢«äººä¸ºæå‰é‡Šæ”¾ï¼Œé‚£ä¹ˆåœ¨Goè¯­è¨€ç©ºé—´å¯ä»¥æ”¾å¿ƒå¤§èƒ†åœ°ä½¿ç”¨ã€‚ å› ä¸ºGoè¯­è¨€å®ç°çš„é™åˆ¶ï¼Œæˆ‘ä»¬æ— æ³•åœ¨Goè¯­è¨€ä¸­åˆ›å»ºå¤§äº2GBå†…å­˜çš„åˆ‡ç‰‡ï¼ˆå…·ä½“è¯·å‚è€ƒmakesliceå®ç°ä»£ç ï¼‰ã€‚ä¸è¿‡å€ŸåŠ©cgoæŠ€æœ¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨Cè¯­è¨€ç¯å¢ƒåˆ›å»ºå¤§äº2GBçš„å†…å­˜ï¼Œç„¶åè½¬ä¸ºGoè¯­è¨€çš„åˆ‡ç‰‡ä½¿ç”¨ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 package main /* #include &amp;lt;stdlib.</description></item><item><title/><link>https://www.ryken.cloud/CGO%E7%BC%96%E7%A8%8B/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/CGO%E7%BC%96%E7%A8%8B/</guid><description>ç¬”è®°æ¥æºï¼š https://www.cntofu.com/book/73/ch2-cgo/readme.md Goè¯­è¨€å‡½æ•°è°ƒç”¨Cè¯­è¨€å‡½æ•°ä»¥å¤ç”¨Cè¯­è¨€èµ„æºè¿™ä¸€ç›®çš„è€Œå‡ºç°çš„ï¼ˆå› ä¸ºCè¯­è¨€è¿˜ä¼šæ¶‰åŠå›è°ƒå‡½æ•°ï¼Œè‡ªç„¶ä¹Ÿä¼šæ¶‰åŠåˆ°ä»Cè¯­è¨€å‡½æ•°è°ƒç”¨Goè¯­è¨€å‡½æ•°ï¼‰ã€‚ è¦ä½¿ç”¨CGOç‰¹æ€§ï¼Œéœ€è¦å®‰è£…Cï¼Cæ„å»ºå·¥å…·é“¾ï¼Œåœ¨macOSå’ŒLinuxä¸‹æ˜¯è¦å®‰è£…å’ŒGCCï¼Œåœ¨windowsä¸‹æ˜¯éœ€è¦å®‰è£…MinGWå·¥å…·ã€‚åŒæ—¶éœ€è¦ä¿è¯ç¯å¢ƒå˜é‡CGO_ENABLEDè¢«è®¾ç½®ä¸º1ï¼Œè¿™è¡¨ç¤ºCGOæ˜¯è¢«å¯ç”¨çš„çŠ¶æ€ã€‚åœ¨æœ¬åœ°æ„å»ºæ—¶CGO_ENABLEDé»˜è®¤æ˜¯å¯ç”¨çš„ï¼Œå½“äº¤å‰æ„å»ºæ—¶CGOé»˜è®¤æ˜¯ç¦æ­¢çš„ã€‚
é€šè¿‡import &amp;quot;C&amp;quot;è¯­å¥å¯ç”¨CGOç‰¹æ€§ã€‚ç´§è·Ÿåœ¨è¿™è¡Œè¯­å¥å‰é¢çš„æ³¨é‡Šæ˜¯ä¸€ç§ç‰¹æ®Šè¯­æ³•ï¼Œé‡Œé¢åŒ…å«çš„æ˜¯æ­£å¸¸çš„Cè¯­è¨€ä»£ç ã€‚å½“ç¡®ä¿CGOå¯ç”¨çš„æƒ…å†µä¸‹ï¼Œè¿˜å¯ä»¥åœ¨å½“å‰ç›®å½•ä¸­åŒ…å«C/C++å¯¹åº”çš„æºæ–‡ä»¶ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 package main /* #include &amp;lt;stdio.</description></item><item><title/><link>https://www.ryken.cloud/dlv-%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/dlv-%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85/</guid><description>dlvå®˜ç½‘ï¼š https://github.com/derekparker/delve ä¸‹è½½å®‰è£…è¯¦çœ‹ï¼š https://github.com/derekparker/delve/blob/master/Documentation/installation/linux/install.md å®˜æ–¹å®‰è£…æ–‡æ¡£ä»‹ç» **Installation on Linuxï¼Œ**æœ‰ä¸¤ç§æ–¹æ³•åœ¨linuxä¸Šå®‰è£…dlvã€‚ ç¬¬ä¸€ç§ä½¿ç”¨go getï¼š
| export GOPROXY=https://goproxy.cn
go get github.</description></item><item><title/><link>https://www.ryken.cloud/dlv-%E8%B0%83%E8%AF%95%E4%BD%BF%E7%94%A8/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/dlv-%E8%B0%83%E8%AF%95%E4%BD%BF%E7%94%A8/</guid><description>å·¥ç¨‹ç›®å½•å¦‚ä¸‹ï¼š | â”œâ”€â”€ github.com/me/foo â”œâ”€â”€ cmd â”‚Â â””â”€â”€ foo â”‚Â â””â”€â”€ main.go â”œâ”€â”€ pkg â”‚Â â””â”€â”€ baz â”‚Â â”œâ”€â”€ bar.go</description></item><item><title/><link>https://www.ryken.cloud/gdb%E8%B0%83%E8%AF%95go%E4%BB%A3%E7%A0%81/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/gdb%E8%B0%83%E8%AF%95go%E4%BB%A3%E7%A0%81/</guid><description>å®˜æ–¹ä½¿ç”¨gdbï¼šDebugging Go Code with GDB https://golang.org/doc/gdb
linux ä¸‹è½½å®‰è£…gdb apt-get install gdb
gdbè°ƒè¯•goä»£ç æ—¶ï¼Œgdbç‰ˆæœ¬è¦â‰¥7.5 åŒæ—¶ç¦ç”¨ç¼–è¯‘å™¨çš„ä¼˜åŒ–ä½¿å¾—æ–¹ä¾¿è°ƒè¯•ï¼šgo build -gcflags=all=&amp;quot;-N -l&amp;quot;
gdbè°ƒè¯•å¸¸ç”¨å‘½ä»¤ rï¼šrunï¼Œæ‰§è¡Œç¨‹åº</description></item><item><title/><link>https://www.ryken.cloud/go-context/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/go-context/</guid><description>contextæ§åˆ¶è°ƒç”¨å‡½æ•°çš„è¶…æ—¶è¿”å›
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 func main() { .</description></item><item><title/><link>https://www.ryken.cloud/go-Convey%E6%B5%8B%E8%AF%95/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/go-Convey%E6%B5%8B%E8%AF%95/</guid><description>go conveyåœ¨å¼€å¯äº†ä¸€ä¸ªåç¨‹ï¼Œå¹¶åœ¨å…¶ä¸­è¿›è¡Œæ–­è¨€ï¼Œè§¦å‘panic
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 //panic: Convey operation made without context on goroutine stack.</description></item><item><title/><link>https://www.ryken.cloud/go-defer/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/go-defer/</guid><description>deferåº”ç”¨åœºæ™¯ GO deferä¼šåœ¨å½“å‰å‡½æ•°è¿”å›å‰æ‰§è¡Œä¼ å…¥çš„å‡½æ•°ï¼Œç»å¸¸è¢«ç”¨äºå…³é—­æ–‡ä»¶æè¿°ç¬¦ã€å…³é—­æ•°æ®åº“è¿æ¥ä»¥åŠè§£é”èµ„æºï¼Œåœ¨å‡½æ•°è°ƒç”¨ç»“æŸåå®Œæˆä¸€äº›æ”¶å°¾å·¥ä½œã€‚
å¸¸è§é—®é¢˜ï¼š
defer å…³é”®å­—çš„è°ƒç”¨æ—¶æœºä»¥åŠå¤šæ¬¡è°ƒç”¨ defer æ—¶æ‰§è¡Œé¡ºåºæ˜¯å¦‚ä½•ç¡®å®šçš„ï¼› defer å…³é”®å­—ä½¿ç”¨ä¼ å€¼çš„æ–¹å¼ä¼ é€’å‚æ•°æ—¶ä¼šè¿›è¡Œé¢„è®¡ç®—ï¼Œå¯¼è‡´ä¸ç¬¦åˆé¢„æœŸçš„ç»“æœï¼› 1. æ‰§è¡Œé¡ºåº 1 2 3 4 5 6 7 8 9 10 11 12 func defer_call() { defer func() { fmt.</description></item><item><title/><link>https://www.ryken.cloud/go-mock-%E6%B5%8B%E8%AF%95/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/go-mock-%E6%B5%8B%E8%AF%95/</guid><description>1 2 3 4 === RUN Testxxx Testxxx: box_test.go:239: missing call(s) to *xxxmock.Mockxxx.xxx(is anything, is anything, is anything) xxx/xxx/xxx/box_test.go:202 Testxxx: box_test.</description></item><item><title/><link>https://www.ryken.cloud/go-newmake/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/go-newmake/</guid><description>Goè¯­è¨€ä¸­newå’Œmakeæ˜¯å†…å»ºçš„ä¸¤ä¸ªå‡½æ•°ï¼Œä¸»è¦ç”¨æ¥åˆ†é…å†…å­˜ã€‚ åœ¨Goè¯­è¨€ä¸­å¯¹äºå€¼ç±»å‹çš„å£°æ˜ä¸éœ€è¦åˆ†é…å†…å­˜ç©ºé—´ï¼Œæ˜¯å› ä¸ºå®ƒä»¬åœ¨å£°æ˜çš„æ—¶å€™å·²ç»é»˜è®¤åˆ†é…å¥½äº†å†…å­˜ç©ºé—´ã€‚è€Œå¯¹äºå¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™ä¸ä»…è¦å£°æ˜å®ƒï¼Œè¿˜è¦ä¸ºå®ƒåˆ†é…å†…å­˜ç©ºé—´ï¼Œå¦åˆ™æˆ‘ä»¬çš„å€¼å°±æ²¡åŠæ³•å­˜å‚¨ã€‚
new æ ¹æ®ä¼ å…¥çš„ç±»å‹åˆ†é…ä¸€ç‰‡å†…å­˜ç©ºé—´å¹¶è¿”å›æŒ‡å‘è¿™ç‰‡å†…å­˜ç©ºé—´çš„æŒ‡é’ˆã€‚ä½¿ç”¨newå‡½æ•°å¾—åˆ°çš„æ˜¯ä¸€ä¸ªç±»å‹çš„æŒ‡é’ˆï¼Œå¹¶ä¸”è¯¥æŒ‡é’ˆå¯¹åº”çš„å€¼ä¸ºè¯¥ç±»å‹çš„é›¶å€¼ã€‚newçš„å‡½æ•°ç­¾åå¦‚ä¸‹ï¼š
1 func new(Type) *Type make makeä¹Ÿæ˜¯ç”¨äºå†…å­˜åˆ†é…çš„ï¼ŒåŒºåˆ«äºnewï¼Œå®ƒåªç”¨äºsliceã€mapä»¥åŠchançš„å†…å­˜åˆ›å»ºã€‚æˆ‘ä»¬åœ¨ä»£ç ä¸­å¾€å¾€éƒ½ä¼šä½¿ç”¨å¦‚ä¸‹æ‰€ç¤ºçš„è¯­å¥åˆå§‹åŒ–è¿™ä¸‰ç±»åŸºæœ¬ç±»å‹ï¼Œè¿™ä¸‰ä¸ªè¯­å¥åˆ†åˆ«è¿”å›äº†ä¸åŒç±»å‹çš„æ•°æ®ç»“æ„ï¼š
1 2 3 4 5 6 7 8 slice := make([]int, 0, 100) hash := make(map[int]bool, 10) hash := make(map[int]bool) ch := make(chan int, 5) // slice æ˜¯ä¸€ä¸ªåŒ…å« dataã€cap å’Œ len çš„ç»“æ„ä½“ reflect.</description></item><item><title/><link>https://www.ryken.cloud/go-%E6%89%93%E5%8C%85%E5%92%8C%E5%B7%A5%E5%85%B7%E9%93%BE/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/go-%E6%89%93%E5%8C%85%E5%92%8C%E5%B7%A5%E5%85%B7%E9%93%BE/</guid><description>go mod
1 2 3 4 5 6 7 8 9 10 verifying git.ghostcloud.cn/newben/log@v0.0.2: checksum mismatch downloaded: h1:5bclc0fb8Q3FSzheOP1AhqYNSDvZu4i7021j5YEa3zQ= go.sum: h1:FUGx1ZtSCxsGW/BzbMrGp9XN6eKkigN3J4i1q5kughc= SECURITY ERROR This download does NOT match an earlier download recorded in go.</description></item><item><title/><link>https://www.ryken.cloud/Go-%E8%AF%AD%E8%A8%80%E7%AC%94%E8%AF%95%E9%9D%A2%E8%AF%95%E9%A2%98%E6%B1%87%E6%80%BB/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Go-%E8%AF%AD%E8%A8%80%E7%AC%94%E8%AF%95%E9%9D%A2%E8%AF%95%E9%A2%98%E6%B1%87%E6%80%BB/</guid><description>initå‡½æ•°å…ˆäºmainå‡½æ•°è¿è¡Œ ç¼–è¯‘å™¨æ£€æµ‹Clientæ˜¯å¦å®ç°äº†io.Closer interfaceæ‰€å®šä¹‰çš„å‡½æ•° 1 var _ io.Closer = (*Client)(nil) goå¤„ç†è¶…æ—¶ï¼šä½¿ç”¨ time.After() ç»“åˆ select+chan å®Œæˆã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 // called ç®¡é“ç”¨äºè¶…æ—¶å¤„ç†ï¼Œsendç®¡é“ç”¨äºé˜»å¡ç­‰å¾…sendResponse func (server *Server) handleRequest(cc codec.</description></item><item><title/><link>https://www.ryken.cloud/GoAccess-%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9B%91%E6%8E%A7access%E6%97%A5%E5%BF%97/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/GoAccess-%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9B%91%E6%8E%A7access%E6%97%A5%E5%BF%97/</guid><description>ä¸‹è½½å®‰è£…ï¼š https://goaccess.io/download å¿«é€Ÿå¼€å§‹ï¼š https://goaccess.io/get-started
åœ¨ä¸Šæ¸¸æœåŠ¡çš„nginxä¸­æ·»åŠ  :
1 2 3 4 access_log logs/renyunkang-test.access.log main; location /report.html { alias /usr/local/openresty/nginx/html/report.html; } goaccess /usr/local/openresty/nginx/logs/renyunkang-test.</description></item><item><title/><link>https://www.ryken.cloud/golang-%E6%B5%8B%E8%AF%95/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/golang-%E6%B5%8B%E8%AF%95/</guid><description>go test -vÂ -runÂ æµ‹è¯•å‡½æ•°åå­—
Go Test å•å…ƒæµ‹è¯•ç®€æ˜æ•™ç¨‹ Go Mock (gomock)ç®€æ˜æ•™ç¨‹é“¾æ¥ goæµ‹è¯•å·¥å…·goconveyçš„ä½¿ç”¨ GoConveyæµ‹è¯•æ¡†æ¶ä½¿ç”¨æŒ‡å— goconvey - è¯¾æ—¶ 1ï¼šä¼˜é›…çš„å•å…ƒæµ‹è¯•</description></item><item><title/><link>https://www.ryken.cloud/golang-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/golang-%E8%BF%9C%E7%A8%8B%E8%B0%83%E8%AF%95/</guid><description>æ€»è§ˆ File â†’ Settings â†’ Build,Executionâ€¦ â†’ Deployment æ·»åŠ è‡ªå·±çš„è¿œç¨‹ä¸»æœºçš„åœ°å€ï¼Œä»¥åŠMappingä»£ç ä¸Šä¼ åˆ°è¿œç¨‹çš„å­˜æ”¾ç›®å½• åœ¨å·¥ç¨‹åæŒ‰ä¸‹å¿«æ·é”®ctrl+alt+shrift+xï¼Œå°†ä»£ç ä¸Šä¼ åˆ°è¿œç¨‹ åœ¨ä¸‹æ–¹ç»ˆç«¯ä¸­sshåˆ°ç»ˆç«¯ï¼Œç¼–è¯‘ è¿›å…¥ç¼–è¯‘å‡ºäºŒè¿›åˆ¶è·¯å¾„ï¼Œå¼€å§‹dlvè°ƒè¯• dlv &amp;ndash;listen=:2345 &amp;ndash;headless=true &amp;ndash;api-version=2 exec .</description></item><item><title/><link>https://www.ryken.cloud/golang%E5%85%B6%E4%BB%96%E7%9B%B8%E5%85%B3%E5%BA%93/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/golang%E5%85%B6%E4%BB%96%E7%9B%B8%E5%85%B3%E5%BA%93/</guid><description>go-ping:
https://github.com/go-ping/ping https://www.cnblogs.com/wlw-x/p/14169607.html</description></item><item><title/><link>https://www.ryken.cloud/golang%E5%9F%BA%E7%A1%80/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/golang%E5%9F%BA%E7%A1%80/</guid><description>reflect åå°„ - è·å–æŸä¸ªç»“æ„ä½“çš„æ‰€æœ‰æ–¹æ³• é€šè¿‡åå°„å®ç°ç»“æ„ä½“ä¸æœåŠ¡çš„æ˜ å°„å…³ç³»
interfaceä¸reflect
interface
ç±»å‹è½¬æ¢ https://books.studygolang.com/advanced-go-programming-book/ch2-cgo/ch2-03-cgo-types.html
Goè§£å†³ç°ä»£ç¼–ç¨‹éš¾é¢˜ å¿«é€Ÿçš„å¼€å‘/ç¼–è¯‘é€Ÿåº¦ å†…ç½®å¹¶å‘æœºåˆ¶ï¼Œæ— é¡»ç‰¹å®šçš„çº¿ç¨‹åº“ ç±»å‹ç³»ç»Ÿç®€å•é«˜æ•ˆï¼Œä¸“æ³¨ä»£ç å¤ç”¨ è‡ªå¸¦åƒåœ¾å›æ”¶å™¨ï¼Œæ— é¡»è‡ªå·±ç®¡ç†å†…å­˜ go åŒ…ç®¡ç†</description></item><item><title/><link>https://www.ryken.cloud/golang%E6%A0%87%E5%87%86%E5%BA%93/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/golang%E6%A0%87%E5%87%86%E5%BA%93/</guid><description>Packages ï¼š https://golang.org/pkg/</description></item><item><title/><link>https://www.ryken.cloud/https%E7%9B%B8%E5%85%B3%E5%AE%89%E5%85%A8%E6%80%A7/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/https%E7%9B%B8%E5%85%B3%E5%AE%89%E5%85%A8%E6%80%A7/</guid><description>éªŒè¯è¯ä¹¦çš„é¢å‘è¯ä¹¦è€…æ˜¯ä¸æ˜¯æœ‰æ•ˆçš„ è¯ä¹¦ç±»å‹
åŸŸåéªŒè¯ domain validated DVè¯ä¹¦ ç»„ç»‡éªŒè¯ organization validated OVè¯ä¹¦ æ‰©å±•éªŒè¯ extend validated EVè¯ä¹¦ å®‰è£…certbot apt-get install -y python3-certbot-nginx</description></item><item><title/><link>https://www.ryken.cloud/http%E8%AF%B7%E6%B1%82/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/http%E8%AF%B7%E6%B1%82/</guid><description>http post bodyè¯·æ±‚ 1 2 3 4 5 6 7 ### POST http://10.0.2.179:81/apis/license/update Accept: application/json Authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MjQ1Mjc3MTAsImlhdCI6MTYyNDUxNjkxMCwiaXNzIjoiY29yZXNlcnZlciIsInN1YiI6ImFkbWluIn0.yJs1iwR9NwFg2PLEKFv6WygiLTuU4xhLA3ne7mVuVOM Content-Type: application/json; charset=utf-8; {&amp;#34;license&amp;#34;:&amp;#34;AWFiY2RlZnAAshsmL9Ef9yuqW&amp;#34;} http get urlè¯·æ±‚ 1 2 3 4 ### GET http://10.</description></item><item><title/><link>https://www.ryken.cloud/kubernetes%E4%B8%AD%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E4%B8%8E%E6%9C%AF%E8%AF%AD/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kubernetes%E4%B8%AD%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%E4%B8%8E%E6%9C%AF%E8%AF%AD/</guid><description>Kubernetesä¸­çš„å¤§éƒ¨åˆ†æ¦‚å¿µå¦‚Nodeã€Podã€Replication Controllerã€Serviceç­‰éƒ½å¯ä»¥è¢«çœ‹ä½œä¸€ç§èµ„æºå¯¹è±¡ï¼Œå‡ ä¹æ‰€æœ‰èµ„æºå¯¹è±¡éƒ½å¯ä»¥é€šè¿‡kubectlå·¥å…·ï¼ˆæˆ–è€…APIç¼–ç¨‹è°ƒç”¨ï¼‰æ‰§è¡Œå¢ã€åˆ ã€æ”¹ã€æŸ¥ç­‰æ“ä½œå¹¶å°†å…¶ä¿å­˜åœ¨etcdä¸­æŒä¹…åŒ–å­˜å‚¨ã€‚ä»ä¸ªè§’åº¦æ¥çœ‹ï¼ŒKuberneteså…¶å®æ˜¯ä¸€ä¸ªé«˜åº¦è‡ªåŠ¨åŒ–çš„èµ„æºæ§åˆ¶ç³»ç»Ÿï¼Œå®ƒé€šè¿‡è·Ÿè¸ªå¯¹æ¯”etcdåº“é‡Œä¿å­˜çš„â€œèµ„æºæœŸæœ›çŠ¶æ€â€ä¸å½“å‰ç¯å¢ƒä¸­çš„â€œå®é™…èµ„æºçŠ¶æ€â€çš„å·®å¼‚æ¥å®ç°è‡ªåŠ¨æ§åˆ¶å’Œè‡ªåŠ¨çº é”™çš„é«˜çº§åŠŸèƒ½ã€‚ å£°æ˜èµ„æºæ—¶çš„ä¸€ä¸ªå…³é”®å±æ€§ï¼šapiVersionã€‚ Kuberneteså¹³å°é‡‡ç”¨äº†â€œæ ¸å¿ƒ+å¤–å›´æ‰©å±•â€çš„è®¾è®¡æ€è·¯ï¼Œåœ¨ä¿æŒå¹³å°æ ¸å¿ƒç¨³å®šçš„åŒæ—¶å…·å¤‡æŒç»­æ¼”è¿›å‡çº§çš„ä¼˜åŠ¿ã€‚Kuberneteså¤§éƒ¨åˆ†å¸¸è§çš„æ ¸å¿ƒèµ„æºå¯¹è±¡éƒ½å½’å±äºv1è¿™ä¸ªæ ¸å¿ƒAPIï¼Œæ¯”å¦‚Nodeã€Podã€Serviceã€Endpointsã€Namespaceã€RCã€PersistentVolumeç­‰ã€‚åœ¨ç‰ˆæœ¬è¿­ä»£è¿‡ç¨‹ä¸­ï¼ŒKuberneteså…ˆåæ‰©å±•äº†extensions/v1beta1ã€apps/v1beta1ã€apps/v1beta2ç­‰APIç»„ï¼Œè€Œåœ¨1.9ç‰ˆæœ¬ä¹‹åå¼•å…¥äº†apps/v1è¿™ä¸ªæ­£å¼çš„æ‰©å±•APIç»„ï¼Œæ­£å¼æ·˜æ±°ï¼ˆdeprecatedï¼‰äº†extensions/v1beta1ã€apps/v1beta1ã€apps/v1beta2è¿™ä¸‰ä¸ªAPIç»„ã€‚</description></item><item><title/><link>https://www.ryken.cloud/map%E7%9A%84%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/map%E7%9A%84%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0/</guid><description>go mapçš„åº•å±‚æœºåˆ¶ æ“ä½œgo mapæ—¶éœ€è¦æ³¨æ„ä»€ä¹ˆ mapæœ‰ä¸¤ç§å–å…ƒç´ çš„æ–¹æ³•
1 2 value := my_map[&amp;#34;key&amp;#34;] value,exists := my_map[&amp;#34;key&amp;#34;] mapçš„é”®å¯ä»¥æ˜¯ä»»ä½•ç›¸ç­‰æ€§æ“ä½œç¬¦æ”¯æŒçš„ç±»å‹ï¼Œ å¦‚æ•´æ•°ã€æµ®ç‚¹æ•°ã€å¤æ•°ã€å­—ç¬¦ä¸²ã€æŒ‡é’ˆã€æ¥å£ï¼ˆåªè¦å…¶åŠ¨æ€ç±»å‹æ”¯æŒç›¸ç­‰æ€§åˆ¤æ–­ï¼‰ã€ç»“æ„ä»¥åŠæ•°ç»„ã€‚
æ— æ³•å¯¹ map çš„ key æˆ– value è¿›è¡Œå–å€ mapä¸­çš„å…ƒç´ å¹¶ä¸æ˜¯ä¸€ä¸ªå˜é‡ï¼Œè€Œæ˜¯ä¸€ä¸ªå€¼ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸èƒ½å¯¹mapçš„å…ƒç´ è¿›è¡Œå–å€æ“ä½œï¼Œä¸èƒ½ç›´æ¥è¿›è¡Œä¿®æ”¹ã€‚ ä¿®æ”¹mapä¸­å¯¹åº”valueçš„å€¼æ—¶ï¼Œè‹¥valueå¯¹åº”çš„ç±»å‹ä¸æ˜¯æŒ‡é’ˆæ—¶ï¼Œä¸èƒ½ç›´æ¥è¿›è¡Œä¿®æ”¹ï¼Œéœ€è¦å–ä¸€ä¸ªä¸´æ—¶å˜é‡è¿›è¡Œèµ‹å€¼æˆ–è€…ä¿®æ”¹ä¸ºæŒ‡é’ˆç±»å‹</description></item><item><title/><link>https://www.ryken.cloud/MasterNode/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/MasterNode/</guid><description>Master Kubernetesé‡Œçš„MasteræŒ‡çš„æ˜¯é›†ç¾¤æ§åˆ¶èŠ‚ç‚¹ï¼Œåœ¨æ¯ä¸ªKubernetesé›†ç¾¤é‡Œéƒ½éœ€è¦æœ‰ä¸€ä¸ªMasteræ¥è´Ÿè´£æ•´ä¸ªé›†ç¾¤çš„ç®¡ç†å’Œæ§åˆ¶ï¼ŒåŸºæœ¬ä¸ŠKubernetesçš„æ‰€æœ‰æ§åˆ¶å‘½ä»¤éƒ½å‘ç»™å®ƒï¼Œå®ƒè´Ÿè´£å…·ä½“çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ‘ä»¬åé¢æ‰§è¡Œçš„æ‰€æœ‰å‘½ä»¤åŸºæœ¬éƒ½æ˜¯åœ¨Masterä¸Šè¿è¡Œçš„ã€‚Masteré€šå¸¸ä¼šå æ®ä¸€ä¸ªç‹¬ç«‹çš„æœåŠ¡å™¨ã€‚
åœ¨Masterä¸Šè¿è¡Œç€ä»¥ä¸‹å…³é”®è¿›ç¨‹ï¼š
Kubernetes API Serverï¼ˆkube-apiserverï¼‰ï¼šæä¾›äº†HTTP Restæ¥å£çš„å…³é”®æœåŠ¡è¿›ç¨‹ï¼Œæ˜¯Kubernetesé‡Œæ‰€æœ‰èµ„æºçš„å¢ã€åˆ ã€æ”¹ã€æŸ¥ç­‰æ“ä½œçš„å”¯ä¸€å…¥å£ï¼Œä¹Ÿæ˜¯é›†ç¾¤æ§åˆ¶çš„å…¥å£è¿›ç¨‹ã€‚ Kubernetes Controller Managerï¼ˆkube-controller-managerï¼‰ï¼šKubernetesé‡Œæ‰€æœ‰èµ„æºå¯¹è±¡çš„è‡ªåŠ¨åŒ–æ§åˆ¶ä¸­å¿ƒï¼Œå¯ä»¥å°†å…¶ç†è§£ä¸ºèµ„æºå¯¹è±¡çš„â€œå¤§æ€»ç®¡â€ã€‚ Kubernetes Schedulerï¼ˆkube-schedulerï¼‰ï¼šè´Ÿè´£èµ„æºè°ƒåº¦ï¼ˆPodè°ƒåº¦ï¼‰çš„è¿›ç¨‹ï¼Œç›¸å½“äºå…¬äº¤å…¬å¸çš„â€œè°ƒåº¦å®¤â€ã€‚ å¦å¤–ï¼Œåœ¨Masterä¸Šé€šå¸¸è¿˜éœ€è¦éƒ¨ç½²etcdæœåŠ¡ï¼Œå› ä¸ºKubernetesé‡Œçš„æ‰€æœ‰èµ„æºå¯¹è±¡çš„æ•°æ®éƒ½è¢«ä¿å­˜åœ¨etcdä¸­ã€‚
Node Nodeæ˜¯Kubernetesé›†ç¾¤ä¸­çš„å·¥ä½œè´Ÿè½½èŠ‚ç‚¹ï¼Œæ¯ä¸ªNodeéƒ½ä¼šè¢«Masteråˆ†é…ä¸€äº›å·¥ä½œè´Ÿè½½ï¼ˆDockerå®¹å™¨ï¼‰ï¼Œå½“æŸä¸ªNodeå®•æœºæ—¶ï¼Œå…¶ä¸Šçš„å·¥ä½œè´Ÿè½½ä¼šè¢«Masterè‡ªåŠ¨è½¬ç§»åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šã€‚ åœ¨æ¯ä¸ªNodeä¸Šéƒ½è¿è¡Œç€ä»¥ä¸‹å…³é”®è¿›ç¨‹ã€‚
kubeletï¼šè´Ÿè´£Podå¯¹åº”å®¹å™¨åˆ›å»ºã€å¯åœç­‰ä»»åŠ¡ï¼ŒåŒæ—¶ä¸Masterå¯†åˆ‡åä½œï¼Œå®ç°é›†ç¾¤ç®¡ç†çš„åŸºæœ¬åŠŸèƒ½ã€‚ kube-proxyï¼šå®ç°Kubernetes Serviceçš„é€šä¿¡ä¸è´Ÿè½½å‡è¡¡æœºåˆ¶çš„é‡è¦ç»„ä»¶ã€‚ Docker Engineï¼ˆdockerï¼‰ï¼šDockerå¼•æ“ï¼Œè´Ÿè´£æœ¬æœºçš„å®¹å™¨åˆ›å»ºå’Œç®¡ç†å·¥ä½œã€‚ Nodeå¯ä»¥åœ¨è¿è¡ŒæœŸé—´åŠ¨æ€å¢åŠ åˆ°Kubernetesé›†ç¾¤ä¸­ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹kubeletä¼šå‘Masteræ³¨å†Œè‡ªå·±ï¼Œè¿™ä¹Ÿæ˜¯Kubernetesæ¨èçš„Nodeç®¡ç†æ–¹å¼ã€‚ä¸€æ—¦Nodeè¢«çº³å…¥é›†ç¾¤ç®¡ç†èŒƒå›´ï¼Œkubeletè¿›ç¨‹å°±ä¼šå®šæ—¶å‘Masteræ±‡æŠ¥è‡ªèº«ä¿¡æ¯ï¼Œä¾‹å¦‚æ“ä½œç³»ç»Ÿã€Dockerç‰ˆæœ¬ã€æœºå™¨çš„CPUå’Œå†…å­˜æƒ…å†µï¼Œä»¥åŠå½“å‰æœ‰å“ªäº›Podåœ¨è¿è¡Œç­‰ï¼Œè¿™æ ·Masterå°±å¯ä»¥è·çŸ¥æ¯ä¸ªNodeçš„èµ„æºä½¿ç”¨æƒ…å†µï¼Œå¹¶å®ç°é«˜æ•ˆå‡è¡¡çš„èµ„æºè°ƒåº¦ç­–ç•¥ã€‚è€ŒæŸä¸ªNodeåœ¨è¶…è¿‡æŒ‡å®šæ—¶é—´ä¸ä¸ŠæŠ¥ä¿¡æ¯æ—¶ï¼Œä¼šè¢«Masteråˆ¤å®šä¸ºâ€œå¤±è”â€ï¼ŒNodeçš„çŠ¶æ€è¢«æ ‡è®°ä¸ºä¸å¯ç”¨ï¼ˆNot Readyï¼‰ï¼ŒéšåMasterä¼šè§¦å‘â€œå·¥ä½œè´Ÿè½½å¤§è½¬ç§»â€çš„è‡ªåŠ¨æµç¨‹ã€‚ kubectl describe node node_name æŸ¥çœ‹æŸä¸ªnodeçš„ä¿¡æ¯ã€‚</description></item><item><title/><link>https://www.ryken.cloud/math%E5%BA%93/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/math%E5%BA%93/</guid><description>æµ®ç‚¹æ•°ä¿ç•™Nä½å°æ•° 1 2 3 4 5 6 7 8 9 // 2ä»£è¡¨ç²¾åº¦ï¼Œè¿™ç§æ–¹å¼ä¼šæœ‰å°æ•°ç‚¹åæ— æ•ˆçš„0çš„æƒ…å†µ strconv.FormatFloat(123.123 &amp;#39;f&amp;#39;, 2, 64) // æ•ˆæœåŒä¸Š fmt.</description></item><item><title/><link>https://www.ryken.cloud/net%E5%BA%93/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/net%E5%BA%93/</guid><description/></item><item><title/><link>https://www.ryken.cloud/nginx-%E5%86%85%E9%83%A8%E6%B5%81%E7%A8%8B/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/nginx-%E5%86%85%E9%83%A8%E6%B5%81%E7%A8%8B/</guid><description>1. reload æµç¨‹ ç¬¬ä¸‰æ­¥masterè¿›ç¨‹å¯èƒ½å¼•å…¥äº†æ–°çš„ç›‘å¬ç«¯å£ï¼Œå­è¿›ç¨‹ä¼šç»§æ‰¿çˆ¶è¿›ç¨‹æ‰€æœ‰å·²ç»æ‰“å¼€çš„ç«¯å£ã€‚ masteræ”¶åˆ°quitä¿¡å·ä¼šä¼˜é›…çš„å…³é—­å­è¿›ç¨‹ã€‚ è°ƒç”¨reloadä¹‹åï¼Œmasterä¼šä½¿ç”¨æ–°çš„é…ç½®æ–‡ä»¶å¯åŠ¨æ–°çš„workerè¿›ç¨‹ï¼Œæ—§çš„workerè¿›ç¨‹å…³é—­ç›‘å¬å¥æŸ„ï¼Œå¹¶åœ¨å¤„ç†å®Œå½“å‰çš„è¿æ¥è¯·æ±‚ä¹‹åç»“æŸè¿›ç¨‹ï¼Œå¦‚æœå®¢æˆ·ç«¯è¯·æ±‚ä¸€ç›´è¢«é˜»å¡é•¿æ—¶é—´ç­‰å¾…å¤„ç†ä¸äº†ï¼Œnginxæœ‰å¯¹åº”çš„nginxé…ç½®é¡¹ worker-timeout-shutdownï¼ŒæŒ‡å®šæ—¶é—´ä¹‹åè¿›ç¨‹ä¼šè¢«å¼ºåˆ¶é€€å‡ºã€‚ 2. çƒ­å‡çº§çš„æµç¨‹ å‡çº§ å¤‡ä»½nginxå¯æ‰§è¡Œæ–‡ä»¶ å‘nginx masterå‘é€ä¿¡å·è¿›è¡Œçƒ­éƒ¨ç½² kill -USR2 pidï¼Œæ­¤æ—¶ä¼šå¯åŠ¨ä¸€ä¸ªæ–°çš„nginx master è‹¥å‘è€çš„nginx matserå‘é€ä¼˜é›…å…³é—­çš„è¯·æ±‚kill -WINCH pidï¼Œè€çš„workerè¿›è¡Œä¼šä¼˜é›…é€€å‡ºï¼Œä½†æ˜¯è€çš„master è¿˜åœ¨è¿è¡Œï¼Œå³å…è®¸åœ¨ä½¿ç”¨æ–°ç‰ˆæœ¬å‡ºç°é—®é¢˜æ—¶åšç‰ˆæœ¬å›é€€ è‹¥å‘è€çš„nginx matserå‘é€ä¼˜é›…å…³é—­çš„è¯·æ±‚kill -QUIT pidï¼Œè€çš„masterä¹Ÿä¼šä¼˜é›…é€€å‡º å›é€€ å‘è€çš„nginx masterå‘é€HUPä¿¡å·ã€reloadå‘½ä»¤ã€‘ï¼Œå‘æ–°çš„nginx masterå‘é€QUITä¼˜é›…é€€å‡ºä¿¡å·</description></item><item><title/><link>https://www.ryken.cloud/nginx-%E5%91%BD%E4%BB%A4%E8%A1%8C/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/nginx-%E5%91%BD%E4%BB%A4%E8%A1%8C/</guid><description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 root@orange:/opt/nginx/conf# nginx -?</description></item><item><title/><link>https://www.ryken.cloud/nginx-%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E4%BB%A5%E5%8F%8A%E5%AE%89%E8%A3%85/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/nginx-%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95%E4%BB%A5%E5%8F%8A%E5%AE%89%E8%A3%85/</guid><description>å®˜æ–¹åœ°å€ï¼š https://nginx.org/ é€šè¿‡ç¼–è¯‘å®‰è£…æ‰ä¼šå°†å¼ºå¤§çš„ç¬¬ä¸‰æ–¹æ¨¡å—å¼•å…¥nginx æ–‡ä»¶ç»“æ„
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 root@orange:~/nginx-1.</description></item><item><title/><link>https://www.ryken.cloud/nginx-%E6%9E%B6%E6%9E%84/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/nginx-%E6%9E%B6%E6%9E%84/</guid><description>æŠ›å‡ºé—®é¢˜ ä¸ºä»€ä¹ˆnginxä½¿ç”¨master-workerçš„è¿›ç¨‹æ¶æ„æ¨¡å‹ ä¸ºä»€ä¹ˆworkerè¿›ç¨‹æ•°é‡è¦ä¸cpuçš„æ ¸æ•°ç›¸åŒ¹é… å¤šä¸ªworkerä¹‹é—´å…±äº«æ•°æ®æ—¶ï¼Œä¸ºä»€ä¹ˆåœ¨TLS/é™æµ/é™é€Ÿçš„å…±äº«æ–¹å¼ä¸åŒ nginx è¯·æ±‚çš„å¤„ç†æµç¨‹ ä½¿ç”¨äº†éé˜»å¡çš„äº‹ä»¶é©±åŠ¨æ¨¡å‹ï¼Œå› æ­¤ä½¿ç”¨çŠ¶æ€æœºè¿›è¡Œæ­£ç¡®çš„è¯†åˆ«å’Œå¤„ç†è¯·æ±‚ï¼Œnginxç”¨ä½œåå‘ä»£ç†å’Œé™æ€èµ„æºæœåŠ¡å™¨ã€‚ nginxç”¨ä½œé™æ€èµ„æºå½“å†…å­˜ä¸è¶³ä»¥ç¼“å­˜æ‰€æœ‰ä¿¡æ¯æ—¶ï¼Œä¸€äº›sendFileæˆ–è€…AIOä¼šé€€åŒ–ä¸ºé˜»å¡çš„ç£ç›˜è°ƒç”¨å› æ­¤ä½¿ç”¨äº†çº¿ç¨‹æ± ã€‚ nginxç”¨ä½œåå‘ä»£ç†æ—¶ä½¿ç”¨ç‰¹å®šçš„åè®®å°†è¯·æ±‚ä»£ç†å‡ºå»ã€‚ nginxè¿›ç¨‹ç»“æ„ å•è¿›ç¨‹ç»“æ„ - ç”¨äºå¼€å‘è°ƒå¼ å¤šè¿›ç¨‹ç»“æ„ - ç”¨äºå®é™…çš„ç”Ÿäº§ç¯å¢ƒï¼Œnginxå¯ä»¥åˆ©ç”¨å¤šæ ¸çš„ç‰¹æ€§ ä½¿ç”¨å¤šè¿›ç¨‹æ¨¡å‹è€Œéå¤šçº¿ç¨‹æ¨¡å‹ï¼Œä¿è¯äº†é«˜å¯ç”¨æ€§å’Œé«˜å¯é æ€§ã€‚å¦‚æœä½¿ç”¨å¤šçº¿ç¨‹çš„æ¨¡å‹ï¼Œçº¿ç¨‹ä¹‹é—´å…±äº«åŒä¸€ä¸ªåœ°å€ç©ºé—´ï¼Œå¦‚æœnginxå¯¼å…¥çš„ç¬¬ä¸‰æ–¹æ¨¡å—å¼•å‘ä¸€ä¸ªåœ°å€ç©ºé—´å¯¼è‡´çš„æ®µé”™è¯¯æ—¶ï¼Œæ•´ä¸ªnginxè¿›ç¨‹å°±ä¼šæŒ‚æ‰ï¼Œè€Œå¤šè¿›ç¨‹æ¨¡å‹å°±ä¸ä¼šæœ‰è¿™æ ·çš„é—®é¢˜ã€‚</description></item><item><title/><link>https://www.ryken.cloud/nginx-%E7%AE%80%E4%BB%8B/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/nginx-%E7%AE%80%E4%BB%8B/</guid><description>ä¸»æµçš„web æœåŠ¡å™¨æœ‰ï¼šNginxã€Apacheã€Tomcatï¼Œå¯ä»¥æ­å»ºç½‘ç«™æˆ–è€…åå‘ä»£ç†æœåŠ¡å™¨ã€‚
1. Nginxä¸»è¦çš„åº”ç”¨åœºæ™¯ webè¯·æ±‚å…ˆç»è¿‡nginxï¼Œå†åˆ°æˆ‘ä»¬çš„åº”ç”¨æœåŠ¡ï¼Œå†åˆ°åé¢çš„æ•°æ®åº“æœåŠ¡mysqlã€redisç­‰ï¼Œå› ä¸ºæˆ‘ä»¬çš„åº”ç”¨å¼€å‘æ•ˆç‡é«˜ï¼Œæ‰€ä»¥å…¶è¿è¡Œæ•ˆç‡å°±ä¼šä½ï¼Œå…¶QPSã€TPSã€å¹¶å‘å—é™ï¼Œå› æ­¤å°†å¾ˆå¤šçš„è¿™æ ·çš„ä¸€ä¸ªåº”ç”¨æœåŠ¡ç»„æˆä¸€ä¸ªé›†ç¾¤æé«˜é«˜å¯ç”¨æ€§ï¼Œä¸€æ—¦å½¢æˆé›†ç¾¤å°±è¦æ±‚nginxå…·æœ‰åå‘ä»£ç†åŠŸèƒ½ï¼Œè€ƒè™‘å®¹ç¾å’ŒåŠ¨æ€æ‰©å®¹è¦æ±‚åå‘ä»£ç†å…·å¤‡è´Ÿè½½å‡è¡¡ åœ¨æ•´ä¸ªé“¾è·¯å½“ä¸­ï¼Œnginxå¤„äºä¼ä¸šå†…ç½‘çš„è¾¹ç¼˜èŠ‚ç‚¹ï¼Œéšç€ç½‘ç»œé“¾è·¯çš„å¢é•¿ç”¨æˆ·ä½“éªŒçš„æ—¶å»¶ä¼šå¢åŠ ï¼Œå› æ­¤å°†ä¸€æ®µæ—¶é—´ä¸å˜çš„åŠ¨æ€å†…å®¹ç¼“å†²åˆ°nginxä¸­ç›´æ¥å‘ç”¨æˆ·æä¾›è®¿é—® è®¿é—®ä¸€äº›jssã€å›¾ç‰‡ç­‰é™æ€èµ„æºæ—¶ï¼Œæ— éœ€ç”±åº”ç”¨æœåŠ¡æ¥è®¿é—®ï¼Œç”±ç³»ç»Ÿä¸Šæ”¾ç½®çš„æœ¬åœ°æ–‡ä»¶èµ„æºç›´æ¥ç”±nginxæä¾›è®¿é—®å°±å¯ä»¥ æ•°æ®åº“æœåŠ¡ä¸šåŠ¡åœºæ™¯ç®€å•ï¼Œå…¶QPS/TPSå¥½äºåº”ç”¨æœåŠ¡ç¨‹åºï¼Œå› æ­¤ç”±nginxç›´æ¥è®¿é—®æ•°æ®åº“æœåŠ¡ &amp;ndash; APIæœåŠ¡ å¼ºå¤§çš„ä¸šåŠ¡å¤„ç†èƒ½åŠ› 2. Nginx å‡ºç°çš„åŸå›  Apacheå¤„ç†ä¸€ä¸ªè¿æ¥å¯¹åº”ä¸€ä¸ªè¿›ç¨‹ï¼Œå¯¼è‡´è¿›ç¨‹é—´åˆ‡æ¢ä»£ä»·é«˜ï¼ŒåŒæ—¶å½“è¿æ¥æ•°å¤šæ—¶ï¼Œæ— æ³•å¼€å¯é‚£ä¹ˆå¤šçš„è¿›ç¨‹ã€‚ åœ¨å¤šæ ¸çš„æ¶æ„ä¸‹ æ‘©å°”å®šå¾‹å¤±æ•ˆäº†ã€èŠ¯ç‰‡ä¸­çš„æ™¶ä½“ç®¡å’Œç”µé˜»å™¨çš„æ•°é‡æ¯å¹´ä¼šç¿»ç•ªã€‘ 3.</description></item><item><title/><link>https://www.ryken.cloud/nginx-%E9%85%8D%E7%BD%AE%E4%B8%80%E4%B8%AA%E5%85%B7%E6%9C%89%E7%BC%93%E5%86%B2%E5%8A%9F%E8%83%BD%E7%9A%84%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/nginx-%E9%85%8D%E7%BD%AE%E4%B8%80%E4%B8%AA%E5%85%B7%E6%9C%89%E7%BC%93%E5%86%B2%E5%8A%9F%E8%83%BD%E7%9A%84%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8/</guid><description>ä½¿ç”¨ä¹‹å‰çš„ä½œä¸ºä¸€ä¸ªä¸Šæ¸¸æœåŠ¡å†æ­å»ºä¸€ä¸ªåå‘ä»£ç†æœåŠ¡å™¨
å®‰è£…openrestyï¼š https://openresty.org/cn/linux-packages.htmlï¼Œopenrestyé»˜è®¤çš„å·¥ä½œè·¯å¾„ï¼š/usr/local/openresty/nginx å¯ä»¥å°†è¯·æ±‚æŒ‰ç…§è´Ÿè½½å‡è¡¡ç®—æ³•åå‘ä»£ç†ç»™å¤šå°ä¸Šæ¸¸æœåŠ¡å™¨å·¥ä½œï¼Œè¿™æ ·å°±å®ç°äº†æ°´å¹³æ‰©å±•ï¼Œåœ¨ç”¨æˆ·æ— æ„ŸçŸ¥çš„æƒ…å†µä¸‹å¢åŠ æœåŠ¡å™¨æ¥æé«˜å¤„ç†æ€§èƒ½ï¼Œè€Œå½“ä¸Šæ¸¸æœåŠ¡å™¨å‡ºç°é—®é¢˜æ—¶ï¼Œnginxä¼šå°†è‡ªåŠ¨çš„å°†è¯·æ±‚ç”±å‡ºç°ç¾éš¾çš„æœåŠ¡å™¨è½¬äº¤ç»™æ­£å¸¸çš„æœåŠ¡å™¨ã€‚
è®¾ç½®ç¼“å†²åŠŸèƒ½
è®¾ç½®ç¼“å†²å­˜æ”¾çš„è·¯å¾„ï¼Œè®¾ç½®cacheçš„åç§°ï¼Œå¼€è¾Ÿçš„å…±äº«å†…å­˜ï¼Œkeyè¦æ”¾ç½®åœ¨å…±äº«å†…å­˜ä¸­ï¼Œ è®¾ç½®æŒ‡å®šurlä½¿ç”¨çš„å…±äº«å†…å­˜ åŒä¸€ä¸ªurl å¯èƒ½å¯¹ä¸åŒçš„ç”¨æˆ·å±•ç¤ºçš„å†…å®¹æ˜¯ä¸åŒçš„ï¼Œå› æ­¤å°†ç”¨æˆ·è®¾ç½®åˆ°keyä¸­ è®¾ç½®å“ªäº›å“åº”ä¸è¿”å› ä¸Šæ¸¸æœåŠ¡å™¨é€šå¸¸æ˜¯ä¸æä¾›å…¬ç½‘è®¿é—®çš„ï¼Œå› æ­¤å°†ä¹‹å‰çš„é™æ€æœåŠ¡å™¨ä½œä¸ºä¸Šæ¸¸æœåŠ¡ï¼Œå°†serverä¸­çš„listen 8080ä¿®æ”¹ä¸ºlisten 127.0.0.1:8080;
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 root@orange:~/nginx/nginx-test# cat /usr/local/openresty/nginx/conf/nginx.</description></item><item><title/><link>https://www.ryken.cloud/nginx-%E9%85%8D%E7%BD%AE%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/nginx-%E9%85%8D%E7%BD%AE%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E6%9C%8D%E5%8A%A1%E5%99%A8/</guid><description>é…ç½®æ–‡ä»¶ locationï¼šåé¢ä¸º/ è¡¨ç¤ºæ‰€æœ‰è¯·æ±‚ æŒ‡å®šurlçš„åç¼€ä¸æ–‡ä»¶ç›®å½•åç¼€ä¸€ä¸€å¯¹åº”ï¼š rootï¼šä¼šå°†urlä¸­çš„è·¯å¾„å¸¦åˆ°æ–‡ä»¶è·¯å¾„ä¸­æ¥ aliasï¼šï¼ˆé€šå¸¸ä½¿ç”¨ï¼‰[
]( https://blog.csdn.net/z920954494/article/details/52132125) gzipï¼šå¯åŠ¨gzipå‹ç¼© gzip_min_lengthï¼šå‹ç¼©çš„æœ€å°å­—èŠ‚æ•° gzip_comp_levelï¼šå‹ç¼©ç­‰çº§ gzip_typesï¼šé’ˆå¯¹æŸäº›ç±»å‹çš„æ–‡ä»¶è¿›è¡Œå‹ç¼©
1 2 3 4 gzip on; gzip_min_length 1; # å°äº1å­—èŠ‚çš„ä¸å†å‹ç¼© gzip_comp_level 2; gzip_types text/plain application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png; autoindexï¼šå½“è®¿é—®çš„urlä»¥/ç»“å°¾æ—¶å¯ä»¥å¯¹åº”åˆ°è¿™ä¸ªç›®å½•ä¸­çš„æ–‡ä»¶ç»“æ„ set $limit_rateè®¾ç½®nginxå‘å®¢æˆ·æµè§ˆå™¨å‘é€å“åº”çš„é€Ÿåº¦ï¼Œlimit_rateæ˜¯core moudleä¸­çš„å†…ç½®å˜é‡ï¼Œå•ä½å­—èŠ‚ &amp;ndash; é™åˆ¶å¸¦å®½</description></item><item><title/><link>https://www.ryken.cloud/nginx-%E9%85%8D%E7%BD%AE%E8%AF%AD%E6%B3%95/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/nginx-%E9%85%8D%E7%BD%AE%E8%AF%AD%E6%B3%95/</guid><description>é…ç½®æ–‡ä»¶é€šç”¨è¯­æ³• æœ‰çš„æŒ‡ä»¤å—æœ‰åå­—ï¼Œæœ‰çš„æŒ‡ä»¤å—æ²¡æœ‰åå­—ï¼Œè¿™å–å†³äºæä¾›æŒ‡ä»¤å—çš„nginxå­æ¨¡å—å†³å®šã€‚ httpé…ç½®çš„æŒ‡ä»¤å—
serverï¼šå¯¹åº”çš„ä¸€ä¸ªæˆ–ä¸€ç»„åŸŸå httpï¼šé‡Œé¢çš„æ‰€æœ‰çš„æŒ‡ä»¤éƒ½æ˜¯ç”±httpæ¨¡å—å»è§£æ/æ‰§è¡Œ upstreamï¼šä¸Šæ¸¸æœåŠ¡ locationï¼šurlè¡¨è¾¾å¼</description></item><item><title/><link>https://www.ryken.cloud/pprof/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/pprof/</guid><description>ä¸‹è½½cpu profileï¼Œé»˜è®¤ä»å½“å‰å¼€å§‹æ”¶é›†30sçš„cpuä½¿ç”¨æƒ…å†µï¼Œéœ€è¦ç­‰å¾…30sgo tool pprof http://localhost:6060/debug/pprof/profile # 30-second CPU profilego tool pprof http://localhost:6060/debug/pprof/profile?seconds=120 # wait 120s# ä¸‹è½½heap profilego tool pprof http://localhost:6060/debug/pprof/heap # heap profile# ä¸‹è½½goroutine profilego tool pprof http://localhost:6060/debug/pprof/goroutine # goroutine profile# ä¸‹è½½block profilego tool pprof http://localhost:6060/debug/pprof/block # goroutine blocking profile# ä¸‹è½½mutex profilego tool pprof http://localhost:6060/debug/pprof/mutex go tool pprof http://localhost:6060/debug/pprof/heap Fetching profile over HTTP from http://localhost:6060/debug/pprof/heapSaved profile in /home/ubuntu/pprof/pprof.</description></item><item><title/><link>https://www.ryken.cloud/reflect%E5%BA%93/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/reflect%E5%BA%93/</guid><description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 func Copy(dst, src Value) int func DeepEqual(x, y interface{}) bool func Swapper(slice interface{}) func(i, j int) type ChanDir func (d ChanDir) String() string type Kind func (k Kind) String() string type MapIter func (it *MapIter) Key() Value func (it *MapIter) Next() bool func (it *MapIter) Value() Value type Method type SelectCase type SelectDir type SliceHeader type StringHeader type StructField type StructTag func (tag StructTag) Get(key string) string func (tag StructTag) Lookup(key string) (value string, ok bool) type Type func ArrayOf(count int, elem Type) Type func ChanOf(dir ChanDir, t Type) Type func FuncOf(in, out []Type, variadic bool) Type func MapOf(key, elem Type) Type func PtrTo(t Type) Type func SliceOf(t Type) Type func StructOf(fields []StructField) Type func TypeOf(i interface{}) Type type Value func Append(s Value, x .</description></item><item><title/><link>https://www.ryken.cloud/slice%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/slice%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0/</guid><description>sliceçš„åº•å±‚æœºåˆ¶ åˆ‡ç‰‡ä¹‹åå…±äº«ä¸€å—ç©ºé—´ã€æŒ‡é’ˆã€‘ï¼Œéœ€è¦è§¦å‘capä¸è¶³æ‰ä¼šå»æ‰©å®¹
1 2 3 4 5 type slice struct { array unsafe.Pointer len int cap int } 1.</description></item><item><title/><link>https://www.ryken.cloud/sync.map-%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/sync.map-%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0/</guid><description>sync.mapåº•å±‚å®ç° sync.map é‡‡ç”¨è¯»å†™åˆ†ç¦»æŠ€æœ¯ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 type Map struct { mu Mutex read atomic.</description></item><item><title/><link>https://www.ryken.cloud/sync.Map/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/sync.Map/</guid><description>amended ä¸º faseï¼Œè¯´æ˜ dirty ä¸ºç©ºï¼Œé‚£ç›´æ¥è¿”å› ç©ºå’Œ false amended ä¸º trueï¼Œè¯´æ˜ dirty ä¸­å¯èƒ½å­˜åœ¨æˆ‘ä»¬è¦æ‰¾çš„ keyã€‚ read.amendedä¸ºtrueä»£è¡¨dirty mapä¸­å«æœ‰read.mapä¸­æ²¡æœ‰çš„å…ƒç´ 
store å¦‚æœ dirtyä¸ºç©º readä¸­æœ‰ç›´æ¥æ”¹ï¼Œä¿®æ”¹æˆåŠŸ readä¸­æœ‰ä½†æ˜¯readæ²¡æœ‰ä¿®æ”¹æˆåŠŸ read å¯¹åº”keyçš„valueä¸ºç©ºï¼Œç¡®å®šdirtyä¸ä¸ºç©ºï¼Œæ’å…¥åˆ°dirtyä¸­ read å¯¹åº”keyçš„valueä¸ä¸ºç©ºï¼Œæ›´æ–°entry</description></item><item><title/><link>https://www.ryken.cloud/sync.Mutex%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/sync.Mutex%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0/</guid><description>ç”¨ä¸€å¼ å›¾è¯´æ˜goä¸­çš„Mutexçš„æ¼”å˜ åˆæœŸä½¿ç”¨ä¸€ä¸ªflagæ ‡è®°ï¼Œæ˜¯å¦æœ‰äººåœ¨æŒæœ‰é”ã€‚ è€ƒè™‘goroutineçš„å”¤é†’æœºåˆ¶æ€§èƒ½ä½ä¸‹çš„é—®é¢˜ï¼Œè®©ç”³è¯·è·å–é”çš„goroutineè‡ªæ—‹è·å–é”ï¼Œå¦‚æœå›ºå®šæ¬¡æ•°è·å–ä¸åˆ°ä¹‹åï¼Œç»§ç»­é˜»å¡ç­‰å¾…. è®©æ–°æ¥çš„å’Œåˆšåˆšå”¤é†’çš„goroutineç»§ç»­è¿›è¡Œè‡ªæ—‹ä¸€æ®µæ—¶é—´æ¥è·å–é” å¤šç»™äº†æ–°äººå’Œå”¤é†’çš„goroutineæœºä¼šï¼Œä¼šå¯¼è‡´ä¸€äº›goroutineä¸€ç›´æ‹¿ä¸åˆ°é”ï¼Œå› æ­¤åŠ å…¥äº†é¥¥é¥¿æ¨¡å¼ Mutexåº•å±‚å®ç° æºç ä½ç½®ï¼šsrc/sync/mutex.goï¼ŒMutexä¹Ÿæ˜¯ç®€å•çš„å®ç°äº†Lockå’ŒUnlockæ–¹æ³•
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 type Locker interface { Lock() Unlock() } type Mutex struct { state int32 sema uint32 } const ( mutexLocked = 1 &amp;lt;&amp;lt; iota // mutex is locked mutexWoken mutexStarving // ä»stateå­—æ®µä¸­åˆ†å‡ºä¸€ä¸ªé¥¥é¥¿æ ‡è®° mutexWaiterShift = iota starvationThresholdNs = 1e6 ) // mutexLockedï¼ŒmutexWokenï¼ŒmutexStarvingï¼ŒmutexWaiterShift çš„å€¼åˆ†åˆ«æ˜¯1ï¼Œ2ï¼Œ4ï¼Œ3ã€‚ // starvationThresholdNs = 1e6 è¡¨ç¤º1mså†…å¦‚æœè¢«å”¤é†’çš„åç¨‹è¿˜æ²¡æœ‰æŠ¢åˆ°é”ï¼Œå°±è¿›å…¥é¥¥é¥¿çŠ¶æ€ï¼Œå¯ä»¥ç›´æ¥è·å–é”ã€‚ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 func (m *Mutex) Lock() { // Fast path: grab unlocked mutex.</description></item><item><title/><link>https://www.ryken.cloud/sync.RWMutex%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/sync.RWMutex%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0/</guid><description>åº•å±‚å®ç° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 type RWMutex struct { w Mutex // held if there are pending writers writerSem uint32 // semaphore for writers to wait for completing readers readerSem uint32 // semaphore for readers to wait for completing writers readerCount int32 // number of pending readers readerWait int32 // number of departing readers } const rwmutexMaxReaders = 1 &amp;lt;&amp;lt; 30 func (rw *RWMutex) RLock() {.</description></item><item><title/><link>https://www.ryken.cloud/sync.WaitGroup%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/sync.WaitGroup%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0/</guid><description>WaitGroupåº•å±‚å®ç°åŸç† 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 type WaitGroup struct { noCopy noCopy state1 [3]uint32 } // noCopy æ˜¯ golang æºç ä¸­æ£€æµ‹ç¦æ­¢æ‹·è´çš„æŠ€æœ¯ï¼Œåœ¨ä¸è€ƒè™‘å†…å­˜å¯¹é½å’Œå¹¶å‘çš„å› ç´ ä¸‹å¯ä»¥å°†å…¶çœ‹ä¸ºå¦‚ä¸‹ç»“æ„ type WaitGroup struct { counter int32 waiter uint32 sema uint32 } // countï¼šä»£è¡¨ç›®å‰å°šæœªå®Œæˆçš„ä¸ªæ•° // waiterï¼šä»£è¡¨ç›®å‰å·²ç»è°ƒç”¨waitGroup.</description></item><item><title/><link>https://www.ryken.cloud/sync_atomic/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/sync_atomic/</guid><description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 func AddInt32(addr *int32, delta int32) (new int32) func AddInt64(addr *int64, delta int64) (new int64) func AddUint32(addr *uint32, delta uint32) (new uint32) func AddUint64(addr *uint64, delta uint64) (new uint64) func AddUintptr(addr *uintptr, delta uintptr) (new uintptr) func CompareAndSwapInt32(addr *int32, old, new int32) (swapped bool) func CompareAndSwapInt64(addr *int64, old, new int64) (swapped bool) func CompareAndSwapPointer(addr *unsafe.</description></item><item><title/><link>https://www.ryken.cloud/sync%E5%BA%93/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/sync%E5%BA%93/</guid><description>ç±»å‹ä¸æ–¹æ³•æ€»è§ˆ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 type Cond func NewCond(l Locker) *Cond func (c *Cond) Broadcast() func (c *Cond) Signal() func (c *Cond) Wait() type Locker type Map func (m *Map) Delete(key interface{}) func (m *Map) Load(key interface{}) (value interface{}, ok bool) func (m *Map) LoadAndDelete(key interface{}) (value interface{}, loaded bool) func (m *Map) LoadOrStore(key, value interface{}) (actual interface{}, loaded bool) func (m *Map) Range(f func(key, value interface{}) bool) func (m *Map) Store(key, value interface{}) type Mutex func (m *Mutex) Lock() func (m *Mutex) Unlock() type Once func (o *Once) Do(f func()) type Pool func (p *Pool) Get() interface{} func (p *Pool) Put(x interface{}) type RWMutex func (rw *RWMutex) Lock() func (rw *RWMutex) RLock() func (rw *RWMutex) RLocker() Locker func (rw *RWMutex) RUnlock() func (rw *RWMutex) Unlock() type WaitGroup func (wg *WaitGroup) Add(delta int) func (wg *WaitGroup) Done() func (wg *WaitGroup) Wait() WaitGroupå®ç°åç¨‹é—´åŒæ­¥ WaitGroupå¯¹è±¡å†…éƒ¨æœ‰ä¸€ä¸ªè®¡æ•°å™¨ï¼Œæœ€åˆä»0å¼€å§‹ï¼Œæœ‰ä¸‰ä¸ªæ–¹æ³•æ¥æ§åˆ¶è®¡æ•°å™¨çš„æ•°é‡</description></item><item><title/><link>https://www.ryken.cloud/%E4%B9%90%E8%A7%82%E9%94%81%E6%82%B2%E8%A7%82%E9%94%81%E8%87%AA%E6%97%8B%E9%94%81/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E4%B9%90%E8%A7%82%E9%94%81%E6%82%B2%E8%A7%82%E9%94%81%E8%87%AA%E6%97%8B%E9%94%81/</guid><description>ä¹è§‚é”å’Œæ‚²è§‚é”å¹¶ä¸æ˜¯ä¸€ç§çœŸå®å­˜åœ¨çš„é”ï¼Œè€Œæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ã€‚
æ‚²è§‚é”æ€»è®¤ä¸ºæœ€åçš„æƒ…å†µå¯èƒ½ä¼šå‡ºç°ï¼Œè®¤ä¸ºæ•°æ®å¾ˆå¯èƒ½ä¼šè¢«å…¶ä»–äººæ‰€ä¿®æ”¹ï¼Œæ‰€ä»¥æ‚²è§‚é”åœ¨æŒæœ‰æ•°æ®çš„æ—¶å€™æ€»ä¼šæŠŠèµ„æº/æ•°æ® é”ä½ï¼Œè¿™æ ·å…¶ä»–çº¿ç¨‹æƒ³è¦è¯·æ±‚è¿™ä¸ªèµ„æºçš„æ—¶å€™å°±ä¼šé˜»å¡ï¼Œç›´åˆ°ç­‰åˆ°æ‚²è§‚é”æŠŠèµ„æºé‡Šæ”¾ä¸ºæ­¢ã€‚ ä¹è§‚é”çš„æ€æƒ³ä¸æ‚²è§‚é”çš„æ€æƒ³ç›¸åï¼Œå®ƒæ€»è®¤ä¸ºèµ„æºå’Œæ•°æ®ä¸ä¼šè¢«åˆ«äººæ‰€ä¿®æ”¹ï¼Œæ‰€ä»¥è¯»å–ä¸ä¼šä¸Šé”ï¼Œä½†æ˜¯ä¹è§‚é”åœ¨è¿›è¡Œå†™å…¥æ“ä½œçš„æ—¶å€™ä¼šåˆ¤æ–­å½“å‰æ•°æ®æ˜¯å¦è¢«ä¿®æ”¹è¿‡ CASæˆ–ç‰ˆæœ¬å·æœºåˆ¶ã€‚ è‡ªæ—‹é”ï¼šåªæœ‰è·å–äº†é”çš„çº¿ç¨‹æ‰èƒ½å¯¹èµ„æºè¿›è¡Œè®¿é—®ï¼Œç”±äºåŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹è·å–åˆ°é”ã€‚æ²¡æœ‰è·å–åˆ°é”çš„çº¿ç¨‹å°±ä¸€ç›´å¾ªç¯ç­‰å¾…åˆ¤æ–­è¯¥èµ„æºæ˜¯å¦å·²ç»é‡Šæ”¾é”ï¼Œè¿™ç§é”å«åšè‡ªæ—‹é”ï¼Œå®ƒä¸ç”¨å°†çº¿ç¨‹é˜»å¡èµ·æ¥ï¼Œè¿˜æœ‰ä¸€ç§å¤„ç†æ–¹å¼å°±æ˜¯æŠŠè‡ªå·±é˜»å¡èµ·æ¥ï¼Œç­‰å¾…é‡æ–°è°ƒåº¦è¯·æ±‚ï¼Œè¿™ç§å«åšäº’æ–¥é”ã€‚</description></item><item><title/><link>https://www.ryken.cloud/%E4%BD%BF%E7%94%A8%E9%9D%99%E6%80%81%E5%BA%93%E5%92%8C%E5%8A%A8%E6%80%81%E5%BA%93/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E4%BD%BF%E7%94%A8%E9%9D%99%E6%80%81%E5%BA%93%E5%92%8C%E5%8A%A8%E6%80%81%E5%BA%93/</guid><description>CGOåœ¨ä½¿ç”¨C/C++èµ„æºçš„æ—¶å€™ä¸€èˆ¬æœ‰ä¸‰ç§å½¢å¼ï¼šç›´æ¥ä½¿ç”¨æºç ã€é“¾æ¥é™æ€åº“ã€é“¾æ¥åŠ¨æ€åº“ã€‚ç›´æ¥ä½¿ç”¨æºç å°±æ˜¯åœ¨import &amp;quot;C&amp;quot;ä¹‹å‰çš„æ³¨é‡Šéƒ¨åˆ†åŒ…å«Cä»£ç ï¼Œæˆ–è€…åœ¨å½“å‰åŒ…ä¸­åŒ…å«C/C++æºæ–‡ä»¶ã€‚é“¾æ¥é™æ€åº“å’ŒåŠ¨æ€åº“çš„æ–¹å¼æ¯”è¾ƒç±»ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡åœ¨LDFLAGSé€‰é¡¹æŒ‡å®šè¦é“¾æ¥çš„åº“æ–¹å¼é“¾æ¥ã€‚
gccç”Ÿæˆé™æ€åº“/åŠ¨æ€åº“ | ar -rc libxxx.a xxx.oï¼ˆæ­£ç¡®æ–¹æ³•ï¼‰ ar -rc libxxx.a xxx1.c ï¼ˆå¯ä»¥ç”Ÿæˆé™æ€åº“ï¼›è¿è¡Œå¯æ‰§è¡Œç¨‹åºä¼šæŠ¥é”™ï¼šcould not read symbols:Archive has no index;run ranlib to add oneï¼‰</description></item><item><title/><link>https://www.ryken.cloud/%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8/</guid><description>CGOæŠ€æœ¯ä¸ä»…å¯ä»¥åœ¨Goè¯­è¨€ä¸­è°ƒç”¨Cè¯­è¨€å‡½æ•°ï¼Œä¹Ÿå¯ä»¥å°†Goè¯­è¨€å‡½æ•°å¯¼å‡ºä¸ºCè¯­è¨€å‡½æ•°
goè°ƒç”¨Cå‡½æ•° å¯ç”¨CGOç‰¹æ€§åï¼ŒCGOä¼šæ„é€ ä¸€ä¸ªè™šæ‹Ÿçš„CåŒ…ã€‚é€šè¿‡è¿™ä¸ªè™šæ‹Ÿçš„CåŒ…å¯ä»¥è°ƒç”¨Cè¯­è¨€å‡½æ•°ã€‚
Cå‡½æ•°çš„è¿”å›å€¼ Cè¯­è¨€ä¸æ”¯æŒè¿”å›å¤šä¸ªç»“æœï¼Œå› æ­¤&amp;lt;errno.h&amp;gt;æ ‡å‡†åº“æä¾›äº†ä¸€ä¸ªerrnoå®ç”¨äºè¿”å›é”™è¯¯çŠ¶æ€ã€‚æˆ‘ä»¬å¯ä»¥è¿‘ä¼¼åœ°å°†errnoçœ‹ç€ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„å…¨å±€å˜é‡ï¼Œå¯ä»¥ç”¨äºè®°å½•æœ€è¿‘ä¸€æ¬¡é”™è¯¯çš„çŠ¶æ€ç ã€‚ CGOä¹Ÿé’ˆå¯¹&amp;lt;errno.h&amp;gt;æ ‡å‡†åº“çš„errnoå®åšçš„ç‰¹æ®Šæ”¯æŒï¼šåœ¨CGOè°ƒç”¨Cå‡½æ•°æ—¶å¦‚æœæœ‰ä¸¤ä¸ªè¿”å›å€¼ï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªè¿”å›å€¼å°†å¯¹åº”errnoé”™è¯¯çŠ¶æ€ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 /* #include &amp;lt;errno.</description></item><item><title/><link>https://www.ryken.cloud/%E5%9C%A8%E5%AE%B9%E5%99%A8%E5%86%85%E8%8E%B7%E5%8F%96Pod%E4%BF%A1%E6%81%AF/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%9C%A8%E5%AE%B9%E5%99%A8%E5%86%85%E8%8E%B7%E5%8F%96Pod%E4%BF%A1%E6%81%AF/</guid><description>æ¯ä¸ªPodåœ¨è¢«æˆåŠŸåˆ›å»ºå‡ºæ¥ä¹‹åï¼Œéƒ½ä¼šè¢«ç³»ç»Ÿåˆ†é…å”¯ä¸€çš„åå­—ã€IPåœ°å€ï¼Œå¹¶ä¸”å¤„äºæŸä¸ªNamespaceä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åœ¨Podçš„å®¹å™¨å†…è·å–Podçš„è¿™äº›é‡è¦ä¿¡æ¯å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯ä½¿ç”¨Downward APIã€‚
Downward APIæœ‰ä»€ä¹ˆä»·å€¼ åœ¨æŸäº›é›†ç¾¤ä¸­ï¼Œé›†ç¾¤ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦å°†è‡ªèº«çš„æ ‡è¯†ï¼ˆIDï¼‰åŠè¿›ç¨‹ç»‘å®šçš„IPåœ°å€ç­‰ä¿¡æ¯äº‹å…ˆå†™å…¥é…ç½®æ–‡ä»¶ä¸­ï¼Œè¿›ç¨‹åœ¨å¯åŠ¨æ—¶ä¼šè¯»å–è¿™äº›ä¿¡æ¯ï¼Œç„¶åå°†è¿™äº›ä¿¡æ¯å‘å¸ƒåˆ°æŸä¸ªç±»ä¼¼æœåŠ¡æ³¨å†Œä¸­å¿ƒçš„åœ°æ–¹ï¼Œä»¥å®ç°é›†ç¾¤èŠ‚ç‚¹çš„è‡ªåŠ¨å‘ç°åŠŸèƒ½ã€‚æ­¤æ—¶Downward APIå°±å¯ä»¥æ´¾ä¸Šç”¨åœºäº†ï¼Œå…·ä½“åšæ³•æ˜¯å…ˆç¼–å†™ä¸€ä¸ªé¢„å¯åŠ¨è„šæœ¬æˆ–Init Containerï¼Œé€šè¿‡ç¯å¢ƒå˜é‡æˆ–æ–‡ä»¶æ–¹å¼è·å–Podè‡ªèº«çš„åç§°ã€IPåœ°å€ç­‰ä¿¡æ¯ï¼Œç„¶åå°†è¿™äº›ä¿¡æ¯å†™å…¥ä¸»ç¨‹åºçš„é…ç½®æ–‡ä»¶ä¸­ï¼Œæœ€åå¯åŠ¨ä¸»ç¨‹åºã€‚
Downward APIå¯ä»¥é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼å°†Podä¿¡æ¯æ³¨å…¥å®¹å™¨å†…éƒ¨ã€‚
ç¯å¢ƒå˜é‡ï¼šç”¨äºå•ä¸ªå˜é‡ï¼Œå¯ä»¥å°†Podä¿¡æ¯å’ŒContainerä¿¡æ¯æ³¨å…¥å®¹å™¨å†…éƒ¨ã€‚ VolumeæŒ‚è½½ï¼šå°†æ•°ç»„ç±»ä¿¡æ¯ç”Ÿæˆä¸ºæ–‡ä»¶å¹¶æŒ‚è½½åˆ°å®¹å™¨å†…éƒ¨ã€‚ ç¯å¢ƒå˜é‡æ³¨å…¥å®¹å™¨å†…éƒ¨ã€podä¿¡æ¯+containerä¿¡æ¯ã€‘ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 apiVersion:v1kind:Podmetadata:name:dapi-test-podspec:containers:- name:test-containerimage:busyboxcommand:[&amp;#34;/bin/sh&amp;#34;,&amp;#34;-c&amp;#34;,&amp;#34;env&amp;#34;]env:- name:MY_POD_NAMEvalueFrom:fieldRef:fieldPath:metadata.</description></item><item><title/><link>https://www.ryken.cloud/%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/</guid><description>Q1 = å’Œ := çš„åŒºåˆ«ï¼Ÿ := å£°æ˜+èµ‹å€¼ï¼› = ä»…èµ‹å€¼ ç®€çŸ­å£°æ˜æ¨¡å¼çš„é™åˆ¶ï¼š
å®šä¹‰å˜é‡åŒæ—¶æ˜¾ç¤ºåˆå§‹åŒ– ä¸èƒ½æä¾›æ•°æ®ç±»å‹ åªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ 1 2 3 4 var foo int foo = 10 // ç­‰ä»·äº foo := 10 ç¼–è¯‘æ‰§è¡Œä¸‹é¢ä»£ç çš„ç»“æœ 1 2 3 4 5 6 7 8 9 10 package main var( size :=1024 max_size = size*2 ) func main() { println(size,max_size) } // syntax error: unexpected := Q2 å¸¸é‡ å¸¸é‡ä¸åŒäºå˜é‡ï¼Œå˜é‡åœ¨è¿è¡Œæ—¶åˆ†é…å†…å­˜ï¼Œå¸¸é‡é€šå¸¸åœ¨è¢«ç¼–è¯‘å™¨åœ¨é¢„å¤„ç†é˜¶æ®µç›´æ¥å±•å¼€ï¼Œä½œä¸ºæŒ‡ä»¤æ•°æ®ç›´æ¥ä½¿ç”¨ã€‚</description></item><item><title/><link>https://www.ryken.cloud/%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%BC%A0%E5%85%A5%E4%BC%A0%E5%87%BA%E5%8F%82%E6%95%B0/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%BC%A0%E5%85%A5%E4%BC%A0%E5%87%BA%E5%8F%82%E6%95%B0/</guid><description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 //#include &amp;lt;string.</description></item><item><title/><link>https://www.ryken.cloud/%E5%B0%81%E8%A3%85qsort/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%B0%81%E8%A3%85qsort/</guid><description>qsortå¿«é€Ÿæ’åºå‡½æ•°æœ‰&amp;lt;stdlib.h&amp;gt;æ ‡å‡†åº“æä¾›ï¼Œå‡½æ•°çš„å£°æ˜å¦‚ä¸‹ï¼š
1 2 3 4 void qsort( void* base, size_t num, size_t size, int (*cmp)(const void*, const void*) ); å…¶ä¸­baseå‚æ•°æ˜¯è¦æ’åºæ•°ç»„çš„é¦–ä¸ªå…ƒç´ çš„åœ°å€ï¼Œnumæ˜¯æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°ï¼Œsizeæ˜¯æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å¤§å°ã€‚æœ€å…³é”®æ˜¯cmpæ¯”è¾ƒå‡½æ•°ï¼Œç”¨äºå¯¹æ•°ç»„ä¸­ä»»æ„ä¸¤ä¸ªå…ƒç´ è¿›è¡Œæ’åºã€‚cmpæ’åºå‡½æ•°çš„ä¸¤ä¸ªæŒ‡é’ˆå‚æ•°åˆ†åˆ«æ˜¯è¦æ¯”è¾ƒçš„ä¸¤ä¸ªå…ƒç´ çš„åœ°å€ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°å¯¹åº”å…ƒç´ å¤§äºç¬¬äºŒä¸ªå‚æ•°å¯¹åº”çš„å…ƒç´ å°†è¿”å›ç»“æœå¤§äº0ï¼Œå¦‚æœä¸¤ä¸ªå…ƒç´ ç›¸ç­‰åˆ™è¿”å›0ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ å°äºç¬¬äºŒä¸ªå…ƒç´ åˆ™è¿”å›ç»“æœå°äº0ã€‚</description></item><item><title/><link>https://www.ryken.cloud/%E5%BE%85%E5%8A%9E%E4%BA%8B%E9%A1%B9/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%BE%85%E5%8A%9E%E4%BA%8B%E9%A1%B9/</guid><description>æ€»ç»“interfaceä¸reflect &amp;ndash; goç±»å‹ sync/atomic golangç›¸å…³çš„é¢è¯•é¢˜ 7daysç›¸å…³çš„æ€»ç»“ &amp;ndash; rpcå€¼ç±»å‹ä¸æŒ‡é’ˆç±»å‹å¤„ç†æœ‰äº›è®¸å·®å¼‚ åå°„æ˜ å°„ä¸ºæœåŠ¡å¹¶å®Œæˆå‡½æ•°çš„è°ƒç”¨çš„å®ç°æ¯”è¾ƒå·§å¦™ ç±»å‹ ç»„åˆ</description></item><item><title/><link>https://www.ryken.cloud/%E6%97%A0%E6%A0%87%E9%A2%98/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%97%A0%E6%A0%87%E9%A2%98/</guid><description>å†…å­˜ tcmalloc - å¤§å°å¯¹è±¡åˆ†çº§ã€å¤šæ ¸ç¼“å†²
gcç­–ç•¥ï¼š æ ‡è®°-æ¸…æ‰« === å†…å­˜ç¢ç‰‡ æ ‡è®°-å‹ç¼© === è®¡ç®—ä½ç½®ã€forwardæŒ‡é’ˆï¼Œå®ç°å¤æ‚ åŠç©ºé—´å¤åˆ¶</description></item><item><title/><link>https://www.ryken.cloud/%E6%97%B6%E9%97%B4%E6%93%8D%E4%BD%9C/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%97%B6%E9%97%B4%E6%93%8D%E4%BD%9C/</guid><description>è®¡ç®—2ä¸ªæ—¶é—´å·® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 package main import ( &amp;#34;fmt&amp;#34; &amp;#34;time&amp;#34; ) func main() { //Addæ–¹æ³•å’ŒSubæ–¹æ³•æ˜¯ç›¸åçš„ï¼Œè·å–t0å’Œt1çš„æ—¶é—´è·ç¦»dæ˜¯ä½¿ç”¨Sub //å°†t0åŠ dè·å–t1å°±æ˜¯ä½¿ç”¨Addæ–¹æ³• k := time.</description></item><item><title/><link>https://www.ryken.cloud/%E6%9E%84%E5%BB%BA%E7%BA%A6%E6%9D%9F%E9%97%AE%E9%A2%98/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%9E%84%E5%BB%BA%E7%BA%A6%E6%9D%9F%E9%97%AE%E9%A2%98/</guid><description>goæ„å»ºçº¦æŸé—®é¢˜ï¼ŒBuild constraints exclude all Go files in ï¼Ÿ æˆ‘çš„æƒ…å†µæ˜¯ä½¿ç”¨äº†CGOï¼Œä½†æ˜¯ç¼–è¯‘çš„æ—¶å€™æ²¡æœ‰åŠ ä¸ŠCGO_ENABLED=1 æœ‰çš„æƒ…å†µä¸‹ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯GOOSç¯å¢ƒçš„é—®é¢˜ // +build linux,amd64,go1.15,!cgo</description></item><item><title/><link>https://www.ryken.cloud/%E6%A8%A1%E5%9D%97%E7%AE%80%E4%BB%8B/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%A8%A1%E5%9D%97%E7%AE%80%E4%BB%8B/</guid><description> åˆè¯†nginx nginxæ¶æ„åŸºç¡€ nginxçš„æ•°æ®ç»“æ„å’Œè¿›ç¨‹æ¨¡å‹ è¯¦è§£httpæ¨¡å— nginxå¦‚ä½•å¤„ç†httpè¯·æ±‚ å¸¸ç”¨çš„å®ä¾‹ã€å˜é‡ åå‘ä»£ç†ä¸è´Ÿè½½å‡è¡¡ nginxçš„ç³»ç»Ÿå±‚ä¼˜åŒ– ä»æºç è§†è§’æ·±å…¥ä½¿ç”¨nginxä¸OpenResty</description></item><item><title/><link>https://www.ryken.cloud/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/</guid><description>Cä¸­çš„ç±»å‹ åœ¨Goè¯­è¨€ä¸­è®¿é—®Cè¯­è¨€çš„ç¬¦å·æ—¶ï¼Œä¸€èˆ¬æ˜¯é€šè¿‡è™šæ‹Ÿçš„â€œCâ€åŒ…è®¿é—®ã€‚Goè¯­è¨€ä¸­æ•°å€¼ç±»å‹å’ŒCè¯­è¨€æ•°æ®ç±»å‹åŸºæœ¬ä¸Šæ˜¯ç›¸ä¼¼çš„ï¼Œå®ƒä»¬çš„å¯¹åº”å…³ç³»è¡¨å¦‚ä¸‹ï¼š
Cè¯­è¨€ç±»å‹ CGOç±»å‹ Goè¯­è¨€ç±»å‹ char C.char byte singed char C.</description></item><item><title/><link>https://www.ryken.cloud/%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86-configMap/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86-configMap/</guid><description>ä»Kubernetes 1.2å¼€å§‹æä¾›äº†ä¸€ç§ç»Ÿä¸€çš„åº”ç”¨é…ç½®ç®¡ç†æ–¹æ¡ˆâ€”ConfigMapã€‚ConfigMapä»¥ä¸€ä¸ªæˆ–å¤šä¸ªkey:valueçš„å½¢å¼ä¿å­˜åœ¨Kubernetesç³»ç»Ÿä¸­ä¾›åº”ç”¨ä½¿ç”¨ï¼Œæ—¢å¯ä»¥ç”¨äºè¡¨ç¤ºä¸€ä¸ªå˜é‡çš„å€¼ï¼ˆä¾‹å¦‚apploglevel=infoï¼‰ï¼Œä¹Ÿå¯ä»¥ç”¨äºè¡¨ç¤ºä¸€ä¸ªå®Œæ•´é…ç½®æ–‡ä»¶çš„å†…å®¹ã€‚
configMapçš„ä½¿ç”¨åœºæ™¯ ç”Ÿæˆä¸ºå®¹å™¨å†…çš„ç¯å¢ƒå˜é‡ã€‚ è®¾ç½®å®¹å™¨å¯åŠ¨å‘½ä»¤çš„å¯åŠ¨å‚æ•°ï¼ˆéœ€è®¾ç½®ä¸ºç¯å¢ƒå˜é‡ï¼‰ã€‚ ä»¥Volumeçš„å½¢å¼æŒ‚è½½ä¸ºå®¹å™¨å†…éƒ¨çš„æ–‡ä»¶æˆ–ç›®å½•ã€‚ åˆ›å»ºconfigMap kubectlé€šè¿‡yamlé…ç½®æ–‡ä»¶åˆ›å»º kubectl create -f cm-appvars.yaml
å°†åº”ç”¨æ‰€éœ€è¦çš„å˜é‡å®šä¹‰ä¸ºconfigMap å°†é…ç½®æ–‡ä»¶å®šä¹‰ä¸ºconfigmap 1 2 3 4 5 6 7 apiVersion:v1kind:ConfigMapmetadata:name:cm-appvarsdata:apploglevel:infoappdatadir:/var/data 1 2 3 4 5 6 7 8 9 10 11 12 13 14 apiVersion:v1kind:ConfigMapmetadata:name:cm-appconfigfilesdata:key-serverxml:|&amp;lt;?</description></item><item><title/><link>https://www.ryken.cloud/%E9%9D%99%E6%80%81Pod/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E9%9D%99%E6%80%81Pod/</guid><description>ç‰¹æ€§ é™æ€Podæ˜¯ç”±kubeletè¿›è¡Œç®¡ç†çš„ä»…å­˜åœ¨äºç‰¹å®šNodeä¸Šçš„Podã€‚å®ƒä»¬ä¸èƒ½é€šè¿‡API Serverè¿›è¡Œç®¡ç†ï¼Œæ— æ³•ä¸ReplicationControllerã€Deploymentæˆ–è€…DaemonSetè¿›è¡Œå…³è”ï¼Œå¹¶ä¸”kubeletæ— æ³•å¯¹å®ƒä»¬è¿›è¡Œå¥åº·æ£€æŸ¥ã€‚é™æ€Podæ€»æ˜¯ç”±kubeletåˆ›å»ºçš„ï¼Œå¹¶ä¸”æ€»åœ¨kubeletæ‰€åœ¨çš„Nodeä¸Šè¿è¡Œã€‚
åˆ›å»ºæ–¹å¼ï¼šé…ç½®æ–‡ä»¶åˆ›å»ºå’Œhttpæ–¹å¼åˆ›å»º é…ç½®æ–‡ä»¶åˆ›å»ºï¼š è®¾ç½®kubeletçš„å¯åŠ¨å‚æ•°â€œ&amp;ndash;configâ€ï¼ŒæŒ‡å®škubeletéœ€è¦ç›‘æ§çš„é…ç½®æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼Œkubeletä¼šå®šæœŸæ‰«æè¯¥ç›®å½•ï¼Œå¹¶æ ¹æ®è¯¥ç›®å½•ä¸‹çš„.yamlæˆ–.jsonæ–‡ä»¶è¿›è¡Œåˆ›å»ºæ“ä½œã€‚
å‡è®¾é…ç½®ç›®å½•ä¸º/etc/kubelet.d/ï¼Œé…ç½®å¯åŠ¨å‚æ•°ä¸º&amp;ndash;config=/etc/kubelet.d/ï¼Œç„¶åé‡å¯kubeletæœåŠ¡ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 apiVersion:v1kind:Podmetadata:name:static-weblabels:name:static-webspec:containers:- name:static-webimages:nginxports:- name:webcontainerPort:80 ç”±äºé™æ€Podæ— æ³•é€šè¿‡API Serverç›´æ¥ç®¡ç†ï¼Œæ‰€ä»¥åœ¨Masterä¸Šå°è¯•åˆ é™¤è¿™ä¸ªPodæ—¶ï¼Œä¼šä½¿å…¶å˜æˆPendingçŠ¶æ€ï¼Œä¸”ä¸ä¼šè¢«åˆ é™¤ã€‚åˆ é™¤è¯¥Podçš„æ“ä½œåªèƒ½æ˜¯åˆ°å…¶æ‰€åœ¨Nodeä¸Šå°†å…¶å®šä¹‰æ–‡ä»¶ä»æŒ‡å®šçš„(/etc/kubelet.</description></item><item><title>1-11</title><link>https://www.ryken.cloud/1-11/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/1-11/</guid><description>åŸæ–‡é“¾æ¥ï¼š https://studygolang.com/articles/10065 https://studygolang.com/articles/11003 https://studygolang.com/articles/10746 https://studygolang.com/articles/10994
1. deferæ‰§è¡Œé¡ºåº 1 2 3 4 5 6 7 8 9 10 11 12 func defer_call() { defer func() { fmt.</description></item><item><title>epollçš„LTæ¨¡å¼ä¸ETæ¨¡å¼</title><link>https://www.ryken.cloud/epoll%E7%9A%84LT%E6%A8%A1%E5%BC%8F%E4%B8%8EET%E6%A8%A1%E5%BC%8F/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/epoll%E7%9A%84LT%E6%A8%A1%E5%BC%8F%E4%B8%8EET%E6%A8%A1%E5%BC%8F/</guid><description>epollçš„LTæ¨¡å¼ä¸ETæ¨¡å¼å“ªä¸ªæ•ˆç‡æ›´é«˜
LTå’ŒETçš„åŒºåˆ«ï¼š LTå¯¹äºå­˜åœ¨æœªè¯»å®Œçš„æ•°æ®ï¼Œä¸‹ä¸€æ¬¡è°ƒç”¨epoll_waitè¿˜ä¼šè§¦å‘ï¼Œ ETæ— è®ºæ˜¯å¦è¯»å®Œï¼Œåªè§¦å‘ä¸€æ¬¡ï¼Œç›´åˆ°ä¸‹ä¸€æ¬¡EPOLLINäº‹ä»¶åˆ°æ¥
LTçš„ä¼˜ç‚¹ï¼šæ˜“äºç¼–ç ï¼Œæœªè¯»å®Œçš„æ•°æ®ä¸‹æ¬¡è¿˜èƒ½ç»§ç»­è¯»ï¼Œä¸æ˜“é—æ¼ ETçš„ç¼ºç‚¹ï¼šéš¾ä»¥ç¼–ç ï¼Œéœ€è¦ä¸€æ¬¡è¯»å®Œï¼Œæœ‰æ—¶ä¼šé—æ¼
LTçš„ç¼ºç‚¹ï¼šåœ¨å¹¶å‘é‡é«˜çš„æ—¶å€™ï¼Œepoll_waitè¿”å›çš„å°±ç»ªé˜Ÿåˆ—æ¯”è¾ƒå¤§ï¼Œéå†æ¯”è¾ƒè€—æ—¶ã€‚å› æ­¤LTé€‚ç”¨äºå¹¶å‘é‡å°çš„æƒ…å†µ ETçš„ä¼˜ç‚¹ï¼šå¹¶å‘é‡å¤§çš„æ—¶å€™ï¼Œå°±ç»ªé˜Ÿåˆ—è¦æ¯”LTå°å¾—å¤šï¼Œæ•ˆç‡æ›´é«˜
åº”ç”¨ ä½¿ç”¨ETçš„ä¾‹å­ï¼šnginx ä½¿ç”¨LTçš„ä¾‹å­ï¼šredis é€‰å–å‚è€ƒï¼ˆnginxé€‰ç”¨ETï¼‰
çœ‹è¿æ¥çš„ç©ºé—²ç¨‹åº¦ï¼Œè¿æ¥çš„ç©ºé—²ç¨‹åº¦å¾ˆé«˜å°±ç”¨ETï¼Œæ‰€ä»¥æŒ‰ç…§åœºæ™¯ï¼Œhttpçš„å®¢æˆ·ç«¯idelæƒ…å†µå¾ˆé«˜ï¼Œç”¨ETï¼Œå¦‚æœæ˜¯rpgçš„æ¸¸æˆæœåŠ¡å™¨ï¼Œç”¨LTï¼ŒETå·®ä¸å¤š</description></item><item><title>git proxy</title><link>https://www.ryken.cloud/git-proxy/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/git-proxy/</guid><description>git è®¾ç½®å’Œå–æ¶ˆä»£ç† (github.com)
windows git è®¾ç½®ä»£ç† ç®€å•æ–¹æ³•ï¼š è®¾ç½®ç¯å¢ƒå˜é‡
http_proxy: 127.0.0.1:1080 https_proxy: 127.0.0.1:1080 windows git ç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼šC:\Users\renyunkang\.gitconfig
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 [user] email = rykren1998@gmail.</description></item><item><title>git æ–‡æ¡£</title><link>https://www.ryken.cloud/git-%E6%96%87%E6%A1%A3/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/git-%E6%96%87%E6%A1%A3/</guid><description> **featï¼š**æäº¤æ–°åŠŸèƒ½ fixï¼šä¿®å¤äº†bug docsï¼šåªä¿®æ”¹äº†æ–‡æ¡£ styleï¼šè°ƒæ•´ä»£ç æ ¼å¼ï¼Œæœªä¿®æ”¹ä»£ç é€»è¾‘ï¼ˆæ¯”å¦‚ä¿®æ”¹ç©ºæ ¼ã€æ ¼å¼åŒ–ã€ç¼ºå°‘åˆ†å·ç­‰ï¼‰ refactorï¼šä»£ç é‡æ„ï¼Œæ—¢æ²¡ä¿®å¤bugä¹Ÿæ²¡æœ‰æ·»åŠ æ–°åŠŸèƒ½ perfï¼šæ€§èƒ½ä¼˜åŒ–ï¼Œæé«˜æ€§èƒ½çš„ä»£ç æ›´æ”¹ testï¼šæ·»åŠ æˆ–ä¿®æ”¹ä»£ç æµ‹è¯• choreï¼šå¯¹æ„å»ºæµç¨‹æˆ–è¾…åŠ©å·¥å…·å’Œä¾èµ–åº“ï¼ˆå¦‚æ–‡æ¡£ç”Ÿæˆç­‰ï¼‰çš„æ›´æ”¹</description></item><item><title>ssh é¦–æ¬¡è¿æ¥è‡ªåŠ¨åŒ–è¾“å…¥ yes</title><link>https://www.ryken.cloud/ssh-%E9%A6%96%E6%AC%A1%E8%BF%9E%E6%8E%A5%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BE%93%E5%85%A5-yes/</link><pubDate>Sat, 06 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/ssh-%E9%A6%96%E6%AC%A1%E8%BF%9E%E6%8E%A5%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BE%93%E5%85%A5-yes/</guid><description>sshpass -p PASSWORD ssh -o StrictHostKeyChecking=no root@${ip1}'echo 1' é¿å…äº¤äº’è¾“å…¥å¯†ç  sshpass -p PASSWORD scp xx xx@xxx:/xx</description></item><item><title>4. OFN Gateway</title><link>https://www.ryken.cloud/4.-OFN-Gateway/</link><pubDate>Mon, 01 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/4.-OFN-Gateway/</guid><description/></item><item><title>arp proxy</title><link>https://www.ryken.cloud/arp-proxy/</link><pubDate>Mon, 01 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/arp-proxy/</guid><description>1 2 3 4 sudo bash -c &amp;#39;echo 1 &amp;gt; /proc/sys/net/ipv4/ip_forward&amp;#39; cat /proc/sys/net/ipv4/conf/eth1/proxy_arp sudo sysctl -p æ·»åŠ é»˜è®¤è·¯ç”±</description></item><item><title>centos é…ç½®ç½‘ç»œæ–‡ä»¶</title><link>https://www.ryken.cloud/centos-%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C%E6%96%87%E4%BB%B6/</link><pubDate>Mon, 01 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/centos-%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C%E6%96%87%E4%BB%B6/</guid><description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 cat /etc/sysconfig/network-scripts/ifcfg-eth0 # Created by cloud-init on instance boot automatically, do not edit.</description></item><item><title>Q&amp;A</title><link>https://www.ryken.cloud/QA/</link><pubDate>Mon, 01 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/QA/</guid><description>what is gateway service? å‡è®¾æ‚¨æ­£åœ¨ä½¿ç”¨ Kourier ä½œä¸º Knative çš„ç½‘ç»œå±‚? ä¿®æ”¹é…ç½®ä½¿ç”¨èŠ‚ç‚¹çš„ ip ä½œä¸º external-ip ä½¿ç”¨ã€‚ how to do?</description></item><item><title>vlan é…ç½®</title><link>https://www.ryken.cloud/vlan-%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 01 May 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/vlan-%E9%85%8D%E7%BD%AE/</guid><description>[[hybridnet ç½‘ç»œæ’ä»¶]]
1 2 3 4 5 6 7 set interfaces ethernet eth1 vif 100 description &amp;#39;VLAN 100&amp;#39; set interfaces ethernet eth1 vif 100 address &amp;#39;192.</description></item><item><title>calico metrics</title><link>https://www.ryken.cloud/calico-metrics/</link><pubDate>Wed, 26 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/calico-metrics/</guid><description> Prometheus statistics (tigera.io)
æŒ‡æ ‡ æè¿° felix_active_local_endpoints è¯¥ä¸»æœºä¸Šæ´»åŠ¨çš„ endpoints æ•°é‡ felix_active_local_policies è¯¥ä¸»æœºä¸Šæ´»è·ƒçš„ç­–ç•¥æ•° felix_active_local_selectors è¯¥ä¸»æœºä¸Šé¢æ´»è·ƒ selectors æ•° felix_calc_graph_output_events calculation graph äº§ç”Ÿçš„äº‹ä»¶æ•° felix_calc_graph_update_time_seconds ä¸ºæ¯ä¸ª datastoreæ›´æ–° calculation graph è°ƒç”¨ OnUpdateçš„ç§’ felix_calc_graph_updates_processed calculation graph å¤„ç†çš„ datestore æ›´æ–°æ¬¡æ•° felix_cluster_num_host_endpoints é›†ç¾¤å±‚é¢ host endpoints çš„æ€»æ•° felix_cluster_num_hosts é›†ç¾¤ä¸­çš„ Calico hosts æ€»æ•° felix_cluster_num_workload_endpoints é›†ç¾¤å±‚è´Ÿè½½ endpoints æ€»æ•° felix_exec_time_micros fork/exec å­è¿›ç¨‹èŠ±è´¹çš„æ—¶é—´ felix_int_dataplane_addr_msg_batch_size æ‰¹å¤„ç†çš„æ¥å£åœ°å€æŠ¥æ–‡æ•°ã€‚ è¾ƒé«˜çš„å€¼è¡¨ç¤ºæˆ‘ä»¬æ­£åœ¨åšæ›´å¤šçš„æ‰¹å¤„ç†ä»¥è¯•å›¾è·Ÿä¸Š felix_int_dataplane_apply_time_seconds åº”ç”¨æ•°æ®é¢æ›´æ–°èŠ±è´¹çš„æ—¶é—´ felix_int_dataplane_failures æ•°æ®é¢æ›´æ–°å¤±è´¥ä»¥åŠé‡è¯•æ¬¡æ•° felix_int_dataplane_iface_msg_batch_size æ‰¹å¤„ç†çš„æ¥å£çŠ¶æ€æ¶ˆæ¯æ•°ã€‚ è¾ƒé«˜çš„å€¼è¡¨ç¤ºæˆ‘ä»¬æ­£åœ¨åšæ›´å¤šçš„æ‰¹å¤„ç†ä»¥è¯•å›¾è·Ÿä¸Š felix_int_dataplane_messages æŒ‰ç…§ç±»å‹åˆ†ç±»çš„æ¶ˆæ¯æ•° felix_int_dataplane_msg_batch_size æ‰¹å¤„ç†çš„æ¶ˆæ¯æ•°ã€‚ è¾ƒé«˜çš„å€¼è¡¨ç¤ºæˆ‘ä»¬æ­£åœ¨åšæ›´å¤šçš„æ‰¹å¤„ç†ä»¥è¯•å›¾è·Ÿä¸Š felix_ipset_calls ipset å‘½ä»¤æ‰§è¡Œæ•° felix_ipset_errors ipset å‘½ä»¤å¤±è´¥æ•° felix_ipset_lines_executed ipset æ‰§è¡Œæ“ä½œæ•° felix_ipsets_calico active Calico IP sets æ•°é‡ felix_ipsets_total active IP sets æ€»æ•° felix_iptables_chains active iptables chains æ•°é‡ felix_iptables_lines_executed iptables è§„åˆ™æ‰§è¡Œæ›´æ–°æ•° felix_iptables_restore_calls iptables-restore è°ƒç”¨æ¬¡æ•° felix_iptables_restore_errors iptables-restore é”™è¯¯æ•° felix_iptables_rules active iptables è§„åˆ™æ•° felix_iptables_save_calls iptables-save è°ƒç”¨æ¬¡æ•° felix_iptables_save_errors iptables-save é”™è¯¯æ•° felix_resync_state å½“å‰ datastore çŠ¶æ€ felix_resyncs_started felix å¼€å§‹é‡æ–°åŒæ­¥datastoreçš„æ¬¡æ•° felix_route_table_list_seconds åœ¨åŒæ­¥æœŸé—´åˆ—å‡ºæ‰€æœ‰æ¥å£æ‰€èŠ±è´¹çš„æ—¶é—´ felix_route_table_per_iface_sync_seconds åŒæ­¥æ¯ä¸ªæ¥å£æ‰€èŠ±è´¹çš„æ—¶é—´ felix_log_errors é”™è¯¯æ—¥å¿—æ•° felix_logs_dropped ç”±äºè¾“å‡ºæµè¢«é˜»å¡è€Œä¸¢å¼ƒçš„æ—¥å¿—æ•° ä½¿ç”¨ prometheus æ”¶é›†ç›‘æ§ï¼š[[ç›‘æ§ - monitor]] ä½¿ç”¨å¯è§†åŒ–æŸ¥çœ‹ï¼š[[grafana å¯è§†åŒ–]]</description></item><item><title>DNS</title><link>https://www.ryken.cloud/DNS/</link><pubDate>Wed, 26 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/DNS/</guid><description>äºšé©¬é€Š DNS - routeD5? å¯ä»¥å®ç°è·¨åœ°åŸŸçº§åˆ«çš„é€šä¿¡ï¼Œä¸€ä¸ªåœ°åŸŸå†…å¯ä»¥ä½¿ç”¨ bgp å»æ‰“é€š Amazon Route 53</description></item><item><title>DNS è®°å½•</title><link>https://www.ryken.cloud/DNS-%E8%AE%B0%E5%BD%95/</link><pubDate>Wed, 26 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/DNS-%E8%AE%B0%E5%BD%95/</guid><description>ä½¿ç”¨é’äº‘çš„å…¬æœ‰äº‘ï¼Œæœ‰æ—¶ä¸»æœºé‡å¯ä¹‹åå¯¹åº”çš„dnsè®°å½•ä¼šæ¶ˆå¤±ï¼Œæ‰‹åŠ¨ä¿®æ”¹ /etc/resolv.conf åé‡å¯ä¼šè¢«è¦†ç›–ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è§£å†³ï¼š
ä½¿ç”¨é»˜è®¤çš„ resolved ç®¡ç† DNS è®°å½• ä½¿ç”¨resolvconf ç®¡ç† DNS è®°å½• ä½¿ç”¨ resolved ä¿®æ”¹ /etc/systemd/resolved.conf æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­æ·»åŠ dnsä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š DNS=8.</description></item><item><title>kube-controller-manager</title><link>https://www.ryken.cloud/kube-controller-manager/</link><pubDate>Wed, 26 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kube-controller-manager/</guid><description>Calico kube-controller-manager æ˜¯ Deploymentã€‚å®ƒåŒ…å«ä»¥ä¸‹æ§åˆ¶å™¨ï¼š
policy controllerï¼šç›‘è§†ç½‘ç»œç­–ç•¥å’Œ calico ç­–ç•¥ï¼Œå®ƒä¼šæŠŠKubernetesçš„network policiesåŒæ­¥åˆ° datastore ä¸­ã€‚ namespace controllerï¼šç›‘è§†å‘½åç©ºé—´å’Œ calico é…ç½®æ–‡ä»¶ï¼Œå®ƒä¼šæŠŠKubernetesçš„namespace labelå˜åŒ–åŒæ­¥åˆ° datastore ä¸­ã€‚ serviceaccount controllerï¼šç›‘è§†æœåŠ¡å¸æˆ·å’Œ calico é…ç½®æ–‡ä»¶ï¼Œå®ƒä¼šæŠŠKubernetesçš„service accountå˜åŒ–åŒæ­¥åˆ° datastore ä¸­ã€‚ workloadendpoint controllerï¼šç›‘è§†podæ ‡ç­¾çš„æ›´æ”¹å¹¶æ›´æ–°Calicoå·¥ä½œè´Ÿè½½ä¸­çš„endpointsé…ç½®ï¼Œå®ƒä¼šæŠŠKubernetesçš„pod labelå˜åŒ–åŒæ­¥åˆ° datastore ä¸­ã€‚ node controllerï¼šç›‘è§†åˆ é™¤Kubernetes nodesèŠ‚ç‚¹çš„æ“ä½œå¹¶ä»Calicoä¸­ä¹Ÿåˆ é™¤ç›¸åº”çš„æ•°æ®ã€‚</description></item><item><title>kubernetes</title><link>https://www.ryken.cloud/kubernetes/</link><pubDate>Wed, 26 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kubernetes/</guid><description>[[kubeadm install k8s]] [[kubekey install k8s]] [[webhook]] [[runtime]]</description></item><item><title>kubernetes service</title><link>https://www.ryken.cloud/kubernetes-service/</link><pubDate>Wed, 26 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kubernetes-service/</guid><description>æœåŠ¡ï¼ˆServiceï¼‰ | Kubernetes
externalName serviceï¼š Kubernetes Tips - Part 1 (akomljen.com)</description></item><item><title>linux ç½‘ç»œé…ç½®</title><link>https://www.ryken.cloud/linux-%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/</link><pubDate>Wed, 26 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/linux-%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/</guid><description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 root@node1:~# cat /etc/network/interfaces source /etc/network/interfaces.</description></item><item><title>Prometheus Blockbox Exporter</title><link>https://www.ryken.cloud/Prometheus-Blockbox-Exporter/</link><pubDate>Wed, 26 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Prometheus-Blockbox-Exporter/</guid><description>Blackbox Exporter æ˜¯ Prometheus ç¤¾åŒºæä¾›çš„ å®˜æ–¹é»‘ç›’ç›‘æ§è§£å†³æ–¹æ¡ˆ,å…¶å…è®¸ç”¨æˆ·é€šè¿‡: http\HTTPS\DNS\TCP\ICMP\gRPCçš„æ–¹å¼å¯¹ç½‘ç»œè¿›è¡Œæ¢æµ‹.
å®‰è£…éƒ¨ç½²
docker å®‰è£…
1 docker run --rm -p 9115:9115 --name blackbox_exporter -v $(pwd):/config quay.</description></item><item><title>ç›‘æ§ - monitor</title><link>https://www.ryken.cloud/%E7%9B%91%E6%8E%A7-monitor/</link><pubDate>Wed, 26 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%9B%91%E6%8E%A7-monitor/</guid><description>Monitor Calico component metrics (tigera.io)
Configure Calico to enable the metrics reporting. Create the namespace and service account that Prometheus will need.</description></item><item><title>ç½‘ç»œå·¥å…·åŒ…</title><link>https://www.ryken.cloud/%E7%BD%91%E7%BB%9C%E5%B7%A5%E5%85%B7%E5%8C%85/</link><pubDate>Wed, 26 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%BD%91%E7%BB%9C%E5%B7%A5%E5%85%B7%E5%8C%85/</guid><description>ç›¸å…³ç½‘ç»œå·¥å…·åŒ…ï¼š
pingåŒ…ï¼šapt-get install inetutils-ping ifconfig/netstatï¼šapt-get install net-tools ip å‘½ä»¤ï¼šapt-get install iproute2 æŠ“åŒ…ï¼šsudo apt-get install wireshark + sudo usermod -a -G wireshark $USER</description></item><item><title>ç½‘ç»œç›‘æ§å·¥å…·</title><link>https://www.ryken.cloud/%E7%BD%91%E7%BB%9C%E7%9B%91%E6%8E%A7%E5%B7%A5%E5%85%B7/</link><pubDate>Wed, 26 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%BD%91%E7%BB%9C%E7%9B%91%E6%8E%A7%E5%B7%A5%E5%85%B7/</guid><description>google/cadvisor: Analyzes resource usage and performance characteristics of running containers. (github.com) ç½‘ç»œèµ„æºçš„ä½¿ç”¨ç‡
yingyan003/netChecker: netCheckeræ˜¯ä¸€ä¸ªæ£€æŸ¥k8sé›†ç¾¤ç½‘ç»œè¿é€šæ€§çš„å·¥å…·ã€‚æµ‹è¯•å¯¹è±¡æ˜¯pod-&amp;gt;podï¼Œpod-&amp;gt;nodeï¼Œpod-&amp;gt;svcçš„ç½‘ç»œçŠ¶å†µ (github.</description></item><item><title>è·¯ç”±åå°„å™¨çš„åå°„è§„åˆ™</title><link>https://www.ryken.cloud/%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E5%99%A8%E7%9A%84%E5%8F%8D%E5%B0%84%E8%A7%84%E5%88%99/</link><pubDate>Wed, 26 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E5%99%A8%E7%9A%84%E5%8F%8D%E5%B0%84%E8%A7%84%E5%88%99/</guid><description>è·¯ç”±åå°„å™¨çš„åå°„è§„åˆ™ï¼š
1ã€åå°„å™¨æ¥æ”¶åˆ°EBGPé‚»å±…é€šå‘Šçš„BGPè·¯ç”±æ—¶å€™ï¼šå½“è·¯ç”±åå°„å™¨æ¥æ”¶åˆ°æ¥è‡ªEBGPé‚»å±…é€šå‘Šçš„BGPè·¯ç”±ï¼Œä¼šæŠŠæ­¤è·¯ç”±åŒæ—¶é€šå‘Šç»™åŒä¸€clusterå†…çš„clienté‚»å±…ï¼Œä¹Ÿé€šå‘Šç»™clusterä¹‹å¤–çš„å…¶ä»–IBGPé‚»å±…ã€‚è€Œè·¯ç”±ä¸­æºå¸¦çš„Cluster listå’ŒOriginatorå±æ€§åªå‘é€ç»™clusterå†…çš„clienté‚»å±…ã€‚
2ã€åå°„å™¨æ¥æ”¶åˆ°clusterå†…çš„IBGPé‚»å±…å‘é€æ¥çš„è·¯ç”±æ—¶å€™ï¼šå½“è·¯ç”±åå°„å™¨æ¥æ”¶åˆ°åŒä¸€clusterå†…çš„IBGPé‚»å±…å‘é€æ¥çš„BGPè·¯ç”±æ—¶å€™ï¼Œåå°„å™¨æŠŠè¯¥è·¯ç”±é€šå‘Šç»™clusterå†…å…¶ä»–æ‰€æœ‰clienté‚»å±…ï¼Œä¹Ÿé€šå‘Šç»™clusterå¤–çš„å…¶ä»–IBGPé‚»å±…ï¼Œè¿™ä¸ªé€šå‘Šçš„è·¯ç”±åŒ…æ‹¬äº†Originator å±æ€§å’Œä¿®æ”¹åçš„Cluster IDå±æ€§ã€‚å¦‚æœè¯¥åå°„å™¨å­˜åœ¨EBGPé‚»å±…çš„è¯ï¼Œåå°„å™¨åŒæ—¶æŠŠè¯¥è·¯ç”±é€šå‘Šç»™æ‰€æœ‰çš„EBGPé‚»å±…ï¼Œä½†ä¸æºå¸¦ä»»ä½•åå°„å™¨ç›¸å…³å±æ€§ã€‚
3ã€åå°„å™¨æ¥æ”¶åˆ°clusterå¤–çš„å…¶ä»–IBGPé‚»å±…å‘é€çš„BGPè·¯ç”±æ—¶å€™ï¼šå½“åå°„å™¨æ¥æ”¶åˆ°clusterä»¥å¤–çš„å…¶ä»–IBGPé‚»å±…å‘é€çš„è·¯ç”±æ—¶å€™ï¼Œåå°„å™¨ä¼šæŠŠè¯¥è·¯ç”±é€šå‘Šç»™è‡ªå·±clusterå†…æ‰€æœ‰çš„clienté‚»å±…ï¼Œæ·»åŠ åˆé€‚çš„å±æ€§ã€‚å¦‚æœè¯¥RRå­˜åœ¨EBGPé‚»å±…çš„è¯ï¼Œåˆ™RRåŒæ—¶ä¹ŸæŠŠè¯¥è·¯ç”±é€šå‘Šç»™è‡ªå·±æ‰€æœ‰çš„EBGPé‚»å±…ï¼Œä½†ä¸æºå¸¦åå°„å™¨ç›¸å…³å±æ€§ã€‚</description></item><item><title>è¿è¡Œæ—¶é“¾æ¥</title><link>https://www.ryken.cloud/%E8%BF%90%E8%A1%8C%E6%97%B6%E9%93%BE%E6%8E%A5/</link><pubDate>Wed, 26 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E8%BF%90%E8%A1%8C%E6%97%B6%E9%93%BE%E6%8E%A5/</guid><description>é“¾æ¥ ç°ä»£è¿æ¥å™¨åœ¨å¤„ç†åŠ¨æ€åº“æ—¶å°†é“¾æ¥æ—¶è·¯å¾„ï¼ˆLink-time pathï¼‰å’Œè¿è¡Œæ—¶è·¯å¾„ï¼ˆRun-time pathï¼‰åˆ†å¼€ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡-LæŒ‡å®šè¿æ¥æ—¶åº“çš„è·¯å¾„ï¼Œé€šè¿‡-Rï¼ˆæˆ–-rpathï¼‰æŒ‡å®šç¨‹åºè¿è¡Œæ—¶åº“çš„è·¯å¾„ï¼Œå¤§å¤§æé«˜äº†åº“åº”ç”¨çš„çµæ´»æ€§ã€‚
LIBRARY_PATHç¯å¢ƒå˜é‡ç”¨äºåœ¨ç¨‹åºç¼–è¯‘æœŸé—´æŸ¥æ‰¾åŠ¨æ€é“¾æ¥åº“æ—¶æŒ‡å®šæŸ¥æ‰¾å…±äº«åº“çš„è·¯å¾„ LD_LIBRARY_PATHç¯å¢ƒå˜é‡ç”¨äºåœ¨ç¨‹åºåŠ è½½è¿è¡ŒæœŸé—´æŸ¥æ‰¾åŠ¨æ€é“¾æ¥åº“æ—¶æŒ‡å®šé™¤äº†ç³»ç»Ÿé»˜è®¤è·¯å¾„ä¹‹å¤–çš„å…¶ä»–è·¯å¾„ï¼Œæ³¨æ„ï¼ŒLD_LIBRARY_PATHä¸­æŒ‡å®šçš„è·¯å¾„ä¼šåœ¨ç³»ç»Ÿé»˜è®¤è·¯å¾„ä¹‹å‰è¿›è¡ŒæŸ¥æ‰¾ã€‚
world.c
1 2 3 4 5 #include&amp;lt;stdio.h&amp;gt;void world(void) { printf(&amp;#34;world.\n&amp;#34;); } hello.</description></item><item><title/><link>https://www.ryken.cloud/hybridnet.excalidraw/</link><pubDate>Fri, 21 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/hybridnet.excalidraw/</guid><description>==âš  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš ==
Text Elements leaf1 ^sDROrzpl
server1 ^eqxCtLQ4</description></item><item><title>images-repository</title><link>https://www.ryken.cloud/images-repository/</link><pubDate>Thu, 13 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/images-repository/</guid><description>Moby = open source development Docker CE = free product release based on Moby Docker EE = commercial product release based on Docker CE.</description></item><item><title>multus-cni</title><link>https://www.ryken.cloud/multus-cni/</link><pubDate>Thu, 13 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/multus-cni/</guid><description>ä»“åº“åœ°å€ï¼š k8snetworkplumbingwg/multus-cni: A CNI meta-plugin for multi-homed pods in Kubernetes (github.com)
å®‰è£… kubectl apply -f https://raw.githubusercontent.com/k8snetworkplumbingwg/multus-cni/v3.9.2/deployments/multus-daemonset-thick-plugin.yml
ä½¿ç”¨ åˆ›å»º NetworkAttachmentDefinition èµ„æº 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 cat &amp;lt;&amp;lt;EOF | kubectl create -f - apiVersion: &amp;#34;k8s.</description></item><item><title>felix env</title><link>https://www.ryken.cloud/felix-env/</link><pubDate>Mon, 10 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/felix-env/</guid><description>æ—¥å¿—ï¼š
FELIX_EARLYLOGSEVERITYSCREEN FELIX_LOGSEVERITYSCREEN go åƒåœ¾å›æ”¶
GOGC BPF æ¨¡å¼
KUBERNETES_SERVICE_HOST KUBERNETES_SERVICE_PORT å¾ªç¯åŠ è½½é…ç½® - ç›´åˆ° data store ready</description></item><item><title>FrequentlyUsed</title><link>https://www.ryken.cloud/FrequentlyUsed/</link><pubDate>Mon, 10 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/FrequentlyUsed/</guid><description>set [[build record]] [[shell å¸¸ç”¨]] [[ssh]]</description></item><item><title>å¯åŠ¨ startup</title><link>https://www.ryken.cloud/%E5%90%AF%E5%8A%A8-startup/</link><pubDate>Mon, 10 Apr 2023 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%90%AF%E5%8A%A8-startup/</guid><description>startup å¯åŠ¨æµç¨‹ï¼š
æ£€æµ‹ ip åœ°å€å’Œ bgp ä½¿ç”¨çš„ç½‘ç»œ ä½¿ç”¨ç¯å¢ƒä¸­æä¾›çš„æˆ–è‡ªåŠ¨æ£€æµ‹åˆ°çš„ IP/AS ä¿¡æ¯é…ç½®èŠ‚ç‚¹èµ„æº åˆ›å»ºé»˜è®¤çš„ ippool</description></item><item><title/><link>https://www.ryken.cloud/4.1-%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/4.1-%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D/</guid><description/></item><item><title/><link>https://www.ryken.cloud/4.2-%E7%AC%A6%E5%8F%B7%E8%A7%A3%E6%9E%90%E4%B8%8E%E9%87%8D%E5%AE%9A%E4%BD%8D/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/4.2-%E7%AC%A6%E5%8F%B7%E8%A7%A3%E6%9E%90%E4%B8%8E%E9%87%8D%E5%AE%9A%E4%BD%8D/</guid><description/></item><item><title/><link>https://www.ryken.cloud/4.3-COMMON%E5%9D%97/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/4.3-COMMON%E5%9D%97/</guid><description/></item><item><title/><link>https://www.ryken.cloud/4.4-C++%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/4.4-C++%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/</guid><description/></item><item><title/><link>https://www.ryken.cloud/4.5-%E9%9D%99%E6%80%81%E5%BA%93%E9%93%BE%E6%8E%A5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/4.5-%E9%9D%99%E6%80%81%E5%BA%93%E9%93%BE%E6%8E%A5/</guid><description/></item><item><title/><link>https://www.ryken.cloud/4.6-%E9%93%BE%E6%8E%A5%E8%BF%87%E7%A8%8B%E6%8E%A7%E5%88%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/4.6-%E9%93%BE%E6%8E%A5%E8%BF%87%E7%A8%8B%E6%8E%A7%E5%88%B6/</guid><description/></item><item><title/><link>https://www.ryken.cloud/4.7-BFD%E5%BA%93/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/4.7-BFD%E5%BA%93/</guid><description/></item><item><title/><link>https://www.ryken.cloud/BGP-%E6%8A%A5%E6%96%87/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/BGP-%E6%8A%A5%E6%96%87/</guid><description>#bgp #bird birdæ–‡æ¡£ labs / BIRD Internet Routing Daemon Â· GitLab (nic.cz)
bgp æŠ¥æ–‡ç±»å‹
type æŠ¥æ–‡ç±»å‹ ç”¨é€” 1 Open å»ºç«‹ BGP è¿æ¥ 2 Update ç”¨äºé€šå‘Šè·¯ç”± 3 Notification ç”¨äºå¤„ç† BGP è¿›ç¨‹ä¸­çš„å„ç§é”™è¯¯ 4 Keepalive ç”¨äºä¿æŒ BGP è¿æ¥ 5 Refresh ç”¨äºåŠ¨æ€çš„è¯·æ±‚ BGP è·¯ç”±å‘å¸ƒè€…é‡æ–°å‘å¸ƒ Update æŠ¥æ–‡ï¼Œè¿›è¡Œè·¯ç”±æ›´æ–° é…ç½® tor ä¸º Route Reflector ä»¥åŠé€‰å–é›†ç¾¤ä¸­ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸º Route Reflector çš„åŒºåˆ« RRæ˜¯ä¸€ç§ç”¨äºæé«˜BGPç½‘ç»œä¸­è·¯ç”±ä¼ æ’­æ•ˆç‡çš„æŠ€æœ¯ã€‚åœ¨ BGP ç½‘ç»œä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹é€šå¸¸éœ€è¦å‘å…¶é‚»å±…èŠ‚ç‚¹å‘é€å®Œæ•´çš„è·¯ç”±è¡¨ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ç½‘ç»œå¸¦å®½æ¶ˆè€—å’Œå»¶è¿Ÿå¢åŠ ã€‚é€šè¿‡ä½¿ç”¨ RRï¼ŒèŠ‚ç‚¹å¯ä»¥å°†è·¯ç”±ä¿¡æ¯å‘é€åˆ° RR èŠ‚ç‚¹ï¼ŒRR èŠ‚ç‚¹ç„¶åå°†å…¶è½¬å‘ç»™å…¶ä»–èŠ‚ç‚¹ï¼Œä»è€Œå‡å°‘äº†ç½‘ç»œæµé‡å’ŒèŠ‚ç‚¹è´Ÿæ‹…ã€‚</description></item><item><title/><link>https://www.ryken.cloud/BGP-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.excalidraw/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/BGP-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.excalidraw/</guid><description>==âš  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš ==
Text Elements spine1 ^ysTSUxD3
spine2 ^NLhMxLIF</description></item><item><title/><link>https://www.ryken.cloud/BIRD-%E6%96%87%E6%A1%A3-+-%E9%A1%B9%E7%9B%AE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/BIRD-%E6%96%87%E6%A1%A3-+-%E9%A1%B9%E7%9B%AE/</guid><description>#bird
æ–‡æ¡£ï¼š The BIRD Internet Routing Daemon Project (network.cz) é¡¹ç›®åœ°å€ï¼š Files Â· master Â· labs / BIRD Internet Routing Daemon Â· GitLab (nic.</description></item><item><title/><link>https://www.ryken.cloud/cEOS-%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/cEOS-%E9%85%8D%E7%BD%AE/</guid><description>#containerlab #cEOS #äº¤æ¢æœº
é”æ·äº¤æ¢æœº
enable configure show running-config
vlan 10~12 interface vlan 10 ip address 10.10.10.1 255.255.255.0
interface Ethernet 2 switchport mode trunk switchport trunk native vlan 10 switchport trunk allowed vlan remove 1-4094 Switchport trunk allow vlan add 10,11,12</description></item><item><title/><link>https://www.ryken.cloud/Cilium-1.18/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Cilium-1.18/</guid><description/></item><item><title/><link>https://www.ryken.cloud/confd-%E7%BB%84%E4%BB%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/confd-%E7%BB%84%E4%BB%B6/</guid><description>å¼€æºçš„ã€è½»é‡çº§çš„é…ç½®ç®¡ç†å·¥å…·ã€‚ç›‘æ§Calicoæ•°æ®å­˜å‚¨å¯¹BGPé…ç½®å’Œå…¨å±€é»˜è®¤çš„æ—¥å¿—å˜æ›´ï¼Œå¦‚ASå·ã€æ—¥å¿—çº§åˆ«å’ŒIPAMä¿¡æ¯ã€‚
Confdæ ¹æ®å­˜å‚¨ä¸­çš„æ•°æ®æ›´æ–°ï¼ŒåŠ¨æ€ç”ŸæˆBIRDé…ç½®æ–‡ä»¶ã€‚å½“é…ç½®æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶ï¼Œconfdä¼šè§¦å‘BIRDåŠ è½½æ–°çš„æ–‡ä»¶ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 function apply_communities (){{{- $prefix_advertisements_key := &amp;#34;&amp;#34;}}{{- $node_prefix_advertisements_key := printf &amp;#34;/host/%s/prefix_advertisements/ip_v4&amp;#34; (getenv &amp;#34;NODENAME&amp;#34;)}}{{- if exists $node_prefix_advertisements_key}}{{- $prefix_advertisements_key = $node_prefix_advertisements_key}}{{- else if exists &amp;#34;/global/prefix_advertisements/ip_v4&amp;#34;}}{{- $prefix_advertisements_key = &amp;#34;/global/prefix_advertisements/ip_v4&amp;#34;}}{{- end}}{{- if ne &amp;#34;&amp;#34; $prefix_advertisements_key}}{{- range gets $prefix_advertisements_key}}{{- $arr:= jsonArray .</description></item><item><title/><link>https://www.ryken.cloud/ebpf-%E6%8E%92%E6%9F%A5%E5%B7%A5%E5%85%B7/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/ebpf-%E6%8E%92%E6%9F%A5%E5%B7%A5%E5%85%B7/</guid><description>æ’æŸ¥å·¥å…·ï¼šftrace / bcc trace é—®é¢˜æ’æŸ¥åˆ©å™¨ï¼šLinux åŸç”Ÿè·Ÿè¸ªå·¥å…· Ftrace å¿…çŸ¥å¿…ä¼š | æ·±å…¥æµ…å‡º eBPF</description></item><item><title/><link>https://www.ryken.cloud/encoding_gob/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/encoding_gob/</guid><description/></item><item><title/><link>https://www.ryken.cloud/encoding_json/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/encoding_json/</guid><description/></item><item><title/><link>https://www.ryken.cloud/encoding%E5%BA%93/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/encoding%E5%BA%93/</guid><description/></item><item><title/><link>https://www.ryken.cloud/Flannel-%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Flannel-%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6/</guid><description>#flannel #cni</description></item><item><title/><link>https://www.ryken.cloud/go-interface/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/go-interface/</guid><description/></item><item><title/><link>https://www.ryken.cloud/go-%E5%B9%B6%E5%8F%91/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/go-%E5%B9%B6%E5%8F%91/</guid><description/></item><item><title/><link>https://www.ryken.cloud/go-%E7%B1%BB%E5%9E%8B/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/go-%E7%B1%BB%E5%9E%8B/</guid><description>å€¼ç±»å‹ç»™ç¼–è¯‘å™¨æä¾›è§„æ¨¡å’Œè¡¨ç¤ºä¸¤éƒ¨åˆ† å½“å£°æ˜å˜é‡æ—¶ï¼Œè¿™ä¸ªå˜é‡å¯¹åº”çš„å€¼æ€»æ˜¯ä¼šè¢«åˆå§‹åŒ–ã€‚è¿™ä¸ªå€¼è¦ä¹ˆç”¨æŒ‡å®šçš„å€¼åˆå§‹åŒ–ï¼Œè¦ä¹ˆç”¨é›¶å€¼ï¼ˆå³å˜é‡ç±»å‹çš„é»˜è®¤å€¼ï¼‰åšåˆå§‹åŒ–ã€‚å¯¹æ•°å€¼ç±»å‹æ¥è¯´ï¼Œé›¶å€¼æ˜¯ 0ï¼›å¯¹å­—ç¬¦ä¸²æ¥è¯´ï¼Œé›¶å€¼æ˜¯ç©ºå­—ç¬¦ä¸²ï¼›å¯¹å¸ƒå°”ç±»å‹ï¼Œé›¶å€¼æ˜¯ falseã€‚å¯¹è¿™ä¸ªä¾‹å­é‡Œçš„ç»“æ„ï¼Œç»“æ„é‡Œæ¯ä¸ªå­—æ®µéƒ½ä¼šç”¨é›¶å€¼åˆå§‹åŒ–ã€‚
1 2 3 4 5 6 7 8 9 10 11 package main type Duration int64 func main() { var dur Duration dur = int64(1000) } // # command-line-arguments // .</description></item><item><title/><link>https://www.ryken.cloud/go-%E8%B0%83%E5%BA%A6%E5%99%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/go-%E8%B0%83%E5%BA%A6%E5%99%A8/</guid><description/></item><item><title/><link>https://www.ryken.cloud/helm-Tools/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/helm-Tools/</guid><description>#helm
1. å®˜ç½‘åœ°å€ https://helm.sh/
2. åœ¨ubuntuä¸Šå®‰è£… 1 2 3 4 5 curl https://baltocdn.com/helm/signing.asc | sudo apt-key add - sudo apt-get install apt-transport-https --yes echo &amp;#34;deb https://baltocdn.</description></item><item><title/><link>https://www.ryken.cloud/icmp-tcp-dns-%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/icmp-tcp-dns-%E9%85%8D%E7%BD%AE/</guid><description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 ---apiVersion:v1kind:Namespacemetadata:name:monitoring-systemlabels:app:monitoring---apiVersion:v1kind:ConfigMapmetadata:name:blackbox-confignamespace:monitoring-systemdata:blackbox.</description></item><item><title/><link>https://www.ryken.cloud/install-KubeOVN/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/install-KubeOVN/</guid><description>#kube-ovn #kubekey #install
overlay å®‰è£… ä½¿ç”¨ kubekey å®‰è£… 1 2 3 4 5 6 7 8 9 10 11 apiVersion:kubekey.</description></item><item><title/><link>https://www.ryken.cloud/k9s-Tools/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/k9s-Tools/</guid><description>#k9s
release url: Releases Â· derailed/k9s (github.com)
å®‰è£…
é…ç½®ï¼š derailed/k9s: ğŸ¶ Kubernetes CLI To Manage Your Clusters In Style! (github.com) ~/.</description></item><item><title/><link>https://www.ryken.cloud/Kind-Tools/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/Kind-Tools/</guid><description>#kind #install
æ–‡æ¡£ï¼š https://kind.sigs.k8s.io/docs/user/quick-start
å®‰è£…äºŒè¿›åˆ¶ 1 2 3 curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.16.0/kind-linux-amd64 chmod +x ./kind sudo mv .</description></item><item><title/><link>https://www.ryken.cloud/kube-ovn-ipam/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kube-ovn-ipam/</guid><description>#ipam #kube-ovn
ip åˆ†é… éšæœºåˆ†é… å¯¹äºå·¥ä½œè´Ÿè½½çš„ ip åˆ†é…ç­–ç•¥
ä¼˜å…ˆä½¿ç”¨è´Ÿè½½æŒ‡å®šçš„ï¼šovn.kubernetes.io/logical_switch: subnet å¦‚æœè´Ÿè½½æ²¡æœ‰æŒ‡å®šä½¿ç”¨ï¼Œä½¿ç”¨ namespace ç»‘å®šçš„ subnet å¦‚æœ namespace æ²¡æœ‰ç»‘å®š subnetï¼Œä½¿ç”¨å®‰è£…é»˜è®¤çš„ ovn-default é™æ€åˆ†é… é™æ€åˆ†é…å³åœ¨ pod çš„ annotations ä¸­æ·»åŠ å¯¹åº”çš„æ³¨è§£ï¼šå¦‚æœ mac åœ°å€ä¸ºç©ºï¼Œä¼šéšæœºç”³è¯·å‡ºä¸€ä¸ª mac åœ°å€ã€‚</description></item><item><title/><link>https://www.ryken.cloud/kube-ovn-networkpolicy/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kube-ovn-networkpolicy/</guid><description>#network-policy #kube-ovn
æ ‡å‡†çš„ NetworkPolicy kube-ovn æ”¯æŒæ ‡å‡†çš„ NetworkPolicyï¼Œä½†æ˜¯æ— æ³•ä½œç”¨äº node ä¸Šçš„ç­–ç•¥
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 apiVersion:networking.</description></item><item><title/><link>https://www.ryken.cloud/kube-ovn/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kube-ovn/</guid><description>#kube-ovn #cni
æ–‡æ¡£é“¾æ¥ï¼š Kube-OVN æ–‡æ¡£ å‘å¸ƒç‰ˆæœ¬ï¼š Releases Â· kubeovn/kube-ovn (github.com)
kube-ovn 1.9 ç‰ˆæœ¬è‡ªå®šä¹‰èµ„æº
è‡ªå®šä¹‰èµ„æº è¯´æ˜ å¤‡æ³¨ vpcs è‡ªå®šä¹‰vpc vpc-nat-gateways vpc å‡ºå£ç½‘å…³ subnets å­ç½‘/ippool åœ°å€æ±  provider-networks underlay ç½‘å¡æä¾›è€… vlans vlan ä¿¡æ¯ ips ip åˆ†é…è®°å½• htbqoses pod ç½‘ç»œé™é€Ÿ security-groups å®‰å…¨ç»„ä¿¡æ¯ kube-ovn 1.</description></item><item><title/><link>https://www.ryken.cloud/kubectl-ko/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/kubectl-ko/</guid><description>#kube-ovn #kubectl
æœ‰æ—¶å€™å®‰è£…å®Œæˆ kube-ovn ä¹‹åï¼Œkubectl ko æ’ä»¶æ— æ³•ä½¿ç”¨</description></item><item><title/><link>https://www.ryken.cloud/markdown-style/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/markdown-style/</guid><description>#markdown
Extended Syntax | Markdown Guide</description></item><item><title/><link>https://www.ryken.cloud/net_http/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/net_http/</guid><description/></item><item><title/><link>https://www.ryken.cloud/net_http_cgi/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/net_http_cgi/</guid><description/></item><item><title/><link>https://www.ryken.cloud/net_http_cookiejar/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/net_http_cookiejar/</guid><description/></item><item><title/><link>https://www.ryken.cloud/net_rpc/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/net_rpc/</guid><description/></item><item><title/><link>https://www.ryken.cloud/netlab/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/netlab/</guid><description>#netlab
é¡¹ç›®åœ°å€ï¼š ipspace/netlab: Making virtual networking labs suck less (github.com)
æ–‡æ¡£åœ°å€ï¼š VLANs â€” Network Simulation Tools documentation (netsim-tools.readthedocs.io)
åˆ«äººçš„ä¸€ä¸ª demoï¼š netlab Simple VLAN Example Â« ipSpace.</description></item><item><title/><link>https://www.ryken.cloud/network-tools/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/network-tools/</guid><description>#nsenter
nsenter -u -n -t $pid bash
nsenterÂ --utsÂ --net --targetÂ 3326Â --ipcÂ --mountÂ --pid
ç½‘å¡é˜Ÿåˆ—è®¾ç½®ä¸º1 + ç½‘å¡ç»ˆç«¯ç»‘å®šè‡³ CPU0 [Linux æ€§èƒ½è°ƒä¼˜] ç½‘å¡ä¸­æ–­ä¸CPUçš„ç»‘å®šé—®é¢˜ - å·´è›®å­ - åšå®¢å›­ (cnblogs.</description></item><item><title/><link>https://www.ryken.cloud/ss-%E5%91%BD%E4%BB%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/ss-%E5%91%BD%E4%BB%A4/</guid><description>#network #tool
ss å‘½ä»¤ç”¨äºæ˜¾ç¤ºsocketçŠ¶æ€. ä»–å¯ä»¥æ˜¾ç¤ºPACKET sockets, TCP sockets, UDP sockets, DCCP sockets, RAW sockets, Unix domain socketsç­‰ç­‰ç»Ÿè®¡. å®ƒæ¯”å…¶ä»–å·¥å…·å±•ç¤ºç­‰å¤štcpå’Œstateä¿¡æ¯. å®ƒæ˜¯ä¸€ä¸ªéå¸¸å®ç”¨ã€å¿«é€Ÿã€æœ‰æ•ˆçš„è·Ÿè¸ªIPè¿æ¥å’Œsocketsçš„æ–°å·¥å…·.
åŠŸèƒ½ç±»ä¼¼ï¼šnetstat</description></item><item><title/><link>https://www.ryken.cloud/tc-tbf/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/tc-tbf/</guid><description>tbf - token bucket Filter ä»¤ç‰Œæ¡¶è¿‡æ»¤å™¨
tbf sfq æ— ç±»ç®—æ³• æµé‡æ§åˆ¶ TBF é˜Ÿåˆ—æ§åˆ¶ SFQ éšæœºå…¬å¹³é˜Ÿåˆ—
åˆ†ç±»ç®—æ³•ï¼šPRIO/CBQ/HTB å¯¹å¤šç§æ•°æ®æµåŒºåˆ«å¯¹å¾…
PRIOï¼šåˆ†ç±»ä¼˜å…ˆç®—æ³• (ä»å·¦è‡³å³ä¼˜å…ˆå‘åŒ…), é˜Ÿåˆ—è§„å®šå¹¶ä¸è¿›è¡Œæ•´å½¢ï¼Œå®ƒä»…ä»…æ ¹æ®é…ç½®çš„è¿‡æ»¤å™¨æŠŠæµé‡è¿›ä¸€æ­¥ç»†åˆ† CBQï¼šå·¥ä½œæœºåˆ¶æ˜¯ç¡®è®¤é“¾è·¯çš„é—²ç½®æ—¶é—´è¶³å¤Ÿé•¿ï¼Œä»¥è¾¾åˆ°é™ä½é“¾è·¯å®é™…å¸¦å®½çš„ç›®çš„ HTBï¼šåˆ†å±‚çš„ä»¤ç‰Œæ¡¶ä¸€ä¸ªåˆ†ç±»çš„ä»¤ç‰Œæ¡¶è¿‡æ»¤å™¨ linux æµé‡æ§åˆ¶ï¼š</description></item><item><title/><link>https://www.ryken.cloud/tcpdump/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/tcpdump/</guid><description>tcpdump -i any -w mycap.pacp</description></item><item><title/><link>https://www.ryken.cloud/termshark/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/termshark/</guid><description>#wireshark #tcpdump #termshark
å®‰è£…ï¼š Releases Â· gcla/termshark (github.com)</description></item><item><title/><link>https://www.ryken.cloud/use-kube-ovn/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/use-kube-ovn/</guid><description>#kube-ovn #cni #how-to-use
æ ¸å¿ƒèµ„æº subnet
ç¤ºä¾‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 apiVersion:kubeovn.</description></item><item><title/><link>https://www.ryken.cloud/vyos-OSPF-%E9%85%8D%E7%BD%AE/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/vyos-OSPF-%E9%85%8D%E7%BD%AE/</guid><description>#vyos #è·¯ç”±å™¨
1 2 3 4 5 6 set interfaces loopback lo address 9.9.9.9/32 set protocols ospf parameters router-id 8.</description></item><item><title/><link>https://www.ryken.cloud/wireshark-%E6%8A%93%E5%8C%85%E8%BF%87%E6%BB%A4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/wireshark-%E6%8A%93%E5%8C%85%E8%BF%87%E6%BB%A4/</guid><description>#wireshark
åŠŸèƒ½ è¡¨è¾¾å¼ ç­›é€‰ç‰¹å®š ip ip.addr == xxx</description></item><item><title/><link>https://www.ryken.cloud/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9B%B8%E5%85%B3/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9B%B8%E5%85%B3/</guid><description>#containerlab #äº¤æ¢æœº
Nokia SR Linux
1 2 3 4 5 # access CLI docker exec -it &amp;lt;name&amp;gt; sr_cli # access bash docker exec -it &amp;lt;name&amp;gt; bash Arista cEOS</description></item><item><title/><link>https://www.ryken.cloud/%E4%BD%BF%E7%94%A8code-generator%E7%94%9F%E6%88%90crd%E7%9A%84clientsetinformerlisters/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E4%BD%BF%E7%94%A8code-generator%E7%94%9F%E6%88%90crd%E7%9A%84clientsetinformerlisters/</guid><description>#code-generator #informer #kubernetes #kubebuilder
å‚è€ƒé“¾æ¥ï¼š ä½¿ç”¨code-generatorç”Ÿæˆcrdçš„clientsetã€informerã€listers - èµ¶è·¯äººçš„åšå®¢ (xieys.club)</description></item><item><title/><link>https://www.ryken.cloud/%E5%88%9D%E5%A7%8Bnginx/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%88%9D%E5%A7%8Bnginx/</guid><description/></item><item><title/><link>https://www.ryken.cloud/%E5%89%96%E6%9E%90/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E5%89%96%E6%9E%90/</guid><description>Calico eBPF Data Plane Deep-Dive (tigera.io)
nodeport æµé‡åˆ°æ¥ä¹‹åå¦‚ä½•å¤„ç†çš„
host ip update ï¼Ÿ
kube-proxy ï¼š ç”¨äºå¤„ç†é«˜çº§çš„é—®é¢˜ï¼Œå¦‚é‡å¯ã€é…ç½®ç­‰</description></item><item><title/><link>https://www.ryken.cloud/%E6%8E%92%E6%9F%A5-calico-ebpf/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%8E%92%E6%9F%A5-calico-ebpf/</guid><description>#calico #ebpf
é…ç½® kube-proxy
1 2 3 4 5 kubectl patch ds -n kube-system kube-proxy -p &amp;#39;{&amp;#34;spec&amp;#34;:{&amp;#34;template&amp;#34;:{&amp;#34;spec&amp;#34;:{&amp;#34;nodeSelector&amp;#34;:{&amp;#34;non-calico&amp;#34;: &amp;#34;true&amp;#34;}}}}}&amp;#39; kubectl patch felixconfiguration default --type merge --patch=&amp;#39;{&amp;#34;spec&amp;#34;: {&amp;#34;bpfEnabled&amp;#34;: true}}&amp;#39; # å¦‚æœæ— æ³•ç¦ç”¨ kube-proxy ï¼Œé…ç½® Felix kubectl patch felixconfiguration default --type merge --patch=&amp;#39;{&amp;#34;spec&amp;#34;: {&amp;#34;bpfKubeProxyIptablesCleanupEnabled&amp;#34;: false}}&amp;#39; å–æ¶ˆè®¾ç½® - å›æ»š</description></item><item><title/><link>https://www.ryken.cloud/%E6%97%B6%E5%8C%BA-%E5%90%8C%E6%AD%A5%E6%97%B6%E9%97%B4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%97%B6%E5%8C%BA-%E5%90%8C%E6%AD%A5%E6%97%B6%E9%97%B4/</guid><description>æŸ¥çœ‹ç³»ç»Ÿæ—¶åŒº timedatectl
ä¿®æ”¹ç³»ç»Ÿæ—¶åŒº 1 2 3 4 timedatectl list-timezones | grep -i shang Asia/Shanghai timedatectl set-timezone Asia/Shanghai è½¯è¿æ¥ä¿®æ”¹æ—¶åŒº 1 2 3 4 5 ```shell root@node1:~#ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime root@node1:~# ls -l /etc/localtime lrwxrwxrwx 1 root root 33 May 20 2022 /etc/localtime -&amp;gt; /usr/share/zoneinfo/Asia/Shanghai</description></item><item><title/><link>https://www.ryken.cloud/%E6%9C%AA%E5%91%BD%E5%90%8D/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%9C%AA%E5%91%BD%E5%90%8D/</guid><description>#loadbalance
| åç§° | è§£é‡Š | å±‚çº§|= |&amp;ndash;|&amp;ndash;|&amp;ndash;| |DLB | DNS è´Ÿè½½å‡è¡¡ | ä¸ƒå±‚ | | ALB | Application è´Ÿè½½å‡è¡¡ | ä¸ƒå±‚ | | NLB | Network è´Ÿè½½å‡è¡¡ | å››å±‚ |</description></item><item><title/><link>https://www.ryken.cloud/%E6%9E%B6%E6%9E%84.excalidraw/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%9E%B6%E6%9E%84.excalidraw/</guid><description>==âš  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš ==
Text Elements Kube-loxilb ^doQa7FVc
loxilb ^FoxFTTiM</description></item><item><title/><link>https://www.ryken.cloud/%E6%9F%A5%E7%9C%8B-CPU%E5%86%85%E5%AD%98/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E6%9F%A5%E7%9C%8B-CPU%E5%86%85%E5%AD%98/</guid><description>æŸ¥çœ‹ cpu ä¿¡æ¯ï¼š cat /proc/cpuinfo
1 2 3 4 5 6 7 8 9 10 11 12 13 14 # æ€»æ ¸æ•° = ç‰©ç†CPUä¸ªæ•° X æ¯é¢—ç‰©ç†CPUçš„æ ¸æ•° # æ€»é€»è¾‘CPUæ•° = ç‰©ç†CPUä¸ªæ•° X æ¯é¢—ç‰©ç†CPUçš„æ ¸æ•° X è¶…çº¿ç¨‹æ•° # æŸ¥çœ‹ç‰©ç†CPUä¸ªæ•° cat /proc/cpuinfo| grep &amp;#34;physical id&amp;#34;| sort| uniq| wc -l # æŸ¥çœ‹æ¯ä¸ªç‰©ç†CPUä¸­coreçš„ä¸ªæ•°(å³æ ¸æ•°) cat /proc/cpuinfo| grep &amp;#34;cpu cores&amp;#34;| uniq # æŸ¥çœ‹é€»è¾‘CPUçš„ä¸ªæ•° cat /proc/cpuinfo| grep &amp;#34;processor&amp;#34;| wc -l # æŸ¥çœ‹CPUä¿¡æ¯ï¼ˆå‹å·ï¼‰ cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c æŸ¥çœ‹ mem ä¿¡æ¯ï¼š cat /proc/meminfo</description></item><item><title/><link>https://www.ryken.cloud/%E7%BB%84%E7%BD%91.excalidraw/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E7%BB%84%E7%BD%91.excalidraw/</guid><description>==âš  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš ==
Text Elements 45.120.216.46 ^ZNmnY1tc
192.168.0.1 ^8cHK23kk</description></item><item><title/><link>https://www.ryken.cloud/%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8/</guid><description>#kubernetes #tools
å®‰è£… bash-completion åº”ç”¨ kubectl çš„ completion 1 2 source &amp;lt;(kubectl completion bash) echo &amp;#34;source &amp;lt;(kubectl completion bash)&amp;#34; &amp;gt;&amp;gt; ~/.</description></item><item><title/><link>https://www.ryken.cloud/%E9%80%9A%E4%BF%A1%E5%8E%9F%E7%90%86/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E9%80%9A%E4%BF%A1%E5%8E%9F%E7%90%86/</guid><description>#kube-ovn
kube-ovn å®ç°è·¨ä¸»æœºé€šä¿¡çš„åŸç† åœ¨ æ³°å±±æœåŠ¡å™¨ã€åä¸ºé²²é¹920cpu çš„ arm
kubectl ko å‘½ä»¤ä¸èµ·ä½œç”¨ è„šæœ¬ä¼šæ ¹æ® pod ä½¿ç”¨çš„é•œåƒæ¥ç­›é€‰å‡ºå¯¹åº”çš„ pod ç„¶åæ‰§è¡Œå¯¹åº”çš„å‘½ä»¤ï¼Œå› æ­¤å½“å‘½ä»¤æ— æ³•ä½¿ç”¨æ—¶ï¼Œå°è¯•ä¿®æ”¹ä¸€ä¸‹è„šæœ¬ä¸­çš„ REGISTRY
ç»„ä»¶</description></item><item><title/><link>https://www.ryken.cloud/%E9%85%8D%E7%BD%AE-TOR/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E9%85%8D%E7%BD%AE-TOR/</guid><description>#calico #tor
é…ç½®å…¶ä»–èŠ‚ç‚¹è¿æ¥åˆ° RR èŠ‚ç‚¹ 1 2 3 4 5 6 7 apiVersion:projectcalico.org/v3kind:BGPPeermetadata:name:testspec:nodeSelector:all()peerSelector:has(routeReflector) ç¦æ­¢ BGP FullMesh 1 2 3 4 5 6 7 8 apiVersion:projectcalico.</description></item><item><title/><link>https://www.ryken.cloud/%E9%97%AE%E9%A2%98/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/%E9%97%AE%E9%A2%98/</guid><description>ä¸ºä»€ä¹ˆå¼•å…¥ç½‘å¡å¤šé˜Ÿåˆ—ã€‚å¼•å…¥ç½‘å¡å¤šé˜Ÿåˆ—è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Œå¸¦æ¥äº†ä»€ä¹ˆå…¶ä»–é—®é¢˜ é˜Ÿåˆ—ç»‘æ ¸ æ•´ä¸ªæ”¶/å‘åŒ…çš„æµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„ 1.ç½‘å¡å¤šé˜Ÿåˆ— &amp;ndash; æ”¶åŒ…å¤šé˜Ÿåˆ— +å‘åŒ…å¤šé˜Ÿåˆ— é€šå¸¸æƒ…å†µä¸‹, æ¯å¼ ç½‘å¡æœ‰ä¸€ä¸ªé˜Ÿåˆ—(queue), æ‰€æœ‰æ”¶åˆ°çš„åŒ…ä»è¿™ä¸ªé˜Ÿåˆ—å…¥, å†…æ ¸ä»è¿™ä¸ªé˜Ÿåˆ—é‡Œå–æ•°æ®å¤„ç†. è¯¥é˜Ÿåˆ—å…¶å®æ˜¯ring buffer(ç¯å½¢é˜Ÿåˆ—), å†…æ ¸å¦‚æœå–æ•°æ®ä¸åŠæ—¶, åˆ™ä¼šå­˜åœ¨ä¸¢åŒ…çš„æƒ…å†µ.
ä¸€ä¸ªCPUå¤„ç†ä¸€ä¸ªé˜Ÿåˆ—çš„æ•°æ®, è¿™ä¸ªå«ä¸­æ–­. é»˜è®¤æ˜¯cpu0(ç¬¬ä¸€ä¸ªCPU)å¤„ç†. ä¸€æ—¦æµé‡ç‰¹åˆ«å¤§, è¿™ä¸ªCPUè´Ÿè½½å¾ˆé«˜, æ€§èƒ½å­˜åœ¨ç“¶é¢ˆ.</description></item><item><title>ipset</title><link>https://www.ryken.cloud/ipset/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/ipset/</guid><description>iptablesä¸­ä½¿ç”¨ipset åœ¨iptablesä¸­ä½¿ç”¨ipsetï¼Œåªè¦åŠ ä¸Š-m set &amp;ndash;match-setå³å¯
ç›®çš„ipä½¿ç”¨ipsetï¼ˆipseté›†åˆä¸ºbbbï¼‰ iptables -I INPUT -s 192.168.100.36 -m set --match-set bbb dst -j DROP
æºipä½¿ç”¨ipsetï¼ˆipseté›†åˆä¸ºaaaï¼‰ iptables -I INPUT -m set --match-set aaa src -d 192.</description></item><item><title>iptables åŒ¹é…æ¡ä»¶</title><link>https://www.ryken.cloud/iptables-%E5%8C%B9%E9%85%8D%E6%9D%A1%E4%BB%B6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/iptables-%E5%8C%B9%E9%85%8D%E6%9D%A1%E4%BB%B6/</guid><description>å½“è§„åˆ™ä¸­åŒæ—¶å­˜åœ¨å¤šä¸ªåŒ¹é…æ¡ä»¶æ—¶ï¼Œå¤šä¸ªæ¡ä»¶ä¹‹é—´é»˜è®¤å­˜åœ¨â€ä¸â€çš„å…³ç³»ï¼Œå³æŠ¥æ–‡å¿…é¡»åŒæ—¶æ»¡è¶³æ‰€æœ‰æ¡ä»¶ï¼Œæ‰èƒ½è¢«è§„åˆ™åŒ¹é…ã€‚
åŸºæœ¬åŒ¹é…æ¡ä»¶ -sç”¨äºåŒ¹é…æŠ¥æ–‡çš„æºåœ°å€,å¯ä»¥åŒæ—¶æŒ‡å®šå¤šä¸ªæºåœ°å€ï¼Œæ¯ä¸ªIPä¹‹é—´ç”¨é€—å·éš”å¼€ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸ºä¸€ä¸ªç½‘æ®µã€‚ 1 2 3 iptables -t filter -I INPUT -s 192.168.1.111,192.168.1.118 -j DROP iptables -t filter -I INPUT -s 192.</description></item><item><title>iptables åŸç†</title><link>https://www.ryken.cloud/iptables-%E5%8E%9F%E7%90%86/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/iptables-%E5%8E%9F%E7%90%86/</guid><description>åœ¨é’äº‘ç¯å¢ƒä¸‹è¿›è¡Œæµ‹è¯•openelbæ—¶å‘ç°äº†è¯¥é—®é¢˜ï¼Œä½†æ˜¯å¯èƒ½å…¶ä»–ç¯å¢ƒä¹Ÿå­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œ**é›†ç¾¤ä¸­æŸä¸€ä¸ªèŠ‚ç‚¹æ— æ³•å‘é€å’Œæ¥æ”¶udpåŒ…ï¼Œ**ç”±äºé›†ç¾¤ä¸­æ‰€ä½¿ç”¨çš„cniæ’ä»¶flannelé»˜è®¤ä¸ºvxlanæ¨¡å¼ï¼Œvxlanä½¿ç”¨äº†overlayçš„udpdå°è£…ï¼Œå› æ­¤å¯¼è‡´ä¸€ä¸ªèŠ‚ç‚¹æ— æ³•ä¸é›†ç¾¤ä¸­å…¶ä»–èŠ‚ç‚¹é€šä¿¡ä½†æ˜¯å¯ä»¥é€šè¿‡å…¶ä»–çš„tcpã€httpè¿æ¥é€šä¿¡ã€‚
åœ¨æ’æŸ¥è¿‡ç¨‹ä¸­æ€€ç–‘ï¼Œiptablesè¢«ä¿®æ”¹äº†ï¼Œè¿‡æ»¤äº†udpçš„åè®®åŒ…ï¼Œå› æ­¤ä½¿ç”¨iptablesè¿›è¡Œäº†æ’æŸ¥ï¼Œé‡æ–°çœ‹äº†ä¸€ä¸‹iptables
å„ä¸ªè¡¨çš„åŠŸèƒ½å¦‚ä¸‹
filterè¡¨ï¼šè´Ÿè´£è¿‡æ»¤åŠŸèƒ½ï¼Œé˜²ç«å¢™ï¼›å†…æ ¸æ¨¡å—ï¼šiptables_filter natè¡¨ï¼šnetwork address translationï¼Œç½‘ç»œåœ°å€è½¬æ¢åŠŸèƒ½ï¼›å†…æ ¸æ¨¡å—ï¼šiptable_nat mangleè¡¨ï¼šæ‹†è§£æŠ¥æ–‡ï¼Œåšå‡ºä¿®æ”¹ï¼Œå¹¶é‡æ–°å°è£… çš„åŠŸèƒ½ï¼›iptable_mangle rawè¡¨ï¼šå…³é—­natè¡¨ä¸Šå¯ç”¨çš„è¿æ¥è¿½è¸ªæœºåˆ¶ï¼›iptable_raw æŒ‰é“ç†è¿™é‡Œåªæ¶‰åŠåˆ°filterè¡¨ï¼Œfilterè¡¨åœ¨æ•°æ®æµå…¥æ—¶ï¼Œåªä¼šç»è¿‡INPUTé“¾ï¼ŒæŸ¥çœ‹è§„åˆ™
1 2 3 4 5 6 7 8 9 10 11 12 13 root@i-vszzg2k0:~ iptables --line-number -nvL INPUT -t filter Chain INPUT (policy ACCEPT 12966 packets, 3234K bytes) num pkts bytes target prot opt in out source destination 1 200K 151M KUBE-NODEPORTS all -- * * 0.</description></item><item><title>iptables å‘½ä»¤å¢åˆ æ”¹æŸ¥</title><link>https://www.ryken.cloud/iptables-%E5%91%BD%E4%BB%A4%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/iptables-%E5%91%BD%E4%BB%A4%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/</guid><description>iptablesé¢„å®šäº†4å¼ è¡¨ï¼Œåˆ†åˆ«æ˜¯rawè¡¨ã€mangleè¡¨ã€natè¡¨ã€filterè¡¨ï¼Œä¸åŒçš„è¡¨æ‹¥æœ‰ä¸åŒçš„åŠŸèƒ½ã€‚ filterè´Ÿè´£è¿‡æ»¤åŠŸèƒ½ï¼Œæ¯”å¦‚å…è®¸å“ªäº›IPåœ°å€è®¿é—®ï¼Œæ‹’ç»å“ªäº›IPåœ°å€è®¿é—®ï¼Œå…è®¸è®¿é—®å“ªäº›ç«¯å£ï¼Œç¦æ­¢è®¿é—®å“ªäº›ç«¯å£ï¼Œfilterè¡¨ä¼šæ ¹æ®æˆ‘ä»¬å®šä¹‰çš„è§„åˆ™è¿›è¡Œè¿‡æ»¤ï¼Œfilterè¡¨åº”è¯¥æ˜¯æœ€å¸¸ç”¨åˆ°çš„è¡¨äº†ã€‚
iptableæŸ¥çœ‹å‘½ä»¤ iptables -Lï¼šæ˜¾ç¤ºæ‰€æœ‰çš„è§„åˆ™ï¼ˆé»˜è®¤ä¸ºfilterè¡¨ï¼‰ ç»¿è‰²æ ‡æ³¨çš„è§„åˆ™æ˜¯Centos6å¯åŠ¨iptablesä»¥åé»˜è®¤è®¾ç½®çš„è§„åˆ™ï¼Œè“è‰²æ ‡æ³¨éƒ¨åˆ†ä¸ºé“¾ï¼ŒINPUTé“¾ã€FORWARDé“¾ã€OUTPUTé“¾ï¼Œæ¯æ¡é“¾ä¸­éƒ½æœ‰è‡ªå·±çš„è§„åˆ™ã€‚
iptables -t nat -Lï¼šæ˜¾ç¤ºnatè¡¨ä¸­çš„æ‰€æœ‰è§„åˆ™ï¼ˆä½¿ç”¨-t é€‰å®šè¡¨ï¼‰
iptables -t filter -L INPUTï¼šæ˜¾ç¤ºfilterè¡¨ä¸­çš„æ‰€æœ‰INPUTè§„åˆ™
1 2 3 4 5 6 7 8 9 10 root@ubuntu:/home/mind/Program/test# iptables -t filter -L INPUT Chain INPUT (policy ACCEPT) target prot opt source destination ACCEPT all -- anywhere anywhere ACCEPT all -- anywhere anywhere state RELATED,ESTABLISHED ACCEPT tcp -- anywhere anywhere tcp dpt:ssh ACCEPT tcp -- anywhere anywhere tcp dpt:http ACCEPT tcp -- anywhere anywhere tcp dpt:https DROP tcp -- anywhere anywhere tcp dpt:mysql ACCEPT icmp -- anywhere anywhere icmp echo-request iptables -t filter -vL INPUTï¼šåŠ ä¸Š-v æ˜¾ç¤ºæ›´è¯¦ç»†çš„ä¿¡æ¯</description></item><item><title>iptables è½¯ä»¶é˜²ç«å¢™</title><link>https://www.ryken.cloud/iptables-%E8%BD%AF%E4%BB%B6%E9%98%B2%E7%81%AB%E5%A2%99/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/iptables-%E8%BD%AF%E4%BB%B6%E9%98%B2%E7%81%AB%E5%A2%99/</guid><description>iptablesåŸºç¡€ iptablesä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œä½äºç”¨æˆ·ç©ºé—´ï¼Œç”¨è¿™ä¸ªå·¥å…·æ“ä½œé˜²ç«å¢™çœŸæ­£çš„å®‰å…¨æ¡†æ¶netfilterã€‚ ç”¨æˆ·é€šè¿‡iptablesè¿™ä¸ªä»£ç†ï¼Œå°†ç”¨æˆ·çš„å®‰å…¨è®¾å®šæ‰§è¡Œåˆ°netfilterä¸­
netfilteræ˜¯linuxå¹³å°ä¸‹çš„åŒ…è¿‡æ»¤é˜²ç«å¢™ï¼Œå®Œæˆå°åŒ…è¿‡æ»¤ã€å°åŒ…é‡å®šå‘å’Œç½‘ç»œåœ°å€è½¬æ¢ï¼ˆNATï¼‰ç­‰åŠŸèƒ½ã€‚
ç”¨æˆ·ä½¿ç”¨iptableså‘½ä»¤æ·»åŠ ã€ä¿®æ”¹å’Œåˆ é™¤å¯¹åº”çš„è§„åˆ™ï¼ŒiptablesæŒ‰ç…§è¿™äº›è§„åˆ™å»æ‰§è¡Œå¯¹åº”çš„æ“ä½œã€‚è§„åˆ™å‚¨å­˜åœ¨å†…æ ¸ç©ºé—´çš„ä¿¡æ¯åŒ…è¿‡æ»¤è¡¨ä¸­ï¼Œè§„åˆ™æŒ‡å®šäº†æºåœ°å€ã€ç›®çš„åœ°å€ã€ä¼ è¾“åè®®ï¼ˆå¦‚TCPã€UDPã€ICMPï¼‰å’ŒæœåŠ¡ç±»å‹ï¼ˆå¦‚HTTPã€FTPå’ŒSMTPï¼‰ç­‰ä»¥åŠiptableå¯¹äºè¿™äº›è§„åˆ™çš„å¤„ç†ç­–ç•¥ï¼ˆå¦‚æ”¾è¡Œacceptã€æ‹’ç»rejectå’Œä¸¢å¼ƒdropï¼‰ã€‚
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 root@ubuntu:/home/mind/Program/test# iptables -t nat -nL Chain PREROUTING (policy ACCEPT) target prot opt source destination DOCKER all -- 0.</description></item><item><title>IPTablesè´Ÿè½½å‡è¡¡</title><link>https://www.ryken.cloud/iptables%E5%92%8Cipvs%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://www.ryken.cloud/iptables%E5%92%8Cipvs%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/</guid><description>IPTablesè´Ÿè½½å‡è¡¡ ç¯å¢ƒå‡†å¤‡ï¼Œå‡†å¤‡nginxé•œåƒï¼Œä¸€ä¸ªä¸ºæ­£å¸¸è®¿é—®çš„æ¬¢è¿ç•Œé¢ï¼Œä¸€ä¸ªä¿®æ”¹ä¸ºå…¶ä»–çš„ç•Œé¢ï¼Œæ­¤å¤„æˆ‘ä¿®æ”¹ä¸ºäº†50x.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 root@orange:~# docker run --rm -d --privileged=true nginx-test:1.</description></item></channel></rss>