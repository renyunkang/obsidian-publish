{"/":{"title":"AboutTheGarden","content":"helloğŸ‘‹ï¼Œæˆ‘æ˜¯ryken\n\n- [[CloudNative]]\n- [[FrequentlyUsed]]\n- [[Network]]\n- [[otherTools]]\n\n\n","lastmodified":"2023-04-18T15:06:06.090796333Z","tags":null},"/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9B%B8%E5%85%B3":{"title":"","content":"#containerlab #äº¤æ¢æœº \n\nNokia SR Linux\n```\n# access CLI \ndocker exec -it \u003cname\u003e sr_cli\n\n# access bash\ndocker exec -it \u003cname\u003e bash\n```\n\n\nArista cEOS\n```\n# access CLI\ndocker exec -it \u003cname\u003e Cli\n\n# access bash\ndocker exec -it \u003cname\u003e bash\n```\n\n\n[Single SR Linux node - containerlab](https://containerlab.dev/lab-examples/single-srl/)\n\n[Get Started - Learn SR Linux](https://learn.srlinux.dev/get-started/#__tabbed_1_2)\nhttps://yang.srlinux.dev/v21.11.3/tree.txt\n\ngnmic\n[gNMIc (openconfig.net)](https://gnmic.openconfig.net/)","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/%E4%BD%BF%E7%94%A8-containerlab-+-kind-%E6%90%AD%E5%BB%BA-calico-tor":{"title":"","content":"#containerlab #calico #kind #bgp \n\n#### 1. ä½¿ç”¨ kind åˆ›å»º node èŠ‚ç‚¹\n```yaml\nkind: Cluster\nname: cluster\napiVersion: kind.x-k8s.io/v1alpha4\nnodes:\n- role: control-plane\n  kubeadmConfigPatches:\n  - |\n    kind: InitConfiguration\n    nodeRegistration:\n      kubeletExtraArgs:\n        node-ip: 10.1.5.11 # èŠ‚ç‚¹ IP\n        node-labels: \"rack=rack1\" # èŠ‚ç‚¹æ ‡ç­¾\n  image: kindest/node:v1.24.7@sha256:577c630ce8e509131eab1aea12c022190978dd2f745aac5eb1fe65c0807eb315\n  extraPortMappings:\n  - containerPort: 30880\n    hostPort: 30880\n    listenAddress: \"0.0.0.0\" # Optional, defaults to \"0.0.0.0\"\n    protocol: tcp # Optional, defaults to tcp\n  - containerPort: 30881\n    hostPort: 30881\n    listenAddress: \"0.0.0.0\" # Optional, defaults to \"0.0.0.0\"\n    protocol: tcp # Optional, defaults to tcp\n- role: worker\n  kubeadmConfigPatches:\n  - |\n    kind: JoinConfiguration\n    nodeRegistration:\n      kubeletExtraArgs:\n        node-ip: 10.1.5.12 # èŠ‚ç‚¹ IP\n        node-labels: \"rack=rack1\" # èŠ‚ç‚¹æ ‡ç­¾\n  image: kindest/node:v1.24.7@sha256:577c630ce8e509131eab1aea12c022190978dd2f745aac5eb1fe65c0807eb315\n- role: worker\n  kubeadmConfigPatches:\n  - |\n    kind: JoinConfiguration\n    nodeRegistration:\n      kubeletExtraArgs:\n        node-ip: 10.1.8.13 # èŠ‚ç‚¹ IP\n        node-labels: \"rack=rack2\" # èŠ‚ç‚¹æ ‡ç­¾\n  image: kindest/node:v1.24.7@sha256:577c630ce8e509131eab1aea12c022190978dd2f745aac5eb1fe65c0807eb315\n- role: worker\n  kubeadmConfigPatches:\n  - |\n    kind: JoinConfiguration\n    nodeRegistration:\n      kubeletExtraArgs:\n        node-ip: 10.1.8.14 # èŠ‚ç‚¹ IP\n        node-labels: \"rack=rack2\" # èŠ‚ç‚¹æ ‡ç­¾\n  image: kindest/node:v1.24.7@sha256:577c630ce8e509131eab1aea12c022190978dd2f745aac5eb1fe65c0807eb315\nnetworking:\n  disableDefaultCNI: true\n  podSubnet: 10.233.64.0/18\n  serviceSubnet: 10.233.0.0/18\n```\n`kind create cluster --config cluster.yaml`\n\n#### 2. åˆ›å»ºæ‹“æ‰‘\nç½‘ç»œæ‹“æ‰‘å›¾ï¼š\n![upgit_20230320_1679292214.png](https://images.ryken.cloud/2023/03/upgit_20230320_1679292214.png)\n\n```yaml\nname: bgp\ntopology:\n  nodes:\n    spine1:\n      kind: linux\n      image: rykren/vyos:1.4\n      cmd: /sbin/init\n      binds:\n        - /lib/modules:/lib/modules\n\n    spine2:\n      kind: linux\n      image: rykren/vyos:1.4\n      cmd: /sbin/init\n      binds:\n        - /lib/modules:/lib/modules\n\n    leaf1:\n      kind: linux\n      image: rykren/vyos:1.4\n      cmd: /sbin/init\n      binds:\n        - /lib/modules:/lib/modules\n\n    leaf2: \n      kind: linux\n      image: rykren/vyos:1.4\n      cmd: /sbin/init\n      binds:\n        - /lib/modules:/lib/modules\n\n\n    server1:\n      kind: linux\n      image: rykren/nettools:latest\n      network-mode: container:cluster-control-plane\n      exec:\n      - ip addr add 10.1.5.11/24 dev net0\n      - ip route replace default via 10.1.5.1\n    server2:\n      kind: linux\n      image: rykren/nettools:latest\n      network-mode: container:cluster-worker\n      exec:\n      - ip addr add 10.1.5.12/24 dev net0\n      - ip route replace default via 10.1.5.1\n\n    server3:\n      kind: linux\n      image: rykren/nettools:latest\n      network-mode: container:cluster-worker2\n      exec:\n      - ip addr add 10.1.8.13/24 dev net0\n      - ip route replace default via 10.1.8.1\n\n    server4:\n      kind: linux\n      image: rykren/nettools:latest\n      network-mode: container:cluster-worker3\n      exec:\n      - ip addr add 10.1.8.14/24 dev net0\n      - ip route replace default via 10.1.8.1\n\n  links:\n  - endpoints: [\"leaf1:eth1\", \"spine1:eth1\"]\n  - endpoints: [\"leaf1:eth2\", \"spine2:eth1\"]\n  - endpoints: [\"leaf1:eth3\", \"server1:net0\"]\n  - endpoints: [\"leaf1:eth4\", \"server2:net0\"]\n\n  - endpoints: [\"leaf2:eth1\", \"spine1:eth2\"]\n  - endpoints: [\"leaf2:eth2\", \"spine2:eth2\"]\n  - endpoints: [\"leaf2:eth3\", \"server3:net0\"]\n  - endpoints: [\"leaf2:eth4\", \"server4:net0\"]\n```\n`clab deploy -t spine-leaf.yaml`\n\n#### 3. å®‰è£…calico  + calicoctl\n- `wget https://projectcalico.docs.tigera.io/archive/v3.23/manifests/calico.yaml`\n- `wget https://github.com/projectcalico/calico/releases/download/v3.24.5/calicoctl-linux-amd64`\n- ä¿®æ”¹ `CALICO_IPV4POOL_CIDR` ä¸º 10.233.64.0/18\n- `kubectl apply -f calico.yaml`\n\n#### 4. é…ç½®äº¤æ¢æœº\n```\n# spine1\nset interfaces ethernet eth0 address '172.20.20.2/24'\nset interfaces ethernet eth0 description public\nset protocols static route 0.0.0.0/0 next-hop 172.20.20.1 distance 1\nset nat source rule 100 outbound-interface 'eth0'\nset nat source rule 100 source address '10.1.0.0/16'\nset nat source rule 100 translation address 'masquerade'\n\nset interfaces ethernet eth1 address '10.1.10.2/24'\nset interfaces ethernet eth2 address '10.1.34.2/24'\nset protocols bgp parameters router-id '10.1.10.2'\nset protocols bgp local-as 500 \nset protocols bgp neighbor 10.1.10.1 remote-as '65005'\nset protocols bgp neighbor 10.1.34.1 remote-as '65008'\n\n\n# spine2\nset interfaces ethernet eth0 address '172.20.20.6/24'\nset interfaces ethernet eth0 description public\nset protocols static route 0.0.0.0/0 next-hop 172.20.20.1 distance 1\nset nat source rule 100 outbound-interface 'eth0'\nset nat source rule 100 source address '10.1.0.0/16'\nset nat source rule 100 translation address 'masquerade'\n\nset interfaces ethernet eth1 address '10.1.12.2/24'\nset interfaces ethernet eth2 address '10.1.11.2/24'\nset protocols bgp parameters router-id '10.1.12.2'\nset protocols bgp local-as 800 \nset protocols bgp neighbor 10.1.11.1 remote-as '65008'\nset protocols bgp neighbor 10.1.12.1 remote-as '65005'\n\n\n# leaf-1\nset interfaces bridge br0 address '10.1.5.1/24'\nset interfaces bridge br0 description 'leaf1-br'\nset interfaces bridge br0 member interface eth3\nset interfaces bridge br0 member interface eth4\n\nset protocols static route 10.1.34.0/24 next-hop 10.1.10.2\nset protocols static route 10.1.11.0/24 next-hop 10.1.12.2\nset protocols static route 0.0.0.0/0 next-hop 10.1.10.2\nset protocols static route 0.0.0.0/0 next-hop 10.1.12.2\n\nset interfaces ethernet eth1 address '10.1.10.1/24'\nset interfaces ethernet eth2 address '10.1.12.1/24'\nset protocols bgp local-as 65005\nset protocols bgp address-family ipv4-unicast network 10.1.5.0/24\nset protocols bgp neighbor 10.1.5.11 address-family ipv4-unicast route-reflector-client\nset protocols bgp neighbor 10.1.5.11 remote-as '65005'\nset protocols bgp neighbor 10.1.5.12 address-family ipv4-unicast route-reflector-client\nset protocols bgp neighbor 10.1.5.12 remote-as '65005'\nset protocols bgp neighbor 10.1.10.2 remote-as '500'\nset protocols bgp neighbor 10.1.12.2 remote-as '800'\nset protocols bgp parameters bestpath as-path multipath-relax\nset protocols bgp parameters router-id '10.1.5.1'\n\n\n# leaf2\nset interfaces bridge br0 address '10.1.8.1/24'\nset interfaces bridge br0 description 'leaf2-br'\nset interfaces bridge br0 member interface eth3\nset interfaces bridge br0 member interface eth4\n\nset protocols static route 10.1.10.0/24 next-hop 10.1.34.2\nset protocols static route 10.1.12.0/24 next-hop 10.1.11.2\nset protocols static route 0.0.0.0/0 next-hop 10.1.34.2\nset protocols static route 0.0.0.0/0 next-hop 10.1.11.2\n\nset interfaces ethernet eth1 address '10.1.34.1/24'\nset interfaces ethernet eth2 address '10.1.11.1/24'\nset protocols bgp local-as 65008\nset protocols bgp address-family ipv4-unicast network 10.1.8.0/24\nset protocols bgp neighbor 10.1.8.13 address-family ipv4-unicast route-reflector-client\nset protocols bgp neighbor 10.1.8.13 remote-as '65008'\nset protocols bgp neighbor 10.1.8.14 address-family ipv4-unicast route-reflector-client\nset protocols bgp neighbor 10.1.8.14 remote-as '65008'\nset protocols bgp neighbor 10.1.11.2 remote-as '800'\nset protocols bgp neighbor 10.1.34.2 remote-as '500'\nset protocols bgp parameters bestpath as-path multipath-relax\nset protocols bgp parameters router-id '10.1.8.1'\n\n```\n\n\n\n#### 5. é…ç½® calico\n- é…ç½® bgppeer\n```yaml\napiVersion: projectcalico.org/v3\nkind: BGPPeer\nmetadata:\n  name: rack1-to-leaf1\nspec:\n  peerIP: 10.1.5.1\n  asNumber: 65005\n  nodeSelector: rack == 'rack1'\n---\napiVersion: projectcalico.org/v3\nkind: BGPPeer\nmetadata:\n  name: rack2-to-leaf2\nspec:\n  peerIP: 10.1.8.1\n  asNumber: 65008\n  nodeSelector: rack == 'rack2'\n```\n- å…³é—­ bgp full mesh\n```\napiVersion: projectcalico.org/v3\nkind: BGPConfiguration\nmetadata:\n  name: default\nspec:\n  logSeverityScreen: Info\n  nodeToNodeMeshEnabled: false\n```\n- ä¿®æ”¹èŠ‚ç‚¹çš„ ASNumber\n```\ncalicoctl get node -o yaml \u003e node-patch.yaml\nvim node-path.yaml\n// åœ¨ spec.bgp ä¸­æ·»åŠ  asNumber: 65008\ncalicoctl apply -f node-patch.yaml\n```\n- éƒ¨ç½²æ–°çš„ deploy\n```yaml\nkind: Deployment\napiVersion: apps/v1\nmetadata:\n  name: test\n  namespace: default\n  labels:\n    app: test\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: test\n  template:\n    metadata:\n      labels:\n        app: test\n    spec:\n      containers:\n        - name: container\n          image: rykren/whoami\n          imagePullPolicy: IfNotPresent\n      restartPolicy: Always\n```\n\n#### 6. alias å‘½ä»¤\n```\nalias clab='containerlab'\nalias knode1-exec='docker exec -it cluster-control-plane bash'\nalias knode2-exec='docker exec -it cluster-worker bash'\nalias knode3-exec='docker exec -it cluster-worker2 bash'\nalias knode4-exec='docker exec -it cluster-worker3 bash'\nalias node1-exec='docker exec -it clab-bgp-server1 bash'\nalias node2-exec='docker exec -it clab-bgp-server2 bash'\nalias node3-exec='docker exec -it clab-bgp-server3 bash'\nalias node4-exec='docker exec -it clab-bgp-server4 bash'\nalias spine1-exec='docker exec -it clab-bgp-spine1 bash'\nalias spine2-exec='docker exec -it clab-bgp-spine2 bash'\nalias leaf1-exec='docker exec -it clab-bgp-leaf1 bash'\nalias leaf2-exec='docker exec -it clab-bgp-leaf2 bash'\nalias vspine1-exec='docker exec -it clab-bgp-spine1 su vyos'\nalias vspine2-exec='docker exec -it clab-bgp-spine2 su vyos'\nalias vleaf1-exec='docker exec -it clab-bgp-leaf1 su vyos'\nalias vleaf2-exec='docker exec -it clab-bgp-leaf2 su vyos'\n```\n\nå…¶ä»–ï¼šå› ä¸ºé…ç½®äº† nat è½¬å‘ä¸èƒ½ç›´æ¥ ping åˆ°å†…ç½‘ä¸­çš„èŠ‚ç‚¹\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/%E4%BD%BF%E7%94%A8code-generator%E7%94%9F%E6%88%90crd%E7%9A%84clientsetinformerlisters":{"title":"","content":"#code-generator #informer #kubernetes  #kubebuilder\n\nå‚è€ƒé“¾æ¥ï¼š[ä½¿ç”¨code-generatorç”Ÿæˆcrdçš„clientsetã€informerã€listers - èµ¶è·¯äººçš„åšå®¢ (xieys.club)](https://xieys.club/code-generator-crd/)","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E5%85%AC%E6%9C%89%E4%BA%91":{"title":"","content":"https://cwiki.yunify.com/pages/viewpage.action?pageId=23659614\u0026src=contextnavpagetreemode\n\nhttps://cwiki.yunify.com/pages/viewpage.action?pageId=96318071\u0026src=contextnavpagetreemode\n\n\n[yunify/qingcloud-cloud-controller-manager: A kubernetes cloud-controller-manager for the qingcloud (github.com)](https://github.com/yunify/qingcloud-cloud-controller-manager)","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E5%86%85%E6%A0%B8%E5%8F%82%E6%95%B0":{"title":"","content":"![upgit_20230209_1675936379.png](https://images.ryken.cloud/2023/02/upgit_20230209_1675936379.png)\n\n![upgit_20230209_1675936414.png](https://images.ryken.cloud/2023/02/upgit_20230209_1675936414.png)\n\n\nipvs warn å…³é—­\nsysctl -w net.ipv4.vs.ignore_no_rs_error=1\n[IPVS no destination available - Kubernetes å®è·µæŒ‡å— (imroc.cc)](https://imroc.cc/kubernetes/troubleshooting/node/ipvs-no-destination-available.html)","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/%E5%86%85%E6%A0%B8%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0":{"title":"","content":"\n![upgit_20230110_1673315215.png](https://images.ryken.cloud/2023/01/upgit_20230110_1673315215.png)\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/%E5%89%96%E6%9E%90":{"title":"","content":"[Calico eBPF Data Plane Deep-Dive (tigera.io)](https://www.tigera.io/blog/calico-ebpf-data-plane-deep-dive/)\n\nnodeport æµé‡åˆ°æ¥ä¹‹åå¦‚ä½•å¤„ç†çš„\n\n\nhost ip update ï¼Ÿ\n\n\nkube-proxy ï¼š ç”¨äºå¤„ç†é«˜çº§çš„é—®é¢˜ï¼Œå¦‚é‡å¯ã€é…ç½®ç­‰\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E5%8F%8C%E6%A0%88":{"title":"","content":"\n#### kubekey å¼€å‘éœ€æ±‚\n- æ£€æµ‹ä¸»æœºæ˜¯å¦æ”¯æŒ ipv6\n- ä¿®æ­£ ipv6 ç›¸å…³çš„å†…æ ¸å‚æ•°\n- æ”¯æŒå¼€å¯ ipv6 ä»¥åŠ ipv6 çš„é…ç½®é¡¹ï¼ˆç¼–è¾‘ cni é…ç½®æ–‡ä»¶ï¼‰\n- å®‰è£… calico å¹¶å¼€å¯ ipv6 ï¼ˆæ·»åŠ  calico-node daemonset çš„ ipv6 ç›¸å…³çš„ç¯å¢ƒå˜é‡ï¼‰\n- é…ç½® ipv6 (æ·»åŠ é»˜è®¤çš„ ipv6 ippool)\n- åˆå§‹åŒ– kubernetes éœ€è¦å¼€å¯ ipv6 (ä½¿ç”¨ kubeadm é…ç½® kube-apiserverã€kube-controller-managerã€kube-proxyã€kubelet æ¥å¼€å¯ ipv6)\n\n#### ks å†…éƒ¨ç»„ä»¶å¼€å‘éœ€æ±‚\n**ks å†…éƒ¨ç»„ä»¶ ippool æ”¯æŒ ipv6**\n- æ”¯æŒåˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤ ipv6 ippool\n- è®¾å®š ipv6 ippool ä¸ä¼ä¸šç©ºé—´çš„ç»‘å®šå…³ç³»\n- æ”¯æŒåˆ›å»ºè´Ÿè½½æ—¶é€‰ä¸­ ipv6 çš„ ippool\n- æŸ¥çœ‹ ipv6 ippoolè¯¦æƒ…ã€åˆ†é…æƒ…å†µ\n\n**ks service æ”¯æŒ ipv6 çš„é…ç½®**\n- åˆ›å»ºæœåŠ¡æ—¶ï¼ŒæŒ‡å®šä½¿ç”¨çš„åè®®æ ˆ\n- æ”¯æŒæœåŠ¡åè®®æ ˆçš„åŠ¨æ€åˆ‡æ¢\n\n**ks ç½‘ç»œéš”ç¦» ipv6 æ”¯æŒ**\n**ks è‡ªèº«çš„ç»„ä»¶å’Œæ’ä»¶ ipv6 æ”¯æŒ**\n- devops\n- å¯è§‚æµ‹\n- å¾®æœåŠ¡\n- gateway\n- ... ...\n\n#### ks-installer ç»„ä»¶å¼€å‘éœ€æ±‚\n- æ·»åŠ  ks æ˜¯å¦å¯ç”¨ ipv6 ç›¸å…³çš„é…ç½®ï¼ˆé»˜è®¤ä¸å¯ç”¨ã€‚æ”¯æŒç”¨æˆ·çš„åŠ¨æ€ä¿®æ”¹ï¼Œåœç”¨ ipv6 æ—¶ï¼Œæ— æ³•åœ¨ ks é¡µé¢ä¸Šæ“ä½œå’Œç®¡ç† ipv6 ç›¸å…³ï¼Œä½†æ˜¯åº•å±‚çš„ kubernetes ipv6 ä»å¯ç”¨ï¼‰\n\n\n\n\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E5%90%AF%E5%8A%A8-startup":{"title":"å¯åŠ¨ startup","content":"\nstartup å¯åŠ¨æµç¨‹ï¼š\n- æ£€æµ‹ ip åœ°å€å’Œ bgp ä½¿ç”¨çš„ç½‘ç»œ\n- ä½¿ç”¨ç¯å¢ƒä¸­æä¾›çš„æˆ–è‡ªåŠ¨æ£€æµ‹åˆ°çš„ IP/AS ä¿¡æ¯é…ç½®èŠ‚ç‚¹èµ„æº\n- åˆ›å»ºé»˜è®¤çš„ ippool\n\n\n","lastmodified":"2023-04-18T15:06:06.090796332Z","tags":null},"/%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8":{"title":"","content":"#calico #cni #calicoctl\n\nå®˜ç½‘[About Calico (tigera.io)](https://projectcalico.docs.tigera.io/about/about-calico)\n# å®‰è£… calico\n\n\n# calicoctl\n\nä½¿ç”¨calicoctl å¯ä»¥ä½¿ç”¨calico çš„æ›´å¤šçš„åŠŸèƒ½ï¼Œcalicoctl ç”¨äºç®¡ç† Calico ç­–ç•¥å’Œé…ç½®ï¼Œä»¥åŠæŸ¥çœ‹è¯¦ç»†çš„é›†ç¾¤çŠ¶æ€ã€‚\n\n-   **API groups**\næ‰€æœ‰ Kubernetes èµ„æºéƒ½å±äºä¸€ä¸ª API ç»„ã€‚ API ç»„ç”±èµ„æºçš„ apiVersion æŒ‡å®šã€‚Calico ä½¿ç”¨ projectcalico.org/v3 API ç»„ä¸­çš„èµ„æºè¿›è¡Œé…ç½®ï¼Œoperator ä½¿ç”¨ operator.tigera.io/v1 API ç»„ä¸­çš„èµ„æºã€‚\n\n-   **calicoctl å’Œ kubectl**\nåº”è¯¥ä½¿ç”¨ calicoctl ç®¡ç† projectcalico.org/v3 ä¸­çš„èµ„æºï¼Œcalicoctl ä¸ºè¿™äº› kubectl ä¸­ä¸å¯ç”¨çš„èµ„æºæä¾›äº†éªŒè¯å’Œé»˜è®¤è®¾ç½®ã€‚åŒæ—¶æ–°çš„ç‰ˆæœ¬ä¸­å»ºè®®ä½¿ç”¨å®‰è£… calico api server å¹¶ä½¿ç”¨ kubectl æ¥ç®¡ç† calico projectcalico.org/v3 ä¸­çš„èµ„æºã€‚å¯¹äºopenstack ä»¥åŠä¸€äº› calicoctl ipam/node/convert/version å­å‘½ä»¤è¿˜æ˜¯éœ€è¦calicoctlã€‚\n\n-   **æ•°æ®å­˜å‚¨**\nCalico å¯¹è±¡å­˜å‚¨åœ¨ etcd æˆ– Kubernetes ä¸­ã€‚æ•°æ®å­˜å‚¨æ˜¯åœ¨å®‰è£… Calico æ—¶ç¡®å®šçš„ã€‚é€šå¸¸å¯¹äº Kubernetes å®‰è£…ï¼Œé»˜è®¤æ˜¯å­˜å‚¨åœ¨ Kubernetes ä¸­ã€‚\n\n## 1.  å®‰è£…\n\nå®‰è£…æ‰‹å†Œä¸­æœ‰4ç§å®‰è£…ä½¿ç”¨æ–¹æ³•ï¼Œå®‰è£… calicoctl æ—¶æœ€å¥½ä¸ calico çš„ç‰ˆæœ¬ä¸€è‡´ï¼š\n[https://projectcalico.docs.tigera.io/master/maintenance/clis/calicoctl/install](https://projectcalico.docs.tigera.io/master/maintenance/clis/calicoctl/install)\nï¼ˆå®‰è£…äºŒè¿›åˆ¶ã€å®‰è£…ä¸º kubectl æ’ä»¶ã€è¿è¡Œä¸ºä¸€ä¸ª containerã€è¿è¡Œä¸ºä¸€ä¸ª podï¼‰\n\n- å®‰è£…äºŒè¿›åˆ¶\n\trelease addressï¼š[https://github.com/projectcalico/calicoctl/releases](https://github.com/projectcalico/calicoctl/releases)ï¼šï¼šq\n- é…ç½®calicoctl\n\tå¤§å¤šæ•° calicoctl å‘½ä»¤éœ€è¦è®¿é—® Calico æ•°æ®å­˜å‚¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œcalicoctl ä¼šæ ¹æ®é»˜è®¤çš„ kubeconfig ä» Kubernetes API ä¸­è¯»å–æ•°æ®ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„é…ç½®æ–‡ä»¶ä¼šå»æ£€æŸ¥æ˜¯å¦æœ‰æŒ‡å®šçš„ç¯å¢ƒå˜é‡é›†ã€‚\n\t[https://projectcalico.docs.tigera.io/master/maintenance/clis/calicoctl/configure](https://projectcalico.docs.tigera.io/master/maintenance/clis/calicoctl/configure)\n```yaml\n# cat /etc/calico/calicoctl.cfg\napiVersion: projectcalico.org/v3\nkind: CalicoAPIConfig\nmetadata:\nspec:\n  datastoreType: \"kubernetes\"\n  kubeconfig: \"/etc/kubernetes/admin.conf\"\n  # datastoreType: \"etcdv3\"\n  # etcdEndpoints: \"http://etcd1:2379,http://etcd2:2379\"\n```\n\n## 2.  ä½¿ç”¨\n[https://projectcalico.docs.tigera.io/master/reference/calicoctl/overview](https://projectcalico.docs.tigera.io/master/reference/calicoctl/overview)\n- calicoctl get workloadendpoints --allow-version-mismatch\n- calicoctl get node -o wide --allow-version-mismatch\n- calicoctl get bgppeer\n- calicoctl node status\n\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E5%A4%9A%E7%BD%91%E5%8D%A1":{"title":"","content":"åˆ›å»º nad\n```yaml\ncat \u003c\u003cEOF | kubectl create -f -\napiVersion: \"k8s.cni.cncf.io/v1\"\nkind: NetworkAttachmentDefinition\nmetadata:\n  name: macvlan-conf\nspec:\n  config: '{\n      \"cniVersion\": \"0.3.0\",\n      \"type\": \"macvlan\",\n      \"master\": \"eth1\",\n      \"mode\": \"bridge\",\n      \"ipam\": {\n        \"type\": \"spiderpool\"\n      }\n    }'\nEOF\n```\n\nå®‰è£…\n```\nIPV4_SUBNET_YOU_EXPECT=\"172.30.10.0/24\"\nIPV4_IPRANGES_YOU_EXPECT=\"172.30.10.201-172.30.10.250\"\nhelm install spiderpool spiderpool/spiderpool --namespace kube-system \\\n  --set feature.enableIPv4=true \\\n  --set clusterDefaultPool.installIPv4IPPool=true \\\n  --set clusterDefaultPool.ipv4Subnet=${IPV4_SUBNET_YOU_EXPECT} \\\n  --set clusterDefaultPool.ipv4IPRanges={${IPV4_IPRANGES_YOU_EXPECT}}\n```\n\n\nåˆ›å»º ippool - é»˜è®¤ ippool\n```\napiVersion: spiderpool.spidernet.io/v1\nkind: SpiderIPPool\nmetadata:\n  name: custom-ipv4-ippool\nspec:\n  ipVersion: 4\n  subnet: 172.18.41.0/24\n  ips:\n  - 172.18.41.40-172.18.41.50\n```\n\n\ndaemonsetï¼šcni-agent\ndeploymentï¼šcni-controller-manager\njobï¼šcni-init\n\n\n\n\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E5%AE%98%E6%96%B9%E6%8F%90%E4%BE%9B%E6%8F%92%E4%BB%B6":{"title":"å®˜æ–¹æä¾›æ’ä»¶","content":"macvlan å››ç§æ¨¡å¼\n- vepa\n![image.png](https://images.ryken.cloud/2023/04/8a79de97a5bd4d2e11f802e73ad44f01.png)\n\n\n\n","lastmodified":"2023-04-18T15:06:06.090796332Z","tags":null},"/%E5%B7%A5%E5%85%B7%E5%88%97%E8%A1%A8":{"title":"","content":"#tool #linux #network \n\n- \n- å·¥å…·åŒ… [[å·¥å…·åŒ… - ä¸‹è½½å‘½ä»¤]]\n- ebpf ç›¸å…³ [[ebpf æ’æŸ¥å·¥å…·]]\n- iptables ç›¸å…³ [[iptables è½¬å‘]]\n- conntrack/netstats/ss/lsof [[conntrack]]\n- ç½‘å¡å¤šé˜Ÿåˆ—ã€ä¸­æ–­ç»‘å®š [[ç½‘å¡å¤šé˜Ÿåˆ— + ä¸­æ–­ç»‘å®š]]\n\n\n\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/%E5%B7%A5%E5%85%B7%E5%8C%85-%E4%B8%8B%E8%BD%BD%E5%91%BD%E4%BB%A4":{"title":"","content":"ç›¸å…³ç½‘ç»œå·¥å…·åŒ…ï¼š\n- pingåŒ…ï¼š`apt-get install inetutils-ping`\n- ifconfig/netstatï¼š`apt-get install net-tools`\n- ip å‘½ä»¤ï¼š`apt-get install iproute2`\n- æŠ“åŒ…ï¼š`sudo apt-get install wireshark` + `sudo usermod -a -G wireshark $USER`\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/%E5%B8%A6%E5%AE%BD%E9%99%90%E5%88%B6":{"title":"","content":"#bandwidth\n\n[CNI-bandwidth](https://www.cni.dev/plugins/current/meta/bandwidth/)\n\n```json\n{\n  \"cniVersion\": \"0.3.1\",\n  \"name\": \"mynet\",\n  \"plugins\": [\n    {\n      \"type\": \"ptp\",\n      \"ipMasq\": true,\n      \"mtu\": 512,\n      \"ipam\": {\n          \"type\": \"host-local\",\n          \"subnet\": \"10.0.0.0/24\"\n      },\n      \"dns\": {\n        \"nameservers\": [ \"10.1.0.1\" ]\n      }\n    },\n    {\n      \"name\": \"slowdown\",\n      \"type\": \"bandwidth\",\n      \"ingressRate\": 123,\n      \"ingressBurst\": 456,\n      \"egressRate\": 123,\n      \"egressBurst\": 456\n    }\n  ]\n}\n```\n\n[tc-tbf(8) - Linux manual page (man7.org)](https://man7.org/linux/man-pages/man8/tbf.8.html)\n| å­—æ®µ | è§£é‡Š |\n|--|--|\n| ingressRate | æµé‡å¯ä»¥è¿›å…¥ interface çš„é€Ÿç‡ bps | \n| ingressBurst | ä½¿ä»¤ç‰Œç«‹å³å¯ç”¨çš„æœ€å¤§æœ€å¤§æ¯”ç‰¹æ•° | \n| egressRate | æµé‡å¯ä»¥ç¦»å¼€æ¥å£çš„é€Ÿç‡ bps |\n| egressBurst | ä½¿ä»¤ç‰Œç«‹å³å¯ç”¨çš„æœ€å¤§æ¯”ç‰¹æ•° | \n\nå¿…é¡»åŒæ—¶è®¾ç½® ingressRate å’Œ ingressBurst ä»¥é™åˆ¶å…¥å£å¸¦å®½","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/%E5%BC%80%E6%9C%BA%E8%87%AA%E5%90%AF":{"title":"","content":"#å¼€æœºè‡ªå¯ #linux \n\næœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ rc.local å®ç°å¼€æœºè‡ªå¯ï¼Œä¸è¿‡ç”±äºç³»ç»Ÿç‰ˆæœ¬æ›´æ›¿ï¼Œå¾ˆå¤šæ–°ç‰ˆæœ¬éƒ½æ²¡æœ‰ rc.local æ–‡ä»¶äº†ï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½®\n![upgit_20221122_1669101206.png](https://images.ryken.cloud/2022/11/upgit_20221122_1669101206.png)\n\n![upgit_20221122_1669101380.png](https://images.ryken.cloud/2022/11/upgit_20221122_1669101380.png)\n\næ·»åŠ  /etc/rc.local æ–‡ä»¶\n```bash\ncat \u003c\u003cEOF \u003e/etc/rc.local\n#!/bin/sh -e\n#\n# rc.local\n#\n# This script is executed at the end of each multiuser runlevel.\n# Make sure that the script will \"exit 0\" on success or any other\n# value on error.\n#\n# In order to enable or disable this script just change the execution\n# bits.\n#\n# By default this script does nothing.\n\nexit 0\nEOF\n```\n\n```bash\nchmod +x /etc/rc.local\nsystemctl enable rc-local\nsystemctl start rc-local.service\nsystemctl status rc-local.service\n```\n\n![upgit_20221122_1669101580.png](https://images.ryken.cloud/2022/11/upgit_20221122_1669101580.png)\n\næŒ‡å®šæ‰§è¡Œçš„å‘½ä»¤æ”¾åœ¨ **exit 0Â å‰é¢** æ‰è¡Œã€‚","lastmodified":"2023-04-18T15:06:05.590791632Z","tags":null},"/%E6%89%8B%E5%8A%A8%E5%88%9B%E5%BB%BA-netns-+-%E8%B7%A8%E4%B8%BB%E6%9C%BA%E9%80%9A%E4%BF%A1":{"title":"","content":"#network  #netns \n\n1. ä½¿ç”¨ arp-proxyï¼Œå¹¶åœ¨ä¸»æœºä¸Šæ·»åŠ å¯¹åº”çš„è·¯ç”±è”é€š\n```bash\n# echo 1 \u003e /proc/sys/net/ipv4/ip_forward\necho 'net.ipv4.ip_forward = 1' \u003e\u003e /etc/sysctl.conf\nsysctl -p\n\nip netns add ns0\nip link add name veth02 type veth peer name port02\nip link set dev veth02 netns ns0\nip netns exec ns0 ip link set veth02 up\nip netns exec ns0 ip link set lo up\nip netns exec ns0 ip addr add 10.233.92.200/24 dev veth02\nip link set port02 up\nip netns exec ns0 ip route add 169.254.1.1 dev  veth02 scope link \nip netns exec ns0 ip route add default via 169.254.1.1 dev veth02\necho 1 \u003e /proc/sys/net/ipv4/conf/port02/proxy_arp\nip route add 10.233.92.200 dev port02 scope link\nip route add 10.233.128.3 via 172.31.73.13\n# iptables -t nat -A POSTROUTING -s 10.233.128.2/32 -j MASQUERADE\n\nip netns add ns0\nip link add name veth02 type veth peer name port02\nip link set dev veth02 netns ns0\nip netns exec ns0 ip link set veth02 up\nip netns exec ns0 ip link set lo up\nip netns exec ns0 ip addr add 10.233.128.3/24 dev veth02\nip link set port02 up\nip netns exec ns0 ip route add 169.254.1.1 dev  veth02 scope link \nip netns exec ns0 ip route add default via 169.254.1.1 dev veth02\necho 1 \u003e /proc/sys/net/ipv4/conf/port02/proxy_arp\nip route add 10.233.128.2 via 172.31.73.12\nip route add 10.233.128.3 dev port02 scope link\n# iptables -t nat -A POSTROUTING -s 10.233.128.3/32 -j MASQUERADE\n\nip netns exec ns0 bash\n```\n\n2. å¸¦æœ‰ç½‘æ¡¥ - ä½¿ç”¨ç½‘æ¡¥ä½œä¸ºç½‘å…³ï¼Œéœ€è¦å¼€å¯ NAT è½¬æ¢ï¼Œä½†æ˜¯æ— éœ€å¼€å¯ arp-proxy\n```bash\n# å·¥å…·å‡†å¤‡\napt install bridge-utils\nmodprobe br_netfilter\necho 'net.ipv4.ip_forward = 1' \u003e\u003e /etc/sysctl.conf\nsysctl -p\n\n# è®¾å¤‡å‡†å¤‡\nbrctl addbr bridge0\n\nip netns add ns10\nip link add name veth10 type veth peer name port10\nip link set dev veth10 netns ns10\nip netns exec ns10 ip addr add 172.18.0.2/24 dev veth10\nip netns exec ns10 ip link set lo up\nip netns exec ns10 ip link set veth10 up\nip netns exec ns10 ip route add default via 172.18.0.1 dev veth10\n\nbrctl addif bridge0 port10\nip addr add 172.18.0.1/24 dev bridge0\nip link set bridge0 up\nip link set dev port10 up\nip route add 172.18.10.0/24 via 172.30.10.3\niptables -t nat -A POSTROUTING -s 172.18.0.0/24 ! -o bridge0 -j MASQUERADE\n\n===\nbrctl addbr bridge0\n\nip netns add ns10\nip link add name veth10 type veth peer name port10\nip link set dev veth10 netns ns10\nip netns exec ns10 ip addr add 172.18.10.2/24 dev veth10\nip netns exec ns10 ip link set lo up\nip netns exec ns10 ip link set veth10 up\nip netns exec ns10 ip route add default via 172.18.10.1 dev veth10\nbrctl addif bridge0 port10\n\nip addr add 172.18.10.1/24 dev bridge0\nip link set bridge0 up\nip link set dev port10 up\nip route add 172.18.0.0/24 via 172.30.10.2\niptables -t nat -A POSTROUTING -s 172.18.10.0/24 ! -o bridge0 -j MASQUERADE\n```\n\n\né‡åˆ°çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹æ³•ï¼š\n- ç›´æ¥ä½¿ç”¨ä»¥ä¸Šå‘½ä»¤å‘ç°ä¸é€šï¼Œnetwork namespace æ— æ³•ä¸å¤–ç•Œé€šä¿¡ï¼Œåªèƒ½ä¸æœ¬æœºé€šä¿¡\n- å®‰è£… docker ä¹‹åä»ç„¶ä¸è¡Œï¼Œä½¿ç”¨ kk å®‰è£…é›†ç¾¤ä¹‹åå¯è¡Œï¼Œå¹¶ä¸”å¸è½½é›†ç¾¤ä¹‹åä»ç„¶å¯è¡Œ\n\nç»“è®ºï¼škk åœ¨å®‰è£…æ—¶ä¿®æ”¹äº†éƒ¨åˆ†ç³»ç»Ÿå‚æ•°ï¼Œå…¶å®å°±æ˜¯å¯ç”¨äº† br_netfilterï¼Œå¹¶å¼€å¯äº† ipv4 çš„è½¬å‘\n```bash\n# æ²¡æœ‰å¯ç”¨  br_netfilter çš„æŠ¥é”™\nsysctl: cannot stat /proc/sys/net/bridge/bridge-nf-call-iptables: No such file or directory sysctl: cannot stat /proc/sys/net/bridge/bridge-nf-call-ip6tables: No such file or directory\n\n# è§£å†³æ–¹æ³•\nmodprobe br_netfilter  # è‡ªåŠ¨å¤„ç†å¯è½½å…¥æ¨¡å—\nsysctl -p /etc/sysctl.conf#\nsudo bash -c 'echo 1 \u003e /proc/sys/net/ipv4/ip_forward'\n\n# å…¶ä»–ç›¸å…³ - ç§»é™¤æ¨¡å—\nmodprobe -r æ¨¡å—å\n```\n\n\n### vxlan æ¨¡å¼\n```\nip netns add docker1\nip link add veth0 type veth peer name veth1\nip link set veth0 netns docker1\n\nbrctl addbr br0\nbrctl addif br0 veth1\nip netns exec docker1 ip addr add 172.18.0.2/24 dev veth0\nip netns exec docker1 ip route add default via 172.18.0.1 dev veth0\nip netns exec docker1 ip link set veth0 up\nip link set veth1 up\nip addr add 172.18.0.1/24 dev br0\nip link set br0 up\n\nip link add vxlan0 type vxlan \\\n    id 42 \\\n    dstport 4789 \\\n    local 172.30.10.3 \\\n    dev eth0 \\\n    nolearning\n\nip addr add 172.18.0.0/24 dev vxlan0\nip link set vxlan0 up\nip route add 172.18.0.0/24 dev vxlan0\n\nip neighbor add 10.244.2.3 lladdr 2e:0e:84:db:30:0e dev vxlan0 bridge fdb append 2e:0e:84:db:30:0e dev vxlan0 dst 172.19.216.118\n```\n\n\n```\nip link add vxlan0 type vxlan \\\n    id 42 \\\n    dstport 4789 \\\n    remote 172.30.10.4 \\\n    local 172.30.10.2 \\\n    dev eth0 \\\n    nolearning\nip addr add 10.20.1.2/24 dev vxlan0\nip link set vxlan0 up\n\n\nip link add vxlan0 type vxlan \\\n    id 42 \\\n    dstport 4789 \\\n    remote 172.30.10.2 \\\n    local 172.30.10.4 \\\n    dev eth0 \\\n    nolearning\nip addr add 10.20.1.3/24 dev vxlan0\nip link set vxlan0 up\n\n\nip link add vxlan0 type vxlan \\\n    id 42 \\\n    dstport 4789 \\\n    remote 15.58.3.30 \\\n    local 15.58.3.26 \\\n    dev vlan135p0 \\\n    nolearning\nip addr add 172.18.10.2/24 dev vxlan0\nip link set vxlan0 up\n\nip link add vxlan0 type vxlan \\\n    id 42 \\\n    dstport 4789 \\\n    remote 15.58.3.26 \\\n    local 15.58.3.30 \\\n    dev vlan135p0 \\\n    nolearning\nip addr add 172.18.10.3/24 dev vxlan0\nip link set vxlan0 up\n```\n\n```\nip link add vxlan0 type vxlan \\\n    id 42 \\\n    dstport 4789 \\\n    group 239.1.1.1 \\\n    local 172.30.10.3 \\\n    dev eth0 \nip addr add 10.128.1.0/24 dev vxlan0\nip link set vxlan0 up\nip route add 10.128.1.0/24 dev vxlan0\n\nip link add br0 type bridge\nip link set vxlan0 master br0\nip addr add 10.128.1.1/24 dev br0\nip link set br0 up\n\n\nip netns add container1\nip link add veth0 type veth peer name veth1\nip link set dev veth0 master br0\nip link set dev veth0 up\n\nip link set dev veth1 netns container1\nip netns exec container1 ip link set lo up\nip netns exec container1 ip link set veth1 name eth0\nip netns exec container1 ip link set eth0 up\nip netns exec container1 ip addr add 10.128.1.2/24 dev eth0\nip netns exec container1 ip route add default via 10.128.1.1 dev eth0\n\n\n\nip link add vxlan0 type vxlan \\\n    id 42 \\\n    dstport 4789 \\\n    group 239.1.1.1 \\\n    local 172.30.10.5 \\\n    dev eth0 \nip link set vxlan0 up\nip addr add 10.128.2.0/24 dev vxlan0\nip route add 10.128.2.0/24 dev vxlan0\n\nip link add br0 type bridge\nip link set vxlan0 master br0\nip addr add 10.128.2.1/24 dev br0\nip link set br0 up\n\nip netns add container1\nip link add veth0 type veth peer name veth1\nip link set dev veth0 master br0\nip link set dev veth0 up\n\nip link set dev veth1 netns container1\nip netns exec container1 ip link set lo up\nip netns exec container1 ip link set veth1 name eth0\nip netns exec container1 ip link set eth0 up\nip netns exec container1 ip addr add 10.128.2.2/24 dev eth0\nip netns exec container1 ip route add default via 10.128.2.1 dev eth0\n```\n\n\n---\n```\n$ ip link add br0 type bridge $ ip link set vxlan0 master br0 $ ip link add vrf0 type vrf table 10 $ ip link set br0 master vrf0 $ ip link set vxlan0 up $ ip link set br0 up $ ip link set vrf0 up\n```\n\n\nip netns add ns0\nip link add name veth02 type veth peer name port02\nip link set dev veth02 netns ns0\nip netns exec ns0 ip link set veth02 up\nip netns exec ns0 ip link set lo up\nip netns exec ns0 ip addr add 10.233.128.2/24 dev veth02\nip link set port02 up\nip netns exec ns0 ip route add 169.254.1.1 dev  veth02 scope link \nip netns exec ns0 ip route add default via 169.254.1.1 dev veth02\necho 1 \u003e /proc/sys/net/ipv4/conf/port02/proxy_arp\nip route add 10.233.128.3 via 172.31.50.25\nip route add 10.233.128.2 dev port02 scope link\n\nip netns add ns0\nip link add name veth02 type veth peer name port02\nip link set dev veth02 netns ns0\nip netns exec ns0 ip link set veth02 up\nip netns exec ns0 ip link set lo up\nip netns exec ns0 ip addr add 10.233.128.3/24 dev veth02\nip link set port02 up\nip netns exec ns0 ip route add 169.254.1.1 dev  veth02 scope link \nip netns exec ns0 ip route add default via 169.254.1.1 dev veth02\necho 1 \u003e /proc/sys/net/ipv4/conf/port02/proxy_arp\nip route add 10.233.128.2 via 172.31.50.24\nip route add 10.233.128.3 dev port02 scope link\n","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/%E6%89%98%E7%AE%A1%E5%9F%9F%E5%90%8D":{"title":"æ‰˜ç®¡åŸŸå","content":"\næ•™ç¨‹ï¼š[eu.org åŸŸåæ³¨å†Œæµç¨‹](https://www.collick.cn/index.php/archives/743/)\nä½¿ç”¨cloudnsã€topdnã€è…¾è®¯äº‘æ‰˜ç®¡åŸŸå\n\n[ClouDNS: æ§åˆ¶é¢æ¿](https://www.cloudns.net/main/)\n[ç®¡ç†æ§åˆ¶å° - DNSPod](https://console.dnspod.cn/)\n[åŸŸåè§£ææ‰˜ç®¡åœ¨ DNSPod - DNSPod æœåŠ¡ä¸æ”¯æŒ](https://docs.dnspod.cn/dns/tuo-guan-dnspod/)\n[ç”³è¯·çš„eu.orgé¡¶çº§åŸŸå](https://www.modb.pro/db/514042)\n\ngitee ç”¨ä½œå›¾åºŠå·²ç»æœ‰é˜²ç›—é“¾ï¼Œæœ‰çš„åšå®¢å·²ç»è®¿é—®ä¸äº† gitee çš„å›¾ç‰‡ï¼Œå› æ­¤è¿˜æ˜¯æ‰¾å…¶ä»–çš„ cos å¯¹è±¡å­˜å‚¨åšå›¾åºŠå§\n[æˆ‘çš„å›¾åºŠè§£å†³æ–¹æ¡ˆï¼Œè¶…è¯¦ç»†ï¼ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/491649092)\n[ä½¿ç”¨ Cloudflare + Backblaze B2+PicGoçš„æ­å»ºå…è´¹å›¾åºŠ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/604285576)\n\n[Vercelåº”ç”¨ç»‘å®šè‡ªå·±çš„åŸŸå](https://notion-hexo.tangly1024.com/article/vercel-domain)","lastmodified":"2023-04-18T15:06:06.090796332Z","tags":null},"/%E6%8E%92%E6%9F%A5-calico-ebpf":{"title":"","content":"#calico #ebpf\n\né…ç½® kube-proxy\n```bash\nkubectl patch ds -n kube-system kube-proxy -p '{\"spec\":{\"template\":{\"spec\":{\"nodeSelector\":{\"non-calico\": \"true\"}}}}}'\nkubectl patch felixconfiguration default --type merge  --patch='{\"spec\": {\"bpfEnabled\": true}}'\n\n# å¦‚æœæ— æ³•ç¦ç”¨ kube-proxy ï¼Œé…ç½® Felix\nkubectl patch felixconfiguration default --type merge --patch='{\"spec\": {\"bpfKubeProxyIptablesCleanupEnabled\": false}}'\n```\n\nå–æ¶ˆè®¾ç½® - å›æ»š\n```bash\nkubectl patch felixconfiguration default --patch='{\"spec\": {\"bpfEnabled\": false}}' --type merge\nkubectl patch ds -n kube-system kube-proxy --type merge -p '{\"spec\":{\"template\":{\"spec\":{\"nodeSelector\":{\"non-calico\": null}}}}}'\n```\n\n1. calico ç‰ˆæœ¬ - 3.20.0\n2. bpf endpoint manager + bpf map manager\n3. bpfKubeProxyIptablesCleanupEnabledï¼šif enabled in BPF mode, Felix will proactively clean up the upstream Kubernetes kube-proxy''s iptables chains\n\n\næ’æŸ¥å·¥å…·\n\n\ntc é˜Ÿåˆ—è§„åˆ™åˆ†ä¸ºå››å¤§ç±»ï¼šingressï¼Œclsactï¼Œclasslesså’Œclassfulã€‚\n\n\n1. calico åˆ‡æ¢ä¸º ebpf åœ¨é‡å¯æ—¶ï¼Œå¯èƒ½æ— æ³•è¿æ¥ 9090\n\tä¸»æœºæ— æ³•ä¸ pod é€šä¿¡\n\n2. calico è·¨ä¸»æœºé€šä¿¡å¤±è´¥ - ä¸èƒ½ä½¿ç”¨ ipip æ¨¡å¼ï¼Ÿ\n\nkubectl scale deploy -n kubesphere-system ks-console --replicas=1\nkubectl scale deploy -n kubesphere-system ks-controller-manager --replicas=1\nkubectl scale deploy -n kubesphere-system ks-apiserver --replicas=1\n\n\n\nkubectl scale deploy -n kubesphere-system ks-console --replicas=3\nkubectl scale deploy -n kubesphere-system ks-controller-manager --replicas=3\nkubectl scale deploy -n kubesphere-system ks-apiserver --replicas=3\n\ncalico ebpf è½¬å‘\n[About eBPF (tigera.io)](https://projectcalico.docs.tigera.io/about/about-ebpf)\n\nkubectl exec -n calico-system calico-node-XXXX -- calico-node -bpf conntrack dump  \nkubectl exec -n calico-system calico-node-XXXX -- calico-node -bpf routes dumpÂ  Â   \nkubectl exec -n calico-system calico-node-XXXX -- calico-node -bpf nat dump\n\n\n\n\n\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E6%97%A5%E5%BF%97":{"title":"","content":"#calico #calico-log\n\n### calico æ—¥å¿—\ncalico ä¸»è¦è¿è¡Œç»„ä»¶ä¸ºï¼šcalico-node ä»¥åŠ calico-kube-controller-manager\n- calico-node ä¸»è¦æœ‰ felixã€birdã€cni\n- å¯¹äº kube-controller-manager æ—¥å¿—æ²¡æœ‰ç‰¹æ®Šé…ç½®\n\n#### node å®ä¾‹çš„æ—¥å¿—ï¼š\nkubectl logs -n kube-system calico-node-xxxx\n\n#### cni æ—¥å¿—ï¼š\næ— æ³•é€šè¿‡ kubectl è·å–åˆ°ï¼Œä½†æ˜¯ä¼šè¾“å‡ºåˆ°ç£ç›˜æˆ–è€… stdout\næ—¥å¿—é»˜è®¤ä¼šå­˜å‚¨åœ¨å®¿ä¸»æœºèŠ‚ç‚¹çš„ /var/log/calico/cni/ \n\n#### BGP æ—¥å¿—ï¼š\nBGP çš„æ—¥å¿—ç­‰çº§é€šè¿‡ BGPConfiguration.spec.logSeverityScreen ä¿®æ”¹ï¼Œå€¼å¯ä»¥è®¾ç½®ä¸ºï¼šDebugã€Infoã€Warningã€Errorã€Fatal\n- å¯¹äºå…¨å±€æ›´æ”¹ï¼Œname ä¸ºâ€œdefaultâ€ã€‚\n- ä¿®æ”¹ç‰¹å®šèŠ‚ç‚¹ï¼Œname ä¸ºä»¥â€œnode.â€ä¸ºå‰ç¼€çš„èŠ‚ç‚¹åç§°ï¼Œå¦‚â€œnode.node-1â€ã€‚\n[BGP configuration | Calico Documentation (tigera.io)](https://docs.tigera.io/calico/3.25/reference/resources/bgpconfig)\n```yaml\napiVersion: projectcalico.org/v3\nkind: BGPConfiguration\nmetadata:\n  name: default\nspec:\n  logSeverityScreen: Info\n```\n\n#### Felix æ—¥å¿—ï¼š\nFelix çš„æ—¥å¿—ç­‰çº§é€šè¿‡ FelixConfiguration.spec.logSeverityScreen ä¿®æ”¹ï¼Œå€¼å¯ä»¥è®¾ç½®ä¸ºï¼šDebugã€Infoã€Warningã€Errorã€Fatal\n- å¯¹äºå…¨å±€æ›´æ”¹ï¼Œname ä¸ºâ€œdefaultâ€ã€‚\n- ä¿®æ”¹ç‰¹å®šèŠ‚ç‚¹ï¼Œname ä¸ºèŠ‚ç‚¹åç§°ï¼Œä¾‹å¦‚â€œnode-1â€ã€‚\n[Felix configuration | Calico Documentation (tigera.io)](https://docs.tigera.io/calico/3.25/reference/resources/felixconfig)\n\n#### å…¶ä»–é…ç½®æ—¥å¿—\n- é€šè¿‡ç¯å¢ƒå˜é‡åœ¨å¯åŠ¨æ—¶è®¾ç½®æ—¥å¿—ç­‰çº§\n\tCALICO_DISABLE_FILE_LOGGING: Debug\n- é…ç½®æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶\n\tCALICO_DISABLE_FILE_LOGGING: \"false\"\n\t\n\tç»„ä»¶è®°å½•åˆ° /var/log/calico ä¸­çš„ç£ç›˜ã€æ ‡å‡†è¾“å‡ºæˆ–ä¸¤è€…ã€‚å¯¹äºè®°å½•åˆ°ç£ç›˜çš„ç»„ä»¶ï¼Œæ–‡ä»¶ä¼šè‡ªåŠ¨è½®æ¢ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šä¿ç•™ 10 ä¸ª 1MB çš„æ–‡ä»¶ã€‚ å½“å‰æ—¥å¿—æ–‡ä»¶ç§°ä¸º currentï¼Œæ—‹è½¬æ–‡ä»¶å¸¦æœ‰ @ åè·Ÿæ—¶é—´æˆ³ï¼Œè¯¦ç»†è¯´æ˜æ–‡ä»¶ä½•æ—¶ä»¥ tai64n æ ¼å¼æ—‹è½¬ã€‚\n\t*å†™å…¥åˆ°å®¹å™¨çš„æ–‡ä»¶ä¸­*\n[Configuring calico/node | Calico Documentation (tigera.io)](https://docs.tigera.io/calico/3.25/reference/configure-calico-node#configuring-logging)\n\n#### kse æ”¶é›†æ—¥å¿—\nkubesphere æä¾›æ—¥å¿—æ”¶é›†ã€æŸ¥è¯¢å’Œç®¡ç†çš„åŠŸèƒ½\né€šè¿‡ä»¥ä¸‹é“¾æ¥æ–¹å¼å¼€å¯æ—¥å¿—åŠŸèƒ½ï¼š[KubeSphere æ—¥å¿—ç³»ç»Ÿ](https://kubesphere.io/zh/docs/v3.3/pluggable-components/logging/#%E5%9C%A8%E5%AE%89%E8%A3%85%E5%89%8D%E5%90%AF%E7%94%A8%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F)\né€šè¿‡ä»¥ä¸‹é“¾æ¥æ–¹å¼æ¥æŸ¥è¯¢æ—¥å¿—ï¼š[æ—¥å¿—æŸ¥è¯¢ (kubesphere.io)](https://kubesphere.io/zh/docs/v3.3/toolbox/log-query/)\n\n\u003e é»˜è®¤å­˜å‚¨æœ€è¿‘ä¸ƒå¤©å†…çš„æ—¥å¿—ã€‚\n\n\n### calicoctl node diags\n![upgit_20230130_1675069910.png](https://images.ryken.cloud/2023/01/upgit_20230130_1675069910.png)\n```\nroot@node1:/tmp/calico018546275/diagnostics# ls\ndate  hostname  ipset_container  ipsets  ipv4_addr  ipv4_route  ipv4_tables  ipv6_addr  ipv6_route  ipv6_tables  journalctl_calico_node  logs  netsta\n```\nä¸º Calico èŠ‚ç‚¹æ”¶é›†å½“å‰ç½‘ç»œä¿¡æ¯åŒ…å¹¶å‹ç¼©\n\n\n### ç³»ç»Ÿæ—¥å¿—\nå¯¹äº calico æ¥è¯´ï¼Œè¿˜éœ€è¦åˆ†æç³»ç»Ÿæ—¥å¿—ã€‚ç³»ç»Ÿæ—¥å¿—ä½äº /var/log/syslogï¼Œå¯ä»¥é€šè¿‡ /etc/logrotate.conf æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—çš„åˆ‡å‰²æ—¶é—´ã€ä¿å­˜æ—¶é—´\n```bash\nroot@node:~# cat /etc/logrotate.conf \n# see \"man logrotate\" for details\n# rotate log files weekly\nweekly\n\n# use the adm group by default, since this is the owning group\n# of /var/log/syslog.\nsu root adm\n\n# keep 4 weeks worth of backlogs\nrotate 4\n\n# create new (empty) log files after rotating old ones\ncreate\n\n# use date as a suffix of the rotated file\n#dateext\n\n# uncomment this if you want your log files compressed\n#compress\n\n# packages drop log rotation information into this directory\ninclude /etc/logrotate.d\n\n# system-specific logs may be also be configured here.\nroot@node:~# \nroot@node:~# cat /etc/logrotate.d/rsyslog \n/var/log/syslog\n{\n        rotate 7\n        daily\n        missingok\n        notifempty\n        delaycompress\n        compress\n        postrotate\n                /usr/lib/rsyslog/rsyslog-rotate\n        endscript\n}\n\n/var/log/mail.info\n... ...\n```\n*å±•ç¤ºçš„ä¸»æœºé…ç½®ä¸ºï¼šå¯¹äºæ¯å¤©çš„æ—¥å¿—ç”Ÿæˆä¸€ä¸ªè®°å½•ï¼Œä¿å­˜ 7 å¤©*\n\nå‚è€ƒé“¾æ¥ï¼š\n- [Component logs | Calico Documentation (tigera.io)](https://docs.tigera.io/calico/3.25/operations/troubleshoot/component-logs)\n\n\n![upgit_20230210_1676006186.png](https://images.ryken.cloud/2023/02/upgit_20230210_1676006186.png)\n\næŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—ï¼š\nsystemd-analyzeÂ set-log-levelÂ debug\n/var/log/syslog\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E6%97%B6%E5%8C%BA-%E5%90%8C%E6%AD%A5%E6%97%B6%E9%97%B4":{"title":"","content":"#### æŸ¥çœ‹ç³»ç»Ÿæ—¶åŒº\ntimedatectl\n\n#### ä¿®æ”¹ç³»ç»Ÿæ—¶åŒº\n```bash\ntimedatectl list-timezones | grep -i shang\nAsia/Shanghai\n\ntimedatectl set-timezone Asia/Shanghai\n```\n\n#### è½¯è¿æ¥ä¿®æ”¹æ—¶åŒº\n```\n```shell\nroot@node1:~#ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n\nroot@node1:~# ls -l /etc/localtime\nlrwxrwxrwx 1 root root 33 May 20  2022 /etc/localtime -\u003e /usr/share/zoneinfo/Asia/Shanghai\n```\n\n","lastmodified":"2023-04-18T15:06:05.590791632Z","tags":null},"/%E6%9C%AA%E5%91%BD%E5%90%8D":{"title":"","content":"#loadbalance \n\n| åç§° | è§£é‡Š | å±‚çº§|=\n|--|--|--|\n|DLB | DNS è´Ÿè½½å‡è¡¡ | ä¸ƒå±‚ |\n| ALB | Application è´Ÿè½½å‡è¡¡ | ä¸ƒå±‚ |\n| NLB | Network è´Ÿè½½å‡è¡¡ | å››å±‚ |\n\n\nhaproxy + nginx\nlvs\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/%E6%9F%A5%E7%9C%8B-CPU%E5%86%85%E5%AD%98":{"title":"","content":"æŸ¥çœ‹ cpu ä¿¡æ¯ï¼š cat /proc/cpuinfo\n\n```bash\n# æ€»æ ¸æ•° = ç‰©ç†CPUä¸ªæ•° X æ¯é¢—ç‰©ç†CPUçš„æ ¸æ•° \n# æ€»é€»è¾‘CPUæ•° = ç‰©ç†CPUä¸ªæ•° X æ¯é¢—ç‰©ç†CPUçš„æ ¸æ•° X è¶…çº¿ç¨‹æ•°\n\n# æŸ¥çœ‹ç‰©ç†CPUä¸ªæ•°\ncat /proc/cpuinfo| grep \"physical id\"| sort| uniq| wc -l\n\n# æŸ¥çœ‹æ¯ä¸ªç‰©ç†CPUä¸­coreçš„ä¸ªæ•°(å³æ ¸æ•°)\ncat /proc/cpuinfo| grep \"cpu cores\"| uniq\n\n# æŸ¥çœ‹é€»è¾‘CPUçš„ä¸ªæ•°\ncat /proc/cpuinfo| grep \"processor\"| wc -l\n\n# æŸ¥çœ‹CPUä¿¡æ¯ï¼ˆå‹å·ï¼‰  \ncat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c\n```\n\næŸ¥çœ‹ mem ä¿¡æ¯ï¼š cat /proc/meminfo","lastmodified":"2023-04-18T15:06:05.590791632Z","tags":null},"/%E6%A8%A1%E5%9D%97%E4%BB%A5%E5%8F%8A%E9%85%8D%E7%BD%AE":{"title":"","content":"#blockbox #exporter #prometheus\n\n## ç®€å•ä»‹ç»\nBlackbox Exporter æ˜¯ Prometheus ç¤¾åŒºæä¾›çš„ å®˜æ–¹é»‘ç›’ç›‘æ§è§£å†³æ–¹æ¡ˆ,å…¶å…è®¸ç”¨æˆ·é€šè¿‡: `http\\HTTPS\\DNS\\TCP\\ICMP\\gRPC`çš„æ–¹å¼å¯¹ç½‘ç»œè¿›è¡Œæ¢æµ‹.\n\næ”¯æŒçš„åè®®ï¼šHTTP, HTTPS, DNS, TCP, ICMP, gRPC.\n\nå„ä¸ªæ¨¡å—çš„é…ç½®ï¼š[blackbox_exporter/CONFIGURATION.md at master Â· prometheus/blackbox_exporter (github.com)](https://github.com/prometheus/blackbox_exporter/blob/master/CONFIGURATION.md)\n\nç¤ºä¾‹é…ç½®ï¼š\n[https://raw.githubusercontent.com/prometheus/blackbox_exporter/master/example.yml](https://github.com/prometheus/blackbox_exporter/blob/master/CONFIGURATION.md)\n\n## ç¤ºä¾‹æ¼”ç¤º\nä»¥ä¸‹ç”¨ä¸€ä¸ªç¤ºä¾‹ç®€å•çš„ icmp æ¢æµ‹ä»‹ç»å®‰è£…éƒ¨ç½²ï¼š\n### å®‰è£…éƒ¨ç½² blockbox\n```yaml\n---\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: monitoring-system\n---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: blackbox-config\n  namespace: monitoring-system\ndata:\n  blackbox.yml: |-\n    modules:\n      icmp:\n        prober: icmp\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: blackbox\n  namespace: monitoring-system\nspec:\n  selector:\n    matchLabels:\n      app: blackbox\n  template:\n    metadata:\n      labels:\n        app: blackbox\n    spec:\n      containers:\n      - image: quay.io/prometheus/blackbox-exporter:v0.22.0\n        name: blackbox\n        args:\n        - --config.file=/etc/blackbox_exporter/blackbox.yml\n        - --log.level=error\n        - --web.listen-address=:9115\n        ports:\n        - containerPort: 9115\n        volumeMounts:\n        - name: config\n          mountPath: /etc/blackbox_exporter\n      volumes:\n      - name: config\n        configMap:\n          name: blackbox-config\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: blackbox\n  namespace: monitoring-system\nspec:\n  selector:\n    app: blackbox\n  ports:\n  - port: 9115\n    targetPort: 9115\n```\n\n### ä½¿ç”¨ blockbox æ¢æµ‹ï¼š\n```bash\nroot@node1:~# curl 10.233.102.164:9115/probe?module=icmp\\\u0026target=www.baidu.com\n# HELP probe_dns_lookup_time_seconds Returns the time taken for probe dns lookup in seconds\n# TYPE probe_dns_lookup_time_seconds gauge\nprobe_dns_lookup_time_seconds 0.097182057\n# HELP probe_duration_seconds Returns how long the probe took to complete in seconds\n# TYPE probe_duration_seconds gauge\nprobe_duration_seconds 0.130861304\n# HELP probe_icmp_duration_seconds Duration of icmp request by phase\n# TYPE probe_icmp_duration_seconds gauge\nprobe_icmp_duration_seconds{phase=\"resolve\"} 0.097182057\nprobe_icmp_duration_seconds{phase=\"rtt\"} 0.032648941\nprobe_icmp_duration_seconds{phase=\"setup\"} 7.1581e-05\n# HELP probe_icmp_reply_hop_limit Replied packet hop limit (TTL for ipv4)\n# TYPE probe_icmp_reply_hop_limit gauge\nprobe_icmp_reply_hop_limit 46\n# HELP probe_ip_addr_hash Specifies the hash of IP address. It's useful to detect if the IP address changes.\n# TYPE probe_ip_addr_hash gauge\nprobe_ip_addr_hash 3.780294358e+09\n# HELP probe_ip_protocol Specifies whether probe ip protocol is IP4 or IP6\n# TYPE probe_ip_protocol gauge\nprobe_ip_protocol 4\n# HELP probe_success Displays whether or not the probe was a success\n# TYPE probe_success gauge\nprobe_success 1\n```\n\nè¾“å‡ºç»“æœä¸º prometheus çš„æ ‡å‡† metricsã€‚å…¶ä¸­ probe_success è¡¨ç¤ºæ¢æµ‹ç»“æœã€‚\n### ç»“åˆ prometheus\n#### å®‰è£… prometheus\n```\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: prometheus-user\nrules:\n- apiGroups: [\"\"]\n  resources:\n  - endpoints\n  - services\n  - pods\n  verbs: [\"get\", \"list\", \"watch\"]\n- nonResourceURLs: [\"/metrics\"]\n  verbs: [\"get\"]\n---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: prometheus-user\n  namespace: monitoring-system\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: prometheus-user\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: prometheus-user\nsubjects:\n- kind: ServiceAccount\n  name: prometheus-user\n  namespace: monitoring-system\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: prometheus\n  namespace: monitoring-system\n  labels:\n    app: prometheus-pod\nspec:\n  progressDeadlineSeconds: 600\n  replicas: 1\n  selector:\n    matchLabels:\n      app: prometheus-pod\n  strategy:\n    rollingUpdate:\n      maxSurge: 25%\n      maxUnavailable: 25%\n    type: RollingUpdate\n  template:\n    metadata:\n      labels:\n        app: prometheus-pod\n    spec:\n      containers:\n      - image: prom/prometheus\n        name: prometheus-pod\n        ports:\n        - containerPort: 9090\n          protocol: TCP\n        resources: \n          limits:\n            memory: \"128Mi\"\n            cpu: \"500m\"\n        volumeMounts:\n        - name: config-volume\n          mountPath: /etc/prometheus/prometheus.yml\n          subPath: prometheus.yml\n      volumes:\n      - name: config-volume\n        configMap:\n          name: prometheus-config\n      restartPolicy: Always\n      serviceAccountName: prometheus-user\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: prometheus-dashboard-svc\n  namespace: monitoring-system\nspec:\n  selector:\n    app: prometheus-pod\n  ports:\n  - nodePort: 31000\n    port: 9090\n    targetPort: 9090\n    protocol: TCP\n  type: NodePort\n```\n\n#### é…ç½® icmp job\n```\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: prometheus-config\n  namespace: monitoring-system\ndata:\n  prometheus.yml: |-\n    global:\n      scrape_interval: 15s\n      scrape_timeout: 15s \n    scrape_configs:\n    - job_name: 'blackbox_http_ping\n      scrape_interval: 30s\n      metrics_path: /probe\n      params:\n        module: [icmp]\n      static_configs:\n      - targets:\n        - www.baidu.com\n      relabel_configs:\n      - source_labels: [__address__]\n        target_label: __param_target\n      - source_labels: [__param_target]\n        target_label: instance\n      - target_label: __address__\n        replacement:  blackbox:9115\n```\n\n![upgit_20230105_1672910441.png](https://images.ryken.cloud/2023/01/upgit_20230105_1672910441.png)\n\n\n![upgit_20230105_1672908283.png](https://images.ryken.cloud/2023/01/upgit_20230105_1672908283.png)\n\n\n### æš´éœ²/é‡‡é›†çš„ metrics \n1. é€šç”¨çš„ metrics\nscrapeé‡‡é›†\n- scrape_duration_seconds\n- scrape_samples_post_metric_relabeling\n- scrape_samples_scraped\n- scrape_series_added\n\nprobe æ¢æµ‹\n- up æ¢æµ‹æ˜¯å¦å¯ç”¨\n- probe_success æ˜¯å¦æ¢æµ‹æˆåŠŸ\n- probe_ip_protocol 4 æŒ‡å®šæ¢æµ‹çš„ ip åè®® ipv4/ipv6\n- probe_dns_lookup_time_seconds  DNS æŸ¥æ‰¾æ‰€èŠ±è´¹çš„æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰\n- probe_duration_seconds æ¢æµ‹å®Œæˆæ‰€èŠ±è´¹çš„æ—¶é—´ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰\n- probe_ip_addr_hash æŒ‡å®š IP åœ°å€çš„å“ˆå¸Œå€¼ã€‚ å¯ç”¨äºæ£€æµ‹ IP åœ°å€æ˜¯å¦æ›´æ”¹\n\n\n2. icmp\n| metrics | å–å€¼ | è§£é‡Š |\n|--|--|--|\n| probe_icmp_duration_seconds{phase=\"resolve\"} |  0.097182057 |  icmp è¯·æ±‚çš„æŒç»­æ—¶é—´ ï¼ˆDNS è§£æï¼‰ |\n| probe_icmp_duration_seconds{phase=\"rtt\"} | 0.032648941 | icmp è¯·æ±‚çš„æŒç»­æ—¶é—´ ï¼ˆå›è·¯å“åº”æ—¶é—´ï¼‰ |\n| probe_icmp_duration_seconds{phase=\"setup\"} | 7.1581e-05 | icmp è¯·æ±‚çš„æŒç»­æ—¶é—´ ï¼ˆsetupï¼‰ |\n| probe_icmp_reply_hop_limit | 46 | å›å¤çš„æ•°æ®åŒ…è·³æ•°é™åˆ¶ï¼ˆipv4 çš„ TTLï¼‰\n\n\n3. tcp\n| metrics | å–å€¼ | è§£é‡Š |\n|--|--|--|\n| probe_failed_due_to_regex | 0 | æ˜¯å¦å› ä¸ºè¡¨è¾¾å¼æ¢æµ‹å¤±è´¥ |\n\n4. http\n| metrics | å–å€¼ | è§£é‡Š |\n|--|--|--|\n| probe_failed_due_to_regex | 0 | æ˜¯å¦å› ä¸ºè¡¨è¾¾å¼æ¢æµ‹å¤±è´¥ |\n| probe_http_content_length | -1 | http content å“åº”çš„é•¿åº¦\n| probe_http_duration_seconds{phase=\"connect\"} | 0.011417546 | connect é˜¶æ®µçš„ http è¯·æ±‚æŒç»­æ—¶é—´ï¼Œå¯¹æ‰€æœ‰é‡å®šå‘æ±‚å’Œ |\n| probe_http_duration_seconds{phase=\"processing\"} | 0.025588187 | processing é˜¶æ®µçš„ http è¯·æ±‚æŒç»­æ—¶é—´ï¼Œå¯¹æ‰€æœ‰é‡å®šå‘æ±‚å’Œ |\n| probe_http_duration_seconds{phase=\"resolve\"} | 0.011763045 | resolve é˜¶æ®µçš„ http è¯·æ±‚æŒç»­æ—¶é—´ï¼Œå¯¹æ‰€æœ‰é‡å®šå‘æ±‚å’Œ |\n| probe_http_duration_seconds{phase=\"tls\"} | 0 | tls æ¡æ‰‹é˜¶æ®µçš„ http è¯·æ±‚æŒç»­æ—¶é—´ï¼Œå¯¹æ‰€æœ‰é‡å®šå‘æ±‚å’Œ |\n| probe_http_duration_seconds{phase=\"transfer\"} | 0.120212515 | transferé˜¶æ®µçš„ http è¯·æ±‚æŒç»­æ—¶é—´ï¼Œå¯¹æ‰€æœ‰é‡å®šå‘æ±‚å’Œ |\n| probe_http_redirects | 0 | é‡å®šå‘æ¬¡æ•° |\n| probe_http_ssl | 0 |  æœ€ç»ˆé‡å®šå‘æ˜¯å¦ç”¨ SSL |\n| probe_http_status_code | 200 | å“åº” HTTP çŠ¶æ€ç  |\n| probe_http_uncompressed_body_length | 370317 | æœªå‹ç¼©å“åº” body çš„é•¿åº¦ |\n| probe_http_version | 1.1 | æ¢æµ‹å“åº”çš„ HTTP ç‰ˆæœ¬ |\n\n5. dns\n| metrics | å–å€¼ | è§£é‡Š |\n|--|--|--|\n| probe_dns_additional_rrs  additional | 0 | èµ„æºè®°å½•åˆ—è¡¨ä¸­çš„æ¡ç›®æ•° |\n| probe_dns_answer_rrs  answer | 0 | èµ„æºè®°å½•åˆ—è¡¨ä¸­çš„æ¡ç›®æ•° |\n| probe_dns_authority_rrs | 0 | è§„èŒƒèµ„æºè®°å½•åˆ—è¡¨ä¸­çš„æ¡ç›®æ•° |\n| probe_dns_duration_seconds{phase=\"connect\"} | 0.000340141 | connect é˜¶æ®µ DNS è¯·æ±‚çš„æŒç»­æ—¶é—´ |\n| probe_dns_duration_seconds{phase=\"request\"} | 0.000257105 | request é˜¶æ®µ DNS è¯·æ±‚çš„æŒç»­æ—¶é—´ |\n| probe_dns_duration_seconds{phase=\"resolve\"} | 0.002221205 | resolve é˜¶æ®µ DNS è¯·æ±‚çš„æŒç»­æ—¶é—´ |\n\n6. grpc\n| metrics | å–å€¼ | è§£é‡Š |\n|--|--|--|\n| probe_grpc_duration_seconds{phase=\"check\"} | 0.190904268 | check é˜¶æ®µè¯·æ±‚çš„æŒç»­æ—¶é—´ |\n| probe_grpc_duration_seconds{phase=\"resolve\"} | 0.008453133 | resolve é˜¶æ®µè¯·æ±‚çš„æŒç»­æ—¶é—´ |\n| probe_grpc_healthcheck_response{serving_status=\"NOT_SERVING\"} | 0 | å¥åº·æ£€æŸ¥å“åº” NOT_SERVING |\n| probe_grpc_healthcheck_response{serving_status=\"SERVICE_UNKNOWN\"} | 0 | å¥åº·æ£€æŸ¥å“åº” SERVICE_UNKNOWN |\n| probe_grpc_healthcheck_response{serving_status=\"SERVING\"} | 0 | å¥åº·æ£€æŸ¥å“åº” SERVING |\n| probe_grpc_healthcheck_response{serving_status=\"UNKNOWN\"} | 0 | å¥åº·æ£€æŸ¥å“åº” UNKNOWN |\n| probe_grpc_ssl | 0 | æŒ‡ç¤º SSL æ˜¯å¦ç”¨äºè¿æ¥ |\n| probe_grpc_status_code | 14 | å“åº” gRPC çŠ¶æ€ç  |\n| probe_ssl_earliest_cert_expiry | 0 | ä»¥ unixtime è¿”å›æœ€æ—©çš„ SSL è¯ä¹¦åˆ°æœŸæ—¶é—´ |\n\n\n## å…¶ä»–ä½¿ç”¨é…ç½®\n### ä½¿ç”¨ DNS\nblock é…ç½®\n```\n    modules:\n      dns:\n        prober: dns\n        dns:\n          transport_protocol: \"tcp\"  # é»˜è®¤æ˜¯ udp\n          preferred_ip_protocol: \"ip4\"  # é»˜è®¤æ˜¯ ip6\n          query_name: \"kubernetes.default.svc.cluster.local\"\n```\nprometheus é…ç½®\n```\n    - job_name: \"kubernetes-service-dns\"\n      metrics_path: /probe # ä¸æ˜¯ metricsï¼Œæ˜¯ probe\n      params:\n        module: [dns] # ä½¿ç”¨ DNS æ¨¡å—\n      static_configs:\n      - targets:\n        - coredns.kube-system:53  # ä¸è¦çœç•¥ç«¯å£å·\n      relabel_configs:\n      - source_labels: [__address__]\n        target_label: __param_target\n      - source_labels: [__param_target]\n        target_label: instance\n      - target_label: __address__\n        replacement: blackbox:9115\n```\n### ä½¿ç”¨ icmp æ£€æµ‹è”é€šæ€§\nblock é…ç½®\n```\n      icmp:\n        prober: icmp\n      icmp_ttl5: # è®¾ç½® ttl\n        prober: icmp\n        timeout: 5s\n        icmp:\n          ttl: 5\n```\nprometheus é…ç½®\n```\n    - job_name: \"blackbox_ping\"\n      scrape_interval: 30s\n      metrics_path: /probe\n      params:\n        module: [icmp]\n      static_configs:\n      - targets:\n        - 223.5.5.5\n      relabel_configs:\n      - source_labels: [__address__]\n        target_label: __param_target\n      - source_labels: [__param_target]\n        target_label: instance\n      - target_label: __address__\n        replacement: blackbox:9115\n```\n### ä½¿ç”¨ tcp æ£€æµ‹æŒ‡å®šç«¯å£æ˜¯å¦åœ¨çº¿\nblock é…ç½®\n```\n      tcp_connect:\n        prober: tcp\n        tcp:\n          preferred_ip_protocol: \"ip4\"\n```\nprometheus é…ç½®\n```\n    - job_name: 'blackbox_tcp_connect'\n      scrape_interval: 30s\n      metrics_path: /probe\n      params:\n        module: [tcp_connect]\n      static_configs:\n      - targets:\n        - 172.30.10.2:179\n        - 172.30.10.4:179\n      relabel_configs:\n      - source_labels: [__address__]\n        target_label: __param_target\n      - source_labels: [__param_target]\n        target_label: instance\n      - target_label: __address__\n        replacement: blackbox:9115\n```\n### ä½¿ç”¨ http æ¢æµ‹\nblock é…ç½®\n```\n      http_2xx:\n        prober: http\n```\nprometheus é…ç½®\n```\n    - job_name: 'blackbox_http_2xx'\n      scrape_interval: 30s\n      metrics_path: /probe\n      params:\n        module: [http_2xx]\n      static_configs:\n      - targets:\n        - www.baidu.com\n      relabel_configs:\n      - source_labels: [__address__]\n        target_label: __param_target\n      - source_labels: [__param_target]\n        target_label: instance\n      - target_label: __address__\n        replacement: blackbox:9115\n```\n\n### ä½¿ç”¨ grpc æ¢æµ‹\nblock é…ç½®\n```\n      grpc:\n        prober: grpc\n        grpc:\n          tls: true\n          preferred_ip_protocol: \"ip4\"\n```\nprometheus é…ç½®\n```\n    - job_name: 'blackbox_grpc'\n      scrape_interval: 30s\n      metrics_path: /probe\n      params:\n        module: [grpc]\n      static_configs:\n      - targets:\n        - www.baidu.com\n      relabel_configs:\n      - source_labels: [__address__]\n        target_label: __param_target\n      - source_labels: [__param_target]\n        target_label: instance\n      - target_label: __address__\n        replacement: blackbox:9115\n```\n\n\n### å°ç»“\nblockbox æ”¯æŒ `http\\HTTPS\\DNS\\TCP\\ICMP\\gRPC` çš„æ–¹å¼å¯¹ç½‘ç»œè¿›è¡Œæ¢æµ‹ï¼Œ https æ˜¯é€šè¿‡ http é…ç½®å…¶ä»–å‚æ•°å®ç°çš„ã€‚åŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡é…ç½®å…¶ä»–å‚æ•°æ¥å®ç°è‡ªå®šä¹‰æ¢æµ‹ã€‚\né’ˆå¯¹å…‰å¤§å¯¹äº calico ç›‘æ§çš„éœ€æ±‚å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹é¢å®ç°éƒ¨åˆ†éœ€æ±‚ï¼š\n- icmp æ£€æµ‹èŠ‚ç‚¹çš„è”é€šæ€§\n- tcp æ£€æµ‹ bgp 179 ç«¯å£æ˜¯å¦åœ¨çº¿\n\n![upgit_20230106_1672995019.png](https://images.ryken.cloud/2023/01/upgit_20230106_1672995019.png)\n\n![upgit_20230206_1675698167.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675698167.png)\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E6%B5%81%E9%87%8F%E8%B5%B0%E5%90%91":{"title":"","content":"![upgit_20221212_1670836558.png](https://images.ryken.cloud/2022/12/upgit_20221212_1670836558.png)\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E7%9B%91%E6%8E%A7%E6%96%87%E6%A1%A3":{"title":"","content":"### calicoctl node\nä½œç”¨ï¼š\ncalicoctl node runï¼šè¿è¡Œ calico-node é•œåƒ\ncalicoctl node statusï¼š calico-node çš„ä¸€äº›çŠ¶æ€ä¿¡æ¯\ncalicoctl node diagsï¼šä¸º Calico èŠ‚ç‚¹æ”¶é›†è¯Šæ–­åŒ…\ncalicoctl node checksystemï¼šæ£€æµ‹è¯¥èŠ‚ç‚¹èƒ½å¦è¿è¡Œ calico-node \n![upgit_20230130_1675069798.png](https://images.ryken.cloud/2023/01/upgit_20230130_1675069798.png)\n\n![upgit_20230130_1675069777.png](https://images.ryken.cloud/2023/01/upgit_20230130_1675069777.png)\n\n![upgit_20230130_1675069752.png](https://images.ryken.cloud/2023/01/upgit_20230130_1675069752.png)\n\n![upgit_20230130_1675069910.png](https://images.ryken.cloud/2023/01/upgit_20230130_1675069910.png)\n\n \nç¼ºé™·ï¼š\n\tåªèƒ½è·å–æœ¬èŠ‚ç‚¹çš„ä¿¡æ¯\n\n\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E7%9B%91%E6%8E%A7-monitor":{"title":"","content":"#calico-monitor \n\n[Monitor Calico component metrics (tigera.io)](https://projectcalico.docs.tigera.io/maintenance/monitor/monitor-component-metrics)\n\n1.  Configure Calico to enable the metrics reporting.\n2.  Create the namespace and service account that Prometheus will need.\n3.  Deploy and configure Prometheus.\n4.  View the metrics in the Prometheus dashboard and create a simple graph.\n\n### 1. Configure to enable\n#### **Felix configuration**\n**Enable prometheus metrics**\nFelix prometheus metrics areÂ **disabled**Â by default. \n```\nkubectl patch felixconfiguration default --type merge --patch '{\"spec\":{\"prometheusMetricsEnabled\": true}}'\n```\n**Creating a service to expose Felix metrics**\n```yaml\nkubectl apply -f - \u003c\u003cEOF\napiVersion: v1\nkind: Service\nmetadata:\n  name: felix-metrics-svc\n  namespace: kube-system\nspec:\n  clusterIP: None\n  selector:\n    k8s-app: calico-node\n  ports:\n  - port: 9091\n    targetPort: 9091\nEOF\n```\n\n#### **kube-controllers configuration**\nkube-controllers prometheus metrics areÂ **enabled**Â by default onÂ TCP port 9094\n```\nkubectl patch kubecontrollersconfiguration default --type=merge  --patch '{\"spec\":{\"prometheusMetricsPort\": 9095}}'\n```\n\n```yaml\nkubectl apply -f - \u003c\u003cEOF\napiVersion: v1\nkind: Service\nmetadata:\n  name: kube-controllers-metrics-svc\n  namespace: kube-system\nspec:\n  clusterIP: None\n  selector:\n    k8s-app: calico-kube-controllers\n  ports:\n  - port: 9094\n    targetPort: 9094\nEOF\n```\n\n### 2. Namespace + service account\n```\nkubectl create -f -\u003c\u003cEOF\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: calico-monitoring\n  labels:\n    app:  ns-calico-monitoring\n    role: monitoring\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: calico-prometheus-user\nrules:\n- apiGroups: [\"\"]\n  resources:\n  - endpoints\n  - services\n  - pods\n  verbs: [\"get\", \"list\", \"watch\"]\n- nonResourceURLs: [\"/metrics\"]\n  verbs: [\"get\"]\n---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: calico-prometheus-user\n  namespace: calico-monitoring\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: calico-prometheus-user\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: calico-prometheus-user\nsubjects:\n- kind: ServiceAccount\n  name: calico-prometheus-user\n  namespace: calico-monitoring\nEOF\n```\n\n### 3. install prometheus\nä½¿ç”¨ ConfigMap é…ç½® Prometheus ä»¥æŒä¹…å­˜å‚¨æ‰€éœ€çš„è®¾ç½®\n```\nkubectl apply -f - \u003c\u003cEOF\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: prometheus-config\n  namespace: calico-monitoring\ndata:\n  prometheus.yml: |-\n    global:\n      scrape_interval:   15s\n      external_labels:\n        monitor: 'tutorial-monitor'\n    scrape_configs:\n    - job_name: 'prometheus'\n      scrape_interval: 5s\n      static_configs:\n      - targets: ['localhost:9090']\n    - job_name: 'felix_metrics'\n      scrape_interval: 5s\n      scheme: http\n      kubernetes_sd_configs:\n      - role: endpoints\n      relabel_configs:\n      - source_labels: [__meta_kubernetes_service_name]\n        regex: felix-metrics-svc\n        replacement: $1\n        action: keep\n    - job_name: 'typha_metrics'\n      scrape_interval: 5s\n      scheme: http\n      kubernetes_sd_configs:\n      - role: endpoints\n      relabel_configs:\n      - source_labels: [__meta_kubernetes_service_name]\n        regex: typha-metrics-svc\n        replacement: $1\n        action: keep\n    - job_name: 'kube_controllers_metrics'\n      scrape_interval: 5s\n      scheme: http\n      kubernetes_sd_configs:\n      - role: endpoints\n      relabel_configs:\n      - source_labels: [__meta_kubernetes_service_name]\n        regex: kube-controllers-metrics-svc\n        replacement: $1\n        action: keep\nEOF\n```\n\nåˆ›å»º pod ä¹‹åæŸ¥çœ‹ pod çŠ¶æ€\n```\nkubectl apply -f - \u003c\u003cEOF\napiVersion: v1\nkind: Pod\nmetadata:\n  name: prometheus-pod\n  namespace: calico-monitoring\n  labels:\n    app: prometheus-pod\n    role: monitoring\nspec:\n  serviceAccountName: calico-prometheus-user\n  containers:\n  - name: prometheus-pod\n    image: prom/prometheus\n    resources:\n      limits:\n        memory: \"128Mi\"\n        cpu: \"500m\"\n    volumeMounts:\n    - name: config-volume\n      mountPath: /etc/prometheus/prometheus.yml\n      subPath: prometheus.yml\n    ports:\n    - containerPort: 9090\n  volumes:\n  - name: config-volume\n    configMap:\n      name: prometheus-config\nEOF\n```\n\n### 4. æŸ¥çœ‹ metrics\n```yaml\nkubectl apply -f - \u003c\u003cEOF\napiVersion: v1\nkind: Service\nmetadata:\n  name: prometheus-dashboard-svc\n  namespace: calico-monitoring\nspec:\n  selector:\n    app: prometheus-pod\n    role: monitoring\n  ports:\n  - port: 9090\n    targetPort: 9090\n    protocol: TCP\n  type: ClusterIP\nEOF\n```\n\n### 5. åˆ é™¤\n```\nkubectl delete service felix-metrics-svc -n kube-system\nkubectl delete service typha-metrics-svc -n kube-system\nkubectl delete service kube-controllers-metrics-svc -n kube-system\n\nkubectl patch felixConfiguration default --type merge --patch '{\"spec\":{\"prometheusMetricsEnabled\": false}}'\nkubectl patch installation default --type=json -p '[{\"op\": \"remove\", \"path\":\"/spec/typhaMetricsPort\"}]'\n\nkubectl delete namespace calico-monitoring\nkubectl delete ClusterRole calico-prometheus-user\nkubectl delete clusterrolebinding calico-prometheus-user\n```\n\n\n- ä½¿ç”¨å¯è§†åŒ–æŸ¥çœ‹ï¼š[[grafana å¯è§†åŒ–]]\n- metrics è¯¦æƒ…ï¼š[[calico metrics]]","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E7%BB%84%E4%BB%B6":{"title":"","content":"calico-node\ncalico-controller\n\n\nå¥åº·æ£€æŸ¥\n- ready\n- live\n\n![upgit_20221116_1668580016.png](https://images.ryken.cloud/2022/11/upgit_20221116_1668580016.png)\n\n\ncalico-node å®¹å™¨ä»¥runit ä½œä¸ºè¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œè¿è¡Œå¤šä¸ªè¿›ç¨‹\n\n## è¿›ç¨‹æ ‘\n![upgit_20221116_1668569668.png](https://images.ryken.cloud/2022/11/upgit_20221116_1668569668.png)\n\n``` bash\n# ps -ef\nUID        PID  PPID  C STIME TTY          TIME CMD\nroot         1     0  0 Jul28 ?        00:00:05 /usr/bin/runsvdir -P /etc/service/enabled\nroot        50     1  0 Jul28 ?        00:00:00 runsv felix\nroot        --     1  0 Jul28 ?        00:00:00 runsv monitor-addresses\nroot        --     1  0 Jul28 ?        00:00:00 runsv allocate-tunnel-addrs\nroot        --     1  0 Jul28 ?        00:00:00 runsv cni\nroot        51     1  0 Jul28 ?        00:00:00 runsv bird\nroot        52     1  0 Jul28 ?        00:00:00 runsv bird6\nroot        53     1  0 Jul28 ?        00:00:00 runsv confd\nroot        54    50  1 Jul28 ?        02:10:41 calico-node -felix\nroot        55    53  0 Jul28 ?        00:01:33 calico-node -confd\nroot        --    --  0 Jul28 ?        00:01:33 calico-node -allocate-tunnel-addrs\nroot        --    --  0 Jul28 ?        00:01:33 calico-node -monitor-addresses\nroot        --    --  0 Jul28 ?        00:01:33 calico-node -monitor-token\nroot       134    51  0 Jul28 ?        00:02:52 bird -R -s /var/run/calico/bird.ctl -d -c /etc/calico/confd/config/bird.cfg\nroot       135    52  0 Jul28 ?        00:02:53 bird6 -R -s /var/run/calico/bird6.ctl -d -c /etc/calico/confd/config/bird6.cfg\n```\n\n### å¯åŠ¨è„šæœ¬\n\n#### /sbin/start_runit è„šæœ¬\ncalico-node å®¹å™¨çš„å¯åŠ¨è„šæœ¬ä¸º `/sbin/start_runit`\n\n-   è¾“å‡ºç¯å¢ƒå˜é‡åˆ° `/etc/envvars`\n-   æ‰§è¡Œ `/etc/rc.local`\n-   æ‰§è¡Œ `runsvdir -P /etc/service/enabled`\n```bash\n~#: cat ./sbin/start_runit \n#!/bin/sh\n# From https://github.com/faisyl/alpine-runit\nenv \u003e /etc/envvars\n\n/etc/rc.local\nretval=$?\nif [ $retval -ne 0 ];\nthen\n    echo \u003e\u00262 \"Calico node failed to start\"\n    exit $retval\nfi\n# Export the nodename set by the startup procedure. \nexport NODENAME=$(cat /var/lib/calico/nodename)\n\nRUNSVDIR=$(/usr/bin/which runsvdir)\nexec ${RUNSVDIR} -P /etc/service/enabled\n```\n\n\n#### /etc/rc.local æ–‡ä»¶\n\n-   å¤„ç†ç¯å¢ƒå˜é‡ï¼Œæ¶‰åŠåˆ°çš„ç¯å¢ƒå˜é‡ï¼š\n\n-   `CALICO_NETWORKING` æ›¿æ¢ä¸º `CALICO_NETWORKING_BACKEND`ï¼Œå–å€¼ï¼šnoneã€birdã€gobgpã€vxlan\n-   `CALICO_DISABLE_FELIX`ä¸å¯åŠ¨ felix\n-   `CALICO_MANAGE_CNI`æ˜¯å¦å¯ç”¨ cni é…ç½®ç®¡ç†\n-   `CALICO_DISABLE_FILE_LOGGING` æ˜¯å¦ç¦ç”¨æ—¥å¿—ï¼Œæ—¥å¿—å¯åŠ¨å‘½ä»¤åœ¨ `/etc/service/enabled/felix/log/run` æ—¥å¿—å­˜å‚¨æ–‡ä»¶`/var/log/calico/felix/current`\n\n-   å¯åŠ¨å®‰è£…å‘½ä»¤`calico-node -startup`\n-   æå‰ç”³è¯· tunl è®¾å¤‡ ip åœ°å€`calico-node -allocate-tunnel-addrs -allocate-tunnel-addrs-run-once`\n-   æ‹·è´è¦å¯åŠ¨ç»„ä»¶çš„é…ç½®åˆ° `/etc/service/enabled` ç›®å½•ä¸‹\n\n~#: cat ./etc/rc.local \n```shell\n# Handle old CALICO_NETWORKING environment by converting to the new config.\nif [ -n \"$CALICO_NETWORKING\" ]; then\n        echo \"WARNING: $CALICO_NETWORKING will be deprecated: use $CALICO_NETWORKING_BACKEND instead\"\n        if [ \"$CALICO_NETWORKING\" = \"false\" ]; then\n                export CALICO_NETWORKING_BACKEND=none\n        else\n                export CALICO_NETWORKING_BACKEND=bird\n        fi\nfi\n\n# Run the startup initialisation script.\n# These ensure the node is correctly configured to run.\ncalico-node -startup || exit 1\n\n# Set the nodename based on the value picked by the startup procedure.\nif [ ! -f \"/var/lib/calico/nodename\" ]; then\n        echo \"/var/lib/calico/nodename does not exist, exiting\"\n        exit 1\nfi\nNODENAME=$(cat /var/lib/calico/nodename)\nexport NODENAME\n\n# If possible pre-allocate any tunnel addresses.\ncalico-node -allocate-tunnel-addrs -allocate-tunnel-addrs-run-once || exit 1\n\n# Create a directly to put enabled service files\nmkdir /etc/service/enabled\n\n# XXX: Here and below we do all manipulations on /etc/service avoiding rm'ing\n# dirs contained in Docker image. This is due to bug in Docker with graphdriver\n# overlay on CentOS 7.X kernels (https://github.com/docker/docker/issues/15314)\n\n# Allow felix to be disabled, for example, if the user is running Felix\n# outside the container.\nif [ -z \"$CALICO_DISABLE_FELIX\" ]; then\n  cp -a /etc/service/available/felix /etc/service/enabled/\nfi\n\n# Monitor change in node IP addresses and subnets.\ncp -a /etc/service/available/monitor-addresses  /etc/service/enabled/\n\n# Enable the allocate tunnel IP service\ncp -a /etc/service/available/allocate-tunnel-addrs  /etc/service/enabled/\n\ncase \"$CALICO_NETWORKING_BACKEND\" in\n        \"none\" )\n        # If running in policy only mode, we don't need to run BIRD / Confd.\n        echo \"CALICO_NETWORKING_BACKEND is none - no BGP daemon running\"\n        ;;\n        \"vxlan\" )\n        # If running in VXLAN-only mode, we don't need to run BIRD / Confd.\n        echo \"CALICO_NETWORKING_BACKEND is vxlan - no need to run a BGP daemon\"\n        ;;\n        \"gobgp\" )\n        # Run calico-bgp-daemon instead of BIRD / Confd.\n        echo \"CALICO_NETWORKING_BACKEND is gobgp - run calico-bgp-daemon\"\n        cp -a /etc/service/available/calico-bgp-daemon /etc/service/enabled/\n        sh -c 'for file in `find /etc/calico/confd/conf.d/ -not -name 'tunl-ip.toml' -type f`; do rm $file; done'\n        cp -a /etc/service/available/confd /etc/service/enabled/\n        ;;\n        * )\n\n        # Enable the confd and bird services\n        cp -a /etc/service/available/bird  /etc/service/enabled/\n        cp -a /etc/service/available/bird6 /etc/service/enabled/\n        cp -a /etc/service/available/confd /etc/service/enabled/\n        ;;\nesac\n\nif [ \"$CALICO_MANAGE_CNI\" != \"false\" ]; then\n        # Enable management of the CNI configuration unless otherwise instructed.\n        cp -a /etc/service/available/cni  /etc/service/enabled/\nfi\n\nif [ \"$CALICO_DISABLE_FILE_LOGGING\" = \"true\" ]; then\n        rm -rf /etc/service/enabled/allocate-tunnel-addrs/log\n        rm -rf /etc/service/enabled/bird/log\n        rm -rf /etc/service/enabled/bird6/log\n        rm -rf /etc/service/enabled/confd/log\n        rm -rf /etc/service/enabled/felix/log\n        rm -rf /etc/service/enabled/calico-bgp-daemon/log\n        rm -rf /etc/service/enabled/cni/log\n        rm -rf /etc/service/enabled/monitor-addresses/log\nfi\n\necho \"Calico node started successfully\"\n```\n\n\n#### /etc/service/enabled ç›®å½•\n```bash\n~#: ls ./etc/service/enabled\nallocate-tunnel-addrs  bird  bird6  cni  confd  felix  monitor-addresses\n~#: tree ./etc/service/enabled\n./etc/service/enabled\nâ”œâ”€â”€ allocate-tunnel-addrs\nâ”‚Â Â  â”œâ”€â”€ run \t\t\t# calico-node -allocate-tunnel-addrs\nâ”‚Â Â  â””â”€â”€ supervise\nâ”œâ”€â”€ bird\t\t\t\t\t# bird -R -s /var/run/calico/bird.ctl -d -c /etc/calico/confd/config/bird.cfg\nâ”‚Â Â  â”œâ”€â”€ run\nâ”‚Â Â  â””â”€â”€ supervise\nâ”œâ”€â”€ bird6\nâ”‚Â Â  â”œâ”€â”€ run\t\t\t\t# bird6 -R -s /var/run/calico/bird6.ctl -d -c /etc/calico/confd/config/bird6.cfg\nâ”‚Â Â  â””â”€â”€ supervise\nâ”œâ”€â”€ cni\nâ”‚Â Â  â”œâ”€â”€ run\t\t\t\t# calico-node -monitor-token\nâ”‚Â Â  â””â”€â”€ supervise\nâ”œâ”€â”€ confd\nâ”‚Â Â  â”œâ”€â”€ run\t\t\t\t# calico-node -confd\nâ”‚Â Â  â””â”€â”€ supervise\nâ”œâ”€â”€ felix\nâ”‚Â Â  â”œâ”€â”€ run\nâ”‚Â Â  â””â”€â”€ supervise\nâ””â”€â”€ monitor-addresses\n    â”œâ”€â”€ run\t\t\t\t# calico-node -monitor-addresses\n    â””â”€â”€ supervise\n    â”‚Â Â  â”œâ”€â”€ control\n    â”‚Â Â  â”œâ”€â”€ lock\n    â”‚Â Â  â”œâ”€â”€ ok\n    â”‚Â Â  â”œâ”€â”€ pid\n    â”‚Â Â  â”œâ”€â”€ stat\n    â”‚Â Â  â””â”€â”€ status\n    â””â”€â”€ log\n        â”œâ”€â”€ run\t\t\t\t# exec svlogd /var/log/calico/felix\n        â””â”€â”€ supervise\n            â”œâ”€â”€ control\n            â”œâ”€â”€ lock\n            â”œâ”€â”€ ok\n            â”œâ”€â”€ pid\n            â”œâ”€â”€ stat\n            â””â”€â”€ status\n```\n\n\nfelix æ‰§è¡Œå‘½ä»¤ï¼š\n```shell\n~#: cat /etc/service/enabled/felix/run\n#!/bin/sh\nexec 2\u003e\u00261\n# Felix doesn't understand NODENAME, but the container exports it as a common\n# interface. This ensures Felix gets the right name for the node.\nif [ ! -z $NODENAME ]; then\n    export FELIX_FELIXHOSTNAME=$NODENAME\nfi\nexport FELIX_ETCDADDR=$ETCD_AUTHORITY\nexport FELIX_ETCDENDPOINTS=$ETCD_ENDPOINTS\nexport FELIX_ETCDSCHEME=$ETCD_SCHEME\nexport FELIX_ETCDCAFILE=$ETCD_CA_CERT_FILE\nexport FELIX_ETCDKEYFILE=$ETCD_KEY_FILE\nexport FELIX_ETCDCERTFILE=$ETCD_CERT_FILE\n# Felix hangs if DATASTORETYPE is empty: see projectcalico/felix issue #1156.\nif [ ! -z $DATASTORE_TYPE ]; then\n    export FELIX_DATASTORETYPE=$DATASTORE_TYPE\nfi\nexec calico-node -felix\n```\n\n## calico æ¶æ„\n![upgit_20221116_1668569857.png](https://images.ryken.cloud/2022/11/upgit_20221116_1668569857.png)\n\nå¯ä»¥çœ‹åˆ°å®¹å™¨ä¸­è¿è¡Œçš„å››ä¸ªä¸»è¦è¿›ç¨‹ä¸ºï¼š\n-   `calico-node -felix`\n-   `calico-node -confd`\n-   `bird -R -s /var/run/calico/bird.ctl -d -c /etc/calico/confd/config/bird.cfg`\n-   `bird6 -R -s /var/run/calico/bird6.ctl -d -c /etc/calico/confd/config/bird6.cfg`\n\n1.  bird ä½œä¸º BGP Clientï¼Œä¸»è¦è´Ÿè´£è·¯ç”±ä¿¡æ¯åˆ†å‘ï¼Œå½“ Felix å°†è·¯ç”±æ’å…¥Linuxå†…æ ¸ FIB æ—¶ï¼ŒBGP å®¢æˆ·ç«¯å°†æ¥æ”¶å®ƒä»¬å¹¶å°†å®ƒä»¬åˆ†å‘åˆ°é›†ç¾¤ä¸­çš„å…¶ä»–å·¥ä½œèŠ‚ç‚¹\n2.  felix ä½œä¸º Calico çš„æ ¸å¿ƒ agentï¼Œè¿è¡Œåœ¨æ¯å° workload èŠ‚ç‚¹ï¼Œä¸»è¦è´Ÿè´£é…ç½®è·¯ç”±åŠ ACLs ç­‰ä¿¡æ¯ï¼Œç¡®ä¿ endpoint çš„è¿é€šçŠ¶æ€\n3.  k8s ä¸­çš„ calico çš„å­˜å‚¨é…ä¸º \"datastore_type\": \"kubernetes\"ï¼Œå› æ­¤å°±æ²¡æœ‰ etcd ç»„ä»¶\n4.  æ¶æ„å›¾ä¸­å°‘äº† confd ç»„ä»¶ï¼Œconfd è´Ÿè´£è¯»å–é…ç½®ï¼Œå¹¶å°†é…ç½®å†™å…¥ birdï¼Œæ¯”å¦‚ `/etc/calico/confd/config/` æ–‡ä»¶ä¸­çš„ bird.cfgã€bird_aggr.cfgã€bird_ipam.cfg æ–‡ä»¶éƒ½æ˜¯ confd ç»„ä»¶å†™è¿›å»çš„\n\n## å¯åŠ¨å‘½ä»¤åˆ†æ\n\n### calico-node -startup\n\n### calico-node -felix\n\n### calico-node -confd\n\n### calico-node -allocate-tunnel-addrs\n\n### calico-node -monitor-addresses\n\n### calico-node -monitor-token\n\n  \n\nå‚è€ƒï¼š [http://www.asznl.com/post/86](http://www.asznl.com/post/86)\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E7%BB%84%E7%BD%91.excalidraw":{"title":"","content":"==âš   Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš ==\n\n\n# Text Elements\n45.120.216.46 ^ZNmnY1tc\n\n192.168.0.1 ^8cHK23kk\n\n192.168.0.2 ^oyruRy74\n\n169.254.1.250/30 ^6e3LvA2F\n\n169.254.1.249/30 ^3zAp35zx\n\ncloud ^omv5kiNm\n\nAS 100000  10.10.10.10 ^hqh4ITJZ\n\nAS 200000 10.10.10.11 ^FwDCDFHz\n\n%%\n# Drawing\n```json\n{\n\t\"type\": \"excalidraw\",\n\t\"version\": 2,\n\t\"source\": \"https://excalidraw.com\",\n\t\"elements\": [\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 86,\n\t\t\t\"versionNonce\": 2035406036,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"ZNmnY1tc\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -167.25,\n\t\t\t\"y\": -319.49218749999994,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 134,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1525454410,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941058389,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"45.120.216.46\",\n\t\t\t\"rawText\": \"45.120.216.46\",\n\t\t\t\"baseline\": 18,\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"45.120.216.46\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 3263,\n\t\t\t\"versionNonce\": 906440556,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"t5lRr2TUpGx4AbBtHcHlR\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 4,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -108.68535438014408,\n\t\t\t\"y\": -358.3320777739163,\n\t\t\t\"strokeColor\": \"transparent\",\n\t\t\t\"backgroundColor\": \"#4c6ef5\",\n\t\t\t\"width\": 113.79045745285958,\n\t\t\t\"height\": 50.176544402543314,\n\t\t\t\"seed\": 622327916,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": {\n\t\t\t\t\"type\": 2\n\t\t\t},\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941253694,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-4.216730742334619,\n\t\t\t\t\t2.288350097457297\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-9.8029550721742,\n\t\t\t\t\t3.508398846569264\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-16.162114055095657,\n\t\t\t\t\t3.376704768607482\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-21.403530245666076,\n\t\t\t\t\t1.7865286394877415\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-26.159832835981263,\n\t\t\t\t\t-1.4421975526654478\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-28.50159629837151,\n\t\t\t\t\t-5.195787694602615\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-29.47626562952803,\n\t\t\t\t\t-4.3375843267167795\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-32.92862056361761,\n\t\t\t\t\t-3.124893758405136\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-36.78804795894365,\n\t\t\t\t\t-3.0732658668884056\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-40.930226967621195,\n\t\t\t\t\t-4.23409611814013\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-43.11486917172556,\n\t\t\t\t\t-5.606789607140641\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-44.79637832945903,\n\t\t\t\t\t-7.650978142648697\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-45.15242313812925,\n\t\t\t\t\t-8.835736456454981\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-44.89237579222248,\n\t\t\t\t\t-9.996263620099512\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-46.13415304454463,\n\t\t\t\t\t-8.716011909774537\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-50.46666354212337,\n\t\t\t\t\t-8.814540265940664\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-55.323882973413504,\n\t\t\t\t\t-10.686409156620527\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-57.62191317804525,\n\t\t\t\t\t-13.385388727932863\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-58.2417969950975,\n\t\t\t\t\t-16.19155141482767\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-57.718930873348654,\n\t\t\t\t\t-18.47808580349684\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-55.79839911061083,\n\t\t\t\t\t-20.35591229199808\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-53.99292791978374,\n\t\t\t\t\t-21.755086476494043\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-51.068405193130644,\n\t\t\t\t\t-22.755545670024375\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-47.86546694018983,\n\t\t\t\t\t-22.927874924065307\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-46.11156271169358,\n\t\t\t\t\t-22.271117565830068\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-47.18532634922474,\n\t\t\t\t\t-23.65045792666352\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-46.55637144915008,\n\t\t\t\t\t-26.87583850307952\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-44.63468395735822,\n\t\t\t\t\t-30.11736777574133\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-41.63514210320449,\n\t\t\t\t\t-33.153558112786456\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-37.85635291301446,\n\t\t\t\t\t-34.91935404555686\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-33.936127904700015,\n\t\t\t\t\t-35.70407756510126\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-28.772481410976155,\n\t\t\t\t\t-35.768296833663484\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-24.98238116805058,\n\t\t\t\t\t-35.08667641398502\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-21.623745162163203,\n\t\t\t\t\t-33.69431218998021\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-20.21451031590078,\n\t\t\t\t\t-32.23764524931964\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-20.21105504347105,\n\t\t\t\t\t-33.66217424295307\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-18.636006836355733,\n\t\t\t\t\t-36.143530127163004\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-15.474861493504733,\n\t\t\t\t\t-38.9399502491364\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-12.339396370804167,\n\t\t\t\t\t-41.14772155865377\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-8.398161717485863,\n\t\t\t\t\t-43.090364863672804\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-4.102908588485803,\n\t\t\t\t\t-44.38308759354935\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t2.3082620302106136,\n\t\t\t\t\t-45.242422649591575\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t8.511937582134351,\n\t\t\t\t\t-44.643809240679516\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t14.550745008651376,\n\t\t\t\t\t-43.17324521215441\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t19.846700635392153,\n\t\t\t\t\t-40.572132372837885\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t22.45789369790694,\n\t\t\t\t\t-38.711698851262994\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t24.78263276126296,\n\t\t\t\t\t-36.64500250446427\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t25.36564445275448,\n\t\t\t\t\t-34.74674166405582\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t26.62592925625205,\n\t\t\t\t\t-35.63317499833282\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t30.36057833404641,\n\t\t\t\t\t-36.300107063402564\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t34.865308346994425,\n\t\t\t\t\t-36.03096907998044\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t38.7588602407822,\n\t\t\t\t\t-34.59340281187487\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t42.3937830074144,\n\t\t\t\t\t-32.19228823018811\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t44.08390370117297,\n\t\t\t\t\t-29.029337258756655\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t44.64508363111706,\n\t\t\t\t\t-26.958325453405607\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t44.12782537680593,\n\t\t\t\t\t-23.89530804442977\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t45.071122693282746,\n\t\t\t\t\t-24.75713909255576\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t47.5565517825097,\n\t\t\t\t\t-24.609811483399213\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t51.29971592247571,\n\t\t\t\t\t-23.39171668161036\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t54.11465885417563,\n\t\t\t\t\t-21.219071058897995\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t55.54866045776208,\n\t\t\t\t\t-18.10812017090224\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t55.19207634301182,\n\t\t\t\t\t-15.159443041675075\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t53.62393868075601,\n\t\t\t\t\t-13.204492633002431\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t52.24687361228784,\n\t\t\t\t\t-12.090517209647274\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t50.731200488879125,\n\t\t\t\t\t-12.068212726357856\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t52.936188547290485,\n\t\t\t\t\t-11.25540445290143\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t54.43305227963336,\n\t\t\t\t\t-10.052279643036982\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t54.51548634233667,\n\t\t\t\t\t-7.861227755119515\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t53.09774437705761,\n\t\t\t\t\t-5.990094995836287\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t51.2499758857973,\n\t\t\t\t\t-5.177960267706354\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t49.097396764148,\n\t\t\t\t\t-5.041424285218838\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t47.24804758504055,\n\t\t\t\t\t-5.378036012851538\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t44.92048870165567,\n\t\t\t\t\t-7.189479542936468\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t45.58031070210281,\n\t\t\t\t\t-5.654585975154021\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t44.56535421269493,\n\t\t\t\t\t-3.5269814609334844\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t43.90110390332923,\n\t\t\t\t\t-2.2750067331647585\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t41.58553918401084,\n\t\t\t\t\t0.37935791099063465\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t39.37021708093023,\n\t\t\t\t\t2.051422262829334\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t34.16990498367596,\n\t\t\t\t\t4.361036009942225\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t29.252265943795265,\n\t\t\t\t\t4.934121752951739\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t23.85777547914401,\n\t\t\t\t\t4.3974432210410015\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t18.640075815570867,\n\t\t\t\t\t2.9140639495783915\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t15.790778738448722,\n\t\t\t\t\t0.4431182150383961\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t15.644553197852673,\n\t\t\t\t\t1.6294908201233511\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t12.441229701893803,\n\t\t\t\t\t3.0649917479136377\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t8.47601466359751,\n\t\t\t\t\t3.569003331489867\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t4.7335376065398975,\n\t\t\t\t\t3.056745288097801\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t1.0887772424266586,\n\t\t\t\t\t1.377400090097126\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 439,\n\t\t\t\"versionNonce\": 1527182036,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"atlDc8M1LPtq2qq3jEp6L\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 2,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -248.409090909091,\n\t\t\t\"y\": -162.8804577989623,\n\t\t\t\"strokeColor\": \"#0000\",\n\t\t\t\"backgroundColor\": \"#0000\",\n\t\t\t\"width\": 77.318181818182,\n\t\t\t\"height\": 97.48814229249031,\n\t\t\t\"seed\": 682218580,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"zZ4Yb0W5GxSWQ4fXF29jr\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 679,\n\t\t\t\"versionNonce\": 1932874860,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"LEj0bdJjKE9wzBzsNMX26\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 2,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -244.72790631236288,\n\t\t\t\"y\": -101.75212983368856,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 71.48422388079133,\n\t\t\t\"height\": 58.52509557491687,\n\t\t\t\"seed\": 1858816748,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"Ny_vezFBqFPEMwWQXauUI\",\n\t\t\t\t\"X07Z7xMtD857_pZPFTL4l\",\n\t\t\t\t\"zZ4Yb0W5GxSWQ4fXF29jr\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0.2090181984818818,\n\t\t\t\t\t14.840292092211069\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t36.36916653584128,\n\t\t\t\t\t36.78720293280486\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t70.23011468990043,\n\t\t\t\t\t16.72145587854774\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t71.48422388079133,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t35.11505734495016,\n\t\t\t\t\t-21.73789264211201\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 529,\n\t\t\t\"versionNonce\": 80312404,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"CcKZUJILA_JD2rSBoeM5W\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 2,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -208.56775797499978,\n\t\t\t\"y\": -66.42805429025456,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 8.792168664317967e-14,\n\t\t\t\"height\": 14.213237496765503,\n\t\t\t\"seed\": 781461972,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"Ny_vezFBqFPEMwWQXauUI\",\n\t\t\t\t\"X07Z7xMtD857_pZPFTL4l\",\n\t\t\t\t\"zZ4Yb0W5GxSWQ4fXF29jr\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t8.792168664317967e-14,\n\t\t\t\t\t-14.213237496765503\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 545,\n\t\t\t\"versionNonce\": 552068844,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"FckJq6aEWNsR3moPT8fo1\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 2,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -244.30986991539746,\n\t\t\t\"y\": -101.3340934367249,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 70.02109649141835,\n\t\t\t\"height\": 20.483783451220813,\n\t\t\t\"seed\": 1400573292,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"Ny_vezFBqFPEMwWQXauUI\",\n\t\t\t\t\"X07Z7xMtD857_pZPFTL4l\",\n\t\t\t\t\"zZ4Yb0W5GxSWQ4fXF29jr\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t35.74211194039572,\n\t\t\t\t\t20.483783451220813\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t70.02109649141835,\n\t\t\t\t\t1.0450909924092335\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 478,\n\t\t\t\"versionNonce\": 790580692,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"l4rFExipXTIa4jXD11JM6\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 2,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -205.43248499777349,\n\t\t\t\"y\": -73.74369123711963,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 16.79997147156209,\n\t\t\t\"height\": 9.405818931683031,\n\t\t\t\"seed\": 2140655444,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"Ny_vezFBqFPEMwWQXauUI\",\n\t\t\t\t\"X07Z7xMtD857_pZPFTL4l\",\n\t\t\t\t\"zZ4Yb0W5GxSWQ4fXF29jr\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t16.79997147156209,\n\t\t\t\t\t-9.405818931683031\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 791,\n\t\t\t\"versionNonce\": 1336158572,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"MAgZ9iB1ileuXPSPHXBUh\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -185.43833234294289,\n\t\t\t\"y\": -86.72195120969687,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 8.738046505364371,\n\t\t\t\"height\": 8.838483821518082,\n\t\t\t\"seed\": 1108246508,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"Ny_vezFBqFPEMwWQXauUI\",\n\t\t\t\t\"X07Z7xMtD857_pZPFTL4l\",\n\t\t\t\t\"zZ4Yb0W5GxSWQ4fXF29jr\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0.10043731615362356,\n\t\t\t\t\t3.8166180138373464\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t8.08092662060516,\n\t\t\t\t\t-1.3716664299134897\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t8.738046505364371,\n\t\t\t\t\t-5.0218658076807365\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 730,\n\t\t\t\"versionNonce\": 186544980,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"Jkb_370HXIjsAIkA4W76D\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 2,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -244.88573638059813,\n\t\t\t\"y\": -121.45752469878295,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 71.48422388079133,\n\t\t\t\"height\": 58.525095574916875,\n\t\t\t\"seed\": 202032340,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"0Ty8APAjoznHnfjBbXNwC\",\n\t\t\t\t\"X07Z7xMtD857_pZPFTL4l\",\n\t\t\t\t\"zZ4Yb0W5GxSWQ4fXF29jr\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0.2090181984818818,\n\t\t\t\t\t14.840292092211074\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t36.36916653584128,\n\t\t\t\t\t36.78720293280485\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t70.23011468990043,\n\t\t\t\t\t16.721455878547747\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t71.48422388079133,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t35.11505734495016,\n\t\t\t\t\t-21.737892642112026\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 606,\n\t\t\t\"versionNonce\": 313793516,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"3SEQP9KNcsnFrWA9TF-p6\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 2,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -208.72558804324825,\n\t\t\t\"y\": -86.13344915535251,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 8.792168664317967e-14,\n\t\t\t\"height\": 14.213237496765503,\n\t\t\t\"seed\": 579838572,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"0Ty8APAjoznHnfjBbXNwC\",\n\t\t\t\t\"X07Z7xMtD857_pZPFTL4l\",\n\t\t\t\t\"zZ4Yb0W5GxSWQ4fXF29jr\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t8.792168664317967e-14,\n\t\t\t\t\t-14.213237496765503\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 622,\n\t\t\t\"versionNonce\": 924641492,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"0J1ehAkH8yfvxyrY9gAZY\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 2,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -244.4676999836403,\n\t\t\t\"y\": -121.0394883018198,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 70.02109649141835,\n\t\t\t\"height\": 20.483783451220813,\n\t\t\t\"seed\": 1233324628,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"0Ty8APAjoznHnfjBbXNwC\",\n\t\t\t\t\"X07Z7xMtD857_pZPFTL4l\",\n\t\t\t\t\"zZ4Yb0W5GxSWQ4fXF29jr\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t35.74211194039572,\n\t\t\t\t\t20.483783451220813\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t70.02109649141835,\n\t\t\t\t\t1.0450909924092335\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 552,\n\t\t\t\"versionNonce\": 69320300,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"mrNLxxQkf7E4RsGNzD8id\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 2,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -205.59031506601684,\n\t\t\t\"y\": -93.44908610221543,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 17.55752867247509,\n\t\t\t\"height\": 9.405818931683012,\n\t\t\t\"seed\": 1271428332,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"0Ty8APAjoznHnfjBbXNwC\",\n\t\t\t\t\"X07Z7xMtD857_pZPFTL4l\",\n\t\t\t\t\"zZ4Yb0W5GxSWQ4fXF29jr\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t17.55752867247509,\n\t\t\t\t\t-9.405818931683012\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 864,\n\t\t\t\"versionNonce\": 380677716,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"TcYNEkJev-iRdOyclm9Zx\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -185.02799451049972,\n\t\t\t\"y\": -106.9955139754768,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 7.393382473743931,\n\t\t\t\"height\": 8.435084612031666,\n\t\t\t\"seed\": 181837780,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"0Ty8APAjoznHnfjBbXNwC\",\n\t\t\t\t\"X07Z7xMtD857_pZPFTL4l\",\n\t\t\t\t\"zZ4Yb0W5GxSWQ4fXF29jr\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0.10043731615362356,\n\t\t\t\t\t3.8166180138373447\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t7.224886983573539,\n\t\t\t\t\t-0.4000993197426678\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t7.393382473743931,\n\t\t\t\t\t-4.618466598194321\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 761,\n\t\t\t\"versionNonce\": 1823936748,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"_E0LISrulU0SbPVqj6X-q\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 2,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -245.04356644884606,\n\t\t\t\"y\": -140.89398675755382,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 71.48422388079133,\n\t\t\t\"height\": 58.525095574916875,\n\t\t\t\"seed\": 725809004,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"2k3I4xMp3c4a0Ddz36NSx\",\n\t\t\t\t\"X07Z7xMtD857_pZPFTL4l\",\n\t\t\t\t\"zZ4Yb0W5GxSWQ4fXF29jr\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0.2090181984818818,\n\t\t\t\t\t14.840292092211074\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t36.36916653584128,\n\t\t\t\t\t36.78720293280485\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t70.23011468990043,\n\t\t\t\t\t16.721455878547747\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t71.48422388079133,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t35.11505734495016,\n\t\t\t\t\t-21.737892642112026\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 637,\n\t\t\t\"versionNonce\": 716162004,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"ejbgJQTIAkZp4g6khRMuY\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 2,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -208.88341811148172,\n\t\t\t\"y\": -105.5699112141244,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 8.792168664317967e-14,\n\t\t\t\"height\": 14.213237496765503,\n\t\t\t\"seed\": 1478198612,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"2k3I4xMp3c4a0Ddz36NSx\",\n\t\t\t\t\"X07Z7xMtD857_pZPFTL4l\",\n\t\t\t\t\"zZ4Yb0W5GxSWQ4fXF29jr\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t8.792168664317967e-14,\n\t\t\t\t\t-14.213237496765503\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 653,\n\t\t\t\"versionNonce\": 1811813228,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"mcYZx4WrFeYfzpVnPS9Mx\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 2,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -244.6255300518743,\n\t\t\t\"y\": -140.47595036059144,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 70.02109649141835,\n\t\t\t\"height\": 20.483783451220813,\n\t\t\t\"seed\": 1833511404,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"2k3I4xMp3c4a0Ddz36NSx\",\n\t\t\t\t\"X07Z7xMtD857_pZPFTL4l\",\n\t\t\t\t\"zZ4Yb0W5GxSWQ4fXF29jr\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t35.74211194039572,\n\t\t\t\t\t20.483783451220813\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t70.02109649141835,\n\t\t\t\t\t1.0450909924092335\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 583,\n\t\t\t\"versionNonce\": 1764763988,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"5fMlXHpUR31CyA7qPEKTh\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 2,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -205.7481451342549,\n\t\t\t\"y\": -112.88554816098872,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 17.55752867247509,\n\t\t\t\"height\": 9.405818931683012,\n\t\t\t\"seed\": 1185397460,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"2k3I4xMp3c4a0Ddz36NSx\",\n\t\t\t\t\"X07Z7xMtD857_pZPFTL4l\",\n\t\t\t\t\"zZ4Yb0W5GxSWQ4fXF29jr\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t17.55752867247509,\n\t\t\t\t\t-9.405818931683012\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 889,\n\t\t\t\"versionNonce\": 541115884,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"VZFFecSn46YrXT-nfT8YG\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -185.18582457874209,\n\t\t\t\"y\": -126.4319760342483,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 8.065714489554056,\n\t\t\t\"height\": 8.300618208869732,\n\t\t\t\"seed\": 618990700,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"2k3I4xMp3c4a0Ddz36NSx\",\n\t\t\t\t\"X07Z7xMtD857_pZPFTL4l\",\n\t\t\t\t\"zZ4Yb0W5GxSWQ4fXF29jr\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0.10043731615362356,\n\t\t\t\t\t3.8166180138373447\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t7.628286193059492,\n\t\t\t\t\t-0.26563291658042865\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t8.065714489554056,\n\t\t\t\t\t-4.4840001950323884\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 2940,\n\t\t\t\"versionNonce\": 361225940,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"PzriWDv1TErBRNZQLxBMD\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 2,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -142.85383040006124,\n\t\t\t\"y\": -271.8691348307059,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 82.41909999259038,\n\t\t\t\"height\": 51.90458747264764,\n\t\t\t\"seed\": 925794516,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"QRmwbehXftGGUjrpC_AgC\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": {\n\t\t\t\t\"type\": 2\n\t\t\t},\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-4.263056896168563,\n\t\t\t\t\t3.8891045368552253\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-4.562218783618921,\n\t\t\t\t\t9.236623275031508\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-3.965683602947778,\n\t\t\t\t\t21.6144463682926\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-2.393295099603462,\n\t\t\t\t\t28.121217420339203\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t1.4597556469928976,\n\t\t\t\t\t33.132179035134115\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t7.080554203367185,\n\t\t\t\t\t38.27385113113785\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t13.979975232692777,\n\t\t\t\t\t41.57298494550241\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t21.98839872760582,\n\t\t\t\t\t43.82721651148629\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t34.254036113072715,\n\t\t\t\t\t45.32302594873841\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t46.220511611089634,\n\t\t\t\t\t44.799492645700276\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t59.60800607449558,\n\t\t\t\t\t41.36248591466106\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t70.34178023245198,\n\t\t\t\t\t35.33536791517793\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t76.88371077764185,\n\t\t\t\t\t27.483262666719778\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t77.85688120897144,\n\t\t\t\t\t21.46486542456771\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t77.8194859730401,\n\t\t\t\t\t3.851709300923967\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t74.94005280632962,\n\t\t\t\t\t0.07479047186251794\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t65.06771052046592,\n\t\t\t\t\t-1.4958094372521877\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t15.032884844383384,\n\t\t\t\t\t-6.581561523909226\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"ellipse\",\n\t\t\t\"version\": 1105,\n\t\t\t\"versionNonce\": 1317611628,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"mzClvEaxHJVV4EUwSfN2G\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 2,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -147.73831448232846,\n\t\t\t\"y\": -293.4112579713444,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 82.97662896465694,\n\t\t\t\"height\": 52.13575802204088,\n\t\t\t\"seed\": 2039850604,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"QRmwbehXftGGUjrpC_AgC\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 2330,\n\t\t\t\"versionNonce\": 407692372,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"HWDc8U2e5QGQKQvsk9h4C\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 3.141592653589793,\n\t\t\t\"x\": -117.34430136663107,\n\t\t\t\"y\": -270.94289346377406,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#495057\",\n\t\t\t\"width\": 20.360567490766464,\n\t\t\t\"height\": 15.469957396649688,\n\t\t\t\"seed\": 1355761236,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"bEBs2N3l0Ee-9wfi5xdLo\",\n\t\t\t\t\"uHe9CFzqgvpNdAYm3NcZ0\",\n\t\t\t\t\"EpyvbSzAnYgz0MbQ9WghX\",\n\t\t\t\t\"QRmwbehXftGGUjrpC_AgC\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-9.455704368768428,\n\t\t\t\t\t-7.66384686585188\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-14.245371220763152,\n\t\t\t\t\t-4.88690867413981\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-14.35050952124113,\n\t\t\t\t\t-15.469957396649688\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-1.0190934898237074,\n\t\t\t\t\t-14.49729280245051\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-5.500521587033855,\n\t\t\t\t\t-11.041970772852789\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t6.010057969525337,\n\t\t\t\t\t-2.8750268125880125\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 2185,\n\t\t\t\"versionNonce\": 178338540,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"4iGJHUfU2OiCmVrtH5znu\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -88.455916009366,\n\t\t\t\"y\": -248.8422294941729,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#495057\",\n\t\t\t\"width\": 19.671727618464995,\n\t\t\t\"height\": 15.831064817451434,\n\t\t\t\"seed\": 1533933804,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"_MYhwIAfuK8PvFLSVIbWl\",\n\t\t\t\t\"MDDsEuPHSTpmZcDWoE_C6\",\n\t\t\t\t\"ao96_OyQnLBWCfUwcf63H\",\n\t\t\t\t\"QRmwbehXftGGUjrpC_AgC\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-10.415734979873523,\n\t\t\t\t\t-8.170334762499595\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-15.116199399576256,\n\t\t\t\t\t-3.958813102304104\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-15.21937961143986,\n\t\t\t\t\t-15.831064817451434\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-2.136246972718653,\n\t\t\t\t\t-14.876515063028718\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-6.53421325540915,\n\t\t\t\t\t-11.485544717779163\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t4.452348007025134,\n\t\t\t\t\t-4.089993444974253\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 2399,\n\t\t\t\"versionNonce\": 1465203156,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"wl2yr0BvQ-vsHYv3Djce-\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 3.141592653589793,\n\t\t\t\"x\": -126.06027604189823,\n\t\t\t\"y\": -249.64311994331234,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#495057\",\n\t\t\t\"width\": 19.671727618464992,\n\t\t\t\"height\": 15.831064817451434,\n\t\t\t\"seed\": 1429953492,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"jd6jlioR3UQkucGmbQVsD\",\n\t\t\t\t\"TpT8C3UMxKlXygsUrqmkC\",\n\t\t\t\t\"Sis5DAdI64aiokDIZ6G9G\",\n\t\t\t\t\"QRmwbehXftGGUjrpC_AgC\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t10.415734979873497,\n\t\t\t\t\t-8.170334762499614\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t15.11619939957623,\n\t\t\t\t\t-3.9588131023041018\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t15.219379611439848,\n\t\t\t\t\t-15.831064817451434\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t2.1362469727186317,\n\t\t\t\t\t-14.876515063028702\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t6.534213255409135,\n\t\t\t\t\t-11.485544717779138\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-4.4523480070251455,\n\t\t\t\t\t-4.089993444974279\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 2444,\n\t\t\t\"versionNonce\": 1595080044,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"m0Qb15zETBQd4ywldh_7x\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -101.00023727225046,\n\t\t\t\"y\": -269.42439829939997,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#495057\",\n\t\t\t\"width\": 19.671727618464992,\n\t\t\t\"height\": 15.831064817451434,\n\t\t\t\"seed\": 865598316,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"0p08aln1cOPYu7-L_qd3i\",\n\t\t\t\t\"mYCh0p1nOajhnb9pJ8DRI\",\n\t\t\t\t\"yvAhcy5YjkzwQDcJEIHF2\",\n\t\t\t\t\"QRmwbehXftGGUjrpC_AgC\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t10.415734979873497,\n\t\t\t\t\t-8.170334762499614\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t15.11619939957623,\n\t\t\t\t\t-3.9588131023041018\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t15.219379611439848,\n\t\t\t\t\t-15.831064817451434\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t2.1362469727186317,\n\t\t\t\t\t-14.876515063028702\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t6.534213255409135,\n\t\t\t\t\t-11.485544717779138\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-4.4523480070251455,\n\t\t\t\t\t-4.089993444974279\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 2972,\n\t\t\t\"versionNonce\": 230088532,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"P0ZVq0HJRwAdYraahcWX_\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 2,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -12.853830400061241,\n\t\t\t\"y\": -127.92040064198994,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 82.41909999259038,\n\t\t\t\"height\": 51.90458747264764,\n\t\t\t\"seed\": 1329102828,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"fwzSJmLOjzIwAXg-dWws7\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": {\n\t\t\t\t\"type\": 2\n\t\t\t},\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-4.263056896168563,\n\t\t\t\t\t3.8891045368552253\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-4.562218783618921,\n\t\t\t\t\t9.236623275031508\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-3.965683602947778,\n\t\t\t\t\t21.6144463682926\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-2.393295099603462,\n\t\t\t\t\t28.121217420339203\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t1.4597556469928976,\n\t\t\t\t\t33.132179035134115\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t7.080554203367185,\n\t\t\t\t\t38.27385113113785\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t13.979975232692777,\n\t\t\t\t\t41.57298494550241\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t21.98839872760582,\n\t\t\t\t\t43.82721651148629\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t34.254036113072715,\n\t\t\t\t\t45.32302594873841\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t46.220511611089634,\n\t\t\t\t\t44.799492645700276\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t59.60800607449558,\n\t\t\t\t\t41.36248591466106\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t70.34178023245198,\n\t\t\t\t\t35.33536791517793\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t76.88371077764185,\n\t\t\t\t\t27.483262666719778\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t77.85688120897144,\n\t\t\t\t\t21.46486542456771\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t77.8194859730401,\n\t\t\t\t\t3.851709300923967\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t74.94005280632962,\n\t\t\t\t\t0.07479047186251794\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t65.06771052046592,\n\t\t\t\t\t-1.4958094372521877\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t15.032884844383384,\n\t\t\t\t\t-6.581561523909226\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"ellipse\",\n\t\t\t\"version\": 1137,\n\t\t\t\"versionNonce\": 1965584364,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"NAyZzkykTo_JisCMT5vTq\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 2,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -17.738314482328462,\n\t\t\t\"y\": -149.46252378262847,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#ced4da\",\n\t\t\t\"width\": 82.97662896465694,\n\t\t\t\"height\": 52.13575802204088,\n\t\t\t\"seed\": 1048626388,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"fwzSJmLOjzIwAXg-dWws7\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 2362,\n\t\t\t\"versionNonce\": 600298708,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"3Iav5nH6tIeTRk6nooZcP\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 3.141592653589793,\n\t\t\t\"x\": 12.655698633368928,\n\t\t\t\"y\": -126.99415927505805,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#495057\",\n\t\t\t\"width\": 20.360567490766464,\n\t\t\t\"height\": 15.469957396649688,\n\t\t\t\"seed\": 2054791788,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"rZ88gk7bv4OByaugeXqDP\",\n\t\t\t\t\"SE0RLSOeZw7ZKf5iUEo-h\",\n\t\t\t\t\"7WrbKbApIpOcpCJ-OwGLX\",\n\t\t\t\t\"fwzSJmLOjzIwAXg-dWws7\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-9.455704368768428,\n\t\t\t\t\t-7.66384686585188\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-14.245371220763152,\n\t\t\t\t\t-4.88690867413981\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-14.35050952124113,\n\t\t\t\t\t-15.469957396649688\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-1.0190934898237074,\n\t\t\t\t\t-14.49729280245051\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-5.500521587033855,\n\t\t\t\t\t-11.041970772852789\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t6.010057969525337,\n\t\t\t\t\t-2.8750268125880125\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 2216,\n\t\t\t\"versionNonce\": 1022071404,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"mOZ_1NgxYaRZPMaHJ2B8c\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 41.54408399063399,\n\t\t\t\"y\": -104.89349530545695,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#495057\",\n\t\t\t\"width\": 19.671727618464992,\n\t\t\t\"height\": 15.831064817451434,\n\t\t\t\"seed\": 1027148372,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"wwti91XQeHXkERTGId1Dz\",\n\t\t\t\t\"WkSDaxY_yHtlQyxcPw_yy\",\n\t\t\t\t\"PWL8ossu2Bqlgj9LCF3Jv\",\n\t\t\t\t\"fwzSJmLOjzIwAXg-dWws7\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-10.415734979873523,\n\t\t\t\t\t-8.170334762499595\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-15.116199399576256,\n\t\t\t\t\t-3.958813102304104\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-15.21937961143986,\n\t\t\t\t\t-15.831064817451434\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-2.136246972718653,\n\t\t\t\t\t-14.876515063028718\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-6.53421325540915,\n\t\t\t\t\t-11.485544717779163\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t4.452348007025134,\n\t\t\t\t\t-4.089993444974253\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 2431,\n\t\t\t\"versionNonce\": 119413332,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"I20CxGSHxJMcz9hy6ccgc\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 3.141592653589793,\n\t\t\t\"x\": 3.939723958101766,\n\t\t\t\"y\": -105.69438575459634,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#495057\",\n\t\t\t\"width\": 19.671727618464992,\n\t\t\t\"height\": 15.831064817451434,\n\t\t\t\"seed\": 376599788,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"72ENXDfSNdkY4YMhLXIbU\",\n\t\t\t\t\"yTULtFAM2bPAOyymKAh4R\",\n\t\t\t\t\"Mh6baXZUmyVB4MLs4ygtf\",\n\t\t\t\t\"fwzSJmLOjzIwAXg-dWws7\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t10.415734979873497,\n\t\t\t\t\t-8.170334762499614\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t15.11619939957623,\n\t\t\t\t\t-3.9588131023041018\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t15.219379611439848,\n\t\t\t\t\t-15.831064817451434\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t2.1362469727186317,\n\t\t\t\t\t-14.876515063028702\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t6.534213255409135,\n\t\t\t\t\t-11.485544717779138\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-4.4523480070251455,\n\t\t\t\t\t-4.089993444974279\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 2476,\n\t\t\t\"versionNonce\": 354837740,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"ECz4q8W2VGb2d4TYnbarT\",\n\t\t\t\"fillStyle\": \"solid\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 28.999762727749555,\n\t\t\t\"y\": -125.47566411068402,\n\t\t\t\"strokeColor\": \"#495057\",\n\t\t\t\"backgroundColor\": \"#495057\",\n\t\t\t\"width\": 19.671727618464992,\n\t\t\t\"height\": 15.831064817451434,\n\t\t\t\"seed\": 399286228,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"SHbLSte5xCdNtCoSKGRPy\",\n\t\t\t\t\"g24NALUJAQXt3txaQd5yP\",\n\t\t\t\t\"pAE2G6RlgnBWIzq3EezHc\",\n\t\t\t\t\"fwzSJmLOjzIwAXg-dWws7\",\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t10.415734979873497,\n\t\t\t\t\t-8.170334762499614\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t15.11619939957623,\n\t\t\t\t\t-3.9588131023041018\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t15.219379611439848,\n\t\t\t\t\t-15.831064817451434\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t2.1362469727186317,\n\t\t\t\t\t-14.876515063028702\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t6.534213255409135,\n\t\t\t\t\t-11.485544717779138\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-4.4523480070251455,\n\t\t\t\t\t-4.089993444974279\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 231,\n\t\t\t\"versionNonce\": 42971092,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"jboZH5XOzBHmzP2A9Rc7r\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -179.75,\n\t\t\t\"y\": -151.48828125,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 56,\n\t\t\t\"height\": 71,\n\t\t\t\"seed\": 747190380,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": {\n\t\t\t\t\"type\": 2\n\t\t\t},\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t56,\n\t\t\t\t\t-71\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 299,\n\t\t\t\"versionNonce\": 1935861612,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"GC0yOQUbVU2o3vVW4aeXa\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -5.634477272504,\n\t\t\t\"y\": -148.11070229103322,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 73.5,\n\t\t\t\"height\": 78.5,\n\t\t\t\"seed\": 1421800020,\n\t\t\t\"groupIds\": [\n\t\t\t\t\"_ey7TpMD_urvrH9WoVlLd\"\n\t\t\t],\n\t\t\t\"roundness\": {\n\t\t\t\t\"type\": 2\n\t\t\t},\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941237269,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-73.5,\n\t\t\t\t\t-78.5\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 369,\n\t\t\t\"versionNonce\": 1174967892,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"8cHK23kk\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -185.25,\n\t\t\t\"y\": -231.98828125,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 60,\n\t\t\t\"height\": 14,\n\t\t\t\"seed\": 1344836716,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675955898318,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 11.621621621621623,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"192.168.0.1\",\n\t\t\t\"rawText\": \"192.168.0.1\",\n\t\t\t\"baseline\": 10,\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"192.168.0.1\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 530,\n\t\t\t\"versionNonce\": 1831971052,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"oyruRy74\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -242.25,\n\t\t\t\"y\": -174.48828125,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 65,\n\t\t\t\"height\": 14,\n\t\t\t\"seed\": 1836470252,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675955898320,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 11.621621621621623,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"192.168.0.2\",\n\t\t\t\"rawText\": \"192.168.0.2\",\n\t\t\t\"baseline\": 10,\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"192.168.0.2\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 419,\n\t\t\t\"versionNonce\": 1992993748,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"6e3LvA2F\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -76.25,\n\t\t\t\"y\": -236.48828125,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 99,\n\t\t\t\"height\": 14,\n\t\t\t\"seed\": 396743380,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675955898322,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 11.621621621621623,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"169.254.1.250/30\",\n\t\t\t\"rawText\": \"169.254.1.250/30\",\n\t\t\t\"baseline\": 10,\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"169.254.1.250/30\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 464,\n\t\t\t\"versionNonce\": 828746604,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"3zAp35zx\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -1.25,\n\t\t\t\"y\": -163.98828125,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 99,\n\t\t\t\"height\": 14,\n\t\t\t\"seed\": 768367188,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675955898323,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 11.621621621621623,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"169.254.1.249/30\",\n\t\t\t\"rawText\": \"169.254.1.249/30\",\n\t\t\t\"baseline\": 10,\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"169.254.1.249/30\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"line\",\n\t\t\t\"version\": 65,\n\t\t\t\"versionNonce\": 465900012,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"0LNpt5_30wfb7gugWmI0T\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -106.5795454545455,\n\t\t\t\"y\": -321.2679256453449,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 2.5,\n\t\t\t\"height\": 34,\n\t\t\t\"seed\": 1266926060,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": {\n\t\t\t\t\"type\": 2\n\t\t\t},\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941250049,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": null,\n\t\t\t\"endBinding\": null,\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-2.5,\n\t\t\t\t\t-34\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 31,\n\t\t\t\"versionNonce\": 1215607788,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"omv5kiNm\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -133.0795454545455,\n\t\t\t\"y\": -387.7679256453449,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 50,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 250315604,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1675941261876,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"cloud\",\n\t\t\t\"rawText\": \"cloud\",\n\t\t\t\"baseline\": 18,\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"cloud\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 567,\n\t\t\t\"versionNonce\": 1688368492,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"hqh4ITJZ\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -53.454545454545496,\n\t\t\t\"y\": -272.7679256453449,\n\t\t\t\"strokeColor\": \"#c92a2a\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 130,\n\t\t\t\"height\": 14,\n\t\t\t\"seed\": 1610953556,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676021766993,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 11.621621621621623,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"AS 100000  10.10.10.10\",\n\t\t\t\"rawText\": \"AS 100000  10.10.10.10\",\n\t\t\t\"baseline\": 10,\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 100000  10.10.10.10\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 516,\n\t\t\t\"versionNonce\": 888190932,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"FwDCDFHz\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 73.5454545454545,\n\t\t\t\"y\": -128.26792564534492,\n\t\t\t\"strokeColor\": \"#c92a2a\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 125,\n\t\t\t\"height\": 14,\n\t\t\t\"seed\": 387335764,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676021771348,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 11.621621621621623,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"AS 200000 10.10.10.11\",\n\t\t\t\"rawText\": \"AS 200000 10.10.10.11\",\n\t\t\t\"baseline\": 10,\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 200000 10.10.10.11\"\n\t\t}\n\t],\n\t\"appState\": {\n\t\t\"theme\": \"light\",\n\t\t\"viewBackgroundColor\": \"#ffffff\",\n\t\t\"currentItemStrokeColor\": \"#c92a2a\",\n\t\t\"currentItemBackgroundColor\": \"transparent\",\n\t\t\"currentItemFillStyle\": \"hachure\",\n\t\t\"currentItemStrokeWidth\": 1,\n\t\t\"currentItemStrokeStyle\": \"solid\",\n\t\t\"currentItemRoughness\": 1,\n\t\t\"currentItemOpacity\": 100,\n\t\t\"currentItemFontFamily\": 1,\n\t\t\"currentItemFontSize\": 20,\n\t\t\"currentItemTextAlign\": \"left\",\n\t\t\"currentItemStartArrowhead\": null,\n\t\t\"currentItemEndArrowhead\": \"arrow\",\n\t\t\"scrollX\": 372.05681818181824,\n\t\t\"scrollY\": 476.2757381453449,\n\t\t\"zoom\": {\n\t\t\t\"value\": 2\n\t\t},\n\t\t\"currentItemRoundness\": \"round\",\n\t\t\"gridSize\": null,\n\t\t\"colorPalette\": {},\n\t\t\"currentStrokeOptions\": null,\n\t\t\"previousGridSize\": null\n\t},\n\t\"files\": {}\n}\n```\n%%","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/%E7%BD%91%E5%8D%A1%E5%A4%9A%E9%98%9F%E5%88%97-+-%E4%B8%AD%E6%96%AD%E7%BB%91%E5%AE%9A":{"title":"","content":"#ç½‘å¡å¤šé˜Ÿåˆ— #network #irqbalance\n\nå•CPUå¤„ç†ç½‘ç»œIOå­˜åœ¨ç“¶é¢ˆ, ç›®å‰ç»å¸¸ä½¿ç”¨ç½‘å¡å¤šé˜Ÿåˆ—æé«˜æ€§èƒ½.\n\né€šå¸¸æƒ…å†µä¸‹, æ¯å¼ ç½‘å¡æœ‰ä¸€ä¸ªé˜Ÿåˆ—(queue), æ‰€æœ‰æ”¶åˆ°çš„åŒ…ä»è¿™ä¸ªé˜Ÿåˆ—å…¥, å†…æ ¸ä»è¿™ä¸ªé˜Ÿåˆ—é‡Œå–æ•°æ®å¤„ç†. è¯¥é˜Ÿåˆ—å…¶å®æ˜¯ring buffer(ç¯å½¢é˜Ÿåˆ—), å†…æ ¸å¦‚æœå–æ•°æ®ä¸åŠæ—¶, åˆ™ä¼šå­˜åœ¨ä¸¢åŒ…çš„æƒ…å†µ.  \nä¸€ä¸ªCPUå¤„ç†ä¸€ä¸ªé˜Ÿåˆ—çš„æ•°æ®, è¿™ä¸ªå«ä¸­æ–­. é»˜è®¤æ˜¯cpu0(ç¬¬ä¸€ä¸ªCPU)å¤„ç†. ä¸€æ—¦æµé‡ç‰¹åˆ«å¤§, è¿™ä¸ªCPUè´Ÿè½½å¾ˆé«˜, æ€§èƒ½å­˜åœ¨ç“¶é¢ˆ. æ‰€ä»¥ç½‘å¡å¼€å‘äº†å¤šé˜Ÿåˆ—åŠŸèƒ½, å³ä¸€ä¸ªç½‘å¡æœ‰å¤šä¸ªé˜Ÿåˆ—, æ”¶åˆ°çš„åŒ…æ ¹æ®TCPå››å…ƒç»„ä¿¡æ¯hashåæ”¾å…¥å…¶ä¸­ä¸€ä¸ªé˜Ÿåˆ—, åé¢è¯¥é“¾æ¥çš„æ‰€æœ‰åŒ…éƒ½æ”¾å…¥è¯¥é˜Ÿåˆ—. æ¯ä¸ªé˜Ÿåˆ—å¯¹åº”ä¸åŒçš„ä¸­æ–­, ä½¿ç”¨irqbalanceå°†ä¸åŒçš„ä¸­æ–­ç»‘å®šåˆ°ä¸åŒçš„æ ¸. å……åˆ†åˆ©ç”¨äº†å¤šæ ¸å¹¶è¡Œå¤„ç†ç‰¹æ€§. æé«˜äº†æ•ˆç‡.\n\n### ç¯å½¢é˜Ÿåˆ—\nringbufferæ˜¯ç½‘å¡æ”¶å‘æŠ¥æ–‡çš„ç¼“å†²åŒºã€‚ringçš„æ„æ€å°±æ˜¯ç¯å½¢ï¼Œæ•°æ®å¾€ç¯é‡Œå¯ä»¥ä¸åœå†™å…¥ï¼Œå¦‚æœåˆ°äº†å¤´ï¼Œå°±ä¼šå†å†™ä¸€åœˆï¼ŒæŠŠè€çš„æ•°æ®è¦†ç›–äº†ã€‚\næŠ¥æ–‡åˆ°è¾¾è¿™ä¸ªç¼“å†²åŒºåï¼Œå¦‚æœæ²¡æœ‰åŠæ—¶è¢«cpuå¤„ç†ï¼Œå°±ä¼šç§¯ç´¯ï¼Œè¶…è¿‡bufferå¤§å°åï¼Œå°±ä¼šè¦†ç›–ä¹‹å‰çš„æ•°æ®ï¼Œå¯¼è‡´ä¸¢åŒ…ã€‚\nringbufferè¶Šå¤§è¶Šä¸å®¹æ˜“å†™æ»¡ï¼Œä¸¢åŒ…æ¦‚ç‡å°±è¶Šä½ï¼Œä½†æ˜¯cpuå¤„ç†åˆ°æŠ¥æ–‡çš„å“åº”æ—¶é—´å°±è¶Šé•¿ï¼Œæ‰€ä»¥ç½‘ç»œå»¶æ—¶å°±ä¼šå˜é«˜ã€‚\n\nethtool -G eth0 rx 8192  tx 8192\n```bash\nroot@pekt3dr01n07:~# ethtool -g enp3s0f0\nRing parametersÂ forÂ enp3s0f0:\nPre-set maximums:\nRX:Â Â Â Â Â 8192\nRX Mini:Â Â Â Â 0\nRX Jumbo:Â Â Â 0\nTX:Â Â Â Â Â 8192\nCurrent hardware settings:\nRX:Â Â Â Â Â 8192\nRX Mini:Â Â Â Â 0\nRX Jumbo:Â Â Â 0\nTX:Â Â Â Â Â 8192\n\nroot@pekt3dr01n08:~# ethtool -g enp66s0f0\nRing parametersÂ forÂ enp66s0f0:\nPre-set maximums:\nRX:Â Â Â Â Â 8192\nRX Mini:Â Â Â Â 0\nRX Jumbo:Â Â Â 0\nTX:Â Â Â Â Â 8192\nCurrent hardware settings:\nRX:Â Â Â Â Â 1024\nRX Mini:Â Â Â Â 0\nRX Jumbo:Â Â Â 0\nTX:Â Â Â Â Â 1024\n\n\nroot@pekt3dr01n07:~# iperf -c pekt3dr01n08 -iÂ 1Â -tÂ 3Â -PÂ 1\n------------------------------------------------------------\nClient connecting to pekt3dr01n08, TCP portÂ 5001\nTCP window size:Â 85.3Â KByte (default)\n------------------------------------------------------------\n[Â Â 3] localÂ 10.16.13.25Â portÂ 41378Â connected withÂ 10.16.13.26Â portÂ 5001\n[ ID] IntervalÂ Â Â Â Â Â  TransferÂ Â Â Â  Bandwidth\n[Â Â 3]Â Â 0.0-Â 1.0Â secÂ Â Â 285Â MBytesÂ Â 2.39Â Gbits/sec\n[Â Â 3]Â Â 1.0-Â 2.0Â secÂ Â 62.2Â MBytesÂ Â Â 522Â Mbits/sec\n[Â Â 3]Â Â 2.0-Â 3.0Â secÂ Â 32.9Â MBytesÂ Â Â 276Â Mbits/sec\n[Â Â 3]Â Â 0.0-Â 3.0Â secÂ Â Â 381Â MBytesÂ Â 1.06Â Gbits/sec\n# è°ƒæ•´å¤§å°åå†æµ‹è¯•ï¼Œé€Ÿåº¦æ¢å¤æ­£å¸¸\n\nroot@pekt3dr01n08:~# ethtool -G enp66s0f0 rxÂ 8192Â txÂ 8192\n# è™½ç„¶æ˜¯25Gç½‘å¡ï¼Œç”±äºè¿™å°æœåŠ¡å™¨æ¯”è¾ƒè€ï¼ˆE5-2620ï¼‰ï¼Œè€Œä¸”ä¸»é¢‘ä½ï¼Œæ‰€ä»¥åªèƒ½åˆ°12Gå¸¦å®½\nroot@pekt3dr01n07:~# iperf -c pekt3dr01n08 -iÂ 1Â -tÂ 3Â -PÂ 1\n------------------------------------------------------------\nClient connecting to pekt3dr01n08, TCP portÂ 5001\nTCP window size:Â 85.3Â KByte (default)\n------------------------------------------------------------\n[Â Â 3] localÂ 10.16.13.25Â portÂ 42686Â connected withÂ 10.16.13.26Â portÂ 5001\n[ ID] IntervalÂ Â Â Â Â Â  TransferÂ Â Â Â  Bandwidth\n[Â Â 3]Â Â 0.0-Â 1.0Â secÂ Â 1.42Â GBytesÂ Â 12.2Â Gbits/sec\n[Â Â 3]Â Â 1.0-Â 2.0Â secÂ Â 1.41Â GBytesÂ Â 12.2Â Gbits/sec\n[Â Â 3]Â Â 2.0-Â 3.0Â secÂ Â 1.27Â GBytesÂ Â 10.9Â Gbits/sec\n[Â Â 3]Â Â 0.0-Â 3.0Â secÂ Â 4.11Â GBytesÂ Â 11.8Â Gbits/sec\n```\n\n\n### ç½‘å¡å¤šé˜Ÿåˆ—\nethtool -l eth0 æŸ¥çœ‹ä¸»ç½‘å¡æ”¯æŒå¤šé˜Ÿåˆ—çš„æƒ…å†µ\nethtool -L eth0 combined 2\n\n### ç½‘ç»œä¸­æ–­ - ä¸­æ–­ç»‘å®š\nå¯¹äºå®æ—¶ç¯å¢ƒï¼Œæˆ‘ä»¬éœ€è¦æ¶ˆé™¤æˆ–è€…æœ€å°åŒ–äº‹ä»¶å“åº”çš„å»¶è¿Ÿã€‚è¦æƒ³åšåˆ°è¿™ä¸€ç‚¹ï¼Œéœ€è¦å°†ä¸åŒçš„ä¸­æ–­å“åº”ï¼ˆIRQsï¼‰å’Œç”¨æˆ·è¿›ç¨‹ç»‘å®šåˆ°ä¸åŒçš„CPUæ ¸å¿ƒä¸Šï¼Œä½¿ä»–ä»¬å½¼æ­¤éš”ç¦»ã€‚\nç½‘å¡ä¸æ“ä½œç³»ç»Ÿçš„äº¤äº’ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼š\n- IRQï¼ˆInterrupt Request ä¸­æ–­è¯·æ±‚ï¼‰ï¼šç½‘å¡åœ¨æ”¶åˆ°äº†ç½‘ç»œä¿¡å·ä¹‹åï¼Œä¸»åŠ¨å‘é€ä¸­æ–­åˆ°CPUã€‚è€ŒCPUå°†ä¼šç«‹å³åœä¸‹æ‰‹è¾¹çš„æ´»ä»¥ä¾¿å¯¹è¿™ä¸ªä¸­æ–­ä¿¡å·è¿›è¡Œåˆ†æï¼›\n- DMAï¼ˆDirect Memory Access ç›´æ¥å­˜å‚¨å™¨è®¿é—®ï¼‰ï¼šå…è®¸ç¡¬ä»¶åœ¨æ—  CPU å¹²é¢„çš„æƒ…å†µä¸‹å°†æ•°æ®ç¼“å­˜åœ¨æŒ‡å®šçš„å†…å­˜ç©ºé—´å†…ï¼Œåœ¨CPUåˆé€‚çš„æ—¶å€™æ‰å¤„ç†ï¼›\nç°åœ¨çš„å¯¹ç§°å¤šæ ¸å¤„ç†å™¨ï¼ˆSMPï¼‰ä¸Šï¼Œä¸€å—ç½‘å¡çš„IRQè¿˜æ˜¯åªæœ‰ä¸€ä¸ªCPUæ¥å“åº”ï¼Œå…¶å®ƒCPUæ— æ³•å‚ä¸ï¼Œå¦‚æœè¿™ä¸ªCPUè¿˜è¦å¿™å…¶å®ƒçš„ä¸­æ–­ï¼ˆå…¶å®ƒç½‘å¡æˆ–è€…å…¶å®ƒä½¿ç”¨ä¸­æ–­çš„å¤–è®¾ï¼ˆæ¯”å¦‚ç£ç›˜ï¼‰ï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šå½¢æˆç“¶é¢ˆã€‚\n\n\u003e é»˜è®¤æƒ…å†µä¸‹ï¼ŒLinuxçš„ä¸­æ–­å“åº”ä¼šè¢«å¹³å‡åˆ†é…åˆ°æ‰€æœ‰CPUæ ¸å¿ƒä¸Šï¼Œè¿™æ ·åŠ¿å¿…ä¼šå‘ç”Ÿå†™æ–°çš„æ•°æ®å’ŒæŒ‡ä»¤ç¼“å­˜ï¼Œè€Œä¸”è¿˜ä¼šä¸CPUæ ¸å¿ƒä¸ŠåŸæ¥å­˜åœ¨çš„è¿›ç¨‹äº§ç”Ÿå†²çªã€‚\n\nè¿™å°±ä¼šå»¶è¿Ÿä¸­æ–­å“åº”ï¼Œå½±å“ç¨‹åºçš„å¤„ç†æ—¶é—´ã€‚\n\n\u003eè§£å†³æ–¹æ¡ˆï¼š\n\t\tä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å°†ä¸­æ–­ï¼ˆæˆ–è¿›ç¨‹ï¼‰ç»‘å®šåˆ°æŒ‡å®šçš„CPUæ ¸å¿ƒä¸Šï¼Œè¿™æ ·è¯¥ä¸­æ–­ï¼ˆæˆ–è¿›ç¨‹ï¼‰æ‰€éœ€è¦çš„ä»£ç å’Œæ•°æ®ç»“æ„å°±æœ‰æ›´é«˜çš„å¯èƒ½æ€§ä½äºæœ¬åœ°CPUçš„æ•°æ®å’ŒæŒ‡ä»¤ç¼“å­˜å†…ï¼Œè€Œä¸å¿…è¿›è¡Œæ–°çš„å†™ç¼“å­˜ï¼Œä»è€Œæé«˜ä¸­æ–­å“åº”ï¼ˆæˆ–è¿›ç¨‹ï¼‰çš„å¤„ç†é€Ÿåº¦ã€‚\n\t\tæ­¤å¤–ï¼Œå°†æŸä¸€ä¸ªè¿›ç¨‹åŠå…¶ç›¸å…³çš„ä¸­æ–­ç»‘å®šåœ¨åŒä¸€ä¸ªCPUæ ¸å¿ƒä¸Šï¼Œä½¿å®ƒä»¬å…±äº«ç¼“å­˜çº¿è·¯ï¼Œå¯ä»¥æé«˜ç¨‹åºæ€§èƒ½ã€‚è¿˜æœ‰ï¼Œå°†å½¼æ­¤ä¸ç›¸å…³çš„ä¸­æ–­ä¸è¿›ç¨‹ç»‘å®šåˆ°ä¸åŒçš„CPUæ ¸å¿ƒä¸Šï¼Œå¯ä»¥é¿å…å†²çªï¼Œä¹Ÿå¯ä»¥æé«˜ç¨‹åºæ€§èƒ½ã€‚\n\n#### å…³é—­ irqbalance æœåŠ¡\nirqbalance - ä¸­æ–­å¹³è¡¡å®ˆæŠ¤è¿›ç¨‹ä¼šå‘¨æœŸæ€§åœ°å°†ä¸­æ–­å¹³å‡åœ°å…¬å¹³åœ°åˆ†é…ç»™å„ä¸ªCPUæ ¸å¿ƒï¼Œå®ƒé»˜è®¤æ˜¯å¼€å¯çš„ã€‚ä¸ºäº†å®ç°ä¸­æ–­ç»‘å®šï¼Œé¦–å…ˆéœ€è¦å°†è¿™ä¸ªå®ˆæŠ¤è¿›ç¨‹å…³é—­ã€‚è¿™æ ·ä¸­æ–­å“åº”é»˜è®¤éƒ½ä¼šç”±Â **CPU0**Â æ ¸å¿ƒå¤„ç†ã€‚\n**systemctl stop irqbalance**\n**systemctl disable irqbalance**\næŸ¥çœ‹ irqbalance æœåŠ¡ï¼šsystemctl status irqbalance\nè®¾ç½®äº²å’Œæ€§ï¼šset_irq_affinityÂ -xÂ localÂ eth10\n\n\n#### æ£€æŸ¥ä¸­æ–­ä¸CPU å…³ç³»\n- [Linux ç½‘å¡å¤šé˜Ÿåˆ—ä»‹ç» | xixiliguo](https://xixiliguo.github.io/linux/multi-queue.html)\n- [[Linux æ€§èƒ½è°ƒä¼˜] ç½‘å¡ä¸­æ–­ä¸CPUçš„ç»‘å®šé—®é¢˜ - å·´è›®å­ - åšå®¢å›­ (cnblogs.com)](https://www.cnblogs.com/bamanzi/p/linux-irq-and-cpu-affinity.html)\n\n\n![upgit_20221208_1670493746.png](https://images.ryken.cloud/2022/12/upgit_20221208_1670493746.png)\n\n![upgit_20221208_1670494679.png](https://images.ryken.cloud/2022/12/upgit_20221208_1670494679.png)\n\n![upgit_20221208_1670494855.png](https://images.ryken.cloud/2022/12/upgit_20221208_1670494855.png)\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/%E7%BD%91%E5%8D%A1-vlan":{"title":"","content":"#vlan #network \n\n#### æ·»åŠ  vlan å­æ¥å£\n##### **ä½¿ç”¨ ip å‘½ä»¤**\n\tip link add link enp125s0f0 name enp125s0f0.100 type vlan id 100\n##### **ä½¿ç”¨ vconfig å‘½ä»¤**\n- ç›¸å…³æ¨¡å—\n\tlsmod |grep -i 8021q\n- ç›¸å…³å·¥å…·åŒ…\n\tapt-get install vlan or yum install vconfig\n\tmodprobe 8021q \n- æ·»åŠ  vlan \n\tvconfig add enp8s0f1 100\n- åœ¨enp8s0f1æ¥å£ä¸Šé…ç½®ä¸¤ä¸ªVLAN\n\tvconfig set_flag enp8s0f1.100 1 1\n\tvconfig set_flag enp8s0f1.200 1 1\n- åˆ é™¤\n\tvconfig rem enp8s0f1.100\n\n\n#### é‡å¯ç½‘ç»œ\n- /etc/init.d/network restart\n- service network restart\n- netplan apply\n\n\n#### æŸ¥çœ‹ç½‘æ®µå†…æœªä½¿ç”¨çš„ ip åœ°å€\n```bash\n#!/bin/bash\nip=192.168.1.\nfor((a=1;a\u003c=254;a++))\ndo\n  b=${ip}${a}\n  ping -c 3 -i 0.2 -w 3  $b  \u0026\u003e\u003e /dev/null\nif [ $? -eq 0 ]\nthen\n    echo \"host $a is up\" \u0026\u003e\u003eup.txt\nelse\n    echo \"host $a is down\" \u0026\u003e\u003edown.txt\nfi\ndone\n```\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/%E7%BD%91%E7%BB%9C%E7%9B%91%E6%8E%A7%E5%B7%A5%E5%85%B7":{"title":"","content":"\n1. [google/cadvisor: Analyzes resource usage and performance characteristics of running containers. (github.com)](https://github.com/google/cadvisor)\n\tç½‘ç»œèµ„æºçš„ä½¿ç”¨ç‡\n\n2. [yingyan003/netChecker: netCheckeræ˜¯ä¸€ä¸ªæ£€æŸ¥k8sé›†ç¾¤ç½‘ç»œè¿é€šæ€§çš„å·¥å…·ã€‚æµ‹è¯•å¯¹è±¡æ˜¯pod-\u003epodï¼Œpod-\u003enodeï¼Œpod-\u003esvcçš„ç½‘ç»œçŠ¶å†µ (github.com)](https://github.com/yingyan003/netChecker)\n\tæ£€æµ‹ç½‘ç»œè”é€šæ€§ã€‚æµ‹è¯•pod-\u003epod / pod-\u003enode / pod-\u003eserviceçš„ç½‘ç»œ\n\n3. Sematext - kubernetes ç›‘æµ‹å·¥å…·\n\tå¯ä»¥ç›‘æµ‹ç½‘ç»œåå\n\n4. DataDog - kubernetes å¯è§‚æµ‹æ€§\n[Network Performance Monitoring | Datadog (datadoghq.com)](https://www.datadoghq.com/product/network-monitoring/network-performance-monitoring/)\n\n5. BGPalerter - bgp æ£€æµ‹å·¥å…·\n\n\n[litmuschaos/litmus: Litmus helps SREs and developers practice chaos engineering in a Cloud-native way. Chaos experiments are published at the ChaosHub (https://hub.litmuschaos.io). Community notes is at https://hackmd.io/a4Zu_sH4TZGeih-xCimi3Q (github.com)](https://github.com/litmuschaos/litmus)\n\n\n\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8":{"title":"","content":"#kubernetes  #tools\n\n1. å®‰è£… bash-completion\n2. åº”ç”¨ kubectl çš„ completion\n```bash\nsource \u003c(kubectl completion bash)\necho \"source \u003c(kubectl completion bash)\" \u003e\u003e ~/.bashrc\n```\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E8%B4%AD%E4%B9%B0%E5%9F%9F%E5%90%8D":{"title":"è´­ä¹°åŸŸå","content":"\nä¸å»ºè®®åœ¨å›½å†…ä¹°åŸŸåè¦è¿›è¡Œå®åéªŒè¯æ¯”è¾ƒç¹ç\nä»¥ä¸‹ä¸ºå‡ ä¸ªæ¯”è¾ƒå¥½çš„å›½å¤–çš„åŸŸåå•†ï¼Œå»ºè®®é€‰è‡ªå¸¦å…è´¹çš„éšç§ä¿æŠ¤\n- NameCheap\n- Domain.com\n- NameSilo.com - æ–°ç”¨æˆ·ä¹°åŸŸåå¯ä»¥ä¼˜æƒ 1ç¾å…ƒ\n- Dynadot\n- Name.com\n- Crazydomains\n- GoDaddy\n\nä¸»è¦å¯ä»¥ä»ä¸‹é¢å‡ æ–¹é¢è¿›è¡Œé€‰æ‹©ï¼š\n-   æ³¨å†Œä»·æ ¼ï¼šå„ä¸ªåç¼€ï¼Œåœ¨å„ä¸ªæ³¨å†Œå•†å¤„çš„æ³¨å†Œä»·æ ¼éƒ½ä¸ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æœ€ä¾¿å®œçš„ä¸€ä¸¤å®¶å°±è¡Œï¼Œä¸å¿…å¤ªè¿‡å…³æ³¨ç»­è´¹ä»·æ ¼ï¼Œå› ä¸ºç»­è´¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œè½¬ç§»ã€‚\n-   ç»­è´¹ä»·æ ¼ï¼šç»­è´¹ä»·æ ¼ä¹Ÿéœ€è¦å„å®¶æ¯”å¯¹ä¸€ä¸‹ï¼Œå¯èƒ½è¿™é‡Œæ³¨å†Œä¾¿å®œï¼Œä½†æ˜¯ç»­è´¹è´µï¼Œé‚£å®¶æ³¨å†Œè´µï¼Œä½†æ˜¯å‘ç°ç»­è´¹è¿˜ä¾¿å®œä¸€äº›ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡åŸŸåè½¬ç§»ï¼Œçœä¸€äº›é’±ã€‚\n-   éšç§ä¿æŠ¤ï¼šå¦‚æœéœ€è¦éšç§ä¿æŠ¤ï¼Œç›®å‰æˆ‘çŸ¥é“ NameCheapã€Dynadotã€NameSiloã€Name.com éƒ½æ˜¯æä¾›ç»ˆèº«å…è´¹éšç§ä¿æŠ¤çš„ï¼Œå¯ä»¥å¤šè€ƒè™‘è¿™å‡ å®¶ã€‚\n-   å…¶ä»–æœåŠ¡ï¼šå…¶ä»–çš„æ¯”å¦‚ä¸€äº› DNS æœåŠ¡ç­‰ï¼Œå°±æ²¡å¤ªå¤§æ„ä¹‰äº†ï¼Œé…Œæƒ…è€ƒè™‘å§ã€‚\n\n\nä½¿ç”¨vercel ç»‘å®šè‡ªå·±çš„åŸŸåï¼š[Vercelåº”ç”¨ç»‘å®šè‡ªå·±çš„åŸŸå](https://tangly1024.com/article/vercel-domain)\nç½‘ä¸Šçš„ä¸€ä¸ªæ•™ç¨‹ï¼š[2023å¹´NamesiloåŸŸåæ³¨å†Œæ•™ç¨‹](https://blog.naibabiji.com/tutorial/namesilo-zhu-ce-jiao-cheng.html)\n\nè´­ä¹°åŸŸåä¹‹åç»‘å®šåˆ° cloudware\n1. ä¿®æ”¹ dns \n![upgit_20230405_1680625035.png](https://images.ryken.cloud/2023/04/upgit_20230405_1680625035.png)\n\n![upgit_20230405_1680624990.png](https://images.ryken.cloud/2023/04/upgit_20230405_1680624990.png)\n\n2. åœ¨ cloudware ä¸­æ·»åŠ å¯¹åº”çš„ dns è®°å½•\n\n[NameSiloåŸŸåè§£æåˆ°CloudFlareæ•™ç¨‹](https://www.idcspy.com/namesilo-22746.html)\n[NameSiloä¿®æ”¹åŸŸåè§£æ](https://www.vpsss.net/25787.html)\n\n\n3. æ›´æ¢å›¾åºŠçš„è§£å†³æ–¹æ¡ˆ\n[æˆ‘çš„å›¾åºŠè§£å†³æ–¹æ¡ˆ](https://zhuanlan.zhihu.com/p/491649092)","lastmodified":"2023-04-18T15:06:06.090796332Z","tags":null},"/%E8%B5%84%E6%BA%90%E7%B1%BB%E5%9E%8B":{"title":"","content":"#spider-pool #cni \n\n1. æ²¡æœ‰é»˜è®¤è·¯ç”± å¯¼è‡´æ— æ³•è¿æ¥ kubernetes.default\n2. ","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E8%B7%AF%E7%94%B1%E5%8F%8D%E5%B0%84%E5%99%A8%E7%9A%84%E5%8F%8D%E5%B0%84%E8%A7%84%E5%88%99":{"title":"","content":"#bgp #route-reflector\n\n**è·¯ç”±åå°„å™¨çš„åå°„è§„åˆ™ï¼š**\n\n1ã€**åå°„å™¨æ¥æ”¶åˆ°EBGPé‚»å±…é€šå‘Šçš„BGPè·¯ç”±æ—¶å€™**ï¼šå½“è·¯ç”±åå°„å™¨æ¥æ”¶åˆ°æ¥è‡ªEBGPé‚»å±…é€šå‘Šçš„BGPè·¯ç”±ï¼Œä¼šæŠŠæ­¤è·¯ç”±åŒæ—¶é€šå‘Šç»™åŒä¸€clusterå†…çš„clienté‚»å±…ï¼Œä¹Ÿé€šå‘Šç»™clusterä¹‹å¤–çš„å…¶ä»–IBGPé‚»å±…ã€‚è€Œè·¯ç”±ä¸­æºå¸¦çš„Cluster listå’ŒOriginatorå±æ€§åªå‘é€ç»™clusterå†…çš„clienté‚»å±…ã€‚\n\n2ã€**åå°„å™¨æ¥æ”¶åˆ°clusterå†…çš„IBGPé‚»å±…å‘é€æ¥çš„è·¯ç”±æ—¶å€™**ï¼šå½“è·¯ç”±åå°„å™¨æ¥æ”¶åˆ°åŒä¸€clusterå†…çš„IBGPé‚»å±…å‘é€æ¥çš„BGPè·¯ç”±æ—¶å€™ï¼Œåå°„å™¨æŠŠè¯¥è·¯ç”±é€šå‘Šç»™clusterå†…å…¶ä»–æ‰€æœ‰clienté‚»å±…ï¼Œä¹Ÿé€šå‘Šç»™clusterå¤–çš„å…¶ä»–IBGPé‚»å±…ï¼Œè¿™ä¸ªé€šå‘Šçš„è·¯ç”±åŒ…æ‹¬äº†Originator å±æ€§å’Œä¿®æ”¹åçš„Cluster IDå±æ€§ã€‚å¦‚æœè¯¥åå°„å™¨å­˜åœ¨EBGPé‚»å±…çš„è¯ï¼Œåå°„å™¨åŒæ—¶æŠŠè¯¥è·¯ç”±é€šå‘Šç»™æ‰€æœ‰çš„EBGPé‚»å±…ï¼Œä½†ä¸æºå¸¦ä»»ä½•åå°„å™¨ç›¸å…³å±æ€§ã€‚\n\n3ã€**åå°„å™¨æ¥æ”¶åˆ°clusterå¤–çš„å…¶ä»–IBGPé‚»å±…å‘é€çš„BGPè·¯ç”±æ—¶å€™**ï¼šå½“åå°„å™¨æ¥æ”¶åˆ°clusterä»¥å¤–çš„å…¶ä»–IBGPé‚»å±…å‘é€çš„è·¯ç”±æ—¶å€™ï¼Œåå°„å™¨ä¼šæŠŠè¯¥è·¯ç”±é€šå‘Šç»™è‡ªå·±clusterå†…æ‰€æœ‰çš„clienté‚»å±…ï¼Œæ·»åŠ åˆé€‚çš„å±æ€§ã€‚å¦‚æœè¯¥RRå­˜åœ¨EBGPé‚»å±…çš„è¯ï¼Œåˆ™RRåŒæ—¶ä¹ŸæŠŠè¯¥è·¯ç”±é€šå‘Šç»™è‡ªå·±æ‰€æœ‰çš„EBGPé‚»å±…ï¼Œä½†ä¸æºå¸¦åå°„å™¨ç›¸å…³å±æ€§ã€‚","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/%E9%80%9A%E4%BF%A1%E5%8E%9F%E7%90%86":{"title":"","content":"#kube-ovn \n\nkube-ovn å®ç°è·¨ä¸»æœºé€šä¿¡çš„åŸç†\nåœ¨ æ³°å±±æœåŠ¡å™¨ã€åä¸ºé²²é¹920cpu çš„ arm\n\n1. kubectl ko å‘½ä»¤ä¸èµ·ä½œç”¨\nè„šæœ¬ä¼šæ ¹æ® pod ä½¿ç”¨çš„é•œåƒæ¥ç­›é€‰å‡ºå¯¹åº”çš„ pod ç„¶åæ‰§è¡Œå¯¹åº”çš„å‘½ä»¤ï¼Œå› æ­¤å½“å‘½ä»¤æ— æ³•ä½¿ç”¨æ—¶ï¼Œå°è¯•ä¿®æ”¹ä¸€ä¸‹è„šæœ¬ä¸­çš„ REGISTRY \n\n2. ç»„ä»¶\n- åº•åº§ ovn ä»¥åŠ ovs\ndaemonsetï¼šovs-ovn  -  start-ovs\ndeploymentï¼šovn-central  -  start-db\n\nkube-ovn-controller\nkube-ovn-daemon\n\n\n\nè·¨ä¸»æœºçš„é€šä¿¡\nå…ˆç»è¿‡ genev å°è£…ä¹‹åè¿›å…¥åˆ° ovn0 ç½‘å¡ä¹‹åè¿›å…¥ ovn ä¸­","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6":{"title":"","content":"#calico #calico-config\n\n\nconfd\n/etc/calico/conf/config\n\n\nä¿®æ”¹ mtu\nkubectl edit configmap/calico-config -n kube-system\n\n![upgit_20221205_1670210202.png](https://images.ryken.cloud/2022/12/upgit_20221205_1670210202.png)\n\n\né—®é¢˜ï¼š\n- èƒ½å¦ä¿®æ”¹ confd çš„é…ç½®ï¼Œå®ç°ä¿®æ”¹ calico bird å‚æ•°çš„ç›®çš„","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/%E9%85%8D%E7%BD%AE-TOR":{"title":"","content":"#calico #tor\n\n\n2. é…ç½®å…¶ä»–èŠ‚ç‚¹è¿æ¥åˆ° RR èŠ‚ç‚¹\n```yaml\napiVersion: projectcalico.org/v3\nkind: BGPPeer\nmetadata:\n  name: test\nspec:\n  nodeSelector: all()\n  peerSelector: has(routeReflector)\n```\n\n3. ç¦æ­¢ BGP FullMesh\n```yaml\napiVersion: projectcalico.org/v3\nkind: BGPConfiguration\nmetadata:\n  name: default\nspec:\n  asNumber: 64512\n  logSeverityScreen: Info\n  nodeToNodeMeshEnabled: false\n```\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E9%85%8D%E7%BD%AE-route-reflector":{"title":"","content":"#calico #rr\n\n[Configuring Route Reflectors in Calico (tigera.io)](https://www.tigera.io/blog/configuring-route-reflectors-in-calico/)\n\n1. é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸º RRï¼Œè®¾ç½® lable ä»¥åŠ routeReflectorClusterID\n```yaml\napiVersion: projectcalico.org/v3\nkind: Node\nmetadata:\n  labels:\n    beta.kubernetes.io/arch: amd64\n    beta.kubernetes.io/os: linux\n    kubernetes.io/arch: amd64\n    kubernetes.io/hostname: node3\n    kubernetes.io/os: linux\n    node-role.kubernetes.io/control-plane: \"\"\n    node-role.kubernetes.io/master: \"\"\n    node-role.kubernetes.io/worker: \"\"\n    node.kubernetes.io/exclude-from-external-load-balancers: \"\"\n    routeReflector: \"\"\n  name: node3\nspec:\n  addresses:\n  - address: 172.31.73.12/24\n    type: CalicoNodeIP\n  - address: 172.31.73.12\n    type: InternalIP\n  bgp:\n    asNumber: 64512\n    ipv4Address: 172.31.73.12/24\n    routeReflectorClusterID: 10.0.0.1\n  orchRefs:\n  - nodeName: node3\n    orchestrator: k8s\nstatus:\n  podCIDRs:\n  - 10.233.64.0/24\n```\n\n2. é…ç½®å…¶ä»–èŠ‚ç‚¹è¿æ¥åˆ° RR èŠ‚ç‚¹\n```yaml\napiVersion: projectcalico.org/v3\nkind: BGPPeer\nmetadata:\n  name: test\nspec:\n  nodeSelector: all()\n  peerSelector: has(routeReflector)\n```\n\n3. ç¦æ­¢ BGP FullMesh\n```yaml\napiVersion: projectcalico.org/v3\nkind: BGPConfiguration\nmetadata:\n  name: default\nspec:\n  asNumber: 64512\n  logSeverityScreen: Info\n  nodeToNodeMeshEnabled: false\n```\n\n4. é…ç½® RR èŠ‚ç‚¹ä¸äº¤æ¢æœºå»ºç«‹ BGP\n```yaml\napiVersion: projectcalico.org/v3\nkind: BGPPeer\nmetadata:\nÂ Â name: baixing-rr\nspec:\nÂ Â nodeSelector:Â \"has(routeReflector)\"\nÂ Â peerIP:Â 172.16.0.254\nÂ Â asNumber:Â 65009\n```\n\n[å¦‚ä½•åœ¨kubernetesä¸­é…ç½®Calicoè·¯ç”±åå°„å™¨ - KubeSphere å¼€å‘è€…ç¤¾åŒº](https://kubesphere.com.cn/forum/d/3740-kubernetescalico)","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/%E9%97%AE%E9%A2%98":{"title":"","content":"1. ä¸ºä»€ä¹ˆå¼•å…¥ç½‘å¡å¤šé˜Ÿåˆ—ã€‚å¼•å…¥ç½‘å¡å¤šé˜Ÿåˆ—è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Œå¸¦æ¥äº†ä»€ä¹ˆå…¶ä»–é—®é¢˜\n2. é˜Ÿåˆ—ç»‘æ ¸\n3. æ•´ä¸ªæ”¶/å‘åŒ…çš„æµç¨‹æ˜¯ä»€ä¹ˆæ ·çš„\n\n\n\n1.ç½‘å¡å¤šé˜Ÿåˆ— -- æ”¶åŒ…å¤šé˜Ÿåˆ— +å‘åŒ…å¤šé˜Ÿåˆ—\né€šå¸¸æƒ…å†µä¸‹, æ¯å¼ ç½‘å¡æœ‰ä¸€ä¸ªé˜Ÿåˆ—(queue), æ‰€æœ‰æ”¶åˆ°çš„åŒ…ä»è¿™ä¸ªé˜Ÿåˆ—å…¥, å†…æ ¸ä»è¿™ä¸ªé˜Ÿåˆ—é‡Œå–æ•°æ®å¤„ç†. è¯¥é˜Ÿåˆ—å…¶å®æ˜¯ring buffer(ç¯å½¢é˜Ÿåˆ—), å†…æ ¸å¦‚æœå–æ•°æ®ä¸åŠæ—¶, åˆ™ä¼šå­˜åœ¨ä¸¢åŒ…çš„æƒ…å†µ.  \nä¸€ä¸ªCPUå¤„ç†ä¸€ä¸ªé˜Ÿåˆ—çš„æ•°æ®, è¿™ä¸ªå«ä¸­æ–­. é»˜è®¤æ˜¯cpu0(ç¬¬ä¸€ä¸ªCPU)å¤„ç†. ä¸€æ—¦æµé‡ç‰¹åˆ«å¤§, è¿™ä¸ªCPUè´Ÿè½½å¾ˆé«˜, æ€§èƒ½å­˜åœ¨ç“¶é¢ˆ. æ‰€ä»¥ç½‘å¡å¼€å‘äº†å¤šé˜Ÿåˆ—åŠŸèƒ½, å³ä¸€ä¸ªç½‘å¡æœ‰å¤šä¸ªé˜Ÿåˆ—, æ”¶åˆ°çš„åŒ…æ ¹æ®TCPå››å…ƒç»„ä¿¡æ¯hashåæ”¾å…¥å…¶ä¸­ä¸€ä¸ªé˜Ÿåˆ—, åé¢è¯¥é“¾æ¥çš„æ‰€æœ‰åŒ…éƒ½æ”¾å…¥è¯¥é˜Ÿåˆ—. æ¯ä¸ªé˜Ÿåˆ—å¯¹åº”ä¸åŒçš„ä¸­æ–­, ä½¿ç”¨irqbalanceå°†ä¸åŒçš„ä¸­æ–­ç»‘å®šåˆ°ä¸åŒçš„æ ¸. å……åˆ†åˆ©ç”¨äº†å¤šæ ¸å¹¶è¡Œå¤„ç†ç‰¹æ€§. æé«˜äº†æ•ˆç‡.\n\n\nç”±äºè¿™å—å†…å­˜åŒºåŸŸæ˜¯æœ‰é™çš„ï¼Œå¦‚æœæ•°æ®åŒ…çš„é€Ÿç‡éå¸¸å¿«ï¼Œå•ä¸ª CPU æ¥ä¸åŠå–èµ°è¿™äº›åŒ…ï¼Œæ–°æ¥çš„åŒ…å°±ä¼šè¢«ä¸¢å¼ƒã€‚\n\n\n\nå•èŠ‚ç‚¹   å¼€å¯ã€å…³é—­ç½‘å¡å¤šé˜Ÿåˆ—  å¯¹äº veth çš„å½±å“","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/Arista-%E9%94%90%E6%8D%B7%E4%BA%A4%E6%8D%A2%E6%9C%BA%E9%85%8D%E7%BD%AE":{"title":"","content":"#äº¤æ¢æœº #arista\n\nå‚è€ƒæ–‡æ¡£é“¾æ¥ï¼š\n- [https://www.osslab.com.tw/wp-content/uploads/2018/03/Arista%E9%85%8D%E7%BD%AE%E6%89%8B%E5%86%8C.pdf](https://www.osslab.com.tw/wp-content/uploads/2018/03/Arista%E9%85%8D%E7%BD%AE%E6%89%8B%E5%86%8C.pdf)\n- [https://www.arista.com/zh/um-eos/eos-ethernet-ports](https://www.arista.com/zh/um-eos/eos-ethernet-ports)\n\nç™»å½•ï¼šadmin â†’ enable â†’ configure â†’ zerotouch disable â†’ write\n*å…ˆå…³é—­zerotouchï¼Œå¦åˆ™ä¼šå‡ºç°é…ç½®æ— æ³•ä¿å­˜çš„æƒ…å†µ*\næ˜¾ç¤ºå½“å‰é…ç½® show run\n\n\n1. é…ç½®äºŒå±‚\nè®¾ç½® vlan\n```\nvlan 10\ninterface vlan 10\nip address 192.168.0.1 255.255.255.0\n```\n\n```\ninterface Ethernet 3\nswitchport access vlan 20\n# switchport mode trunk\n```\n\nè¿æ¥å…¶ä»–è·¯ç”±å™¨ - bgp é…ç½®\n```\ninterface Management1\nÂ ip address 198.18.20.12/24\n\ninterface Loopback0\nip address 10.10.10.12/32\n\ninterface Ethernet1\ndescription dt:spine01\nmtu 9214\nno switchport\nÂ ip addressÂ 169.254.0.249/30\nÂ no shutdown\nÂ \n# spine01\nrouter bgpÂ 100000Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â # BGP AS NUMBERÂ Â Â \nrouter-idÂ 10.10.10.10Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â # loopback ipÂ Â Â \nmaximum-pathsÂ 8Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â # è®¾ç½®ç­‰ä»·è·¯ç”±æœ€å¤§æ¡æ•°\nneighborÂ 169.254.0.250Â default-originateÂ Â Â Â  # å‘é‚»å±…é€šå‘Šæœ¬è®¾å¤‡çš„é»˜è®¤è·¯ç”±ï¼ˆä»…åœ¨border leafä¸Šé…ç½®è¿™ä¸€æ¡ï¼‰\nredistribute connectedÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  # å‘é‚»å±…é€šå‘Šç›´è¿è·¯ç”±ï¼ˆå¦‚äº’è”æ¥å£çš„169.254.x.xå’Œç¯å›å£çš„10.10.10.xï¼‰# å¯¹æ¯ä¸ªleafé‚»å±…è¿›è¡Œå¦‚ä¸‹é…ç½®Â Â Â \nneighborÂ 169.254.0.249Â remote-asÂ 200001Â Â Â Â Â Â # bgpé‚»å±…çš„ipåœ°å€å’ŒAS NUMBERÂ Â Â \nneighborÂ 169.254.0.249Â ebgp-multihopÂ 255Â Â Â Â Â # è®¾ç½®bgpé‚»å±…ipçš„æœ€å¤§è·³æ•°ï¼ˆé‚»å±…ipä¸ºéç›´è¿æ¥å£æ—¶éœ€é…ç½®ï¼‰ \n```\n\næŸ¥çœ‹ bgp çŠ¶æ€\n```\nsh ip bgp sum\nsh ip route bgp\n```\n\næš‚ä¸æ”¯æŒçš„é…ç½®\n```\nswitchport port-security mac-address xxxx.xxxx.xxxx ip-address 172.16.1.1\ndhcp server\n```\n\n\nè®¾ç½®é™æ€ ip - ubuntu\n```\nvim /etc/network/interfaces\n\nauto eno1\niface eno1 inet static\n  address 172.31.50.22\n  netmask 255.255.255.0\n  gateway 172.31.50.254\n  dns-nameservers 8.8.8.8\n```\n\nå¼€å¯ sshã€telnet è¿œç¨‹\n```\nswitch(config)#management telnet /è¿›å…¥ telnet\nswitch(config-mgmt-telnet)#no shutdown /å¼€å¯ telnet \nswitch(config-mgmt-telnet)#shutdown /å…³é—­ telnet \nswitch(config-mgmt-telnet)#idle-timeout 180 / é…ç½® timeout æ—¶é—´\n```\n\n\n2. é…ç½®ä¸‰å±‚ BGP\n\n![upgit_20230214_1676306745.png](https://images.ryken.cloud/2023/02/upgit_20230214_1676306745.png)\n\n\nIP routing not enabled æ˜¯æ²¡æœ‰å¼€å¯routingåŠŸèƒ½ Â åªè¦ æ‰§è¡Œ ip routing å°±å¯ä»¥\né‡å¯ï¼šreload\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/BGP-%E6%8A%A5%E6%96%87":{"title":"","content":"#bgp #bird \nbirdæ–‡æ¡£ [labs / BIRD Internet Routing Daemon Â· GitLab (nic.cz)](https://gitlab.nic.cz/labs/bird)\n\nbgp æŠ¥æ–‡ç±»å‹\n| type | æŠ¥æ–‡ç±»å‹     | ç”¨é€”                                                            |\n| ---- | ------------ | --------------------------------------------------------------- |\n| 1    | Open         | å»ºç«‹ BGP è¿æ¥                                                   |\n| 2    | Update       | ç”¨äºé€šå‘Šè·¯ç”±                                                    |\n| 3    | Notification | ç”¨äºå¤„ç† BGP è¿›ç¨‹ä¸­çš„å„ç§é”™è¯¯                                   |\n| 4    | Keepalive    | ç”¨äºä¿æŒ BGP è¿æ¥                                               |\n| 5    | Refresh      | ç”¨äºåŠ¨æ€çš„è¯·æ±‚ BGP è·¯ç”±å‘å¸ƒè€…é‡æ–°å‘å¸ƒ Update æŠ¥æ–‡ï¼Œè¿›è¡Œè·¯ç”±æ›´æ–° | \n\n**é…ç½® tor ä¸º Route Reflector ä»¥åŠé€‰å–é›†ç¾¤ä¸­ä¸€ä¸ªèŠ‚ç‚¹ä½œä¸º Route Reflector çš„åŒºåˆ«**\nRRæ˜¯ä¸€ç§ç”¨äºæé«˜BGPç½‘ç»œä¸­è·¯ç”±ä¼ æ’­æ•ˆç‡çš„æŠ€æœ¯ã€‚åœ¨ BGP ç½‘ç»œä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹é€šå¸¸éœ€è¦å‘å…¶é‚»å±…èŠ‚ç‚¹å‘é€å®Œæ•´çš„è·¯ç”±è¡¨ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ç½‘ç»œå¸¦å®½æ¶ˆè€—å’Œå»¶è¿Ÿå¢åŠ ã€‚é€šè¿‡ä½¿ç”¨ RRï¼ŒèŠ‚ç‚¹å¯ä»¥å°†è·¯ç”±ä¿¡æ¯å‘é€åˆ° RR èŠ‚ç‚¹ï¼ŒRR èŠ‚ç‚¹ç„¶åå°†å…¶è½¬å‘ç»™å…¶ä»–èŠ‚ç‚¹ï¼Œä»è€Œå‡å°‘äº†ç½‘ç»œæµé‡å’ŒèŠ‚ç‚¹è´Ÿæ‹…ã€‚\n\nå½“ä½¿ç”¨ TOR äº¤æ¢æœºä½œä¸º RR èŠ‚ç‚¹æ—¶ï¼ŒTOR äº¤æ¢æœºå°†æ¥æ”¶æ¥è‡ªæ¯ä¸ªèŠ‚ç‚¹çš„è·¯ç”±ä¿¡æ¯ï¼Œå¹¶å°†å…¶è½¬å‘ç»™å…¶ä»–èŠ‚ç‚¹ã€‚æ¯ä¸ªèŠ‚ç‚¹åªéœ€è¦ä¸å…¶ç›¸é‚»çš„ TOR äº¤æ¢æœºäº¤æ¢è·¯ç”±ä¿¡æ¯ï¼Œä»è€Œå‡å°‘äº†ç½‘ç»œæµé‡å’ŒèŠ‚ç‚¹è´Ÿæ‹…ã€‚\n\nä¸æ­¤ç›¸æ¯”ï¼Œä½¿ç”¨èŠ‚ç‚¹ä½œä¸º RR èŠ‚ç‚¹æ—¶ï¼ŒèŠ‚ç‚¹å°†æ¥æ”¶æ¥è‡ªå…¶ä»–èŠ‚ç‚¹çš„è·¯ç”±ä¿¡æ¯ï¼Œå¹¶å°†å…¶è½¬å‘ç»™å…¶ä»–èŠ‚ç‚¹ã€‚è¿™ç§æ–¹æ³•å¯ä»¥ä½¿ç”¨ç°æœ‰çš„èŠ‚ç‚¹ä½œä¸º RR èŠ‚ç‚¹ï¼Œä½†å¯èƒ½ä¼šå¢åŠ èŠ‚ç‚¹çš„è´Ÿæ‹…å’Œç½‘ç»œæµé‡ï¼Œå°¤å…¶æ˜¯åœ¨è§„æ¨¡è¾ƒå¤§çš„ BGP ç½‘ç»œä¸­ã€‚\n\næ€»ä¹‹ï¼Œä½¿ç”¨ TOR äº¤æ¢æœºä½œä¸º RR èŠ‚ç‚¹å¯ä»¥åœ¨ BGP ç½‘ç»œä¸­æé«˜è·¯ç”±ä¼ æ’­æ•ˆç‡ï¼Œå¹¶é™ä½èŠ‚ç‚¹è´Ÿæ‹…å’Œç½‘ç»œæµé‡ï¼Œä½†éœ€è¦ä½¿ç”¨é¢å¤–çš„ TOR äº¤æ¢æœºè®¾å¤‡ã€‚è€Œä½¿ç”¨èŠ‚ç‚¹ä½œä¸º RR èŠ‚ç‚¹å¯ä»¥èŠ‚çœæˆæœ¬ï¼Œä½†å¯èƒ½ä¼šå¢åŠ èŠ‚ç‚¹çš„è´Ÿæ‹…å’Œç½‘ç»œæµé‡ã€‚é€‰æ‹©ä½¿ç”¨å“ªç§æ–¹æ³•å–å†³äºç½‘ç»œè§„æ¨¡ã€æˆæœ¬ã€æ€§èƒ½å’Œå¯ç”¨æ€§ç­‰å› ç´ ã€‚\n\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/BGP-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA":{"title":"","content":"#bgp #route-reflector\n\n### å®‰è£…å·¥å…·\n- å®‰è£…ç½‘æ¡¥å·¥å…· `apt install -y bridge-utils`\n- å®‰è£… bird `apt-get install -y bird`\n\n### ä¿®æ”¹é…ç½®æ–‡ä»¶\n#### ä¿®æ”¹ç½‘ç»œé…ç½®\n```\nsource /etc/network/interfaces.d/*.cfg\n\nauto lo\niface lo inet loopback\n\nauto eth0\niface eth0 inet dhcp\n\nauto eth3\niface eth3 inet static\naddress 100.0.0.1\nnetmask 255.255.255.252\n\nauto eth1\niface eth1 inet manual\n\nauto eth2\niface eth2 inet manual\n\nauto br0\niface br0 inet static\naddress 172.16.0.1\nnetwork 172.16.0.0\nnetmask 255.255.255.0\nbroadcast 172.16.0.255\nbridge_ports eth1\nbridge_ports eth2\nbridge_stp off\nbridge_fd 0\nbridge_maxwait 0\nbridge_maxage 12\n\nup ip route add 172.16.10.0/24 via 100.0.0.2\n```\n\n#### ä¿®æ”¹ bird é…ç½®\n```conf\nroot@i-1medguzr:~# cat /etc/bird/bird.conf \n# This is a minimal configuration file, which allows the bird daemon to start\n# but will not cause anything else to happen.\n#\n# Please refer to the documentation in the bird-doc package or BIRD User's\n# Guide on http://bird.network.cz/ for more information on configuring BIRD and\n# adding routing protocols.\n\n# Change this into your BIRD router ID. It's a world-wide unique identification\n# of your router, usually one of router's IPv4 addresses.\nrouter id 172.16.10.1;\n\n# The Kernel protocol is not a real routing protocol. Instead of communicating\n# with other routers in the network, it performs synchronization of BIRD's\n# routing tables with the OS kernel.\nprotocol kernel {\n  learn;             # Learn all alien routes from the kernel\n  persist;           # Don't remove routes on bird shutdown\n  scan time 2;       # Scan kernel routing table every 2 seconds\n  import all;\n  export all; # Default is export none\n  graceful restart;  # Turn on graceful restart\n  merge paths on;    # Allow export multipath routes (ECMP)\n}\n\n# The Device protocol is not a real routing protocol. It doesn't generate any\n# routes and it only serves as a module for getting information about network\n# interfaces from the kernel. \n# Watch interface up/down events.\nprotocol device {\n        scan time 2;\n}\n\n\ntemplate bgp bgp_template {\n        debug all;                                  # debug BGP\n        description \"BIRD RR\";\n        local as 64512;                             # the AS used by the local BGP speaker\n        multihop;                                   # was not default in 1.3.11\n        gateway recursive;\n        import all;\n        export all;\n        add paths on;\n        graceful restart;\n        connect delay time 2;\n        connect retry time 5;\n        error wait time 5,30;\n        source address 172.16.10.1;                # Source BGP from this IP address\n\n        #rr client;                                  # make defined neighbors rr clients\n        #rr cluster id 172.16.10.1;\n        #igp table master;                           # necessary to resolve the next-hop\n        #hold time 30;                               # hold time send in BGP messages\n}\n\n# For peer /host/node/peer_v4/172.16.0.1\nprotocol bgp Node_172_16_0_1 from bgp_template {\n  neighbor 172.16.0.1 as 64512;\n}\n\n# For peer /host/node/peer_v4/172.16.10.13\nprotocol bgp Node_172_16_10_13 from bgp_template {\n  neighbor 172.16.10.13 as 64512;\n  rr client;\n  rr cluster id 172.16.10.1;\n}\n\n\n# For peer /host/node/peer_v4/172.16.10.14\nprotocol bgp Node_172_16_10_14 from bgp_template {\n  neighbor 172.16.10.14 as 64512;\n  rr client;\n  rr cluster id 172.16.10.1;\n}\n```\n\n\n### bird å‘½ä»¤\n#### å¯åœå‘½ä»¤\n```\nsystemctl enable bird / systemctl disable bird \nsystemctl restart bird\nsystemctl stop bird \n\nservice bird status/start/stop\n```\n\n#### birdc\n```\n\nshow route all table master\n# æŸ¥çœ‹å®£å‘Šçš„è·¯ç”±\n\n# æŸ¥çœ‹æ¥æ”¶åˆ°çš„è·¯ç”±\n\nshow route receive-protocol bgp 172.30.0.254 detail\n```\n\n### å…¶ä»–\nå¯¼å‡ºè·¯ç”± ç­›é€‰\n\n\n\nå‚è€ƒé™æ€æ­å»º\n![upgit_20230303_1677811109.png](https://images.ryken.cloud/2023/03/upgit_20230303_1677811109.png)\n\n![upgit_20230303_1677811128.png](https://images.ryken.cloud/2023/03/upgit_20230303_1677811128.png)\n\n\n![upgit_20230302_1677721495.png](https://images.ryken.cloud/2023/03/upgit_20230302_1677721495.png)\n\n\n![upgit_20230302_1677721416.png](https://images.ryken.cloud/2023/03/upgit_20230302_1677721416.png)\n\n![upgit_20230302_1677721382.png](https://images.ryken.cloud/2023/03/upgit_20230302_1677721382.png)\n\n![upgit_20230303_1677822932.png](https://images.ryken.cloud/2023/03/upgit_20230303_1677822932.png)\n\nå‚è€ƒé“¾æ¥ï¼š\n- [BIRD BGP route-reflector (saidvandeklundert.net)](https://saidvandeklundert.net/2015-06-14-bird-bgp-route-reflection/)\n- [The BIRD Internet Routing Daemon Project (network.cz)](https://bird.network.cz/?get_doc\u0026v=16\u0026f=bird-6.html#ss6.3)\n\n\n\n\n![upgit_20230306_1678094822.png](https://images.ryken.cloud/2023/03/upgit_20230306_1678094822.png)\n\n\n![upgit_20230306_1678096400.png](https://images.ryken.cloud/2023/03/upgit_20230306_1678096400.png)\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/BGP-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.excalidraw":{"title":"","content":"==âš   Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš ==\n\n\n# Text Elements\nspine1 ^ysTSUxD3\n\nspine2 ^NLhMxLIF\n\nleaf1 ^eJ7Gf9Kr\n\nleaf2 ^8oGJRiqp\n\nnet1 ^0wpisbqI\n\nnet3 ^r7A5V3ZK\n\nnet2 ^kmxwJ5Jw\n\nnet4 ^fVubx6ls\n\nnode1 ^UZBNi2Tn\n\nnode2 ^NZ9B0JxM\n\nnode3 ^bsOY86ZE\n\nnode4 ^KH13IBbm\n\nborder ^HTxSeLZm\n\nnet5 ^G1uRqPxa\n\nnet6 ^H6vQZRMG\n\nnet7 ^XtqLPdSC\n\nnet8 ^hvGCUHkD\n\nVPC\nnetwork 172.30.30.0/24 ^i48ixoQ7\n\nnetwork1 ^LLzaxWhg\n\nnetwork2 ^e6ZLeR9e\n\n172.30.30.30/24 ^OGC4SGj3\n\n169.254.0.249/30 ^KOEzp1zf\n\n169.254.0.250/30 ^DX3MZHU9\n\n169.254.0.253/30 ^RSVJPHcS\n\n169.254.0.254/30 ^ImWPhELj\n\n169.254.1.250/30 ^FxIG3Vx5\n\n169.254.2.250/30 ^kqvAiBfx\n\n169.254.1.254/30 ^PndroWai\n\n169.254.2.254/30 ^zZLZLEgw\n\n169.254.1.249/30 ^zIaJyiYo\n\n169.254.2.249/30 ^AXW5Afst\n\n169.254.1.253/30 ^IWNmLv2d\n\n169.254.2.253/30 ^myw2dYeR\n\nAS 100000 ^GASB6PLx\n\nAS 200001 ^Ls7sTRE1\n\nAS 200002 ^yKj4vaZg\n\nAS 200000 ^ipUXhkDy\n\n10.10.10.10 ^wlTxVM3m\n\n10.10.10.11 ^A5PzKIGy\n\n10.10.10.12 ^FxackfN2\n\n10.10.10.13 ^cb0FRqFe\n\n10.10.10.14 ^gtIG3pwA\n\nagent ^dId6uwUZ\n\n192.168.0.2 ^DXb4hosv\n\n192.168.10.11 ^TkOEyxiO\n\n192.168.10.12 ^YND5uLPR\n\n192.168.10.13 ^xNbUeQAc\n\n192.168.10.14 ^SYiFD1Ko\n\nswitch1 ^yRVf1eU1\n\nnode1 ^LRrRGFYx\n\nnode2 ^8ao0Aj0z\n\n192.168.10.11 ^JUOLQ13t\n\n192.168.10.12 ^5HNdQTff\n\nAS 64512 ^tdswNMx6\n\nleaf ^k4yoCrPp\n\nswitch2 ^tp5KsF34\n\nnode3 ^fa6a90X7\n\nnode4 ^R4q8CKEc\n\n192.168.10.13 ^RwNGXK06\n\n192.168.10.14 ^sJsrz9uf\n\nleaf ^ydB3Gos9\n\nrouter1 ^zwLyM0io\n\nnode1 ^N5vq8cX8\n\nnode2 ^c3LvJSVY\n\n172.16.0.11/24 ^HwzjLA10\n\n172.16.0.12/24 ^pWia91k8\n\nAS 64512 ^aKZsDzv0\n\nrouter2 ^m8cASJXk\n\nnode3 ^8IG2VpeB\n\nnode4 ^Ma2d0vGh\n\n172.16.10.13/24 ^zRvC3UjH\n\n172.16.10.14/24 ^U5q9DHUe\n\n192.168.0.4/24 ^3pkBzU21\n\n192.168.0.8/24 ^gmDoZp62\n\n192.168.0.5/24 ^k4g2FqRj\n\n192.168.0.6/24 ^EdsDai4S\n\n192.168.0.9/24 ^qKEbW5GJ\n\n192.168.0.7/24 ^UjJQmejd\n\nAS 65000 ^K1DmTT5A\n\nAS 65001 ^5NTQBRxM\n\nleaf1 ^8ywRqypA\n\nserver1 ^EAXRVOa7\n\nserver2 ^1suLjLet\n\n10.1.5.11/24 ^1EO987Zm\n\n10.1.5.12/24 ^t9AEA7Rx\n\nleaf2 ^cT8PBfb5\n\nserver3 ^GQc4u93D\n\n10.1.8.13/24 ^y263Pr6G\n\n10.1.8.14/24 ^hxssPdUA\n\n10.1.10.1/24 ^Ez5nhyCp\n\n172.18.0.2/24 ^SGvmZLsY\n\n172.18.0.3/24 ^0McNngTk\n\n172.18.0.4/24 ^iV4gaYGy\n\n172.18.0.5/24 ^jmsIxj2A\n\nAS 65005 ^FTJdlslf\n\nAS 65008 ^3BI4T7KA\n\nspine1 ^UzlaQSqe\n\nspine2 ^yJ4bOcab\n\n10.1.10.2/24 ^hzSBH517\n\n10.1.34.2/24 ^ksu8EYN3\n\n10.1.11.2/24 ^D4f51IpU\n\n10.1.12.2/24 ^7i6V1j4L\n\nAS 500 ^Dmg6SRjE\n\nAS 800 ^jaffyqW2\n\n10.1.12.1/24 ^ZlPlHLq4\n\n10.1.5.1/24 ^4eMD5CAK\n\n10.1.8.1/24 ^DEhEGlmJ\n\n10.1.34.1/24 ^JVstCZEX\n\n10.1.11.1/24 ^qpnYQBAi\n\nserver4 ^5ijs4IPf\n\n%%\n# Drawing\n```json\n{\n\t\"type\": \"excalidraw\",\n\t\"version\": 2,\n\t\"source\": \"https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/1.8.21\",\n\t\"elements\": [\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 165,\n\t\t\t\"versionNonce\": 2017064691,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"S4JQWHZpmSO3_MZOSzNhA\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -254.16668701171875,\n\t\t\t\"y\": -266.5885009765625,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 1248304108,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"ysTSUxD3\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"BBa5U6gF1hwOjCPGiPN2l\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"Q44xKLj5q1nNOSJu-u-Sh\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"Yo0gRzTRAFTeOewe-PTRX\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 150,\n\t\t\t\"versionNonce\": 191854702,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"ysTSUxD3\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -222.06665802001953,\n\t\t\t\"y\": -254.0885009765625,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 50.79994201660156,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1798504940,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161057,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"spine1\",\n\t\t\t\"rawText\": \"spine1\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"S4JQWHZpmSO3_MZOSzNhA\",\n\t\t\t\"originalText\": \"spine1\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 394,\n\t\t\t\"versionNonce\": 1583653011,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"JE1kkU1j1qFz-D5tGEo1E\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 64.83331298828125,\n\t\t\t\"y\": -269.5885009765625,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 1814795220,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"NLhMxLIF\",\n\t\t\t\t\t\"type\": \"text\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"H11swkBTk3YmbNTy6IU2j\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"JZTrsBEB9J8R518GwVH-p\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"f0IxcCaxbdk2AFCqcPDr8\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 362,\n\t\t\t\"versionNonce\": 762963758,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"NLhMxLIF\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 92.52334594726562,\n\t\t\t\"y\": -257.0885009765625,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 59.61993408203125,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1827095404,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161058,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"spine2\",\n\t\t\t\"rawText\": \"spine2\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"JE1kkU1j1qFz-D5tGEo1E\",\n\t\t\t\"originalText\": \"spine2\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 278,\n\t\t\t\"versionNonce\": 684267059,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"0SYZXJ1z0wW5uCOUN_ANC\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -252.8333740234375,\n\t\t\t\"y\": -66.921875,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 1200083028,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"eJ7Gf9Kr\",\n\t\t\t\t\t\"type\": \"text\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"BBa5U6gF1hwOjCPGiPN2l\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"H11swkBTk3YmbNTy6IU2j\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"ElgaVY6eEOKoHWLozrDeB\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"BE7_PeINfs7x_TWWOalHL\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 266,\n\t\t\t\"versionNonce\": 1872547826,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"eJ7Gf9Kr\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -217.67335510253906,\n\t\t\t\"y\": -54.421875,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 44.679962158203125,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 836439788,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161059,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"leaf1\",\n\t\t\t\"rawText\": \"leaf1\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"0SYZXJ1z0wW5uCOUN_ANC\",\n\t\t\t\"originalText\": \"leaf1\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 283,\n\t\t\t\"versionNonce\": 1179506643,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"cOaBZC0X9aUtu4-CV9dOJ\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 80.50006103515625,\n\t\t\t\"y\": -67.58856201171875,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 780011372,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"8oGJRiqp\",\n\t\t\t\t\t\"type\": \"text\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"Q44xKLj5q1nNOSJu-u-Sh\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"JZTrsBEB9J8R518GwVH-p\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"wkptrKsD1Ery_X6ttodik\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"jrg6zgFqh0P3FusNLublH\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 274,\n\t\t\t\"versionNonce\": 1730320562,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"8oGJRiqp\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 111.25008392333984,\n\t\t\t\"y\": -55.08856201171875,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 53.49995422363281,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 98137428,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161061,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"leaf2\",\n\t\t\t\"rawText\": \"leaf2\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"cOaBZC0X9aUtu4-CV9dOJ\",\n\t\t\t\"originalText\": \"leaf2\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 106,\n\t\t\t\"versionNonce\": 1826482866,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"BBa5U6gF1hwOjCPGiPN2l\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -194,\n\t\t\t\"y\": -208.58853149414062,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 1.33331298828125,\n\t\t\t\"height\": 136,\n\t\t\t\"seed\": 1476271572,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": {\n\t\t\t\t\"type\": 2\n\t\t\t},\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161058,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"S4JQWHZpmSO3_MZOSzNhA\",\n\t\t\t\t\"gap\": 7.999969482421875,\n\t\t\t\t\"focus\": -0.05178294751982815\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"0SYZXJ1z0wW5uCOUN_ANC\",\n\t\t\t\t\"gap\": 5.666656494140625,\n\t\t\t\t\"focus\": -0.00520542698775437\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-0.666656494140625,\n\t\t\t\t\t68\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-1.33331298828125,\n\t\t\t\t\t136\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 428,\n\t\t\t\"versionNonce\": 1797390770,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"Q44xKLj5q1nNOSJu-u-Sh\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -173.5332677988047,\n\t\t\t\"y\": -209.921875,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 302.3265536123778,\n\t\t\t\"height\": 130.66665649414062,\n\t\t\t\"seed\": 1851446636,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": {\n\t\t\t\t\"type\": 2\n\t\t\t},\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161060,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"S4JQWHZpmSO3_MZOSzNhA\",\n\t\t\t\t\"gap\": 6.6666259765625,\n\t\t\t\t\"focus\": 0.4346546021912216\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"cOaBZC0X9aUtu4-CV9dOJ\",\n\t\t\t\t\"gap\": 11.666656494140625,\n\t\t\t\t\"focus\": 0.6556936994869929\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t302.3265536123778,\n\t\t\t\t\t130.66665649414062\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 545,\n\t\t\t\"versionNonce\": 742539027,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"H11swkBTk3YmbNTy6IU2j\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 121.25807681896717,\n\t\t\t\"y\": -210.5885009765625,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 311.56730369109255,\n\t\t\t\"height\": 137.99996948242188,\n\t\t\t\"seed\": 1143861612,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": {\n\t\t\t\t\"type\": 2\n\t\t\t},\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"zZLZLEgw\",\n\t\t\t\t\"focus\": 1.0068962493594682,\n\t\t\t\t\"gap\": 12.797485518272453\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"zIaJyiYo\",\n\t\t\t\t\"focus\": 0.9826349324518142,\n\t\t\t\t\"gap\": 10.857449967067254\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-311.56730369109255,\n\t\t\t\t\t137.99996948242188\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 758,\n\t\t\t\"versionNonce\": 714799986,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"JZTrsBEB9J8R518GwVH-p\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 124.38706593684813,\n\t\t\t\"y\": -218.5885009765625,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 21.31927807240075,\n\t\t\t\"height\": 139.99996948242188,\n\t\t\t\"seed\": 727007188,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": {\n\t\t\t\t\"type\": 2\n\t\t\t},\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161060,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"JE1kkU1j1qFz-D5tGEo1E\",\n\t\t\t\t\"gap\": 1,\n\t\t\t\t\"focus\": 0.031081963797415693\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"cOaBZC0X9aUtu4-CV9dOJ\",\n\t\t\t\t\"gap\": 10.999969482421875,\n\t\t\t\t\"focus\": 0.21512023781953105\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t21.31927807240075,\n\t\t\t\t\t139.99996948242188\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 99,\n\t\t\t\"versionNonce\": 1450108083,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"0wpisbqI\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -240.55554707845056,\n\t\t\t\"y\": -187.8106791178385,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 36.999969482421875,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 482957908,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"net1\",\n\t\t\t\"rawText\": \"net1\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"net1\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 133,\n\t\t\t\"versionNonce\": 937767933,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"r7A5V3ZK\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -104.83333333333331,\n\t\t\t\"y\": -198.97737630208331,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 45.19996643066406,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 944056812,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"net3\",\n\t\t\t\"rawText\": \"net3\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"net3\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 106,\n\t\t\t\"versionNonce\": 188077651,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"kmxwJ5Jw\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 30.5,\n\t\t\t\"y\": -209.421875,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 45.81996154785156,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 470071892,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"net2\",\n\t\t\t\"rawText\": \"net2\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"net2\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 96,\n\t\t\t\"versionNonce\": 1282911325,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"fVubx6ls\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 137.166748046875,\n\t\t\t\"y\": -201.421875,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 44.37995910644531,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1345457492,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"net4\",\n\t\t\t\"rawText\": \"net4\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"net4\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 368,\n\t\t\t\"versionNonce\": 426611699,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"Mm7Q_oAeZ0O7jo-9eo5sV\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -363.83331298828125,\n\t\t\t\"y\": 72.74478149414062,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 2052041196,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"UZBNi2Tn\",\n\t\t\t\t\t\"type\": \"text\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"BBa5U6gF1hwOjCPGiPN2l\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"H11swkBTk3YmbNTy6IU2j\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"ElgaVY6eEOKoHWLozrDeB\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 362,\n\t\t\t\"versionNonce\": 1414894642,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"UZBNi2Tn\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -330.41329193115234,\n\t\t\t\"y\": 85.24478149414062,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 48.15995788574219,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1397308116,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161062,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"node1\",\n\t\t\t\"rawText\": \"node1\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"Mm7Q_oAeZ0O7jo-9eo5sV\",\n\t\t\t\"originalText\": \"node1\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 392,\n\t\t\t\"versionNonce\": 823958931,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"51cOq1y0Ta_ejoUt6HX7D\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -175.50006103515625,\n\t\t\t\"y\": 74.41146850585938,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 311304276,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"NZ9B0JxM\",\n\t\t\t\t\t\"type\": \"text\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"BBa5U6gF1hwOjCPGiPN2l\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"H11swkBTk3YmbNTy6IU2j\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"BE7_PeINfs7x_TWWOalHL\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 385,\n\t\t\t\"versionNonce\": 1587523506,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"NZ9B0JxM\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -146.4900360107422,\n\t\t\t\"y\": 86.91146850585938,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 56.979949951171875,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1025621740,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161062,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"node2\",\n\t\t\t\"rawText\": \"node2\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"51cOq1y0Ta_ejoUt6HX7D\",\n\t\t\t\"originalText\": \"node2\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 399,\n\t\t\t\"versionNonce\": 1031369523,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"qfBraAOGtGOJ3IxHG7kJZ\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 31.16668701171875,\n\t\t\t\"y\": 69.41146850585938,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 11481044,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"bsOY86ZE\",\n\t\t\t\t\t\"type\": \"text\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"BBa5U6gF1hwOjCPGiPN2l\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"H11swkBTk3YmbNTy6IU2j\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"wkptrKsD1Ery_X6ttodik\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 392,\n\t\t\t\"versionNonce\": 1119415090,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"bsOY86ZE\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 60.48670959472656,\n\t\t\t\"y\": 81.91146850585938,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 56.359954833984375,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 150693740,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161063,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"node3\",\n\t\t\t\"rawText\": \"node3\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"qfBraAOGtGOJ3IxHG7kJZ\",\n\t\t\t\"originalText\": \"node3\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 381,\n\t\t\t\"versionNonce\": 2129302739,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"Pr2wWGs4a1oKQYHP6pu-y\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 197.1666259765625,\n\t\t\t\"y\": 65.41143798828125,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 60,\n\t\t\t\"seed\": 1885928020,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"KH13IBbm\",\n\t\t\t\t\t\"type\": \"text\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"BBa5U6gF1hwOjCPGiPN2l\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"H11swkBTk3YmbNTy6IU2j\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"jrg6zgFqh0P3FusNLublH\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 375,\n\t\t\t\"versionNonce\": 1868121778,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"KH13IBbm\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 226.8966522216797,\n\t\t\t\"y\": 82.91143798828125,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 55.539947509765625,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1652131052,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161064,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"node4\",\n\t\t\t\"rawText\": \"node4\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"Pr2wWGs4a1oKQYHP6pu-y\",\n\t\t\t\"originalText\": \"node4\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 842,\n\t\t\t\"versionNonce\": 1694925427,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"bxpSkXZM7CSV_7iIXP8XJ\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -106.8333740234375,\n\t\t\t\"y\": -400.2550811767578,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 104,\n\t\t\t\"height\": 51,\n\t\t\t\"seed\": 912293716,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"HTxSeLZm\",\n\t\t\t\t\t\"type\": \"text\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"H11swkBTk3YmbNTy6IU2j\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"JZTrsBEB9J8R518GwVH-p\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"Yo0gRzTRAFTeOewe-PTRX\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"f0IxcCaxbdk2AFCqcPDr8\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"Z97paxPadn5ru7Nr71eW9\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"5kBzChjUx8UgLerP9cv0z\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 806,\n\t\t\t\"versionNonce\": 1753012082,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"HTxSeLZm\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -85.21334075927734,\n\t\t\t\"y\": -387.2550811767578,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 60.75993347167969,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1030279148,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161065,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"border\",\n\t\t\t\"rawText\": \"border\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"bxpSkXZM7CSV_7iIXP8XJ\",\n\t\t\t\"originalText\": \"border\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 100,\n\t\t\t\"versionNonce\": 678474354,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"ElgaVY6eEOKoHWLozrDeB\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -270,\n\t\t\t\"y\": 66.078125,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 58,\n\t\t\t\"height\": 74.66665649414062,\n\t\t\t\"seed\": 605822700,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161062,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"Mm7Q_oAeZ0O7jo-9eo5sV\",\n\t\t\t\t\"gap\": 6.666656494140625,\n\t\t\t\t\"focus\": 0.15256314789910833\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"0SYZXJ1z0wW5uCOUN_ANC\",\n\t\t\t\t\"gap\": 8.333343505859375,\n\t\t\t\t\"focus\": -0.11994650437446365\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t58,\n\t\t\t\t\t-74.66665649414062\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 129,\n\t\t\t\"versionNonce\": 2092449266,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"BE7_PeINfs7x_TWWOalHL\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -125.40045362420085,\n\t\t\t\"y\": 64.078125,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 68.00966110309633,\n\t\t\t\"height\": 72.66665649414062,\n\t\t\t\"seed\": 901823316,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161062,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"51cOq1y0Ta_ejoUt6HX7D\",\n\t\t\t\t\"gap\": 10.333343505859375,\n\t\t\t\t\"focus\": 0.31729580059930756\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"0SYZXJ1z0wW5uCOUN_ANC\",\n\t\t\t\t\"gap\": 8.333343505859375,\n\t\t\t\t\"focus\": 0.36186198774980655\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-68.00966110309633,\n\t\t\t\t\t-72.66665649414062\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 102,\n\t\t\t\"versionNonce\": 2117265778,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"wkptrKsD1Ery_X6ttodik\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 88,\n\t\t\t\"y\": 56.078155517578125,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 31.33331298828125,\n\t\t\t\"height\": 64.66665649414062,\n\t\t\t\"seed\": 241478124,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161063,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"qfBraAOGtGOJ3IxHG7kJZ\",\n\t\t\t\t\"gap\": 13.33331298828125,\n\t\t\t\t\"focus\": -0.27639150299055\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"cOaBZC0X9aUtu4-CV9dOJ\",\n\t\t\t\t\"gap\": 9.00006103515625,\n\t\t\t\t\"focus\": 0.03149537154010537\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t31.33331298828125,\n\t\t\t\t\t-64.66665649414062\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 100,\n\t\t\t\"versionNonce\": 311997682,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"jrg6zgFqh0P3FusNLublH\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 234.666748046875,\n\t\t\t\"y\": 57.411468505859375,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 64.666748046875,\n\t\t\t\"height\": 68.66665649414062,\n\t\t\t\"seed\": 1044096492,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161064,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"Pr2wWGs4a1oKQYHP6pu-y\",\n\t\t\t\t\"gap\": 7.999969482421875,\n\t\t\t\t\"focus\": 0.18409442900946296\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"cOaBZC0X9aUtu4-CV9dOJ\",\n\t\t\t\t\"gap\": 6.3333740234375,\n\t\t\t\t\"focus\": -0.030745978208688816\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-64.666748046875,\n\t\t\t\t\t-68.66665649414062\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 121,\n\t\t\t\"versionNonce\": 1963725651,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"G1uRqPxa\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -277.83331298828125,\n\t\t\t\"y\": 7.24481201171875,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 43.93995666503906,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1299486956,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"net5\",\n\t\t\t\"rawText\": \"net5\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"net5\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 123,\n\t\t\t\"versionNonce\": 1072676701,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"H6vQZRMG\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -153.1666259765625,\n\t\t\t\"y\": 3.578125,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 44.37995910644531,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 157281900,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"net6\",\n\t\t\t\"rawText\": \"net6\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"net6\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 137,\n\t\t\t\"versionNonce\": 1198797043,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"XtqLPdSC\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 60.5,\n\t\t\t\"y\": 10.2447509765625,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 42.3399658203125,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 444569196,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"net7\",\n\t\t\t\"rawText\": \"net7\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"net7\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 146,\n\t\t\t\"versionNonce\": 1037683645,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"hvGCUHkD\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 208.5,\n\t\t\t\"y\": 0.24481201171875,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 46.87995910644531,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1988489196,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"net8\",\n\t\t\t\"rawText\": \"net8\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"net8\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 393,\n\t\t\t\"versionNonce\": 295805042,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"Yo0gRzTRAFTeOewe-PTRX\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -53.20810923075375,\n\t\t\t\"y\": -339.92185974121094,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 147.15313509483713,\n\t\t\t\"height\": 64.66667175292969,\n\t\t\t\"seed\": 1457914452,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161064,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"bxpSkXZM7CSV_7iIXP8XJ\",\n\t\t\t\t\"gap\": 9.333221435546875,\n\t\t\t\t\"focus\": -0.7351883853972061\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"S4JQWHZpmSO3_MZOSzNhA\",\n\t\t\t\t\"gap\": 8.66668701171875,\n\t\t\t\t\"focus\": -0.7020358976723886\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-147.15313509483713,\n\t\t\t\t\t64.66667175292969\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 371,\n\t\t\t\"versionNonce\": 87605810,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"f0IxcCaxbdk2AFCqcPDr8\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -60.67492029014859,\n\t\t\t\"y\": -340.4626061123796,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 137.02200567480054,\n\t\t\t\"height\": 63.99949906207627,\n\t\t\t\"seed\": 2040994412,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161064,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"bxpSkXZM7CSV_7iIXP8XJ\",\n\t\t\t\t\"gap\": 8.792475064378209,\n\t\t\t\t\"focus\": 0.7435728014231378\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"JE1kkU1j1qFz-D5tGEo1E\",\n\t\t\t\t\"gap\": 6.874606073740836,\n\t\t\t\t\"focus\": 0.2004676161234824\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t137.02200567480054,\n\t\t\t\t\t63.99949906207627\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 180,\n\t\t\t\"versionNonce\": 104648755,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"qbXbOzsp1T_1lwt-yiFKp\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -217.9999491373698,\n\t\t\t\"y\": -520.2552083333333,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 321,\n\t\t\t\"height\": 60,\n\t\t\t\"seed\": 1468758740,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"i48ixoQ7\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"Z97paxPadn5ru7Nr71eW9\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 133,\n\t\t\t\"versionNonce\": 700392178,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"i48ixoQ7\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -175.2998758951823,\n\t\t\t\"y\": -515.2552083333333,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 235.599853515625,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 982781140,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161065,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"VPC\\nnetwork 172.30.30.0/24\",\n\t\t\t\"rawText\": \"VPC\\nnetwork 172.30.30.0/24\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"qbXbOzsp1T_1lwt-yiFKp\",\n\t\t\t\"originalText\": \"VPC\\nnetwork 172.30.30.0/24\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 270,\n\t\t\t\"versionNonce\": 1771378994,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"Z97paxPadn5ru7Nr71eW9\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -56.85480440848363,\n\t\t\t\"y\": -409.4316271613626,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 1.2068347785202747,\n\t\t\t\"height\": 47.05886810901109,\n\t\t\t\"seed\": 1900630252,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161065,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"bxpSkXZM7CSV_7iIXP8XJ\",\n\t\t\t\t\"gap\": 9.17654598460478,\n\t\t\t\t\"focus\": -0.0552801392691281\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"qbXbOzsp1T_1lwt-yiFKp\",\n\t\t\t\t\"gap\": 3.764713062959559,\n\t\t\t\t\"focus\": -0.016853064244898762\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t1.2068347785202747,\n\t\t\t\t\t-47.05886810901109\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 207,\n\t\t\t\"versionNonce\": 329951453,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"LLzaxWhg\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -187.1666259765625,\n\t\t\t\"y\": -322.421875,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 78.59992980957031,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1632745836,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"network1\",\n\t\t\t\"rawText\": \"network1\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"network1\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 195,\n\t\t\t\"versionNonce\": 1347854195,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"e6ZLeR9e\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 11.16668701171875,\n\t\t\t\"y\": -322.7552185058594,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 87.419921875,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1209704044,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"network2\",\n\t\t\t\"rawText\": \"network2\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"network2\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 134,\n\t\t\t\"versionNonce\": 2105247037,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"OGC4SGj3\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -127.33331298828125,\n\t\t\t\"y\": -417.75518798828125,\n\t\t\t\"strokeColor\": \"#c92a2a\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 132.8319091796875,\n\t\t\t\"height\": 20,\n\t\t\t\"seed\": 910041964,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"172.30.30.30/24\",\n\t\t\t\"rawText\": \"172.30.30.30/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"172.30.30.30/24\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 226,\n\t\t\t\"versionNonce\": 1306016019,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"KOEzp1zf\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -208.5,\n\t\t\t\"y\": -346.25518798828125,\n\t\t\t\"strokeColor\": \"#c92a2a\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 141.27987670898438,\n\t\t\t\"height\": 20,\n\t\t\t\"seed\": 601227220,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"169.254.0.249/30\",\n\t\t\t\"rawText\": \"169.254.0.249/30\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"169.254.0.249/30\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 284,\n\t\t\t\"versionNonce\": 1169282461,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"DX3MZHU9\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -263.833251953125,\n\t\t\t\"y\": -283.2552185058594,\n\t\t\t\"strokeColor\": \"#c92a2a\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 142.19187927246094,\n\t\t\t\"height\": 20,\n\t\t\t\"seed\": 622366444,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"169.254.0.250/30\",\n\t\t\t\"rawText\": \"169.254.0.250/30\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"169.254.0.250/30\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 292,\n\t\t\t\"versionNonce\": 120954547,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"RSVJPHcS\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -42.16668701171875,\n\t\t\t\"y\": -347.921875,\n\t\t\t\"strokeColor\": \"#c92a2a\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 142.0798797607422,\n\t\t\t\"height\": 20,\n\t\t\t\"seed\": 1943535700,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"169.254.0.253/30\",\n\t\t\t\"rawText\": \"169.254.0.253/30\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"169.254.0.253/30\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 244,\n\t\t\t\"versionNonce\": 1736382973,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"ImWPhELj\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 58.5,\n\t\t\t\"y\": -284.5885314941406,\n\t\t\t\"strokeColor\": \"#c92a2a\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 141.4238739013672,\n\t\t\t\"height\": 20,\n\t\t\t\"seed\": 1343478380,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"169.254.0.254/30\",\n\t\t\t\"rawText\": \"169.254.0.254/30\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"169.254.0.254/30\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 319,\n\t\t\t\"versionNonce\": 655708243,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"FxIG3Vx5\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -338.94447835286456,\n\t\t\t\"y\": -211.81078084309894,\n\t\t\t\"strokeColor\": \"#c92a2a\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 135.51988220214844,\n\t\t\t\"height\": 20,\n\t\t\t\"seed\": 616522452,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"169.254.1.250/30\",\n\t\t\t\"rawText\": \"169.254.1.250/30\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"169.254.1.250/30\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 362,\n\t\t\t\"versionNonce\": 2078593629,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"kqvAiBfx\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -152.66667683919263,\n\t\t\t\"y\": -218.19011433919275,\n\t\t\t\"strokeColor\": \"#c92a2a\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 142.5758819580078,\n\t\t\t\"height\": 20,\n\t\t\t\"seed\": 748771796,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"169.254.2.250/30\",\n\t\t\t\"rawText\": \"169.254.2.250/30\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"169.254.2.250/30\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 383,\n\t\t\t\"versionNonce\": 1062063603,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"PndroWai\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -24.277821858723883,\n\t\t\t\"y\": -190.4124043782553,\n\t\t\t\"strokeColor\": \"#c92a2a\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 134.7518768310547,\n\t\t\t\"height\": 20,\n\t\t\t\"seed\": 1434777684,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"169.254.1.254/30\",\n\t\t\t\"rawText\": \"169.254.1.254/30\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"169.254.1.254/30\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 289,\n\t\t\t\"versionNonce\": 2142535357,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"zZLZLEgw\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 134.05556233723962,\n\t\t\t\"y\": -215.96790059407556,\n\t\t\t\"strokeColor\": \"#c92a2a\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 141.80787658691406,\n\t\t\t\"height\": 20,\n\t\t\t\"seed\": 1114231508,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"H11swkBTk3YmbNTy6IU2j\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t},\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"169.254.2.254/30\",\n\t\t\t\"rawText\": \"169.254.2.254/30\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"169.254.2.254/30\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 361,\n\t\t\t\"versionNonce\": 1659213715,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"zIaJyiYo\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -338.16667683919263,\n\t\t\t\"y\": -87.07902018229169,\n\t\t\t\"strokeColor\": \"#c92a2a\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 134.60787963867188,\n\t\t\t\"height\": 20,\n\t\t\t\"seed\": 1486938092,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"H11swkBTk3YmbNTy6IU2j\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t},\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"169.254.1.249/30\",\n\t\t\t\"rawText\": \"169.254.1.249/30\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"169.254.1.249/30\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 406,\n\t\t\t\"versionNonce\": 1502584605,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"AXW5Afst\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -24.333343505859318,\n\t\t\t\"y\": -89.301259358724,\n\t\t\t\"strokeColor\": \"#c92a2a\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 141.66387939453125,\n\t\t\t\"height\": 20,\n\t\t\t\"seed\": 1943965804,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"H11swkBTk3YmbNTy6IU2j\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981600,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t},\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"169.254.2.249/30\",\n\t\t\t\"rawText\": \"169.254.2.249/30\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"169.254.2.249/30\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 329,\n\t\t\t\"versionNonce\": 1256755,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"IWNmLv2d\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -187.27782185872394,\n\t\t\t\"y\": -102.07902018229169,\n\t\t\t\"strokeColor\": \"#c92a2a\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 135.4078826904297,\n\t\t\t\"height\": 20,\n\t\t\t\"seed\": 123681620,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"169.254.1.253/30\",\n\t\t\t\"rawText\": \"169.254.1.253/30\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"169.254.1.253/30\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 342,\n\t\t\t\"versionNonce\": 535278461,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"myw2dYeR\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 160.499989827474,\n\t\t\t\"y\": -95.69011433919275,\n\t\t\t\"strokeColor\": \"#c92a2a\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 142.46388244628906,\n\t\t\t\"height\": 20,\n\t\t\t\"seed\": 1589741676,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"169.254.2.253/30\",\n\t\t\t\"rawText\": \"169.254.2.253/30\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"169.254.2.253/30\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 35,\n\t\t\t\"versionNonce\": 1080953981,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"GASB6PLx\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -349.1666514078775,\n\t\t\t\"y\": -251.85678100585938,\n\t\t\t\"strokeColor\": \"#364fc7\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 79.1796875,\n\t\t\t\"height\": 18.4,\n\t\t\t\"seed\": 817458796,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678946518482,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 2,\n\t\t\t\"text\": \"AS 100000\",\n\t\t\t\"rawText\": \"AS 100000\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 100000\",\n\t\t\t\"lineHeight\": 1.15\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 164,\n\t\t\t\"versionNonce\": 1319421395,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"Ls7sTRE1\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -351.3333435058592,\n\t\t\t\"y\": -51.02344767252606,\n\t\t\t\"strokeColor\": \"#364fc7\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 79.1796875,\n\t\t\t\"height\": 18.4,\n\t\t\t\"seed\": 1748298708,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678946518483,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 2,\n\t\t\t\"text\": \"AS 200001\",\n\t\t\t\"rawText\": \"AS 200001\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 200001\",\n\t\t\t\"lineHeight\": 1.15\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 208,\n\t\t\t\"versionNonce\": 1867609309,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"yKj4vaZg\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 222.00004069010413,\n\t\t\t\"y\": -49.07902018229174,\n\t\t\t\"strokeColor\": \"#364fc7\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 79.1796875,\n\t\t\t\"height\": 18.4,\n\t\t\t\"seed\": 1833288148,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678946518483,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 2,\n\t\t\t\"text\": \"AS 200002\",\n\t\t\t\"rawText\": \"AS 200002\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 200002\",\n\t\t\t\"lineHeight\": 1.15\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 286,\n\t\t\t\"versionNonce\": 5411699,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"ipUXhkDy\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -325.500035603841,\n\t\t\t\"y\": -386.85678100585943,\n\t\t\t\"strokeColor\": \"#364fc7\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 79.1796875,\n\t\t\t\"height\": 18.4,\n\t\t\t\"seed\": 1740337516,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678946518483,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 2,\n\t\t\t\"text\": \"AS 200000\",\n\t\t\t\"rawText\": \"AS 200000\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 200000\",\n\t\t\t\"lineHeight\": 1.15\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 47,\n\t\t\t\"versionNonce\": 957330963,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"wlTxVM3m\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -13.833343505859375,\n\t\t\t\"y\": -385.4489685058594,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 103.125,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1589160428,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.10.10.10\",\n\t\t\t\"rawText\": \"10.10.10.10\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.10.10.10\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 93,\n\t\t\t\"versionNonce\": 1769777309,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"A5PzKIGy\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -163.9333435058594,\n\t\t\t\"y\": -251.14896850585933,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 103.125,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 471269076,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.10.10.11\",\n\t\t\t\"rawText\": \"10.10.10.11\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.10.10.11\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 70,\n\t\t\t\"versionNonce\": 2020965299,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"FxackfN2\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 156.86665649414067,\n\t\t\t\"y\": -254.34896850585932,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 103.125,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 209404756,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.10.10.12\",\n\t\t\t\"rawText\": \"10.10.10.12\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.10.10.12\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 61,\n\t\t\t\"versionNonce\": 276270333,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"cb0FRqFe\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -162.33334350585938,\n\t\t\t\"y\": -51.948968505859284,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 103.125,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 542449748,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.10.10.13\",\n\t\t\t\"rawText\": \"10.10.10.13\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.10.10.13\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 139,\n\t\t\t\"versionNonce\": 2119273811,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"gtIG3pwA\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -0.7333435058593523,\n\t\t\t\"y\": -51.14896850585927,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 103.125,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 134403436,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.10.10.14\",\n\t\t\t\"rawText\": \"10.10.10.14\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.10.10.14\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 225,\n\t\t\t\"versionNonce\": 1935074653,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"u4otY7WWPp0676M4U6GT_\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 415.03204110952504,\n\t\t\t\"y\": -257.16164943150113,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 737842900,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"dId6uwUZ\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"5kBzChjUx8UgLerP9cv0z\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 214,\n\t\t\t\"versionNonce\": 679775858,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"dId6uwUZ\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 445.0620627770055,\n\t\t\t\"y\": -244.66164943150113,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 54.93995666503906,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 398323820,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161066,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"agent\",\n\t\t\t\"rawText\": \"agent\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"u4otY7WWPp0676M4U6GT_\",\n\t\t\t\"originalText\": \"agent\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 188,\n\t\t\t\"versionNonce\": 90976701,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"DXb4hosv\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 423.03204110952504,\n\t\t\t\"y\": -200.41164943150113,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 103.125,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 248587348,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"192.168.0.2\",\n\t\t\t\"rawText\": \"192.168.0.2\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"192.168.0.2\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 467,\n\t\t\t\"versionNonce\": 1937896626,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"5kBzChjUx8UgLerP9cv0z\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -30.238602638468848,\n\t\t\t\"y\": -346.66139896253924,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 504.5092089295209,\n\t\t\t\"height\": 80.24949906207627,\n\t\t\t\"seed\": 1302568812,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161066,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"bxpSkXZM7CSV_7iIXP8XJ\",\n\t\t\t\t\"gap\": 2.5936822142185747,\n\t\t\t\t\"focus\": 0.7160366722866529\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"u4otY7WWPp0676M4U6GT_\",\n\t\t\t\t\"gap\": 9.250250468961838,\n\t\t\t\t\"focus\": 1.0111457876343786\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t504.5092089295209,\n\t\t\t\t\t80.24949906207627\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 281,\n\t\t\t\"versionNonce\": 1406726685,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"TkOEyxiO\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -365.7179588904748,\n\t\t\t\"y\": 128.33835056849875,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1326959316,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"192.168.10.11\",\n\t\t\t\"rawText\": \"192.168.10.11\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"192.168.10.11\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 328,\n\t\t\t\"versionNonce\": 670861875,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"YND5uLPR\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -180.21795889047485,\n\t\t\t\"y\": 129.58835056849875,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1915162196,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"192.168.10.12\",\n\t\t\t\"rawText\": \"192.168.10.12\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"192.168.10.12\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 326,\n\t\t\t\"versionNonce\": 1267639933,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"xNbUeQAc\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 29.782041109525153,\n\t\t\t\"y\": 125.83835056849875,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1752619628,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"192.168.10.13\",\n\t\t\t\"rawText\": \"192.168.10.13\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"192.168.10.13\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 320,\n\t\t\t\"versionNonce\": 1995623379,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"SYiFD1Ko\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 194.78204110952504,\n\t\t\t\"y\": 130.83835056849875,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1922871788,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"192.168.10.14\",\n\t\t\t\"rawText\": \"192.168.10.14\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"192.168.10.14\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 330,\n\t\t\t\"versionNonce\": 1062129373,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"pEY7EBOrhs5aWCrsDVUv4\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -370.003276044796,\n\t\t\t\"y\": 906.5221312959868,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 641894228,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"yRVf1eU1\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"T7m1FwCz0AizNJTigFywC\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"XTOkGnqL9aLk1ArfzdUr4\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"zLSXNvLfVoVdl10PlcYvR\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 315,\n\t\t\t\"versionNonce\": 393790834,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"yRVf1eU1\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -344.53324430651475,\n\t\t\t\"y\": 919.0221312959868,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 64.0599365234375,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 982206444,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161067,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"switch1\",\n\t\t\t\"rawText\": \"switch1\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"pEY7EBOrhs5aWCrsDVUv4\",\n\t\t\t\"originalText\": \"switch1\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 371,\n\t\t\t\"versionNonce\": 1191476125,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"ge1aWlAXg3gYtlelhizIR\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -460.6523592325016,\n\t\t\t\"y\": 1048.9958267498314,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 1591722580,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"LRrRGFYx\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"XTOkGnqL9aLk1ArfzdUr4\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 363,\n\t\t\t\"versionNonce\": 18321650,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"LRrRGFYx\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -427.2323381753727,\n\t\t\t\"y\": 1061.4958267498314,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 48.15995788574219,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1370701036,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161067,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"node1\",\n\t\t\t\"rawText\": \"node1\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"ge1aWlAXg3gYtlelhizIR\",\n\t\t\t\"originalText\": \"node1\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 395,\n\t\t\t\"versionNonce\": 864878589,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"vdssgJGIQ_zqaoh_AAScT\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -272.3191072793766,\n\t\t\t\"y\": 1050.6625137615501,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 1138513876,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"8ao0Aj0z\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"T7m1FwCz0AizNJTigFywC\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 386,\n\t\t\t\"versionNonce\": 454655090,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"8ao0Aj0z\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -243.30908225496256,\n\t\t\t\"y\": 1063.1625137615501,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 56.979949951171875,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 949272428,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161067,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"node2\",\n\t\t\t\"rawText\": \"node2\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"vdssgJGIQ_zqaoh_AAScT\",\n\t\t\t\"originalText\": \"node2\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 202,\n\t\t\t\"versionNonce\": 1860388658,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"XTOkGnqL9aLk1ArfzdUr4\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -373.8033879824052,\n\t\t\t\"y\": 1042.3291702556908,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 47.87412706946168,\n\t\t\t\"height\": 78.17540700812083,\n\t\t\t\"seed\": 1448212564,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161067,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"ge1aWlAXg3gYtlelhizIR\",\n\t\t\t\t\"gap\": 6.666656494140625,\n\t\t\t\t\"focus\": 0.13674676151330128\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"pEY7EBOrhs5aWCrsDVUv4\",\n\t\t\t\t\"gap\": 7.631631951583131,\n\t\t\t\t\"focus\": -0.09006228910805533\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t47.87412706946168,\n\t\t\t\t\t-78.17540700812083\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 222,\n\t\t\t\"versionNonce\": 1637655218,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"T7m1FwCz0AizNJTigFywC\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -238.06242195583175,\n\t\t\t\"y\": 1039.6273944538816,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 51.30040242260381,\n\t\t\t\"height\": 72.66665649414062,\n\t\t\t\"seed\": 1780967148,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161067,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"vdssgJGIQ_zqaoh_AAScT\",\n\t\t\t\t\"gap\": 11.035119307668538,\n\t\t\t\t\"focus\": 0.029226653107163762\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"pEY7EBOrhs5aWCrsDVUv4\",\n\t\t\t\t\"gap\": 10.438606663754172,\n\t\t\t\t\"focus\": 0.02499166073117966\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-51.30040242260381,\n\t\t\t\t\t-72.66665649414062\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 281,\n\t\t\t\"versionNonce\": 1738301917,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"JUOLQ13t\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -462.5370051346952,\n\t\t\t\"y\": 1104.5893958241895,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 442018132,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"192.168.10.11\",\n\t\t\t\"rawText\": \"192.168.10.11\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"192.168.10.11\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 328,\n\t\t\t\"versionNonce\": 943257203,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"5HNdQTff\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -277.0370051346952,\n\t\t\t\"y\": 1105.8393958241895,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1407206892,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"192.168.10.12\",\n\t\t\t\"rawText\": \"192.168.10.12\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"192.168.10.12\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 218,\n\t\t\t\"versionNonce\": 42558973,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"tdswNMx6\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -569.1508985256658,\n\t\t\t\"y\": 1067.5976053115876,\n\t\t\t\"strokeColor\": \"#364fc7\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 70.28125,\n\t\t\t\"height\": 18.4,\n\t\t\t\"seed\": 1487094252,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678946518491,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 2,\n\t\t\t\"text\": \"AS 64512\",\n\t\t\t\"rawText\": \"AS 64512\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 64512\",\n\t\t\t\"lineHeight\": 1.15\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 400,\n\t\t\t\"versionNonce\": 2108569011,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"wVgT2CUxiZ6GzMA5yfhB3\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -362.0521830140825,\n\t\t\t\"y\": 786.9576103812559,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 70158845,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"k4yoCrPp\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"zLSXNvLfVoVdl10PlcYvR\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281981601,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 391,\n\t\t\t\"versionNonce\": 1060538354,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"k4yoCrPp\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -324.1821650087114,\n\t\t\t\"y\": 791.9576103812559,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 39.25996398925781,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 55894099,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161068,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"leaf\",\n\t\t\t\"rawText\": \"leaf\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"wVgT2CUxiZ6GzMA5yfhB3\",\n\t\t\t\"originalText\": \"leaf\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 637,\n\t\t\t\"versionNonce\": 1263869490,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"zLSXNvLfVoVdl10PlcYvR\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -310.65451744608447,\n\t\t\t\"y\": 896.2207738976518,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 0.754745107136273,\n\t\t\t\"height\": 61.42093537983135,\n\t\t\t\"seed\": 827289747,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161068,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"pEY7EBOrhs5aWCrsDVUv4\",\n\t\t\t\t\"gap\": 10.301357398334972,\n\t\t\t\t\"focus\": 0.039485466828241\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"wVgT2CUxiZ6GzMA5yfhB3\",\n\t\t\t\t\"gap\": 12.842228136564586,\n\t\t\t\t\"focus\": 0.12526937469154403\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-0.754745107136273,\n\t\t\t\t\t-61.42093537983135\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 597,\n\t\t\t\"versionNonce\": 1731803965,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"BlZpyCGxTahpdR_H7tS-O\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 4.126298979805142,\n\t\t\t\"y\": 901.6404715874727,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 424497117,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"tp5KsF34\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"9MLELdPRY91aBJiW6m8QX\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"mfNsgyK9b7E8KJnKZwXkR\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"GPj-Q0OQgC755eDBYCEbk\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676282001228,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 582,\n\t\t\t\"versionNonce\": 1185021682,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"tp5KsF34\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 25.18633468537155,\n\t\t\t\"y\": 914.1404715874727,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 72.87992858886719,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1758849139,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161070,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"switch2\",\n\t\t\t\"rawText\": \"switch2\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"BlZpyCGxTahpdR_H7tS-O\",\n\t\t\t\"originalText\": \"switch2\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 617,\n\t\t\t\"versionNonce\": 2022207133,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"OTcL5ThPSFYptNo9EgVVo\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -68.36496978047444,\n\t\t\t\"y\": 1044.9563237025013,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 883892477,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"fa6a90X7\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"9MLELdPRY91aBJiW6m8QX\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281995083,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 607,\n\t\t\t\"versionNonce\": 392194674,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"fa6a90X7\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -39.04494719746663,\n\t\t\t\"y\": 1057.4563237025013,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 56.359954833984375,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 168638803,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161071,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"node3\",\n\t\t\t\"rawText\": \"node3\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"OTcL5ThPSFYptNo9EgVVo\",\n\t\t\t\"originalText\": \"node3\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 562,\n\t\t\t\"versionNonce\": 1556735827,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"xW7gpyKrd6UM2Tj9xAizC\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 97.63496918436948,\n\t\t\t\"y\": 1040.956293184923,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 60,\n\t\t\t\"seed\": 1400633693,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"R4q8CKEc\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"mfNsgyK9b7E8KJnKZwXkR\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281995083,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 553,\n\t\t\t\"versionNonce\": 1293546994,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"R4q8CKEc\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 127.36499542948667,\n\t\t\t\"y\": 1058.456293184923,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 55.539947509765625,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 761304819,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161072,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"node4\",\n\t\t\t\"rawText\": \"node4\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"xW7gpyKrd6UM2Tj9xAizC\",\n\t\t\t\"originalText\": \"node4\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 727,\n\t\t\t\"versionNonce\": 665407666,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"9MLELdPRY91aBJiW6m8QX\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -6.2713953549026975,\n\t\t\t\"y\": 1031.62301071422,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 55.5611411449713,\n\t\t\t\"height\": 71.68418964586749,\n\t\t\t\"seed\": 1422460445,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161071,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"OTcL5ThPSFYptNo9EgVVo\",\n\t\t\t\t\"gap\": 13.33331298828125,\n\t\t\t\t\"focus\": -0.3267281097885654\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"BlZpyCGxTahpdR_H7tS-O\",\n\t\t\t\t\"gap\": 8.298349480879892,\n\t\t\t\t\"focus\": -0.17524611836081047\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t55.5611411449713,\n\t\t\t\t\t-71.68418964586749\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 703,\n\t\t\t\"versionNonce\": 1015958578,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"mfNsgyK9b7E8KJnKZwXkR\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 133.61022667274455,\n\t\t\t\"y\": 1033.6580995043105,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 51.40196833025804,\n\t\t\t\"height\": 72.87721493369645,\n\t\t\t\"seed\": 2093463091,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161072,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"xW7gpyKrd6UM2Tj9xAizC\",\n\t\t\t\t\"gap\": 7.298193680612485,\n\t\t\t\t\"focus\": 0.060800235550312914\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"BlZpyCGxTahpdR_H7tS-O\",\n\t\t\t\t\"gap\": 9.140412983141346,\n\t\t\t\t\"focus\": 0.04655813345508362\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-51.40196833025804,\n\t\t\t\t\t-72.87721493369645\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 537,\n\t\t\t\"versionNonce\": 332511261,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"RwNGXK06\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -69.74961568266804,\n\t\t\t\"y\": 1101.383205765141,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1783227101,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281995083,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"192.168.10.13\",\n\t\t\t\"rawText\": \"192.168.10.13\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"192.168.10.13\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 494,\n\t\t\t\"versionNonce\": 358294579,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"sJsrz9uf\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 95.2503843173319,\n\t\t\t\"y\": 1106.383205765141,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 568329587,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1676281995083,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"192.168.10.14\",\n\t\t\t\"rawText\": \"192.168.10.14\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"192.168.10.14\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 634,\n\t\t\t\"versionNonce\": 1731787539,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"XtyqX5gUyhhrBEdTg5qrU\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 5.059810673141897,\n\t\t\t\"y\": 785.5496445203978,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 1881374525,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"ydB3Gos9\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"GPj-Q0OQgC755eDBYCEbk\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1676281998738,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 622,\n\t\t\t\"versionNonce\": 2072420722,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"ydB3Gos9\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 42.92982867851299,\n\t\t\t\"y\": 790.5496445203978,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 39.25996398925781,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 893706003,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161072,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"leaf\",\n\t\t\t\"rawText\": \"leaf\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"XtyqX5gUyhhrBEdTg5qrU\",\n\t\t\t\"originalText\": \"leaf\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 1080,\n\t\t\t\"versionNonce\": 705324978,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"GPj-Q0OQgC755eDBYCEbk\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 64.55518665481425,\n\t\t\t\"y\": 893.0584970273371,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 0.6547955656030808,\n\t\t\t\"height\": 64.228038587068,\n\t\t\t\"seed\": 1430949789,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161072,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"BlZpyCGxTahpdR_H7tS-O\",\n\t\t\t\t\"gap\": 8.581974560135677,\n\t\t\t\t\"focus\": 0.05664026204266777\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"XtyqX5gUyhhrBEdTg5qrU\",\n\t\t\t\t\"gap\": 8.280813919871207,\n\t\t\t\t\"focus\": -0.018685479485331787\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-0.6547955656030808,\n\t\t\t\t\t-64.228038587068\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 359,\n\t\t\t\"versionNonce\": 1789390155,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"44KceBynyjlGM_h-4GDtR\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -343.7033567396086,\n\t\t\t\"y\": 1875.4520912327575,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 1917767013,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"wtHBmgXZvWpsi7M6pZcdB\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"_Sb7i2MkHiZGFNs8n2qRH\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"zwLyM0io\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"UNcCdSUcvlxnnonA6eboQ\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1677570434897,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 348,\n\t\t\t\"versionNonce\": 1264146546,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"zwLyM0io\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -319.85332011851483,\n\t\t\t\"y\": 1887.9520912327575,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 67.2999267578125,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 953870187,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161073,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"router1\",\n\t\t\t\"rawText\": \"router1\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"44KceBynyjlGM_h-4GDtR\",\n\t\t\t\"originalText\": \"router1\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 397,\n\t\t\t\"versionNonce\": 1979801957,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"gdqR-uyjhwZPM5zyFMo1i\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -434.3524399273142,\n\t\t\t\"y\": 2017.925786686602,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 70899909,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"_Sb7i2MkHiZGFNs8n2qRH\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"N5vq8cX8\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1677570140596,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 389,\n\t\t\t\"versionNonce\": 1311728626,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"N5vq8cX8\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -400.9324188701853,\n\t\t\t\"y\": 2030.425786686602,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 48.15995788574219,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1468056075,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161073,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"node1\",\n\t\t\t\"rawText\": \"node1\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"gdqR-uyjhwZPM5zyFMo1i\",\n\t\t\t\"originalText\": \"node1\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 421,\n\t\t\t\"versionNonce\": 1912335883,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"IlfqGrYlE206aFm8EEFkG\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -246.0191879741892,\n\t\t\t\"y\": 2019.5924736983206,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 1869379621,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"wtHBmgXZvWpsi7M6pZcdB\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"c3LvJSVY\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1677570140596,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 412,\n\t\t\t\"versionNonce\": 211324786,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"c3LvJSVY\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -217.00916294977515,\n\t\t\t\"y\": 2032.0924736983206,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 56.979949951171875,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1708279979,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161074,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"node2\",\n\t\t\t\"rawText\": \"node2\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"IlfqGrYlE206aFm8EEFkG\",\n\t\t\t\"originalText\": \"node2\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 279,\n\t\t\t\"versionNonce\": 523860530,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"_Sb7i2MkHiZGFNs8n2qRH\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -347.5044149987183,\n\t\t\t\"y\": 2011.259130192462,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 47.874808555714424,\n\t\t\t\"height\": 78.17540700812083,\n\t\t\t\"seed\": 1305750405,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161073,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"gdqR-uyjhwZPM5zyFMo1i\",\n\t\t\t\t\"gap\": 6.666656494139943,\n\t\t\t\t\"focus\": 0.13672956369352693\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"44KceBynyjlGM_h-4GDtR\",\n\t\t\t\t\"gap\": 7.631631951583586,\n\t\t\t\t\"focus\": -0.09006228910805741\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t47.874808555714424,\n\t\t\t\t\t-78.17540700812083\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 299,\n\t\t\t\"versionNonce\": 37885362,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"wtHBmgXZvWpsi7M6pZcdB\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -211.7608241791777,\n\t\t\t\"y\": 2008.5573543906528,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 51.30153722325781,\n\t\t\t\"height\": 72.66665649414062,\n\t\t\t\"seed\": 1232730955,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161074,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"IlfqGrYlE206aFm8EEFkG\",\n\t\t\t\t\"gap\": 11.035119307667856,\n\t\t\t\t\"focus\": 0.02925632464133555\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"44KceBynyjlGM_h-4GDtR\",\n\t\t\t\t\"gap\": 10.438606663754626,\n\t\t\t\t\"focus\": 0.02499166073118326\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-51.30153722325781,\n\t\t\t\t\t-72.66665649414062\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 327,\n\t\t\t\"versionNonce\": 948916907,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"HwzjLA10\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -436.2370858295078,\n\t\t\t\"y\": 2073.51935576096,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 131.25,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 531526373,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1677570235333,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"172.16.0.11/24\",\n\t\t\t\"rawText\": \"172.16.0.11/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"172.16.0.11/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 357,\n\t\t\t\"versionNonce\": 2094506853,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"pWia91k8\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -250.7370858295078,\n\t\t\t\"y\": 2074.76935576096,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 131.25,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1322408427,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1677570231541,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"172.16.0.12/24\",\n\t\t\t\"rawText\": \"172.16.0.12/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"172.16.0.12/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 242,\n\t\t\t\"versionNonce\": 787710675,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"aKZsDzv0\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -542.8509792204784,\n\t\t\t\"y\": 2036.5275652483585,\n\t\t\t\"strokeColor\": \"#364fc7\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 70.28125,\n\t\t\t\"height\": 18.4,\n\t\t\t\"seed\": 25742917,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678946518498,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 2,\n\t\t\t\"text\": \"AS 64512\",\n\t\t\t\"rawText\": \"AS 64512\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 64512\",\n\t\t\t\"lineHeight\": 1.15\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 625,\n\t\t\t\"versionNonce\": 1629835115,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"F6HerBpvwDVggi4XmLr12\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 30.4262182849925,\n\t\t\t\"y\": 1870.5704315242433,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 2030289157,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"seVY3CcVay2SexBrz-KJk\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"8mQrkX8736rhHS-VTu_y2\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"m8cASJXk\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"UNcCdSUcvlxnnonA6eboQ\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1677570431850,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 615,\n\t\t\t\"versionNonce\": 1694778994,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"m8cASJXk\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 49.86625887337141,\n\t\t\t\"y\": 1883.0704315242433,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 76.11991882324219,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1524137419,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161074,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"router2\",\n\t\t\t\"rawText\": \"router2\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"F6HerBpvwDVggi4XmLr12\",\n\t\t\t\"originalText\": \"router2\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 643,\n\t\t\t\"versionNonce\": 1833948965,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"SkPENbICaSnmxnXnuHwvN\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -42.06505047528708,\n\t\t\t\"y\": 2013.8862836392723,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 50,\n\t\t\t\"seed\": 995055717,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"seVY3CcVay2SexBrz-KJk\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"8IG2VpeB\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1677570140596,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 633,\n\t\t\t\"versionNonce\": 1886835186,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"8IG2VpeB\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -12.745027892279268,\n\t\t\t\"y\": 2026.3862836392723,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 56.359954833984375,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1715244139,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161074,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"node3\",\n\t\t\t\"rawText\": \"node3\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"SkPENbICaSnmxnXnuHwvN\",\n\t\t\t\"originalText\": \"node3\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 589,\n\t\t\t\"versionNonce\": 1328685675,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"aB7LEmis_JxAQ1n9G3I1g\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 123.93488848955684,\n\t\t\t\"y\": 2009.8862531216946,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 60,\n\t\t\t\"seed\": 317785029,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"8mQrkX8736rhHS-VTu_y2\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"Ma2d0vGh\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1677570474159,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 579,\n\t\t\t\"versionNonce\": 442269042,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"Ma2d0vGh\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 153.66491473467403,\n\t\t\t\"y\": 2027.3862531216946,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 55.539947509765625,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 325437195,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161075,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"node4\",\n\t\t\t\"rawText\": \"node4\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"aB7LEmis_JxAQ1n9G3I1g\",\n\t\t\t\"originalText\": \"node4\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 806,\n\t\t\t\"versionNonce\": 1633069106,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"seVY3CcVay2SexBrz-KJk\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 20.027537119961337,\n\t\t\t\"y\": 2000.5529706509913,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 55.561844317509326,\n\t\t\t\"height\": 71.68418964586749,\n\t\t\t\"seed\": 335954725,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161074,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"SkPENbICaSnmxnXnuHwvN\",\n\t\t\t\t\"gap\": 13.333312988281023,\n\t\t\t\t\"focus\": -0.3267447951985457\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"F6HerBpvwDVggi4XmLr12\",\n\t\t\t\t\"gap\": 8.29834948088046,\n\t\t\t\t\"focus\": -0.1752461183608165\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t55.561844317509326,\n\t\t\t\t\t-71.68418964586749\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 782,\n\t\t\t\"versionNonce\": 90948530,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"8mQrkX8736rhHS-VTu_y2\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 159.91157535513844,\n\t\t\t\"y\": 2002.588059441082,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 51.40295241541449,\n\t\t\t\"height\": 72.87721493369668,\n\t\t\t\"seed\": 1221504427,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161075,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"aB7LEmis_JxAQ1n9G3I1g\",\n\t\t\t\t\"gap\": 7.298193680612826,\n\t\t\t\t\"focus\": 0.060824496860497644\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"F6HerBpvwDVggi4XmLr12\",\n\t\t\t\t\"gap\": 9.140412983141914,\n\t\t\t\t\"focus\": 0.04655813345508818\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-51.40295241541449,\n\t\t\t\t\t-72.87721493369668\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 565,\n\t\t\t\"versionNonce\": 1005862373,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"zRvC3UjH\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -43.44969637748068,\n\t\t\t\"y\": 2070.313165701912,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 140.625,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1929156229,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1677570224487,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"172.16.10.13/24\",\n\t\t\t\"rawText\": \"172.16.10.13/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"172.16.10.13/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 522,\n\t\t\t\"versionNonce\": 698460555,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"U5q9DHUe\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 121.55030362251927,\n\t\t\t\"y\": 2075.313165701912,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 140.625,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 966901835,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1677570226904,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"172.16.10.14/24\",\n\t\t\t\"rawText\": \"172.16.10.14/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"172.16.10.14/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 403,\n\t\t\t\"versionNonce\": 1939385522,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"UNcCdSUcvlxnnonA6eboQ\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 18.03218639406009,\n\t\t\t\"y\": 1899.33192648973,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 234.14309677975194,\n\t\t\t\"height\": 2.253787421691186,\n\t\t\t\"seed\": 661476075,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161074,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"F6HerBpvwDVggi4XmLr12\",\n\t\t\t\t\"gap\": 12.39403189093241,\n\t\t\t\t\"focus\": -0.12087267553709051\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"44KceBynyjlGM_h-4GDtR\",\n\t\t\t\t\"gap\": 12.592446353916756,\n\t\t\t\t\"focus\": 0.070765728639324\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-234.14309677975194,\n\t\t\t\t\t2.253787421691186\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 468,\n\t\t\t\"versionNonce\": 106446635,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"KZp1dryLeVvzpjkTaCUkR\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -317.5291254101922,\n\t\t\t\"y\": 1918.2705024381937,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 59.701577109743255,\n\t\t\t\"height\": 16.10741822855266,\n\t\t\t\"seed\": 2058864581,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1677570464845,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 536,\n\t\t\t\"versionNonce\": 148725381,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"UpNwvmZewTlsU8CwbZR-x\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 58.85691426220035,\n\t\t\t\"y\": 1913.3583675081188,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 59.701577109743255,\n\t\t\t\"height\": 16.10741822855266,\n\t\t\t\"seed\": 272036965,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1677570471655,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 389,\n\t\t\t\"versionNonce\": 1404880139,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"3pkBzU21\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -353.72942233637775,\n\t\t\t\"y\": 1852.061478652106,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 131.25,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 2117342443,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1677570873929,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"192.168.0.4/24\",\n\t\t\t\"rawText\": \"192.168.0.4/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"192.168.0.4/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 435,\n\t\t\t\"versionNonce\": 211869669,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"gmDoZp62\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 20.594344836757273,\n\t\t\t\"y\": 1850.4233002399699,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 131.25,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 837200107,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1677570880715,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"192.168.0.8/24\",\n\t\t\t\"rawText\": \"192.168.0.8/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"192.168.0.8/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 404,\n\t\t\t\"versionNonce\": 476087755,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"k4g2FqRj\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -435.63834294319054,\n\t\t\t\"y\": 2097.7882404725447,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 131.25,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 490465957,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1677570891775,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"192.168.0.5/24\",\n\t\t\t\"rawText\": \"192.168.0.5/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"192.168.0.5/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 433,\n\t\t\t\"versionNonce\": 632017349,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"EdsDai4S\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -248.88600395965722,\n\t\t\t\"y\": 2096.150062060408,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 131.25,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 830372805,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1677570904779,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"192.168.0.6/24\",\n\t\t\t\"rawText\": \"192.168.0.6/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"192.168.0.6/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 475,\n\t\t\t\"versionNonce\": 676901413,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"qKEbW5GJ\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -42.47552403048866,\n\t\t\t\"y\": 2092.0546160300682,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 131.25,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 870048901,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1677570918934,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"192.168.0.9/24\",\n\t\t\t\"rawText\": \"192.168.0.9/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"192.168.0.9/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 512,\n\t\t\t\"versionNonce\": 920435819,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"UjJQmejd\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 122.9804955952734,\n\t\t\t\"y\": 2095.33097285434,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 131.25,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 227123531,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1677570941065,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"192.168.0.7/24\",\n\t\t\t\"rawText\": \"192.168.0.7/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"192.168.0.7/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 320,\n\t\t\t\"versionNonce\": 1639524883,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"K1DmTT5A\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -464.1139209538113,\n\t\t\t\"y\": 1894.407031303394,\n\t\t\t\"strokeColor\": \"#364fc7\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 70.28125,\n\t\t\t\"height\": 18.4,\n\t\t\t\"seed\": 87961989,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678946518502,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 2,\n\t\t\t\"text\": \"AS 65000\",\n\t\t\t\"rawText\": \"AS 65000\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 65000\",\n\t\t\t\"lineHeight\": 1.15\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 449,\n\t\t\t\"versionNonce\": 290747549,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"5NTQBRxM\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 202.34728862377136,\n\t\t\t\"y\": 1889.3581443786604,\n\t\t\t\"strokeColor\": \"#364fc7\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 70.28125,\n\t\t\t\"height\": 18.4,\n\t\t\t\"seed\": 677992331,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678946518503,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 2,\n\t\t\t\"text\": \"AS 65001\",\n\t\t\t\"rawText\": \"AS 65001\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 65001\",\n\t\t\t\"lineHeight\": 1.15\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 442,\n\t\t\t\"versionNonce\": 1912603653,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"SGVgOvBvnMzKGGU266Y5b\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -367.55211313252676,\n\t\t\t\"y\": 2634.759528461514,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 2108437003,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"T3m8SBgMj4QbKnkbmQRfk\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"xZIe0nhAa-s6qcGOa8-eO\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"8ywRqypA\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"1G7LS6R1Md1Jio1bi7A9K\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"Ptjmkp4drkU4gcISJfkvn\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1678106020061,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 432,\n\t\t\t\"versionNonce\": 1434147506,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"8ywRqypA\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -332.3920942116283,\n\t\t\t\"y\": 2639.759528461514,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 44.679962158203125,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 670042149,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161075,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"leaf1\",\n\t\t\t\"rawText\": \"leaf1\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"SGVgOvBvnMzKGGU266Y5b\",\n\t\t\t\"originalText\": \"leaf1\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 476,\n\t\t\t\"versionNonce\": 1431798379,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"GecRtMou6cc7P8M7KHMLB\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -458.2011963202326,\n\t\t\t\"y\": 2777.233223915359,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 353351851,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"xZIe0nhAa-s6qcGOa8-eO\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"EAXRVOa7\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1678106205933,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 476,\n\t\t\t\"versionNonce\": 1894110770,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"EAXRVOa7\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -433.61116183536933,\n\t\t\t\"y\": 2782.233223915359,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 65.81993103027344,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1332067205,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161076,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"server1\",\n\t\t\t\"rawText\": \"server1\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"GecRtMou6cc7P8M7KHMLB\",\n\t\t\t\"originalText\": \"server1\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 498,\n\t\t\t\"versionNonce\": 405677931,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"WctpWpIbp-WNWS1zOj3Ox\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -269.8679443671075,\n\t\t\t\"y\": 2778.8999109270776,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 260664139,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"T3m8SBgMj4QbKnkbmQRfk\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"1suLjLet\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1678106208507,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 496,\n\t\t\t\"versionNonce\": 562524594,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"1suLjLet\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -249.68790591495906,\n\t\t\t\"y\": 2783.8999109270776,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 74.63992309570312,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 411960037,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161076,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"server2\",\n\t\t\t\"rawText\": \"server2\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"WctpWpIbp-WNWS1zOj3Ox\",\n\t\t\t\"originalText\": \"server2\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 548,\n\t\t\t\"versionNonce\": 308360306,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"xZIe0nhAa-s6qcGOa8-eO\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -374.51759437385203,\n\t\t\t\"y\": 2770.566567421218,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 48.895934557779356,\n\t\t\t\"height\": 72.19294735826088,\n\t\t\t\"seed\": 24365547,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161075,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"GecRtMou6cc7P8M7KHMLB\",\n\t\t\t\t\"gap\": 6.666656494140625,\n\t\t\t\t\"focus\": 0.13790139192091525\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"4eMD5CAK\",\n\t\t\t\t\"gap\": 5.268317955273233,\n\t\t\t\t\"focus\": 0.04587059703524066\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t48.895934557779356,\n\t\t\t\t\t-72.19294735826088\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 539,\n\t\t\t\"versionNonce\": 1643134962,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"T3m8SBgMj4QbKnkbmQRfk\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -232.36647990802686,\n\t\t\t\"y\": 2767.864791619409,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 57.085550767755706,\n\t\t\t\"height\": 72.4666564941408,\n\t\t\t\"seed\": 1475763781,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161076,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"WctpWpIbp-WNWS1zOj3Ox\",\n\t\t\t\t\"gap\": 11.035119307668538,\n\t\t\t\t\"focus\": 0.02925632464134229\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"4eMD5CAK\",\n\t\t\t\t\"gap\": 2.292833017584144,\n\t\t\t\t\"focus\": -0.23792626275567463\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-57.085550767755706,\n\t\t\t\t\t-72.4666564941408\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 408,\n\t\t\t\"versionNonce\": 772740133,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"1EO987Zm\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -460.085842222426,\n\t\t\t\"y\": 2832.826792989716,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 265901195,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678106301502,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.5.11/24\",\n\t\t\t\"rawText\": \"10.1.5.11/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.5.11/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 436,\n\t\t\t\"versionNonce\": 1998733099,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"t9AEA7Rx\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -274.5858422224261,\n\t\t\t\"y\": 2834.076792989716,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1954303397,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678106314315,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.5.12/24\",\n\t\t\t\"rawText\": \"10.1.5.12/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.5.12/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 706,\n\t\t\t\"versionNonce\": 571142699,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"i6a-8DwUqWhfGna5iKIjZ\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 6.577461892074211,\n\t\t\t\"y\": 2629.877868753,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 491606277,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"6xSLewPiir90MmwpBn_i2\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"QDtHqVASY64REt4DUBEtW\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"cT8PBfb5\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"w7AbhVYRvFtgSlP4MQpEN\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"9UdKhMWMzNkqTbEmeTSGT\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1678106030003,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 703,\n\t\t\t\"versionNonce\": 1119860466,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"cT8PBfb5\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 37.327484780257805,\n\t\t\t\"y\": 2634.877868753,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 53.49995422363281,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 632286667,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161076,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"leaf2\",\n\t\t\t\"rawText\": \"leaf2\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"i6a-8DwUqWhfGna5iKIjZ\",\n\t\t\t\"originalText\": \"leaf2\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 720,\n\t\t\t\"versionNonce\": 1313852523,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"wHcV0YF4Ttq7ZvWwkCqSm\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -65.91380686820537,\n\t\t\t\"y\": 2773.193720868029,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 1072097381,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"6xSLewPiir90MmwpBn_i2\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"GQc4u93D\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1678106211584,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 723,\n\t\t\t\"versionNonce\": 24126066,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"GQc4u93D\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -45.42377085746318,\n\t\t\t\"y\": 2778.193720868029,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 74.01992797851562,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1151728747,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161077,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"server3\",\n\t\t\t\"rawText\": \"server3\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"wHcV0YF4Ttq7ZvWwkCqSm\",\n\t\t\t\"originalText\": \"server3\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 1066,\n\t\t\t\"versionNonce\": 1196427442,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"6xSLewPiir90MmwpBn_i2\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -6.904605135050549,\n\t\t\t\"y\": 2759.8604078797475,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 53.833375635535106,\n\t\t\t\"height\": 64.51416087315829,\n\t\t\t\"seed\": 1677316901,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161077,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"wHcV0YF4Ttq7ZvWwkCqSm\",\n\t\t\t\t\"gap\": 13.33331298828125,\n\t\t\t\t\"focus\": -0.3394375814446696\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"DEhEGlmJ\",\n\t\t\t\t\"gap\": 9.366359636000197,\n\t\t\t\t\"focus\": -0.0020396949293084\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t53.833375635535106,\n\t\t\t\t\t-64.51416087315829\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 1059,\n\t\t\t\"versionNonce\": 924235442,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"QDtHqVASY64REt4DUBEtW\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 144.16350947867107,\n\t\t\t\"y\": 2761.895496669839,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 63.5867088270883,\n\t\t\t\"height\": 65.39064352874084,\n\t\t\t\"seed\": 1335631275,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161078,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"czF_BqHNp7zReiuQ7LDte\",\n\t\t\t\t\"gap\": 10.297241932845736,\n\t\t\t\t\"focus\": 0.39708659373231137\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"DEhEGlmJ\",\n\t\t\t\t\"gap\": 10.52496577050897,\n\t\t\t\t\"focus\": 0.026710023306754923\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-63.5867088270883,\n\t\t\t\t\t-65.39064352874084\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 645,\n\t\t\t\"versionNonce\": 84914821,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"y263Pr6G\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -67.29845277039897,\n\t\t\t\"y\": 2829.620602930669,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 503195269,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678106320769,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.8.13/24\",\n\t\t\t\"rawText\": \"10.1.8.13/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.8.13/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 610,\n\t\t\t\"versionNonce\": 373319371,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"hxssPdUA\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 97.1077626681764,\n\t\t\t\"y\": 2829.276541877848,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1698771019,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678106327915,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.8.14/24\",\n\t\t\t\"rawText\": \"10.1.8.14/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.8.14/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 510,\n\t\t\t\"versionNonce\": 1852699621,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"Ez5nhyCp\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -450.01989522309503,\n\t\t\t\"y\": 2604.8372857051922,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1411635595,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"Ptjmkp4drkU4gcISJfkvn\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"1G7LS6R1Md1Jio1bi7A9K\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1678106085990,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t},\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.10.1/24\",\n\t\t\t\"rawText\": \"10.1.10.1/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.10.1/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 478,\n\t\t\t\"versionNonce\": 880889110,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"SGvmZLsY\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -459.4870993361087,\n\t\t\t\"y\": 2857.095677701301,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 489058347,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679292166414,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"172.18.0.2/24\",\n\t\t\t\"rawText\": \"172.18.0.2/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"172.18.0.2/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 509,\n\t\t\t\"versionNonce\": 1106537674,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"0McNngTk\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -272.73476035257545,\n\t\t\t\"y\": 2855.4574992891644,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 47725573,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679292171421,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"172.18.0.3/24\",\n\t\t\t\"rawText\": \"172.18.0.3/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"172.18.0.3/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 553,\n\t\t\t\"versionNonce\": 84280470,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"iV4gaYGy\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -66.32428042340689,\n\t\t\t\"y\": 2851.362053258825,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1658663627,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679292177271,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"172.18.0.4/24\",\n\t\t\t\"rawText\": \"172.18.0.4/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"172.18.0.4/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 603,\n\t\t\t\"versionNonce\": 525076886,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"jmsIxj2A\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 98.53795464093048,\n\t\t\t\"y\": 2847.512995346002,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 719090533,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679292183865,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"172.18.0.5/24\",\n\t\t\t\"rawText\": \"172.18.0.5/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"172.18.0.5/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 395,\n\t\t\t\"versionNonce\": 776437181,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"FTJdlslf\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -487.9626773467296,\n\t\t\t\"y\": 2653.7144685321505,\n\t\t\t\"strokeColor\": \"#364fc7\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 70.28125,\n\t\t\t\"height\": 18.4,\n\t\t\t\"seed\": 1440915819,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678946518509,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 2,\n\t\t\t\"text\": \"AS 65005\",\n\t\t\t\"rawText\": \"AS 65005\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 65005\",\n\t\t\t\"lineHeight\": 1.15\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 524,\n\t\t\t\"versionNonce\": 1514539155,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"3BI4T7KA\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 178.49853223085307,\n\t\t\t\"y\": 2648.6655816074167,\n\t\t\t\"strokeColor\": \"#364fc7\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 70.28125,\n\t\t\t\"height\": 18.4,\n\t\t\t\"seed\": 1747107525,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678946518509,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 2,\n\t\t\t\"text\": \"AS 65008\",\n\t\t\t\"rawText\": \"AS 65008\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 65008\",\n\t\t\t\"lineHeight\": 1.15\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 581,\n\t\t\t\"versionNonce\": 252714405,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"i0lhieJuD7S4w4ed4UDQn\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -360.87823382481827,\n\t\t\t\"y\": 2429.3121085762054,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 1842831307,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"UzlaQSqe\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"Ptjmkp4drkU4gcISJfkvn\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"w7AbhVYRvFtgSlP4MQpEN\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1678106045706,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 573,\n\t\t\t\"versionNonce\": 1150623666,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"UzlaQSqe\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -328.77820483311905,\n\t\t\t\"y\": 2434.3121085762054,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 50.79994201660156,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 94869093,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161077,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"spine1\",\n\t\t\t\"rawText\": \"spine1\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"i0lhieJuD7S4w4ed4UDQn\",\n\t\t\t\"originalText\": \"spine1\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 537,\n\t\t\t\"versionNonce\": 1424580587,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"fhJaGjdklxDa4Df9Vs7rw\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 2.358450384894468,\n\t\t\t\"y\": 2427.085973249592,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 918501387,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"yJ4bOcab\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"9UdKhMWMzNkqTbEmeTSGT\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"1G7LS6R1Md1Jio1bi7A9K\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1678106037724,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 530,\n\t\t\t\"versionNonce\": 1631855858,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"yJ4bOcab\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 30.048483343878843,\n\t\t\t\"y\": 2432.085973249592,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 59.61993408203125,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 33055269,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161077,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"spine2\",\n\t\t\t\"rawText\": \"spine2\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"fhJaGjdklxDa4Df9Vs7rw\",\n\t\t\t\"originalText\": \"spine2\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 101,\n\t\t\t\"versionNonce\": 1676476517,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"hzSBH517\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -439.3644222515102,\n\t\t\t\"y\": 2485.300457890393,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 367330821,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678105964182,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.10.2/24\",\n\t\t\t\"rawText\": \"10.1.10.2/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.10.2/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 1125,\n\t\t\t\"versionNonce\": 2017324338,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"Ptjmkp4drkU4gcISJfkvn\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -321.68847297744685,\n\t\t\t\"y\": 2623.330983853839,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 2.2130271745162986,\n\t\t\t\"height\": 151.13315649620063,\n\t\t\t\"seed\": 802444357,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679991426817,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"SGVgOvBvnMzKGGU266Y5b\",\n\t\t\t\t\"gap\": 11.428544607675121,\n\t\t\t\t\"focus\": -0.20880783268876346\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"i0lhieJuD7S4w4ed4UDQn\",\n\t\t\t\t\"gap\": 7.885718781432843,\n\t\t\t\t\"focus\": 0.27227341346863165\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t2.2130271745162986,\n\t\t\t\t\t-151.13315649620063\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 740,\n\t\t\t\"versionNonce\": 1352379890,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"w7AbhVYRvFtgSlP4MQpEN\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 64.29383207354583,\n\t\t\t\"y\": 2619.768276485292,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 359.4581467400621,\n\t\t\t\"height\": 141.86574104493684,\n\t\t\t\"seed\": 1469332421,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161077,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"i6a-8DwUqWhfGna5iKIjZ\",\n\t\t\t\t\"gap\": 10.10959226770774,\n\t\t\t\t\"focus\": 0.689045389946755\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"i0lhieJuD7S4w4ed4UDQn\",\n\t\t\t\t\"gap\": 13.590426864149777,\n\t\t\t\t\"focus\": 0.6928691636433885\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-359.4581467400621,\n\t\t\t\t\t-141.86574104493684\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 73,\n\t\t\t\"versionNonce\": 132790757,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"ksu8EYN3\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -264.6946587344985,\n\t\t\t\"y\": 2484.4880270132426,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 676413707,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678105846325,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.34.2/24\",\n\t\t\t\"rawText\": \"10.1.34.2/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.34.2/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 783,\n\t\t\t\"versionNonce\": 1677351282,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"9UdKhMWMzNkqTbEmeTSGT\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 74.73282373681397,\n\t\t\t\"y\": 2620.362061046718,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 4.895357535839267,\n\t\t\t\"height\": 153.74143227342893,\n\t\t\t\"seed\": 1702522053,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161077,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"i6a-8DwUqWhfGna5iKIjZ\",\n\t\t\t\t\"gap\": 9.515807706281976,\n\t\t\t\t\"focus\": 0.1983488772503119\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"fhJaGjdklxDa4Df9Vs7rw\",\n\t\t\t\t\"gap\": 4.534655523696983,\n\t\t\t\t\"focus\": -0.15979749596509357\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-4.895357535839267,\n\t\t\t\t\t-153.74143227342893\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 916,\n\t\t\t\"versionNonce\": 617101038,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"1G7LS6R1Md1Jio1bi7A9K\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -312.6856292200395,\n\t\t\t\"y\": 2624.552855760253,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 365.35883258485956,\n\t\t\t\"height\": 149.02545856559527,\n\t\t\t\"seed\": 1150861221,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679991426817,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"SGVgOvBvnMzKGGU266Y5b\",\n\t\t\t\t\"gap\": 10.206672701261141,\n\t\t\t\t\"focus\": -0.7027680838923434\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"fhJaGjdklxDa4Df9Vs7rw\",\n\t\t\t\t\"gap\": 13.441423945065708,\n\t\t\t\t\"focus\": -0.6839613231076725\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t365.35883258485956,\n\t\t\t\t\t-149.02545856559527\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 169,\n\t\t\t\"versionNonce\": 1060243301,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"D4f51IpU\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 77.32524864606063,\n\t\t\t\"y\": 2482.7066733289685,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1621323109,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678105951824,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.11.2/24\",\n\t\t\t\"rawText\": \"10.1.11.2/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.11.2/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 216,\n\t\t\t\"versionNonce\": 1411612811,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"7i6V1j4L\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -59.24520048159309,\n\t\t\t\"y\": 2483.894242451818,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 66457387,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678105948829,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.12.2/24\",\n\t\t\t\"rawText\": \"10.1.12.2/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.12.2/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 456,\n\t\t\t\"versionNonce\": 386331261,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"Dmg6SRjE\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -437.3622103203367,\n\t\t\t\"y\": 2441.6417540292477,\n\t\t\t\"strokeColor\": \"#364fc7\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 52.484375,\n\t\t\t\"height\": 18.4,\n\t\t\t\"seed\": 1517304011,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678946518513,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 2,\n\t\t\t\"text\": \"AS 500\",\n\t\t\t\"rawText\": \"AS 500\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 500\",\n\t\t\t\"lineHeight\": 1.15\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 500,\n\t\t\t\"versionNonce\": 1995784147,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"jaffyqW2\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 137.51447671728977,\n\t\t\t\"y\": 2436.2976929764272,\n\t\t\t\"strokeColor\": \"#364fc7\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 52.484375,\n\t\t\t\"height\": 18.4,\n\t\t\t\"seed\": 1546950405,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678946518513,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 2,\n\t\t\t\"text\": \"AS 800\",\n\t\t\t\"rawText\": \"AS 800\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 800\",\n\t\t\t\"lineHeight\": 1.15\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 546,\n\t\t\t\"versionNonce\": 1270116197,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"ZlPlHLq4\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -280.7268418929622,\n\t\t\t\"y\": 2610.3703540352544,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1854367979,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678106096938,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.12.1/24\",\n\t\t\t\"rawText\": \"10.1.12.1/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.12.1/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 609,\n\t\t\t\"versionNonce\": 724718213,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"4eMD5CAK\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -364.45046505382834,\n\t\t\t\"y\": 2673.9053021076843,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 103.125,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1198225541,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"T3m8SBgMj4QbKnkbmQRfk\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"xZIe0nhAa-s6qcGOa8-eO\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1678106144157,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t},\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.5.1/24\",\n\t\t\t\"rawText\": \"10.1.5.1/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.5.1/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 691,\n\t\t\t\"versionNonce\": 1038472997,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"DEhEGlmJ\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 11.071101275110777,\n\t\t\t\"y\": 2666.779887370589,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 103.125,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1909106699,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"QDtHqVASY64REt4DUBEtW\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"6xSLewPiir90MmwpBn_i2\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1678106198785,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t},\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.8.1/24\",\n\t\t\t\"rawText\": \"10.1.8.1/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.8.1/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 34,\n\t\t\t\"versionNonce\": 1478185163,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"JVstCZEX\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -51.029319079833385,\n\t\t\t\"y\": 2606.2133091224887,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1467188267,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678106174046,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.34.1/24\",\n\t\t\t\"rawText\": \"10.1.34.1/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.34.1/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 37,\n\t\t\t\"versionNonce\": 682466635,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"qpnYQBAi\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 77.8219307493008,\n\t\t\t\"y\": 2610.963585613885,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 53821637,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1678106183557,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.11.1/24\",\n\t\t\t\"rawText\": \"10.1.11.1/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.11.1/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 794,\n\t\t\t\"versionNonce\": 1745085835,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"czF_BqHNp7zReiuQ7LDte\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 83.85687882173113,\n\t\t\t\"y\": 2772.1927386026846,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 145004421,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"5ijs4IPf\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"QDtHqVASY64REt4DUBEtW\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1678106236404,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 797,\n\t\t\t\"versionNonce\": 1613828210,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"5ijs4IPf\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 104.75691849458269,\n\t\t\t\"y\": 2777.1927386026846,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 73.19992065429688,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 859197259,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679990161078,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"server4\",\n\t\t\t\"rawText\": \"server4\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"czF_BqHNp7zReiuQ7LDte\",\n\t\t\t\"originalText\": \"server4\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 467,\n\t\t\t\"versionNonce\": 597362930,\n\t\t\t\"isDeleted\": true,\n\t\t\t\"id\": \"UYiC--spaFlTKPN8-uNzb\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 58.06714810005599,\n\t\t\t\"y\": 3001.640247670929,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 1652918766,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"i3-83HtZ6MeBagrulKUBH\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"yMYqlKe8qOAdURcsJxOEq\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"1G7LS6R1Md1Jio1bi7A9K\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"Ptjmkp4drkU4gcISJfkvn\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"dhOmSEKo\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1679991426817,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 456,\n\t\t\t\"versionNonce\": 1043052334,\n\t\t\t\"isDeleted\": true,\n\t\t\t\"id\": \"dhOmSEKo\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 93.22716702095443,\n\t\t\t\"y\": 3006.640247670929,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 44.679962158203125,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 434295794,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679991426817,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"leaf1\",\n\t\t\t\"rawText\": \"leaf1\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"UYiC--spaFlTKPN8-uNzb\",\n\t\t\t\"originalText\": \"leaf1\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 502,\n\t\t\t\"versionNonce\": 338523890,\n\t\t\t\"isDeleted\": true,\n\t\t\t\"id\": \"l_f694Ag8cICYxjKVYXR7\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -32.58193508764987,\n\t\t\t\"y\": 3144.113943124774,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 156900398,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"E1nxxZAZ\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1679991426817,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 500,\n\t\t\t\"versionNonce\": 38314350,\n\t\t\t\"isDeleted\": true,\n\t\t\t\"id\": \"E1nxxZAZ\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -7.991900602786586,\n\t\t\t\"y\": 3149.113943124774,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 65.81993103027344,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 1711769010,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679991426817,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"server1\",\n\t\t\t\"rawText\": \"server1\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"l_f694Ag8cICYxjKVYXR7\",\n\t\t\t\"originalText\": \"server1\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 524,\n\t\t\t\"versionNonce\": 683616558,\n\t\t\t\"isDeleted\": true,\n\t\t\t\"id\": \"MlYyL-oyNPh-GxehGV6mP\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 155.75131686547525,\n\t\t\t\"y\": 3145.7806301364926,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 73557614,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"VhotL1wF\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1679991426817,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 520,\n\t\t\t\"versionNonce\": 2144224174,\n\t\t\t\"isDeleted\": true,\n\t\t\t\"id\": \"VhotL1wF\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 175.93135531762368,\n\t\t\t\"y\": 3150.7806301364926,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 74.63992309570312,\n\t\t\t\"height\": 25,\n\t\t\t\"seed\": 909115250,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679991426817,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"server2\",\n\t\t\t\"rawText\": \"server2\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"MlYyL-oyNPh-GxehGV6mP\",\n\t\t\t\"originalText\": \"server2\",\n\t\t\t\"lineHeight\": 1.25\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 596,\n\t\t\t\"versionNonce\": 1575720498,\n\t\t\t\"isDeleted\": true,\n\t\t\t\"id\": \"yMYqlKe8qOAdURcsJxOEq\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 51.10166685873071,\n\t\t\t\"y\": 3137.4472866306332,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 48.895934557779356,\n\t\t\t\"height\": 72.19294735826088,\n\t\t\t\"seed\": 73885870,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679991426817,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"l_f694Ag8cICYxjKVYXR7\",\n\t\t\t\t\"focus\": 0.1415322995757818,\n\t\t\t\t\"gap\": 6.666656494140625\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"TGAt1CyZ\",\n\t\t\t\t\"focus\": 0.04587059703523756,\n\t\t\t\t\"gap\": 5.268317955273687\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t48.895934557779356,\n\t\t\t\t\t-72.19294735826088\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 587,\n\t\t\t\"versionNonce\": 2028314094,\n\t\t\t\"isDeleted\": true,\n\t\t\t\"id\": \"i3-83HtZ6MeBagrulKUBH\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 193.25278132455588,\n\t\t\t\"y\": 3134.745510828824,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 57.085550767755706,\n\t\t\t\"height\": 72.4666564941408,\n\t\t\t\"seed\": 1721975090,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679991426817,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"MlYyL-oyNPh-GxehGV6mP\",\n\t\t\t\t\"focus\": 0.03478937564896005,\n\t\t\t\t\"gap\": 11.035119307668538\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"TGAt1CyZ\",\n\t\t\t\t\"focus\": -0.2379262627556722,\n\t\t\t\t\"gap\": 2.2928330175845986\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-57.085550767755706,\n\t\t\t\t\t-72.4666564941408\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 431,\n\t\t\t\"versionNonce\": 675151858,\n\t\t\t\"isDeleted\": true,\n\t\t\t\"id\": \"axcMzd4y\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -34.46658098984324,\n\t\t\t\"y\": 3199.707512199131,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 957489902,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679991426817,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.5.11/24\",\n\t\t\t\"rawText\": \"10.1.5.11/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.5.11/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 459,\n\t\t\t\"versionNonce\": 43495470,\n\t\t\t\"isDeleted\": true,\n\t\t\t\"id\": \"lCURsc6H\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 151.03341901015665,\n\t\t\t\"y\": 3200.957512199131,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 851987186,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679991426817,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.5.12/24\",\n\t\t\t\"rawText\": \"10.1.5.12/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.5.12/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 501,\n\t\t\t\"versionNonce\": 1478308274,\n\t\t\t\"isDeleted\": true,\n\t\t\t\"id\": \"4HFwH9J0\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -33.86783810352597,\n\t\t\t\"y\": 3223.976396910716,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1961596206,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679991426817,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"172.18.0.2/24\",\n\t\t\t\"rawText\": \"172.18.0.2/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"172.18.0.2/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 532,\n\t\t\t\"versionNonce\": 684554862,\n\t\t\t\"isDeleted\": true,\n\t\t\t\"id\": \"qDy3uVKi\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 152.8845008800073,\n\t\t\t\"y\": 3222.3382184985794,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1361452210,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679991426817,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"172.18.0.3/24\",\n\t\t\t\"rawText\": \"172.18.0.3/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"172.18.0.3/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 418,\n\t\t\t\"versionNonce\": 816851826,\n\t\t\t\"isDeleted\": true,\n\t\t\t\"id\": \"h6hIfS3K\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -62.34341611414686,\n\t\t\t\"y\": 3020.5951877415655,\n\t\t\t\"strokeColor\": \"#364fc7\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 70.28125,\n\t\t\t\"height\": 18.4,\n\t\t\t\"seed\": 1365032814,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679991426817,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 2,\n\t\t\t\"text\": \"AS 65005\",\n\t\t\t\"rawText\": \"AS 65005\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 65005\",\n\t\t\t\"lineHeight\": 1.15\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 635,\n\t\t\t\"versionNonce\": 621136050,\n\t\t\t\"isDeleted\": true,\n\t\t\t\"id\": \"TGAt1CyZ\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 61.168796178754405,\n\t\t\t\"y\": 3040.786021317099,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 103.125,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 258193010,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [],\n\t\t\t\"updated\": 1679991426817,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t},\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.5.1/24\",\n\t\t\t\"rawText\": \"10.1.5.1/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.5.1/24\",\n\t\t\t\"lineHeight\": 1.2\n\t\t}\n\t],\n\t\"appState\": {\n\t\t\"theme\": \"light\",\n\t\t\"viewBackgroundColor\": \"#ffffff\",\n\t\t\"currentItemStrokeColor\": \"#000000\",\n\t\t\"currentItemBackgroundColor\": \"transparent\",\n\t\t\"currentItemFillStyle\": \"hachure\",\n\t\t\"currentItemStrokeWidth\": 0.5,\n\t\t\"currentItemStrokeStyle\": \"solid\",\n\t\t\"currentItemRoughness\": 0,\n\t\t\"currentItemOpacity\": 100,\n\t\t\"currentItemFontFamily\": 3,\n\t\t\"currentItemFontSize\": 16,\n\t\t\"currentItemTextAlign\": \"left\",\n\t\t\"currentItemStartArrowhead\": null,\n\t\t\"currentItemEndArrowhead\": null,\n\t\t\"scrollX\": 951.0141798392917,\n\t\t\"scrollY\": -2250.168738957489,\n\t\t\"zoom\": {\n\t\t\t\"value\": 0.9000000000000002\n\t\t},\n\t\t\"currentItemRoundness\": \"round\",\n\t\t\"gridSize\": null,\n\t\t\"colorPalette\": {},\n\t\t\"currentStrokeOptions\": null,\n\t\t\"previousGridSize\": null\n\t},\n\t\"files\": {}\n}\n```\n%%","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/BIRD-%E6%96%87%E6%A1%A3-+-%E9%A1%B9%E7%9B%AE":{"title":"","content":"#bird \n\næ–‡æ¡£ï¼š[The BIRD Internet Routing Daemon Project (network.cz)](https://bird.network.cz/?get_doc\u0026v=20\u0026f=bird-6.html)\né¡¹ç›®åœ°å€ï¼š[Files Â· master Â· labs / BIRD Internet Routing Daemon Â· GitLab (nic.cz)](https://gitlab.nic.cz/labs/bird/tree/master)\n\n\nyum install -y flex bison ncurses-devel readline-devel\ncalico fork bird ä»“åº“åœ°å€ï¼š[projectcalico/bird: Calico's fork of the BIRD protocol stack (github.com)](https://github.com/projectcalico/bird)\n\n\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/Calico-Full-Mesh-BGP-%E6%8A%A5%E6%96%87":{"title":"","content":"#bgp #calico-bgp\n\n### é›†ç¾¤ç¯å¢ƒ\n| èŠ‚ç‚¹  | ip åœ°å€     | è§’è‰²          |\n| ----- | ----------- | ------------- |\n| node1 | 172.30.10.2 | master+worker |\n| node2 | 172.30.10.4 | worker        |\n| node3 | 172.30.10.6 | worker        | \n\n![upgit_20230206_1675691855.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675691855.png)\n\n![upgit_20230206_1675668659.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675668659.png)\n\n\n### æ²¡æœ‰æ“ä½œæ—¶ï¼ŒBGPä¼šå‘é€å“ªäº›æŠ¥æ–‡\n![upgit_20230206_1675691148.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675691148.png)\næ²¡æœ‰æ“ä½œæ—¶ï¼Œcalico ä¼šæ ¹æ®é»˜è®¤çš„ keepalive timer å‘é€ keepalive message\n\n### åˆ›å»º/åˆ é™¤ POD æ—¶ï¼Œä¼šå‘é€å“ªäº›BGPæŠ¥æ–‡  \n#### åˆ›å»º pod\n1. åˆ›å»º podï¼ŒèŠ‚ç‚¹ä¸Šæœ‰å¯¹åº”çš„ block æ—¶ - ä¸ä¼šå‘é€æ•°æ®åŒ…\n2. åˆ›å»º podï¼ŒèŠ‚ç‚¹ä¸Šæ²¡æœ‰å¯¹åº”çš„ block æ—¶ - åˆ›å»ºæ–°çš„ blockaffinities æ—¶ï¼Œå‘é€ Update Messageã€Route Refresh Message\n![upgit_20230206_1675671042.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675671042.png)\n3. åˆ›å»º pod ä¸”å‘ç”Ÿå€Ÿç”¨ ip æ—¶\n![upgit_20230206_1675691584.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675691584.png)\n\n![upgit_20230206_1675691407.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675691407.png)\n\n#### åˆ é™¤ pod\n1. åˆ é™¤ pod åï¼Œblockaffinities ä¸­ä»æœ‰å ç”¨ ip çš„è´Ÿè½½ æˆ–è€… è¯¥èŠ‚ç‚¹åªå­˜åœ¨ä¸€ä¸ª blockaffinities æ—¶ - ä¸å‘é€ä»»ä½•æ•°æ®\n~~2. åˆ é™¤ pod åï¼Œblockaffinities ä¸­æ²¡æœ‰å ç”¨ ip çš„è´Ÿè½½ä¸”è¯¥èŠ‚ç‚¹è¿˜å­˜åœ¨å…¶ä»–å¯ç”¨ blockaffinities æ—¶ï¼ˆå›æ”¶blockï¼‰~~\n3. åˆ é™¤å€Ÿç”¨ ip çš„ pod\nåˆ é™¤ pod å‘é€ Update Message(Withdrawn routes) æ©ç é•¿åº¦ï¼š32\n![upgit_20230206_1675692675.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675692675.png)\n\n### æ“ä½œ ippool æ—¶çš„å‘é€æ•°æ®åŒ…\n#### æ–°å»º/åˆ é™¤ ippool æ—¶çš„å‘é€æ•°æ®åŒ…\nä¸¤ä¸¤äº’å‘ - å‘é€ Route Refresh Message + update å‘Šè¯‰ peer åˆ é™¤çš„è·¯ç”±è¡¨ + å®£å‘Šbgpè·¯ç”±\n1. åˆ›å»º ippool\n![upgit_20230206_1675694662.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675694662.png)\n2. åˆ é™¤ ippool\n![upgit_20230206_1675694836.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675694836.png)\n\n#### ä¿®æ”¹ ippool æ—¶çš„å‘é€æ•°æ®åŒ…\nå¦‚æœå°† bgp æ¨¡å¼ä¿®æ”¹ä¸º ipip æ¨¡å¼ï¼Œä¸” tunl0 æ²¡æœ‰åˆ†é… ip ä¸” å¹¶éæ‰€æœ‰èŠ‚ç‚¹éƒ½æœ‰è¯¥ ippool çš„ block æ—¶ä¼šæ ¹æ® blockSize åˆ›å»º blockaffinities è¿›è€Œå‘å¸ƒè·¯ç”±ã€‚\nä¸¤ä¸¤å®£å‘Šåˆ†é…çš„ block è·¯ç”±\n![upgit_20230206_1675695742.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675695742.png)\nä¸¤ä¸¤å®£å‘Šæ›´æ–°è·¯ç”±ä¿¡æ¯\n![upgit_20230206_1675695812.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675695812.png)\n\n~~å¦‚æœå°† ipip ä¿®æ”¹ä¸º bgp æ¨¡å¼æ—¶ï¼Œä¸” tunl0 åˆ†é…çš„æ˜¯è¯¥ ippool ä¸­çš„åœ°å€ä¾¿ä¼šå‘å¸ƒ Update Message(åˆ é™¤ block) ï¼›~~\n\n### é‡å¯ node / calico åˆå§‹åŒ–\nnodeé‡å¯æ—¶ï¼Œnodeä¸Šæœ‰podï¼ŒæŠ¥æ–‡æ˜¯æ€ä¹ˆå‘é€çš„ï¼Ÿ  \nCalicoåˆå§‹åŒ–æ—¶ï¼Œä¼šå‘é€å“ªäº›BGPæŠ¥æ–‡ã€‚BGPæŠ¥æ–‡é‡Œé¢å¤§è‡´åŒ…å«å†…å®¹\nä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œå››æ¬¡æŒ¥æ‰‹æ–­å¼€è¿æ¥\nOpen æŠ¥æ–‡å»ºç«‹ bgp è¿æ¥ï¼Œä¹‹å update å®£å‘Šè·¯ç”±\n![upgit_20230206_1675677541.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675677541.png)\n\n![upgit_20230206_1675677598.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675677598.png)\n\n\nå…³æœºä¹‹åä¸€æ®µæ—¶é—´å‘å¸ƒè¿‡æœŸåŒ…\n![upgit_20230206_1675678430.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675678430.png)\n\n\n### å…¶ä»–æƒ…å†µï¼Œä¼šå¯¼è‡´BGPæœ‰æŠ¥æ–‡å‘é€  \n- åˆ›å»º/åˆ é™¤ blockaffinities ä¼šè§¦å‘bgp æ¶ˆæ¯å‘é€(blockaffinities å›æ”¶)\n- æ‰‹åŠ¨ kill bird è¿›ç¨‹åå‘å¸ƒ Notification æŠ¥æ–‡\n![upgit_20230206_1675697072.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675697072.png)\n\n\n### ç›‘æ§","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/Calico-TOR-BGP-%E6%8A%A5%E6%96%87":{"title":"","content":"#bgp  #calico-bgp #calico \n\n### é›†ç¾¤ç¯å¢ƒ\n| èŠ‚ç‚¹  | ip åœ°å€   | è§’è‰²          |\n| ----- | --------- | ------------- |\n| node1 | 10.1.5.11 | master+worker |\n| node2 | 10.1.5.12 | worker        |\n| node3 | 10.1.8.13 | worker        |\n| node4 | 10.1.8.14 | worker        |\n\n![upgit_20230320_1679291957.png](https://images.ryken.cloud/2023/03/upgit_20230320_1679291957.png)\n\n![upgit_20230320_1679292048.png](https://images.ryken.cloud/2023/03/upgit_20230320_1679292048.png)\n\n```yaml\napiVersion: projectcalico.org/v3\nkind: BGPPeer\nmetadata:\n  name: rack1-to-leaf1\nspec:\n  peerIP: 10.1.5.1\n  asNumber: 65005\n  nodeSelector: rack == 'rack1'\n---\napiVersion: projectcalico.org/v3\nkind: BGPPeer\nmetadata:\n  name: rack2-to-leaf2\nspec:\n  peerIP: 10.1.8.1\n  asNumber: 65008\n  nodeSelector: rack == 'rack2'\n```\n\nç½‘ç»œæ‹“æ‰‘å›¾ï¼š\n![upgit_20230320_1679292214.png](https://images.ryken.cloud/2023/03/upgit_20230320_1679292214.png)\n\n![upgit_20230320_1679292369.png](https://images.ryken.cloud/2023/03/upgit_20230320_1679292369.png)\n\n![upgit_20230320_1679292412.png](https://images.ryken.cloud/2023/03/upgit_20230320_1679292412.png)\n\n![upgit_20230320_1679295035.png](https://images.ryken.cloud/2023/03/upgit_20230320_1679295035.png)\n\n![upgit_20230320_1679295130.png](https://images.ryken.cloud/2023/03/upgit_20230320_1679295130.png)\n![upgit_20230320_1679295181.png](https://images.ryken.cloud/2023/03/upgit_20230320_1679295181.png)\n\n```\nvyos@vyos:/$ show ip bgp neighbors 10.1.5.11\nBGP neighbor is 10.1.5.11, remote AS 65005, local AS 65005, internal link\n  BGP version 4, remote router ID 10.1.5.11, local router ID 10.1.5.1\n  BGP state = Established, up for 01:58:35\n  Last read 00:00:25, Last write 00:00:35\n  Hold time is 180, keepalive interval is 60 seconds\n  Neighbor capabilities:\n    4 Byte AS: advertised and received\n    AddPath:\n      IPv4 Unicast: TX received\n      IPv4 Unicast: RX advertised IPv4 Unicast and received\n    Route refresh: advertised and received(new)\n    Address Family IPv4 Unicast: advertised and received\n    Hostname Capability: advertised (name: leaf1,domain name: n/a) not received\n    Graceful Restart Capability: advertised and received\n      Remote Restart timer is 120 seconds\n      Address families by peer:\n        IPv4 Unicast(not preserved)\n  Graceful restart information:\n    End-of-RIB send: IPv4 Unicast\n    End-of-RIB received: IPv4 Unicast\n    Local GR Mode: Helper*\n    Remote GR Mode: Restart\n    R bit: False\n    Timers:\n      Configured Restart Time(sec): 120\n      Received Restart Time(sec): 120\n    IPv4 Unicast:\n      F bit: False\n      End-of-RIB sent: Yes\n      End-of-RIB sent after update: No\n      End-of-RIB received: Yes\n      Timers:\n        Configured Stale Path Time(sec): 360\n  Message statistics:\n    Inq depth is 0\n    Outq depth is 0\n                         Sent       Rcvd\n    Opens:                  3          3\n    Notifications:          0          4\n    Updates:               17          3\n    Keepalives:           178        202\n    Route Refresh:          0          0\n    Capability:             0          0\n    Total:                198        212\n  Minimum time between advertisement runs is 0 seconds\n\n For address family: IPv4 Unicast\n  Update group 4, subgroup 4\n  Packet Queue length 0\n  Route-Reflector Client\n  Community attribute sent to this neighbor(all)\n  0 accepted prefixes\n\n  Connections established 3; dropped 2\n  Last reset 03:30:31,  No AFI/SAFI activated for peer\nLocal host: 10.1.5.1, Local port: 179\nForeign host: 10.1.5.11, Foreign port: 54783\nNexthop: 10.1.5.1\nNexthop global: fe80::a8c1:abff:fe23:51fb\nNexthop local: fe80::a8c1:abff:fe23:51fb\nBGP connection: shared network\nBGP Connect Retry Timer in Seconds: 120\nRead thread: on  Write thread: on  FD used: 31\n```\n\n### æ²¡æœ‰æ“ä½œæ—¶ï¼ŒBGPä¼šå‘é€å“ªäº›æŠ¥æ–‡\n![upgit_20230320_1679294575.png](https://images.ryken.cloud/2023/03/upgit_20230320_1679294575.png)\n\n### æ“ä½œ ippool æ—¶çš„å‘é€æ•°æ®åŒ…\n#### æ–°å»º/åˆ é™¤ ippool æ—¶çš„å‘é€æ•°æ®åŒ…\n![upgit_20230320_1679296415.png](https://images.ryken.cloud/2023/03/upgit_20230320_1679296415.png)\n\n### é‡å¯ node / calico åˆå§‹åŒ–\n![upgit_20230320_1679297407.png](https://images.ryken.cloud/2023/03/upgit_20230320_1679297407.png)\n![upgit_20230320_1679297446.png](https://images.ryken.cloud/2023/03/upgit_20230320_1679297446.png)\n![upgit_20230320_1679297534.png](https://images.ryken.cloud/2023/03/upgit_20230320_1679297534.png)\n\n![upgit_20230320_1679299086.png](https://images.ryken.cloud/2023/03/upgit_20230320_1679299086.png)\n\n![upgit_20230320_1679298675.png](https://images.ryken.cloud/2023/03/upgit_20230320_1679298675.png)\n\n![upgit_20230320_1679299015.png](https://images.ryken.cloud/2023/03/upgit_20230320_1679299015.png)\n\næ‰‹åŠ¨ kill å¹¶ä½¿ç”¨ nc å ç”¨ 179 ç«¯å£ï¼Œä½¿é‡å¯çš„ calico æ— æ³•é‡å¯æˆåŠŸï¼Œhold timer è¶…æ—¶æ—¶ä¼šå‘å‡ºç›¸åº”çš„åŒ…\nkill æ—¶ä¼šå‘é€ notification åŒ…ï¼Œæ­¤æ—¶ä¸Šå±‚ leaf ä¼šé€šçŸ¥ç°æœ‰çš„ bgppeer åˆ é™¤ç›¸å…³çš„è·¯ç”±ã€‚åœ¨èŠ‚ç‚¹å†æ¬¡é‡å¯calicoä¹‹åï¼Œä¼šé‡æ–°å‘é€ open + update åŒ…ï¼Œå¦‚æœæœ‰æ›´æ–°çš„è·¯ç”±ä¼šæ›´æ–°é€šçŸ¥åˆ°å…¶ä»– peer\n\nå¦å¤–å¦‚æœæ²¡æœ‰æ”¶åˆ° notification ä¹Ÿæ²¡æœ‰æ”¶åˆ° keepalive åŒ…ï¼Œä¼šåœ¨ holdtimer ä¹‹ååˆ é™¤è·¯ç”±ï¼›ä¸€èˆ¬å‘ç”Ÿåœ¨ calico é‡å¯ï¼ŒèŠ‚ç‚¹å®•æœºçš„æƒ…å†µã€‚\n\n**è¡¥å……ï¼š**\n- BGPé‚»å±…ä¹‹é—´çš„ timer å¯ä»¥ä¸ä¸€è‡´ï¼Œé€šè¿‡TCPè¿æ¥å»ºç«‹æˆåŠŸåçš„openæŠ¥æ–‡äº¤äº’ä¸­ï¼Œä¼šåå•†ä½¿ç”¨æœ€ä½å€¼\n\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/CloudNative":{"title":"CloudNative","content":"\n\n```dataview\nlist from \"CloudNative\"\nsort file.ctime\n```\n\n","lastmodified":"2023-04-18T15:06:06.090796333Z","tags":null},"/DNS-%E8%AE%B0%E5%BD%95":{"title":"DNS è®°å½•","content":"\nä½¿ç”¨é’äº‘çš„å…¬æœ‰äº‘ï¼Œæœ‰æ—¶ä¸»æœºé‡å¯ä¹‹åå¯¹åº”çš„dnsè®°å½•ä¼šæ¶ˆå¤±ï¼Œæ‰‹åŠ¨ä¿®æ”¹ /etc/resolv.conf åé‡å¯ä¼šè¢«è¦†ç›–ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è§£å†³ï¼š\n- ä½¿ç”¨é»˜è®¤çš„ resolved ç®¡ç† DNS è®°å½•\n- ä½¿ç”¨resolvconf ç®¡ç† DNS è®°å½•\n\n## ä½¿ç”¨ resolved\n1. ä¿®æ”¹ /etc/systemd/resolved.conf æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­æ·»åŠ dnsä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š\n\t`DNS=8.8.8.8 114.114.114.114`\n\n2. é‡å¯ resolved æœåŠ¡  + å»ºç«‹è½¯è¿æ¥\n\t`systemctl restart systemd-resolved`\n\t`systemctl enable systemd-resolved`\n\t`mv /etc/resolv.conf /etc/resolv.conf.bak`\n\t`ln -s /run/systemd/resolve/resolv.conf /etc/`\n\nå†æŸ¥çœ‹ `/etc/resolv.conf` æ–‡ä»¶å°±å¯ä»¥çœ‹åˆ°æ–°çš„dnsä¿¡æ¯å·²ç»å†™å…¥å…¶ä¸­äº†ã€‚\n\n\n## ä½¿ç”¨ resolvconf\n1. å®‰è£…resolvconf\n\t`apt-get install -y resolvconf`\n\n2. ä¿®æ”¹é…ç½®\n\t`vim /etc/resolvconf/resolv.conf.d/tail`\n\t`nameserver 114.114.114.114`\n\t`nameserver 8.8.8.8`\n\n3. ä½¿å…¶ç”Ÿæ•ˆ\n\t`resolvconf -u`\n","lastmodified":"2023-04-18T15:06:06.090796333Z","tags":null},"/Flannel-%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6":{"title":"","content":"#flannel  #cni \n\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/FrequentlyUsed":{"title":"FrequentlyUsed","content":"## set\n- [[build record]]\n- [[shell å¸¸ç”¨]]\n- [[ssh]]","lastmodified":"2023-04-18T15:06:06.090796333Z","tags":null},"/H3C-0519x64":{"title":"","content":"#äº¤æ¢æœº #h3c\n\næ–‡æ¡£é“¾æ¥ï¼š\n- [H3C VSRç³»åˆ—è™šæ‹Ÿè·¯ç”±å™¨ é…ç½®æŒ‡å¯¼-E0518-5W101_ä¸‰å±‚æŠ€æœ¯-IPè·¯ç”±é…ç½®æŒ‡å¯¼_BGPé…ç½®-æ–°åä¸‰é›†å›¢-H3C](http://www.h3c.com/cn/d_201808/1103805_30005_0.htm)\n- \n## 1. è¿å¤–ç½‘\n1.  è¿æ¥å…¬ç½‘ip\n2.  é…ç½®åŸºç¡€ç½‘ç»œç½‘å¡ip\n```\ninterface ge3/0\nip address 10.51.102.150 255.255.255.0\n```\n3.  æ·»åŠ **é™æ€è·¯ç”±**  `ip route-static 0.0.0.0 0 10.51.102.1`\n4.  pingå¤–ç½‘\n*åˆ é™¤æŸä¸€æ¡è·¯ç”± undo ip route-static 172.22.1.2 32 192.168.1.102*\n\n## 2. ssh è¿æ¥\né…ç½®ç”¨æˆ·(admin/admin)ç™»å½•\n```\nssh server enable\nssh user admin service-type all authentication-type password\n \nline vty 0 10\n  line class vty\n  authentication-mode scheme\n \nlocal-user admin class manage\n  password\n  # è¾“å…¥ä¸¤æ¬¡å¯†ç \n  service-type ssh\n  authorization-attribute user-role network-admin\n```\n\n## 3. ç»„ç½‘\n\n### èŠ‚ç‚¹æ¥å…¥è·¯ç”±å™¨\n- åˆ›å»º vlan10 + é…ç½®ç½‘å…³\n```\nvlan 10\ninterface Vlan-interface 10\nip address 192.168.0.1 255.255.255.0\n```\n- é…ç½®äºŒå±‚ +trunk\n```\ninterface ge3/0\nport link-mode bridge\nport link-type trunk\nport trunk permit vlan all\nport trunk pvid vlan 10\n```\n- å¼€å¯ dhcp\n```\ndhcp enable\ndhcp server ip-pool 10\n# é€šè¿‡è®¾ç½®ç½‘å…³æ¥dhcp\ngateway-list 192.168.0.1\n\n# é€šè¿‡è®¾ç½®ç½‘æ®µæ¥åˆ†é…ip\n#network 192.168.0.0 24\n```\n\n- nat è½¬æ¢\n```\nnat alg dns\nacl basic 2000\nrule permit source 192.168.0.0 0.0.0.255\n\nnat address-group 0\naddress 10.160.24.31 10.160.24.31\n\ninterface ge1/0\nnat outbound 2000 address-group 0\n```\n\n### å»ºç«‹ bgp è¿æ¥\n- è®¾ç½® ip\n```\ninterface ge2/0\nip address 169.254.1.250 255.255.255.252\n\ninterface LoopBack 0\nip address 10.10.10.10 255.255.255.0\n```\n\n- é…ç½® bgp\n```\nbgp 100000\n router-id 10.10.10.10\n peer 169.254.1.249 as-number 200000\n address-family ipv4 unicast\n  import-route direct\n  peer 169.254.1.249 enable\n  peer 169.254.1.249 default-route-advertise\n```\n\n- æ˜¾ç¤º peerã€è·¯ç”±\n```\nshow bgp peer ipv4\ndisplay ip routing-table protocol direct\nshow bgp routing-table ipv4 peer 169.254.1.249 advertised-routes\n```\n\n### å…¶ä»–é…ç½®\n- è®¾ç½® mac-ip é™æ€ç»‘å®š\n```\ndhcp server ip-pool 10\nstatic-bind ip-address 192.168.1.102 24 hardware-address 5254-65d4-3c09\n```\n- è®¾ç½® nat è½¬æ¢\n```\ninterface ge3/0\nnat server protocol tcp global 10.170.34.23 22 inside 192.168.3.1 22\n```\n\n- å¼€å¯ telnet\n```\ntelnet server enable\nline vty 0\nauthentication-mode scheme\n\nlocal-user admin\npassword simple password\nservice-type telnet\nauthorization-attribute user-role network-admin\n```\n\nå…¬æœ‰äº‘äº¤æ¢æœºï¼š\n1.  VSR1000_HPE-CMW710-E0519L03-X64ï¼šå †å ä¹‹åæ— æ³•æŸ¥çœ‹ interface çŠ¶æ€\n2.  VSR1000_H3C-CMW710-R0618P05-X64ï¼šæ²¡æœ‰äºŒå±‚æ¨¡å¼ - æ— æ³•é…ç½®vlan-interface / bridge æ¨¡å¼","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/IPV6":{"title":"","content":"#ipv6 #calico \n\nå‚è€ƒæ–‡æ¡£ï¼š\n- [IPv4/IPv6 åŒåè®®æ ˆ | Kubernetes](https://kubernetes.io/zh-cn/docs/concepts/services-networking/dual-stack/)\n- [Configure dual stack or IPv6 only | Calico Documentation (tigera.io)](https://docs.tigera.io/calico/3.25/networking/ipam/ipv6)\n\n\n1. é…ç½® kubernetes\n-   kube-apiserver:\n    -   `--service-cluster-ip-range=\u003cIPv4 CIDR\u003e,\u003cIPv6 CIDR\u003e`\n-   kube-controller-manager:\n    -   `--cluster-cidr=\u003cIPv4 CIDR\u003e,\u003cIPv6 CIDR\u003e`\n    -   `--service-cluster-ip-range=\u003cIPv4 CIDR\u003e,\u003cIPv6 CIDR\u003e`\n    -   `--node-cidr-mask-size-ipv4|--node-cidr-mask-size-ipv6`Â å¯¹äº IPv4 é»˜è®¤ä¸º /24ï¼Œ å¯¹äº IPv6 é»˜è®¤ä¸º /64\n-   kube-proxy:\n    -   `--cluster-cidr=\u003cIPv4 CIDR\u003e,\u003cIPv6 CIDR\u003e`\n-   kubelet:\n    -   å½“æ²¡æœ‰Â `--cloud-provider`Â æ—¶ï¼Œç®¡ç†å‘˜å¯ä»¥é€šè¿‡Â `--node-ip`Â æ¥ä¼ é€’é€—å·åˆ†éš”çš„ IP åœ°å€ï¼Œ ä¸ºè¯¥èŠ‚ç‚¹æ‰‹åŠ¨é…ç½®åŒæ ˆÂ `.status.addresses`ã€‚ å¦‚æœ Pod ä»¥ HostNetwork æ¨¡å¼åœ¨è¯¥èŠ‚ç‚¹ä¸Šè¿è¡Œï¼Œåˆ™ Pod ä¼šç”¨Â `.status.podIPs`Â å­—æ®µæ¥æŠ¥å‘Šå®ƒçš„ IP åœ°å€ã€‚ ä¸€ä¸ªèŠ‚ç‚¹ä¸­çš„æ‰€æœ‰Â `podIP`Â éƒ½ä¼šåŒ¹é…è¯¥èŠ‚ç‚¹çš„ç”±Â `.status.addresses`Â å­—æ®µå®šä¹‰çš„ IP ç»„ã€‚\n\n2. é…ç½® calico\n- é…ç½® cni - calico-config\n\tkubectl edit cm -n kube-system  calico-config\n```\n\"ipam\": {  \n\t\"type\": \"calico-ipam\",  \n\t\"assign_ipv4\": \"true\",  \n\t\"assign_ipv6\": \"true\"  \n}\n```\n\n- é…ç½® calico-node\n| Variable name | Value      |\n| ------------- | ---------- |\n| IP6           | autodetect |\n| FELIX_IPV6SUPPORT              |      true      |\nipv6 - ippool\n\né…ç½®æ–‡ä»¶ï¼š\nkubectl edit cm -n kube-system  kube-proxy\n/var/lib/kube-proxy/config.conf\n\n\nvim /etc/systemd/system/kubelet.service.d/10-kubeadm.conf\n\n\ncalico\nechoÂ \"net.ipv6.conf.all.forwarding=1\"Â Â \u003e\u003eÂ /etc/sysctl.confÂ \u0026\u0026Â sysctlÂ -p\nipÂ -6Â routeÂ addÂ defaultÂ viaÂ eth0\n\n\n[calico å¼€å¯IPv4å’ŒIPv6åŒæ ˆ - KubeSphere - Confluence (yunify.com)](https://cwiki.yunify.com/pages/viewpage.action?pageId=145944896)","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/Kind-Tools":{"title":"","content":"#kind #install\n\n\u003e æ–‡æ¡£ï¼š[https://kind.sigs.k8s.io/docs/user/quick-start](https://kind.sigs.k8s.io/docs/user/quick-start)\n\n## å®‰è£…äºŒè¿›åˆ¶\n``` shell\ncurl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.16.0/kind-linux-amd64\nchmod +x ./kind\nsudo mv ./kind /usr/local/bin/kind\n```\n\n## å‘½ä»¤\n```\nkind create cluster  --config cluster.yaml \nkind delete cluster --name cluster\nkind get clusters\nkind load docker-image calico/node:v3.23.2\n```\n\n## ä½¿ç”¨ kind å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„ k8s\næŒ‡å®šnodeçš„é•œåƒç‰ˆæœ¬æ¥ä¿®æ”¹kubernetesçš„ç‰ˆæœ¬ï¼š[https://github.com/kubernetes-sigs/kind/releases](https://github.com/kubernetes-sigs/kind/releases)\n```yaml\nkind: Cluster\napiVersion: kind.x-k8s.io/v1alpha4\nnodes:\n- role: control-plane\n  image: kindest/node:v1.16.4@sha256:b91a2c2317a000f3a783489dfb755064177dbc3a0b2f4147d50f04825d016f55\n- role: worker\n  image: kindest/node:v1.16.4@sha256:b91a2c2317a000f3a783489dfb755064177dbc3a0b2f4147d50f04825d016f55\n```\n\n## é…ç½®ç«¯å£æ˜ å°„åˆ°ä¸»æœº\n``` yaml\nkind: Cluster\napiVersion: kind.x-k8s.io/v1alpha4\nnodes:\n- role: control-plane\n  extraPortMappings:\n  - containerPort: 80\n    hostPort: 80\n    listenAddress: \"0.0.0.0\" # Optional, defaults to \"0.0.0.0\"\n    protocol: udp # Optional, defaults to tcp\n```\n\néƒ¨ç½² ingress\n\nå…·ä½“çš„é…ç½®ï¼š\n- [kind â€“ Configuration (k8s.io)](https://kind.sigs.k8s.io/docs/user/configuration/#name-your-cluster)\n\néƒ¨ç½²ç¤ºä¾‹\n```\nkind: Cluster\napiVersion: kind.x-k8s.io/v1alpha4\nnodes:\n- role: control-plane\n  image: kindest/node:v1.24.7@sha256:577c630ce8e509131eab1aea12c022190978dd2f745aac5eb1fe65c0807eb315\n  extraPortMappings:\n  - containerPort: 30880\n    hostPort: 30880\n    listenAddress: \"0.0.0.0\" # Optional, defaults to \"0.0.0.0\"\n    protocol: tcp # Optional, defaults to tcp\n  - containerPort: 30881\n    hostPort: 30881\n    listenAddress: \"0.0.0.0\" # Optional, defaults to \"0.0.0.0\"\n    protocol: tcp # Optional, defaults to tcp\n- role: worker\n  image: kindest/node:v1.24.7@sha256:577c630ce8e509131eab1aea12c022190978dd2f745aac5eb1fe65c0807eb315\n  extraPortMappings:\n  - containerPort: 30000\n    hostPort: 30000\n    listenAddress: \"0.0.0.0\" # Optional, defaults to \"0.0.0.0\"\n    protocol: tcp # Optional, defaults to tcp\n  - containerPort: 30001\n    hostPort: 30001\n    listenAddress: \"0.0.0.0\" # Optional, defaults to \"0.0.0.0\"\n    protocol: tcp # Optional, defaults to tcp\n- role: worker\n  image: kindest/node:v1.24.7@sha256:577c630ce8e509131eab1aea12c022190978dd2f745aac5eb1fe65c0807eb315\nnetworking:\n  disableDefaultCNI: true\n  podSubnet: 10.233.64.0/18\n```\n\n\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/Network":{"title":"Network","content":"\n## set\n- [[è·¯ç”±åå°„å™¨çš„åå°„è§„åˆ™]]\n- [[BGP ç¯å¢ƒæ­å»º]]\n- [[centos é…ç½®ç½‘ç»œæ–‡ä»¶]]\n- [[linux ç½‘ç»œé…ç½®]]\n- [[arp proxy]]\n","lastmodified":"2023-04-18T15:06:06.090796333Z","tags":null},"/Prometheus-Blockbox-Exporter":{"title":"","content":"\n\nBlackbox Exporter æ˜¯ Prometheus ç¤¾åŒºæä¾›çš„ å®˜æ–¹é»‘ç›’ç›‘æ§è§£å†³æ–¹æ¡ˆ,å…¶å…è®¸ç”¨æˆ·é€šè¿‡: `http\\HTTPS\\DNS\\TCP\\ICMP\\gRPC`çš„æ–¹å¼å¯¹ç½‘ç»œè¿›è¡Œæ¢æµ‹.\n\nå®‰è£…éƒ¨ç½²\n\ndocker å®‰è£…\n```\ndocker run --rm   -p 9115:9115   --name blackbox_exporter   -v $(pwd):/config   quay.io/prometheus/blackbox-exporter:latest --config.file=/config/blackbox.yml\n```\n\n\n### é…ç½®æ–‡ä»¶\n```yaml\nmodules:\n  http_2xx:\n    prober: http\n  http_post_2xx:\n    prober: http\n    http:\n      method: POST\n  tcp_connect:\n    prober: tcp\n  pop3s_banner:\n    prober: tcp\n    tcp:\n      query_response:\n      - expect: \"^+OK\"\n      tls: true\n      tls_config:\n        insecure_skip_verify: false\n  grpc:\n    prober: grpc\n    grpc:\n      tls: true\n      preferred_ip_protocol: \"ip4\"\n  grpc_plain:\n    prober: grpc\n    grpc:\n      tls: false\n      service: \"service1\"\n  ssh_banner:\n    prober: tcp\n    tcp:\n      query_response:\n      - expect: \"^SSH-2.0-\"\n      - send: \"SSH-2.0-blackbox-ssh-check\"\n  irc_banner:\n    prober: tcp\n    tcp:\n      query_response:\n      - send: \"NICK prober\"\n      - send: \"USER prober prober prober :prober\"\n      - expect: \"PING :([^ ]+)\"\n        send: \"PONG ${1}\"\n      - expect: \"^:[^ ]+ 001\"\n  icmp:\n    prober: icmp\n  icmp_ttl5:\n    prober: icmp\n    timeout: 5s\n    icmp:\n      ttl: 5\n```\n\n### Prometheus ç›‘æ§\n```yaml\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: monitoring-system\n  labels:\n    app:  monitoring\n    role: monitoring\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: blackbox-exporter\nrules:\n- apiGroups:\n  - authentication.k8s.io\n  resources:\n  - tokenreviews\n  verbs:\n  - create\n- apiGroups:\n  - authorization.k8s.io\n  resources:\n  - subjectaccessreviews\n  verbs:\n  - create\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  labels:\n    app.kubernetes.io/component: exporter\n    app.kubernetes.io/name: blackbox-exporter\n    app.kubernetes.io/part-of: kube-prometheus\n    app.kubernetes.io/version: 0.22.0\n  name: blackbox-exporter\n  namespace: monitoring-system\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: blackbox-exporter\nsubjects:\n- kind: ServiceAccount\n  name: blackbox-exporter\n  namespace: monitoring-system\n---\napiVersion: v1\ndata:\n  config.yml: |-\n    \"modules\":\n      \"http_2xx\":\n        \"http\":\n          \"preferred_ip_protocol\": \"ip4\"\n        \"prober\": \"http\"\n      \"http_post_2xx\":\n        \"http\":\n          \"method\": \"POST\"\n          \"preferred_ip_protocol\": \"ip4\"\n        \"prober\": \"http\"\n      \"irc_banner\":\n        \"prober\": \"tcp\"\n        \"tcp\":\n          \"preferred_ip_protocol\": \"ip4\"\n          \"query_response\":\n          - \"send\": \"NICK prober\"\n          - \"send\": \"USER prober prober prober :prober\"\n          - \"expect\": \"PING :([^ ]+)\"\n            \"send\": \"PONG ${1}\"\n          - \"expect\": \"^:[^ ]+ 001\"\n      \"pop3s_banner\":\n        \"prober\": \"tcp\"\n        \"tcp\":\n          \"preferred_ip_protocol\": \"ip4\"\n          \"query_response\":\n          - \"expect\": \"^+OK\"\n          \"tls\": true\n          \"tls_config\":\n            \"insecure_skip_verify\": false\n      \"ssh_banner\":\n        \"prober\": \"tcp\"\n        \"tcp\":\n          \"preferred_ip_protocol\": \"ip4\"\n          \"query_response\":\n          - \"expect\": \"^SSH-2.0-\"\n      \"tcp_connect\":\n        \"prober\": \"tcp\"\n        \"tcp\":\n          \"preferred_ip_protocol\": \"ip4\"\nkind: ConfigMap\nmetadata:\n  labels:\n    app.kubernetes.io/component: exporter\n    app.kubernetes.io/name: blackbox-exporter\n    app.kubernetes.io/part-of: kube-prometheus\n    app.kubernetes.io/version: 0.22.0\n  name: blackbox-exporter-configuration\n  namespace: monitoring-system\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app.kubernetes.io/component: exporter\n    app.kubernetes.io/name: blackbox-exporter\n    app.kubernetes.io/part-of: kube-prometheus\n    app.kubernetes.io/version: 0.22.0\n  name: blackbox-exporter\n  namespace: monitoring-system\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app.kubernetes.io/component: exporter\n      app.kubernetes.io/name: blackbox-exporter\n      app.kubernetes.io/part-of: kube-prometheus\n  template:\n    metadata:\n      annotations:\n        kubectl.kubernetes.io/default-container: blackbox-exporter\n      labels:\n        app.kubernetes.io/component: exporter\n        app.kubernetes.io/name: blackbox-exporter\n        app.kubernetes.io/part-of: kube-prometheus\n        app.kubernetes.io/version: 0.22.0\n    spec:\n      affinity:\n        podAntiAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n          - podAffinityTerm:\n              labelSelector:\n                matchLabels:\n                  app.kubernetes.io/component: exporter\n                  app.kubernetes.io/name: blackbox-exporter\n                  app.kubernetes.io/part-of: kube-prometheus\n              namespaces:\n              - monitoring-system\n              topologyKey: kubernetes.io/hostname\n            weight: 100\n      containers:\n      - args:\n        - --config.file=/etc/blackbox_exporter/config.yml\n        - --web.listen-address=:19115\n        image: quay.io/prometheus/blackbox-exporter:v0.22.0\n        name: blackbox-exporter\n        ports:\n        - containerPort: 19115\n          name: http\n        resources:\n          limits:\n            cpu: 20m\n            memory: 40Mi\n          requests:\n            cpu: 10m\n            memory: 20Mi\n        securityContext:\n          runAsNonRoot: true\n          runAsUser: 65534\n        volumeMounts:\n        - mountPath: /etc/blackbox_exporter/\n          name: config\n          readOnly: true\n      - args:\n        - --webhook-url=http://localhost:19115/-/reload\n        - --volume-dir=/etc/blackbox_exporter/\n        image: jimmidyson/configmap-reload:v0.5.0\n        name: module-configmap-reloader\n        resources:\n          limits:\n            cpu: 20m\n            memory: 40Mi\n          requests:\n            cpu: 10m\n            memory: 20Mi\n        securityContext:\n          runAsNonRoot: true\n          runAsUser: 65534\n        terminationMessagePath: /dev/termination-log\n        terminationMessagePolicy: FallbackToLogsOnError\n        volumeMounts:\n        - mountPath: /etc/blackbox_exporter/\n          name: config\n          readOnly: true\n      - args:\n        - --logtostderr\n        - --secure-listen-address=:9115\n        - --tls-cipher-suites=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305\n        - --upstream=http://127.0.0.1:19115/\n        image: kubesphere/kube-rbac-proxy:v0.11.0\n        name: kube-rbac-proxy\n        ports:\n        - containerPort: 9115\n          name: https\n        resources:\n          limits:\n            cpu: 20m\n            memory: 40Mi\n          requests:\n            cpu: 10m\n            memory: 20Mi\n        securityContext:\n          runAsGroup: 65532\n          runAsNonRoot: true\n          runAsUser: 65532\n      nodeSelector:\n        kubernetes.io/os: linux\n      serviceAccountName: blackbox-exporter\n      volumes:\n      - configMap:\n          name: blackbox-exporter-configuration\n        name: config\n---\napiVersion: v1\nkind: Service\nmetadata:\n  labels:\n    app.kubernetes.io/component: exporter\n    app.kubernetes.io/name: blackbox-exporter\n    app.kubernetes.io/part-of: kube-prometheus\n    app.kubernetes.io/version: 0.22.0\n  name: blackbox-exporter\n  namespace: monitoring-system\nspec:\n  ports:\n  - name: https\n    port: 9115\n    targetPort: https\n  - name: probe\n    port: 19115\n    targetPort: http\n  selector:\n    app.kubernetes.io/component: exporter\n    app.kubernetes.io/name: blackbox-exporter\n    app.kubernetes.io/part-of: kube-prometheus\n---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  labels:\n    app.kubernetes.io/component: exporter\n    app.kubernetes.io/name: blackbox-exporter\n    app.kubernetes.io/part-of: kube-prometheus\n    app.kubernetes.io/version: 0.22.0\n  name: blackbox-exporter\n  namespace: monitoring-system\n---\napiVersion: monitoring.coreos.com/v1\nkind: ServiceMonitor\nmetadata:\n  labels:\n    app.kubernetes.io/component: exporter\n    app.kubernetes.io/name: blackbox-exporter\n    app.kubernetes.io/part-of: kube-prometheus\n    app.kubernetes.io/vendor: kubesphere\n    app.kubernetes.io/version: 0.22.0\n  name: blackbox-exporter\n  namespace: monitoring-system\nspec:\n  endpoints:\n  - bearerTokenFile: /var/run/secrets/kubernetes.io/serviceaccount/token\n    interval: 1m\n    path: /metrics\n    port: https\n    scheme: https\n    tlsConfig:\n      insecureSkipVerify: true\n  selector:\n    matchLabels:\n      app.kubernetes.io/component: exporter\n      app.kubernetes.io/name: blackbox-exporter\n      app.kubernetes.io/part-of: kube-prometheus\n```\n\n### å®‰è£… prometheus\n1. é…ç½®\n```yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: prometheus-config\n  namespace: monitoring-system\ndata:\n  prometheus.yml: |-\n    scrape_configs:\n       - job_name: 'blackbox_http_2xx' # é…ç½®getè¯·æ±‚æ£€æµ‹\n        scrape_interval: 30s\n\t    metrics_path: /probe\n\t    params:\n\t      module: [http_2xx]\n\t    static_configs:\n\t      - targets:         # æµ‹è¯•å¦‚ä¸‹çš„è¯·æ±‚æ˜¯å¦å¯ä»¥è®¿é—®çš„é€š\n\t        - 127.0.0.1:10005\n\t        - http://127.0.0.1:10005/hello/zhangsan\n\t    relabel_configs:\n\t      - source_labels: [__address__]\n\t        target_label: __param_target\n\t      - source_labels: [__param_target]\n\t        target_label: instance\n\t      - target_label: __address__\n\t        replacement: 127.0.0.1:9098 # blackbox-exporter æœåŠ¡æ‰€åœ¨çš„æœºå™¨å’Œç«¯å£\n\t  - job_name: 'blackbox_http_post_2xx' # é…ç½®postè¯·æ±‚æ£€æµ‹\n\t    scrape_interval: 30s\n\t    metrics_path: /probe\n\t    params:\n\t      module: [http_post_2xx]\n\t    static_configs:\n\t      - targets:              # æµ‹è¯•å¦‚ä¸‹çš„postè¯·æ±‚æ˜¯å¦å¯ä»¥è®¿é—®çš„é€šï¼Œè¯¥postè¯·æ±‚ä¸å¸¦å‚æ•°\n\t        - 127.0.0.1:10005\n\t    relabel_configs:\n\t      - source_labels: [__address__]\n\t        target_label: __param_target\n\t      - source_labels: [__param_target]\n\t        target_label: instance\n\t      - target_label: __address__\n\t        replacement: 127.0.0.1:9098 # blackbox-exporter æœåŠ¡æ‰€åœ¨çš„æœºå™¨å’Œç«¯å£\n\t  - job_name: 'blackbox_http_ping' # æ£€æµ‹æ˜¯å¦å¯ä»¥pingé€šæŸäº›æœºå™¨\n\t    scrape_interval: 30s\n\t    metrics_path: /probe\n\t    params:\n\t      module: [icmp]\n\t    static_configs:\n\t      - targets:\n\t        - 127.0.0.1\n\t    relabel_configs:\n\t      - source_labels: [__address__]\n\t        target_label: __param_target\n\t      - source_labels: [__param_target]\n\t        target_label: instance\n\t      - target_label: __address__\n\t        replacement: 127.0.0.1:9098 # blackbox-exporter æœåŠ¡æ‰€åœ¨çš„æœºå™¨å’Œç«¯å£\n\t  - job_name: 'blackbox_tcp_connect' # æ£€æµ‹æŸäº›ç«¯å£æ˜¯å¦åœ¨çº¿\n\t    scrape_interval: 30s\n\t    metrics_path: /probe\n\t    params:\n\t      module: [tcp_connect]\n\t    static_configs:\n\t      - targets:\n\t        - 127.0.0.1:10006\n\t        - 127.0.0.1:10005\n\t    relabel_configs:\n\t      - source_labels: [__address__]\n\t        target_label: __param_target\n\t      - source_labels: [__param_target]\n\t        target_label: instance\n\t      - target_label: __address__\n\t        replacement: 127.0.0.1:9098 # blackbox-exporter æœåŠ¡æ‰€åœ¨çš„æœºå™¨å’Œç«¯å£\n```\n2. prometheus pod\n```\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: prometheus-user\nrules:\n- apiGroups: [\"\"]\n  resources:\n  - endpoints\n  - services\n  - pods\n  verbs: [\"get\", \"list\", \"watch\"]\n- nonResourceURLs: [\"/metrics\"]\n  verbs: [\"get\"]\n---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: prometheus-user\n  namespace: monitoring-system\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: prometheus-user\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: prometheus-user\nsubjects:\n- kind: ServiceAccount\n  name: prometheus-user\n  namespace: monitoring-system\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: prometheus\n  namespace: monitoring-system\n  labels:\n    app: prometheus-pod\n    role: monitoring\nspec:\n  progressDeadlineSeconds: 600\n  replicas: 1\n  selector:\n    matchLabels:\n      app: prometheus-pod\n  strategy:\n    rollingUpdate:\n      maxSurge: 25%\n      maxUnavailable: 25%\n    type: RollingUpdate\n  template:\n    metadata:\n      labels:\n        app: prometheus-pod\n    spec:\n      containers:\n      - image: prom/prometheus\n        name: prometheus-pod\n        ports:\n        - containerPort: 9090\n          protocol: TCP\n        resources: \n          limits:\n            memory: \"128Mi\"\n            cpu: \"500m\"\n        volumeMounts:\n        - name: config-volume\n          mountPath: /etc/prometheus/prometheus.yml\n          subPath: prometheus.yml\n      volumes:\n      - name: config-volume\n        configMap:\n          name: prometheus-config\n      restartPolicy: Always\n      serviceAccountName: prometheus-user\n```\n3. prometheus svc\n```\nkubectl apply -f - \u003c\u003cEOF\napiVersion: v1\nkind: Service\nmetadata:\n  name: prometheus-dashboard-svc\n  namespace: monitoring-system\nspec:\n  selector:\n    app: prometheus-pod\n    role: monitoring\n  ports:\n  - nodePort: 31000\n    port: 9090\n    targetPort: 9090\n    protocol: TCP\n  type: NodePort\nEOF\n```\n\n---\nå¯¼å…¥ grafana \n```\n---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: grafana-config\n  namespace: monitoring-system\ndata:\n  prometheus.yaml: |-\n    {\n        \"apiVersion\": 1,\n        \"datasources\": [\n            {\n               \"access\":\"proxy\",\n                \"editable\": true,\n                \"name\": \"block-exporter-prometheus\",\n                \"orgId\": 1,\n                \"type\": \"prometheus\",\n                \"url\": \"http://prometheus-dashboard-svc.monitoring-system.svc:9090\",\n                \"version\": 1\n            }\n        ]\n    }\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  name: grafana-pod\n  namespace: monitoring-system\n  labels:\n    app:  grafana-pod\n    role: monitoring\nspec:\n  containers:\n  - name: grafana-pod\n    image: grafana/grafana:latest\n    resources:\n      limits:\n        memory: \"128Mi\"\n        cpu: \"500m\"\n    volumeMounts:\n    - name: grafana-config-volume\n      mountPath: /etc/grafana/provisioning/datasources\n    - name: grafana-dashboards-volume\n      mountPath: /etc/grafana/provisioning/dashboards\n    - name: grafana-storage-volume\n      mountPath: /var/lib/grafana\n    ports:\n    - containerPort: 3000\n  volumes:\n  - name: grafana-storage-volume\n    emptyDir: {}\n  - name: grafana-config-volume\n    configMap:\n      name: grafana-config\n  - name: grafana-dashboards-volume\n    configMap:\n      name: grafana-dashboards-config\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: grafana-dashboard-svc\n  namespace: monitoring-system\nspec:\n  selector:\n    app:  grafana-pod\n    role: monitoring\n  ports:\n  - port: 3000\n    targetPort: 3000\n    protocol: TCP\n    nodePort: 32000\n  type: NodePort\n```\n\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/README":{"title":"","content":"\n\n# Obsidian ç¤¾åŒºæ’ä»¶ä¸‹è½½ä¿®å¤\n\nå› ä¸ºæŸäº›åŸå› ï¼Œåœ¨å›½å†…ç»å¸¸æ— æ³•ä¸‹è½½ Obsidian çš„ç¤¾åŒºæ’ä»¶ã€‚è¿™ä¸ªé¡¹ç›®çš„ä¸»è¦ç›®çš„å°±æ˜¯ä¿®å¤è¿™ç§æƒ…å†µï¼Œè®©å›½å†…çš„ç”¨æˆ·ä¹Ÿå¯ä»¥æ— éšœç¢çš„ä¸‹è½½ç¤¾åŒºæ’ä»¶ã€‚\n\n\u003c!-- PROJECT SHIELDS --\u003e\n\n[![Contributors][contributors-shield]][contributors-url]\n[![Forks][forks-shield]][forks-url]\n[![Stargazers][stars-shield]][stars-url]\n[![Issues][issues-shield]][issues-url]\n[![MIT License][license-shield]][license-url]\n[![LinkedIn][linkedin-shield]][linkedin-url]\n\n\u003c!-- PROJECT LOGO --\u003e\n\u003cbr /\u003e\n\n\n\n## ç›®å½•\n\n- [ä¸Šæ‰‹æŒ‡å—](#ä¸Šæ‰‹æŒ‡å—)\n- [æ–‡ä»¶ç›®å½•è¯´æ˜](#æ–‡ä»¶ç›®å½•è¯´æ˜)\n- [ä½œè€…](#ä½œè€…)\n- [ç‰ˆæƒè¯´æ˜](#ç‰ˆæƒè¯´æ˜)\n- [é¸£è°¢](#é¸£è°¢)\n\n### ä¸Šæ‰‹æŒ‡å—\n\n1. ä¸‹è½½ [obsidian-proxy-github.zip](https://gitee.com/juqkai/obsidian-proxy-github/releases)\n2. è§£å‹ obsidian-proxy-github.zip\n3. å°†è§£å‹çš„æ–‡ä»¶å¤¹æ”¾å…¥ç¬”è®°ç›®å½•ä¸‹çš„æ’ä»¶ç›®å½•å†…ã€‚å¦‚ï¼šXXX/.obsidian/plugins\n\n\n### ä½œè€…\n\njuqkai@163.com\n\n### ç‰ˆæƒè¯´æ˜\n\nè¯¥é¡¹ç›®ç­¾ç½²äº† Apache License 2.0 æˆæƒè®¸å¯ï¼Œè¯¦æƒ…è¯·å‚é˜… [LICENSE.txt](https://github.com/juqkai/obsidian-proxy-github/blob/master/LICENSE)\n\n### é¸£è°¢\n\n\n- [Obsidian](https://Obsidian.md)\n\n","lastmodified":"2023-04-18T15:06:05.530791068Z","tags":null},"/RSS-RPS":{"title":"","content":"å•é˜Ÿåˆ—æ²¡æœ‰é—®é¢˜ï¼Œå¤šé˜Ÿåˆ—æœ‰é—®é¢˜\nebpf \n\nç½‘å¡å¤šé˜Ÿåˆ—\nå¤šæ ¸ å¤šCPU\nRSS RPS RFS\n\nç”±äºè¿™å—å†…å­˜åŒºåŸŸæ˜¯æœ‰é™çš„ï¼Œå¦‚æœæ•°æ®åŒ…çš„é€Ÿç‡éå¸¸å¿«ï¼Œå•ä¸ª CPU æ¥ä¸åŠå–èµ°è¿™äº›åŒ…ï¼Œæ–°æ¥çš„åŒ…å°±ä¼šè¢«ä¸¢å¼ƒã€‚è¿™æ—¶å€™ï¼ŒReceive Side Scalingï¼ˆRSSï¼Œæ¥æ”¶ç«¯æ‰©å±•ï¼‰æˆ–è€…å¤šé˜Ÿåˆ—ï¼ˆmultiqueueï¼‰ä¸€ç±»çš„æŠ€æœ¯å¯èƒ½å°±ä¼šæ’ä¸Šç”¨åœºã€‚\n\nå¯ä»¥æŠŠè½¯ä¸­æ–­ç³»ç»Ÿæƒ³è±¡æˆä¸€ç³»åˆ—**å†…æ ¸çº¿ç¨‹**ï¼ˆæ¯ä¸ª CPU ä¸€ä¸ªï¼‰ï¼Œè¿™äº›çº¿ç¨‹æ‰§è¡Œé’ˆå¯¹ä¸åŒäº‹ä»¶æ³¨å†Œçš„å¤„ç†å‡½æ•°ï¼ˆhandlerï¼‰ã€‚å¦‚æœä½ æ‰§è¡Œè¿‡Â `top`Â å‘½ä»¤ï¼Œå¯èƒ½ä¼šæ³¨æ„åˆ°`ksoftirqd/0`Â è¿™ä¸ªå†…æ ¸çº¿ç¨‹ï¼Œå…¶è¡¨ç¤ºè¿™ä¸ªè½¯ä¸­æ–­çº¿ç¨‹è·‘åœ¨ CPU 0 ä¸Šã€‚\n\n\n##### NAPI\nç¡¬ä»¶ä¸­æ–­çš„ä¼˜ç‚¹æ˜¯åœ¨æ™®é€šåœºæ™¯ä¸‹ï¼ŒCPU èƒ½å¤Ÿå¾—åˆ°åˆç†åˆ©ç”¨ï¼Œä¸ä¼šæµªè´¹åœ¨ç©ºè·‘ï¼ˆä¸€ç›´æ‰§è¡Œ poll æ–¹æ³•ï¼‰ï¼Œç¼ºç‚¹æ˜¯åœ¨ååå¾ˆé«˜çš„åœºæ™¯ ä¸‹ï¼ŒIRQ æ‰€å çš„å¼€é”€å¾ˆé«˜ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆåœ¨é«˜åååœºæ™¯ä¸‹å¼•å…¥äº† DPDKã€‚\nä¸­æ–­æ–¹å¼é’ˆå¯¹é«˜åååœºæ™¯çš„æ”¹è¿›æ˜¯ NAPI æ–¹å¼ï¼Œç®€å•æ¥è¯´å®ƒç»“åˆäº†è½®è¯¢å’Œä¸­æ–­ä¸¤ç§æ–¹å¼ã€‚ ç»å¤§éƒ¨åˆ†ç½‘å¡éƒ½æ˜¯è¿™ç§æ¨¡å¼\n\nè‡ªé€‚åº” RX/TX ç¡¬ä¸­æ–­åˆå¹¶å¸¦æ¥çš„æ•ˆæœæ˜¯ï¼šå¸¦å®½æ¯”è¾ƒä½æ—¶é™ä½å»¶è¿Ÿï¼Œå¸¦å®½æ¯”è¾ƒé«˜æ—¶æå‡ååã€‚\n\nå¤šé˜Ÿåˆ—ç½‘å¡(*å¤š NAPI å®ä¾‹*)åº”è¯¥ç²¾å¿ƒè°ƒæ•´ IRQ Affinity çš„åŸå› ï¼Œ**é˜²æ­¢ softirq æ”¶åŒ…è¿‡ç¨‹éœ¸å è¿‡å¤š CPU**ï¼Œ\n-   **å¤„ç†ç¡¬ä¸­æ–­çš„ CPU æ¥ä¸‹æ¥ä¼šå¤„ç†ç›¸åº”çš„è½¯ä¸­æ–­**\n-   å¤šé˜Ÿåˆ—ç½‘å¡å¯èƒ½ä¼šå‡ºç°å¤šä¸ª NAPI å®ä¾‹æ³¨å†Œåˆ°åŒä¸€ä¸ª CPU çš„æƒ…å†µï¼Œè€Œæ¯ä¸ª CPU ä¸Šçš„æ‰€æœ‰ NAPI å…±äº«ä¸€ä»½é¢„ç®—ã€‚\næœ€ç»ˆå¯¼è‡´è¯¥ CPU æ— æ³•åŠæ—¶æ¥æ”¶å®ƒè´Ÿè´£çš„ RX é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰åŒ…ã€‚\n\næ”¶åŒ…é¢„ç®—ï¼šï¼ˆå¢åŠ æ”¶åŒ…é¢„ç®—ä¼šå¢å¤§cpuçš„ä½¿ç”¨é‡ï¼Œä½†å¯ä»¥å‡å°‘å»¶è¿Ÿï¼‰\n- budget æœ€å¤šå¯ä»¥æ”¶åŒ…æ•°é‡\n- time_limit æœ€é•¿å¯ä»¥å ç”¨çš„CPUæ—¶é—´\n```\nsudo sysctl -a | grep netdev_budget\nnet.core.netdev_budget = 300            # 300 ä¸ªåŒ…\nnet.core.netdev_budget_usecs = 2000     # 2ms\n```\n\n`softnet_data.time_squeeze`Â å­—æ®µè®°å½•çš„æ˜¯æ»¡è¶³å¦‚ä¸‹æ¡ä»¶çš„æ¬¡æ•°ï¼šÂ **ring buffer ä¸­è¿˜æœ‰åŒ…ç­‰å¾…æ¥æ”¶ï¼Œä½†æœ¬æ¬¡ softirq çš„ budget å·²ç»ç”¨å®Œäº†**ã€‚ è¿™å¯¹ç†è§£ç½‘ç»œå¤„ç†çš„ç“¶é¢ˆè‡³å…³é‡è¦ã€‚\n\n##### RSS RPS RFS\nRSSï¼šReceive Side Scaling   å¤šé˜Ÿåˆ—åˆ†å‘  ä»ç½‘å¡åˆ†åˆ°ä¸åŒçš„é˜Ÿåˆ—ä¸­\nRPSï¼šReceive Packet Steering   RSS è½¯ä»¶å®ç°  ä»é˜Ÿåˆ—åˆ†åˆ°ä¸åŒçš„ cpu ä¸­\nRFSï¼šReceive Flow Steering  ç›¸åŒçš„ flow çš„ åŒ…é€åˆ°åŒä¸€ä¸ª cpuï¼Œå¯ä»¥æé«˜ç¼“å­˜å‘½ä¸­ç‡ã€‚\nRPS çš„å·¥ä½œåŸç†ï¼š\n1.  å¯¹ packet åš hashï¼Œä»¥æ­¤å†³å®šåˆ†åˆ°å“ªä¸ª CPU å¤„ç†ï¼›ç„¶å packet æ”¾åˆ°æ¯ä¸ª CPU ç‹¬å çš„ backlog é˜Ÿåˆ—ï¼›\n2.  ä»å½“å‰ CPU å‘å¯¹ç«¯ CPU å‘èµ·ä¸€ä¸ª**è¿›ç¨‹é—´ä¸­æ–­**ï¼ˆIPIï¼ŒInter-processor Interruptï¼‰ã€‚å¦‚æœå½“æ—¶å¯¹ç«¯ CPU æ²¡æœ‰åœ¨å¤„ç† backlog é˜Ÿåˆ—æ”¶åŒ…ï¼Œè¿™ä¸ª IPI ä¼šè§¦å‘å®ƒå¼€å§‹ä» backlog æ”¶åŒ…ã€‚\nå› ä¸ºæ˜¯è½¯ä»¶å®ç°çš„ï¼Œæ„å‘³ç€ä»»ä½•ç½‘å¡éƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œå³ä¾¿æ˜¯é‚£äº›åªæœ‰ä¸€ä¸ªæ¥æ”¶é˜Ÿåˆ—çš„ç½‘å¡ï¼›\n-   ä½†ä¹Ÿæ­£æ˜¯å› ä¸ºæ˜¯è½¯ä»¶å®ç°çš„ï¼Œæ„å‘³ç€Â **åªæœ‰åœ¨ packet é€šè¿‡ DMA è¿›å…¥å†…å­˜åï¼ŒRPS æ‰èƒ½å¼€å§‹å·¥ä½œ**ï¼›\n-   è¿™æ„å‘³ç€ï¼Œ**RPS å¹¶ä¸ä¼šå‡å°‘ CPU å¤„ç†ç¡¬ä»¶ä¸­æ–­å’Œ NAPI poll()ï¼ˆè½¯ä¸­æ–­æœ€é‡è¦çš„ä¸€éƒ¨åˆ†ï¼‰çš„æ—¶é—´**ï¼Œ ä½†æ˜¯å¯ä»¥åœ¨åŒ…åˆ°è¾¾å†…å­˜åï¼Œå°†å®ƒä»¬åˆ†åˆ°å…¶ä»– CPUï¼Œä»å…¶ä»– CPU è¿›å…¥åè®®æ ˆã€‚\n\nRPSå’ŒRFSä¸€èˆ¬è¦é…åˆä½¿ç”¨ï¼Œæ•ˆæœæ‰æœ€ä¼˜\n\n`softnet_data.received_rps`Â è®°å½•äº†æ¯ä¸ª CPU æ”¶åˆ°äº†å¤šå°‘ IPI\n\n\nä¸­æ–­ä¸RX é˜Ÿåˆ—ç»‘å®š?\n\n![upgit_20221207_1670398419.png](https://images.ryken.cloud/2022/12/upgit_20221207_1670398419.png)\n\n![upgit_20221207_1670398441.png](https://images.ryken.cloud/2022/12/upgit_20221207_1670398441.png)\n\n\n![upgit_20221207_1670398528.png](https://images.ryken.cloud/2022/12/upgit_20221207_1670398528.png)\n![upgit_20221207_1670399586.png](https://images.ryken.cloud/2022/12/upgit_20221207_1670399586.png)\n\n\n\n![upgit_20221207_1670398535.png](https://images.ryken.cloud/2022/12/upgit_20221207_1670398535.png)\n\nNAPI \n![upgit_20221207_1670403559.png](https://images.ryken.cloud/2022/12/upgit_20221207_1670403559.png)\n\n\n![upgit_20221207_1670407895.png](https://images.ryken.cloud/2022/12/upgit_20221207_1670407895.png)\n\nå‘é€å…ˆèµ°7å±‚ç½‘ç»œåè®®å±‚åˆ°ç½‘ç»œè®¾å¤‡æ—¶ å…ˆèµ° tc hook ä¹‹åèµ°ç½‘ç»œè®¾å¤‡é©±åŠ¨ -\u003e å†…æ ¸ -\u003e å‘é€\n```\n tc -s qdisc show dev eth1\nqdisc mq 0: root\n Sent 31973946891907 bytes 2298757402 pkt (dropped 0, overlimits 0 requeues 1776429)\n backlog 0b 0p requeues 1776429\n\n# æ¯ä¸ªç½‘ç»œè®¾å¤‡éƒ½æœ‰ä¸€ä¸ªå¯ä»¥ä¿®æ”¹çš„ txqueuelenã€‚\nifconfig eth0 txqueuelen 10000\n```\n\n\n---\nä¸Šä¸‹è¡Œä¸å¯¹ç§° - å¤šé˜Ÿåˆ—ã€ringbuffã€ç»‘æ ¸\nethtool -L eth0 combined 2\n/proc/sys/net/core/rps_sock_flow_entries = 32768\n\nrq count\n/sys/class/net/eth10/queues/rx-* -d | wc -l\n\n/sys/class/net/eth10/queues/rx-0/rps_cpus\n/sys/class/net/eth10/queues/rx-0/rps_flow_cnt\nnet.core.netdev_budget=600\n\n\n``` shell\nrq_count=`ls /sys/class/net/eth10/queues/rx-* -d | wc -l`  \nrps_flow_cnt_value=`expr 32768 / $rq_count`  \n\nfor ((i=0; i\u003c $rq_count; i++))  \ndo  \n  echo $rps_flow_cnt_value \u003e /sys/class/net/eth10/queues/rx-$i/rps_flow_cnt  \ndone  \n\nflag=0  \nwhile [ -f /sys/class/net/eth10/queues/rx-$flag/rps_cpus ]  \ndo  \n  echo `cat  /sys/class/net/eth10/queues/rx-$flag/rps_cpus | sed 's/0/f/g' ` \u003e  /sys/class/net/eth10/queues/rx-$flag/rps_cpus  \n  flag=$(($flag+1))  \ndone\necho 32768 \u003e /proc/sys/net/core/rps_sock_flow_entries  \nsysctl -p\n```\n\n```shell\necho 00000000,00000000,00000000 \u003e /sys/class/net/eth10/queues/rx-0/rps_cpus\necho 0 \u003e /sys/class/net/eth10/queues/rx-0/rps_flow_cnt\necho 0 \u003e /proc/sys/net/core/rps_sock_flow_entries\n\n\necho ffffffff,ffffffff,ffffffff \u003e /sys/devices/virtual/net/veth6/queues/rx-0/rps_cpus\necho 0 \u003e /sys/devices/virtual/net/veth6/queues/rx-0/rps_flow_cnt\necho 0 \u003e /proc/sys/net/core/rps_sock_flow_entries\n```\n\ncat /sys/class/net/bond0/bonding/xmit_hash_policy\nlayer3+4 1\n\n\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/arp-proxy":{"title":"arp proxy","content":"\n```bash\nsudo bash -c 'echo 1 \u003e /proc/sys/net/ipv4/ip_forward'\ncat /proc/sys/net/ipv4/conf/eth1/proxy_arp\n\nsudo sysctl -p\n\n```\n\n\næ·»åŠ é»˜è®¤è·¯ç”±\nip route add 192.168.0.1 dev 192.168.0.1\nip route add default via 192.168.0.1 dev eth0\n\n\n### arp çŠ¶æ€\n[é“¾è·¯å±‚åœ°å€ï¼ˆARP/Neighborï¼‰ç›¸å…³ä¿¡æ¯ â€” blog.clanzx.net 0.1 æ–‡æ¡£](https://blog.clanzx.net/network/ip-neigh.html)\n- https://manpages.debian.org/arp(7)\nincomplete é“¾è·¯åœ°å€æ¢æµ‹ä¸­ ä½†è¿˜æœªå®Œæˆ\nreachable é“¾è·¯åœ°å€å¯è¾¾ï¼Œè¯¥çŠ¶æ€çš„ç»´æŒæ—¶é—´å‚è€ƒ base_reachable_time/base_reachable_time_ms\nstale é“¾è·¯åœ°å€ç¼“å­˜å¤±æ•ˆï¼Œä½†ä¸æ„å‘³ç€ä¸å¯è¾¾\ndelay æ¢æµ‹å¼€å§‹ä¹‹é—´çš„å»¶è¿Ÿï¼Œå‚è€ƒ delay_first_probe_time\nprobe é“¾è·¯åœ°å€æ¢æµ‹ä¸­\nfailed é“¾è·¯åœ°å€ä¸å¯è¾¾\nNOARP\npermanent é™æ€ arp \n\n é…ç½®æ–‡ä»¶ä½ç½®Â /proc/sys/net/ipv4/neigh/  /proc/sys/net/ipv4/conf/\n\n### arp ç›¸å…³çš„é…ç½®\n[Linuxå†…æ ¸å‚æ•°ä¹‹arp_ignoreå’Œarp_announce - äº”æœˆçš„éº¦ç”° (360blogs.top)](https://www.360blogs.top/linux-arp_ignore-arp_announce/)\narp_ignore å’Œ arp_annotation å‚æ•°éƒ½å’Œ arp åè®®ç›¸å…³ï¼Œæ§åˆ¶ç³»ç»Ÿè¿”å› arp å“åº”å’Œå‘é€ arp è¯·æ±‚æ—¶çš„åŠ¨ä½œï¼Œè¿™ä¸¤ä¸ªå‚æ•°å¾ˆé‡è¦ï¼Œç‰¹åˆ«æ˜¯åœ¨`LVS`çš„`DR`åœºæ™¯ä¸‹ï¼Œå®ƒä»¬çš„é…ç½®ç›´æ¥å½±å“åˆ°`DR`è½¬å‘æ˜¯å¦æ­£å¸¸ã€‚ /proc/sys/net/ipv4/conf/ethxx/arp_ignore\n##### arp_ignore\n| å–å€¼ | å«ä¹‰ |\n|--|--|\n| 0 | å“åº”ä»»æ„ç½‘å¡ä¸Šæ¥æ”¶åˆ°çš„å¯¹æœ¬æœº ip åœ°å€çš„ arp è¯·æ±‚ï¼ˆåŒ…æ‹¬ç¯å›ç½‘å¡ä¸Šçš„åœ°å€ï¼‰ï¼Œè€Œä¸ç®¡è¯¥ç›®çš„ ip æ˜¯å¦åœ¨æ¥æ”¶ç½‘å¡ä¸Š |\n| 1 | åªå“åº”ç›®çš„ ip åœ°å€ä¸ºæ¥æ”¶ç½‘å¡ä¸Šçš„æœ¬åœ°åœ°å€çš„ arp è¯·æ±‚ |\n| 2 | åªå“åº”ç›®çš„ ip åœ°å€ä¸ºæ¥æ”¶ç½‘å¡ä¸Šçš„æœ¬åœ°åœ°å€çš„ arp è¯·æ±‚ | ä¸” arp è¯·æ±‚çš„æº ip å¿…é¡»å’Œæ¥æ”¶ç½‘å¡åŒç½‘æ®µ |\n| 3 | å¦‚æœ arp è¯·æ±‚æ•°æ®åŒ…æ‰€è¯·æ±‚çš„ ip åœ°å€å¯¹åº”çš„æœ¬åœ°åœ°å€å…¶ä½œç”¨åŸŸ(scope)ä¸ºä¸»æœº(host)ï¼Œåˆ™ä¸å›åº” arp å“åº”æ•°æ®åŒ…ï¼Œå¦‚æœä½œç”¨åŸŸæ˜¯å…¨å±€(global)æˆ–è€…é“¾è·¯(link)åˆ™å›åº” arp å“åº”æ•°æ®åŒ… |\n| 4~7 | ä¿ç•™æœªä½¿ç”¨ |\n| 8 | ä¸å›åº”æ‰€æœ‰ arp è¯·æ±‚ |\n\n##### arp_announce\n`arp`è¯·æ±‚çš„æºIPæ˜¯å¯ä»¥é€‰æ‹©çš„ï¼Œæ§åˆ¶è¿™ä¸ªåœ°å€å¦‚ä½•é€‰æ‹©å°±æ˜¯`arp_announce`çš„ä½œç”¨ã€‚/proc/sys/net/ipv4/conf/ethxx/arp_announce\n| å–å€¼ | å«ä¹‰ |\n|--|--|\n| 0 | å…è®¸ä½¿ç”¨ä»»æ„ç½‘å¡çš„ ip åœ°å€ä½œä¸º arp è¯·æ±‚çš„æº ipï¼Œé€šå¸¸å°±æ˜¯ä½¿ç”¨æ•°æ®åŒ…çš„æº ip |\n| 1 | å°½é‡é¿å…ä½¿ç”¨ä¸å±äºè¯¥å‘é€ç½‘å¡å­ç½‘çš„æœ¬åœ°åœ°å€ä½œä¸ºå‘é€ arp è¯·æ±‚çš„æº ip åœ°å€ |\n| 2 | å¿½ç•¥ ip æ•°æ®åŒ…çš„æº ip åœ°å€ï¼Œé€‰æ‹©è¯¥å‘é€ç½‘å¡ä¸Šæœ€åˆé€‚çš„æœ¬åœ°åœ°å€ä½œä¸º arpè¯·æ±‚çš„æº IP åœ°å€ |\n\n`sysctl.conf`ä¸­åŒ…å«`all`å’Œ`eth/lo`ï¼ˆå…·ä½“ç½‘å¡ï¼‰çš„`arp_ignore`å‚æ•°ï¼Œå–å…¶ä¸­è¾ƒå¤§çš„å€¼ç”Ÿæ•ˆã€‚\n\n\n##### rp_filter\n[Linuxå†…æ ¸å‚æ•° rp_filter - ç®€ä¹¦ (jianshu.com)](https://www.jianshu.com/p/16d5c130670b)\nrp_filter ï¼ˆReverse Path Filteringï¼‰å‚æ•°å®šä¹‰äº†ç½‘å¡å¯¹æ¥æ”¶åˆ°çš„æ•°æ®åŒ…è¿›è¡Œåå‘è·¯ç”±éªŒè¯çš„è§„åˆ™ã€‚ä»–æœ‰ä¸‰ä¸ªå€¼ï¼Œ0ã€1ã€2ï¼Œå…·ä½“å«æ„å¦‚ä¸‹ï¼š\n-   0ï¼šå…³é—­åå‘è·¯ç”±æ ¡éªŒ\n-   1ï¼šå¼€å¯ä¸¥æ ¼çš„åå‘è·¯ç”±æ ¡éªŒã€‚å¯¹æ¯ä¸ªè¿›æ¥çš„æ•°æ®åŒ…ï¼Œæ ¡éªŒå…¶åå‘è·¯ç”±æ˜¯å¦æ˜¯æœ€ä½³è·¯ç”±ã€‚å¦‚æœåå‘è·¯ç”±ä¸æ˜¯æœ€ä½³è·¯ç”±ï¼Œåˆ™ç›´æ¥ä¸¢å¼ƒè¯¥æ•°æ®åŒ…ã€‚\n-   2ï¼šå¼€å¯æ¾æ•£çš„åå‘è·¯ç”±æ ¡éªŒã€‚å¯¹æ¯ä¸ªè¿›æ¥çš„æ•°æ®åŒ…ï¼Œæ ¡éªŒå…¶æºåœ°å€æ˜¯å¦å¯è¾¾ï¼Œå³åå‘è·¯ç”±æ˜¯å¦èƒ½é€šï¼ˆé€šè¿‡ä»»æ„ç½‘å£ï¼‰ï¼Œå¦‚æœåå‘è·¯å¾„ä¸é€šï¼Œåˆ™ç›´æ¥ä¸¢å¼ƒè¯¥æ•°æ®åŒ…ã€‚\n\n  \n![upgit_20230129_1674957521.png](https://images.ryken.cloud/2023/01/upgit_20230129_1674957521.png)\n\n![upgit_20230129_1674957543.png](https://images.ryken.cloud/2023/01/upgit_20230129_1674957543.png)\n","lastmodified":"2023-04-18T15:06:06.090796333Z","tags":null},"/build-record":{"title":"build record","content":"\n### build å·¥å…·åŒ…\ngo å®‰è£…åŒ…ä¸‹è½½åœ°å€ï¼š\n-   wget [https://studygolang.com/dl/golang/go1.17.6.linux-amd64.tar.gz](https://studygolang.com/dl/golang/go1.17.6.linux-amd64.tar.gz)\n```\n# é…ç½®ç¯å¢ƒ \ncat \u003c\u003cEOF \u003e /etc/profile.d/go.sh\nexport GO111MODULE=on\nexport GOPROXY=https://goproxy.cn\nexport GOPATH=/root/program/gopath\nexport GOROOT=/opt/go\nexport PATH=$PATH:$GOROOT/bin:$GOPATH/bin\nEOF\n```\n\ndlv è°ƒè¯•å·¥å…·\n- go install github.com/go-delve/delve/cmd/dlv@latest\n\nå®‰è£…kustomizeã€kubebuilderã€controller-gen\n```\nGOBIN=$(pwd)/ GO111MODULE=on go get sigs.k8s.io/kustomize/kustomize/v3\ngo get sigs.k8s.io/controller-tools/cmd/controller-gen@v0.4.0\n\nhttps://github.com/kubernetes-sigs/kubebuilder/releases\nhttps://github.com/kubernetes-sigs/controller-tools/releases\n```\n\n### é…ç½®é™æ€ip\n```\nroot@node-1:~# cat /etc/netplan/00-installer-config.yaml\n# This is the network config written by 'subiquity'\nnetwork:\n  ethernets:\n    ens33:\n      dhcp4: no\n      addresses:\n        - 192.168.1.110/24\n      gateway4: 192.168.1.1\n      nameservers:\n        addresses: [8.8.8.8, 114.114.114.114]\n  version: 2\n```\n\n```\nvim /etc/network/interfaces\n# This file describes the network interfaces available on your system\n# and how to activate them. For more information, see interfaces(5).\n\nsource /etc/network/interfaces.d/*\n\n# The loopback network interface\nauto lo\niface lo inet loopback\n\n# mgmt network\nauto eno1\niface eno1 inet static\n  address 172.31.50.22\n  netmask 255.255.255.0\n  gateway 172.31.50.254\n  dns-nameservers 8.8.8.8\n\n\nauto eno2\niface eno2 inet manual\n\nauto vlan75\niface vlan75 inet manual\n\nauto br0\niface br0 inet static\n  address 172.31.75.22\n  netmask 255.255.255.0\n  vlan_raw_device eno2\n  bridge_ports vlan75\n  bridge_stp off\n  bridge_waitport 0\n  bridge_fd 0\n\nup route add -net 192.168.1.0/24 gw 192.168.0.1 dev eth0\ndown route add -net 192.168.1.0/24 gw 192.168.0.1 dev eth0\n```\n\n#### è·¯ç”±\næ·»åŠ é™æ€è·¯ç”±\nroute add -net 192.168.1.0/24 gw 192.168.0.1 dev eth0\næ·»åŠ ç½‘å…³\nroute add default gw 192.168.1.1\n\n\n### å®‰è£… `docker-buildx`\n```\nroot@orange:/home/orange/cloudNative/openelb# make release\n/home/orange/gopath/bin/controller-gen object:headerFile=./hack/boilerplate.go.txt paths=./api/...\n...\nerror: multiple platforms feature is currently not supported for docker driver. Please switch to a different driver (eg. \"docker buildx create --use\")\nmake: *** [Makefile:76: release] Error 1\n\n# ç¬¬ä¸€æ­¥ã€ä¸‹è½½å¹¶å®‰è£…docker-buildx\n# ä¸‹è½½åœ°å€ï¼š https://github.com/docker/buildx/releases/\nmkdir -p ~/.docker/cli-plugins/\nwget -O ~/.docker/cli-plugins/docker-buildx https://github.com/docker/buildx/releases/download/v0.5.1/buildx-v0.5.1.linux-amd64\nchmod +x ~/.docker/cli-plugins/docker-buildx  \n\n# ç¬¬äºŒæ­¥ã€å¼€å¯ å®éªŒç‰¹æ€§ï¼Œé‡å¯docker\nroot@orange:~# cat /etc/docker/daemon.json\n{\n    \"registry-mirrors\": [\"https://registry.docker-cn.com\",\"https://nrbewqda.mirror.aliyuncs.com\",\"https://dmmxhzvq.mirror.aliyuncs.com\"],\n    \"exec-opts\": [\"native.cgroupdriver=systemd\"],\n    \"experimental\": true\n}\n\n# é…ç½®ç”Ÿæˆé•œåƒæ”¾ç½®æœ¬åœ°ï¼ŒæŒ‡å®štype=docker ä¸” å¿…é¡»åˆ†åˆ«ä¸ºä¸åŒçš„ CPU æ¶æ„æ„å»ºä¸åŒçš„é•œåƒ\ndocker buildx build -t yangchuansheng/hello-arch --platform=linux/amd64 -o type=docker .\n\né»˜è®¤æƒ…å†µä¸‹ï¼ŒDocker ä¼šä½¿ç”¨æ—§çš„æ„å»ºå™¨ï¼Œä¸æ”¯æŒå¤šæ¶æ„æ„å»ºã€‚\n\nä¸ºäº†åˆ›å»ºä¸€ä¸ªæ–°çš„æ”¯æŒå¤šæ¶æ„çš„æ„å»ºå™¨ï¼Œéœ€è¦è¿è¡Œï¼š\n\n# é€‚ç”¨äºå›½å†…ç¯å¢ƒ\nroot@i-3uavns2y:~# docker buildx create --use --name=mybuilder-cn --driver docker-container --driver-opt image=dockerpracticesig/buildkit:master\n\n# é€‚ç”¨äºè…¾è®¯äº‘ç¯å¢ƒ(è…¾è®¯äº‘ä¸»æœºã€coding.net æŒç»­é›†æˆ)\nroot@i-3uavns2y:~# docker buildx create --use --name=mybuilder-cn --driver docker-container --driver-opt image=dockerpracticesig/buildkit:master-tencent\n\n\n# ä½¿ç”¨é»˜è®¤é•œåƒ\nroot@i-3uavns2y:~# docker buildx create --name mybuilder --driver docker-container\n\n```\n\n### æ›´æ–°alpineæº\n```\n# é˜¿é‡Œé•œåƒ\nsed -i 's/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g' /etc/apk/repositories\n# ç§‘å¤§é•œåƒ\nsed -i 's/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g' /etc/apk/repositories\n\n\ndockerfile åˆ‡æ¢æº\n- RUN sed -i s@/archive.ubuntu.com/@/mirrors.aliyun.com/@g /etc/apt/sources.list\n- RUN sed -i 's/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g' /etc/apk/repositories\n\n```\n\n### kubernetes ç›¸å…³\ncommand: [ \"/bin/bash\", \"-ce\", \"tail -f /dev/null\" ]\nè¿›å…¥æŸä¸€ä¸ªå®¹å™¨çš„ç½‘ç»œç©ºé—´ nsenter -n -u -t pid /bin/sh\n\nkubectl create deployment hello-world --image=datawire/hello-world\nkubectl expose deployment hello-world --type=LoadBalancer --port=8000\nkubectl rollout restart ds kube-proxy -n kube-system\nkubectl -n kubesphere-system patch svc ks-apiserver -p '{\"spec\":{\"type\":\"NodePort\",\"ports\":[{\"port\":80,\"protocal\":\"TCP\",\"targetPort\":9090,\"nodePort\":30881}]}}'\n\n\n```\nroot@i-rh5ooi7r:/home/ubuntu/kubernetes# cat push.sh\ntag=\"v0.4.3\"\nremoteTag=\"v0.4.4\"\nregistry=\"101.43.88.56\"\nopenelb=\"kubespheredev/openelb\"\nagent=\"kubespheredev/openelb-agent\"\nproxy=\"kubespheredev/openelb-proxy\"\nforward=\"kubespheredev/openelb-forward\"\n\nimages=($openelb $agent $proxy $forward)\n\nfor((i=0;i\u003c${#images[@]};i++)); do\n    docker tag ${images[i]}:$tag $registry/${images[i]}:$remoteTag\n    docker push $registry/${images[i]}:$remoteTag\n    docker rmi ${images[i]}:$tag\ndone;\n```\n\n\nroute add -net 172.31.2.0/24 gw 172.31.74.254\n**ip** addr del 172.31.2.10/24 dev eth0\n\nalias calicoctl=\"kubectl exec -i -n kube-system calicoctl -- /calicoctl\"\n\nRUN apk update\n\nRUN apk add iptables --no-cache\n\n### wsl2 ç½‘ç»œé—®é¢˜ï¼š\n[https://www.jianshu.com/p/ba2cf239ebe0?u_atoken=075f93e5-b031-4986-bb7d-f00a0ea3b1ae\u0026u_asession=01xijq3dhNeKFQ7_jAtBzPzrRD5h7zRErH8V0rHhNRPJ48Hg30vDS7Kv99u6Azaty7X0KNBwm7Lovlpxjd_P_q4JsKWYrT3W_NKPr8w6oU7K9hHVNoXEPgAX3KwOFGAJpXPpcarp92QKzyJKyYjREPlmBkFo3NEHBv0PZUm6pbxQU\u0026u_asig=05AuiogwoKKcxKt5qAOOwfni773BstMZw5phxI523q3Dmz8J6_llR6xKLC4Qa7cdovnmQ1Sc795gEJNVM6tesyorwlPKFN2YAqc2poakTWCw4DqMC3d6TETG_MzXWhpC5auHHxQ_qoF2QDve8BSnV5YJzhOeqgpOsutYnwgyFzKfz9JS7q8ZD7Xtz2Ly-b0kmuyAKRFSVJkkdwVUnyHAIJzaQc3cnI9OyTQxr_QWJ9lZ_L9Du9TIawRZrMZWzByMTiWPRPQyB_SKrj61LB_f61u3h9VXwMyh6PgyDIVSG1W-u1eza061BToUVpWxfwO1Fr6clJZAzLswSaG1ATveery-SF6l84RubSeM_a8hrhskwdmW8FHlOop8y9tXJ4WoumWspDxyAEEo4kbsryBKb9Q\u0026u_aref=Qd%2BCcvjmXlsOKyuQALaOb1D7i20%3D](https://www.jianshu.com/p/ba2cf239ebe0?u_atoken=075f93e5-b031-4986-bb7d-f00a0ea3b1ae\u0026u_asession=01xijq3dhNeKFQ7_jAtBzPzrRD5h7zRErH8V0rHhNRPJ48Hg30vDS7Kv99u6Azaty7X0KNBwm7Lovlpxjd_P_q4JsKWYrT3W_NKPr8w6oU7K9hHVNoXEPgAX3KwOFGAJpXPpcarp92QKzyJKyYjREPlmBkFo3NEHBv0PZUm6pbxQU\u0026u_asig=05AuiogwoKKcxKt5qAOOwfni773BstMZw5phxI523q3Dmz8J6_llR6xKLC4Qa7cdovnmQ1Sc795gEJNVM6tesyorwlPKFN2YAqc2poakTWCw4DqMC3d6TETG_MzXWhpC5auHHxQ_qoF2QDve8BSnV5YJzhOeqgpOsutYnwgyFzKfz9JS7q8ZD7Xtz2Ly-b0kmuyAKRFSVJkkdwVUnyHAIJzaQc3cnI9OyTQxr_QWJ9lZ_L9Du9TIawRZrMZWzByMTiWPRPQyB_SKrj-61LB_f61u3h9VXwMyh6PgyDIVSG1W-u1eza061BToUVpWxfwO1Fr6clJZAzLswSaG1ATveery-SF6l84RubSeM_a8hrhskwdmW8FHlOop8y9tXJ4WoumWspDxyAEEo4kbsryBKb9Q\u0026u_aref=Qd%2BCcvjmXlsOKyuQALaOb1D7i20%3D)\n![upgit_20221210_1670641396.png](https://images.ryken.cloud/2022/12/upgit_20221210_1670641396.png)\n\n\n  \n```\n\tswitch obj.(type) {\n\tcase *corev1.Namespace:\n\t\treturn obj.GetAnnotations()[utils.HostPortRange]\n\tcase *v1.Deployment:\n\t\t//routerTemplates[\"DEPLOYMENT\"] = obj\n\t}\n```\n\n[Go æ ¼å¼åŒ–è¾“å‡ºç»“æ„ä½“](https://blog.csdn.net/K346K346/article/details/107314703)\nç»“æ„ä½“è¾“å‡º json\n```go\npackage main\n\nimport (\n\t\"bytes\"\n\t\"encoding/json\"\n\t\"fmt\"\n)\n\nfunc main() {\n\tbs, _ := json.Marshal(student)\n\tvar out bytes.Buffer\n\tjson.Indent(\u0026out, bs, \"\", \"\\t\")\n\tfmt.Printf(\"student=%v\\n\", out.String())\n}\n```\n\npython æ­å»ºä¸€ä¸ªæ–‡ä»¶æœåŠ¡å™¨ - å¿«ä¼ æ–‡ä»¶\n`python -m http.server 8000`","lastmodified":"2023-04-18T15:06:06.090796333Z","tags":null},"/cEOS-%E9%85%8D%E7%BD%AE":{"title":"","content":"#containerlab  #cEOS #äº¤æ¢æœº \n\n\u003e é”æ·äº¤æ¢æœº\n\nenable\nconfigure\nshow running-config \n\nvlan 10~12\ninterface vlan 10\nip address 10.10.10.1 255.255.255.0\n\ninterface Ethernet 2\nswitchport mode trunk\nswitchport trunk native vlan 10\nswitchport trunk allowed vlan remove 1-4094\nSwitchport trunk allow vlan add 10,11,12\n\n\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/calico":{"title":"","content":"[[åŸºæœ¬ä½¿ç”¨]]","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/calico-%E8%BF%90%E8%90%A5%E6%96%87%E6%A1%A3":{"title":"","content":"1. æ–°å¢ or æ‰©å®¹ ippool\n2. å›ºå®š ip\n3. ns ä¸ subnet ç»‘å®š\n4. calico é™é€Ÿ\n5. calico çš„ tunnel åœ°å€ä¼šè‡ªåŠ¨åˆ†é…\n6. è¿ç§» ippool çš„å®¹é‡å‡†å¤‡\n7. blockSize åº”è¯¥å¦‚ä½•å–å€¼\n\nkubesphere é›†æˆäº†cni çš„ ippool å’Œ ç½‘ç»œç­–ç•¥ï¼Œks åœ¨ cni åŸºç¡€ä¹‹ä¸Šå°è£…äº†ä¸€å±‚ï¼Œç”¨äºå±è”½ä¸åŒ cni åº•å±‚å®ç°çš„ï¼Œç°é˜¶æ®µç‰ˆæœ¬ä¸­åº•å±‚ä¸­ä¸»è¦ä½¿ç”¨äº† calicoã€‚\n\n### 1. ippool æ–°å¢ or æ‰©å®¹\næ‰©å®¹Calicoçš„IPV4POOLæ—¶ï¼Œä¼šå¯¹ä¸šåŠ¡ä»¥åŠç½‘ç»œæœ‰å½±å“å—ï¼Ÿéœ€è¦åšå“ªäº›é…åˆå·¥ä½œï¼Ÿ\n\n#### æ–°å¢ ippool \nä½¿ç”¨ kk å®‰è£…é›†ç¾¤æ—¶ä¼šä½¿ç”¨ kubePodsCIDR: 10.233.64.0/18 åˆ›å»ºä¸€ä¸ªé»˜è®¤å­ç½‘ default-ipv4-ippoolï¼Œæ­¤æ—¶åˆ›å»ºçš„å·¥ä½œè´Ÿè½½ä¼šä½¿ç”¨è¯¥ ippool æ¥åˆ†é… ipï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ–°å»ºæ–°çš„ ippool æ¥ç”¨äºè´Ÿè½½çš„ ip åˆ†é…ï¼Œå¦‚æœæŸä¸€ä¸ª ippool å› åœ°å€åˆ†é…æ»¡è€Œä¸å¤Ÿä½¿ç”¨æ—¶ï¼Œå¯ä»¥å†åˆ›å»ºä¸€ä¸ªæ–°çš„ ippool æ¥åˆ†é… ipã€‚\nåœ¨ overlay ç½‘ç»œæ¨¡å¼ä¸‹ï¼Œå¯ä»¥æ— éœ€å…³ç³»ç½‘ç»œç»†èŠ‚ï¼Œä½†æ˜¯åœ¨ underlay æ¨¡å¼ä¸‹ï¼Œä½¿ç”¨ bgp æ¨¡å¼æ—¶æ–°å»ºçš„ ippool éœ€è¦æ³¨æ„ä¸è¦ä¸å·²æœ‰çš„ ip åœ°å€æ®µå†²çªï¼Œå¹¶ä¸”æ ¹æ®å®é™…æƒ…å†µè€ƒè™‘æ˜¯å¦éœ€è¦åœ¨å¯¹åº”çš„äº¤æ¢æœºä¸Šæ·»åŠ å¯¹åº”çš„ç­–ç•¥æ¥æ”¾è¡Œæˆ–è€…æ‹’ç»æ–°çš„ ippool çš„åœ°å€æ®µã€‚\n\n#### æ‰©å®¹ ippool\nå¦‚æœå¯ä»¥é€šè¿‡æ–°å»º ippool çš„æ–¹å¼è§£å†³ ip åœ°å€ä¸å¤Ÿç”¨çš„é—®é¢˜ï¼Œåˆ™ä¸è€ƒè™‘ ippool æ‰©å®¹çš„æ“ä½œã€‚\ncalico æ”¯æŒç›´æ¥ä¿®æ”¹ ippool èµ„æºçš„ cidrï¼Œå› æ­¤åœ¨æœªå¯ç”¨ ks ippool çš„æƒ…å†µä¸‹å¯ä»¥ç›´æ¥æ‰©å®¹çš„ ippool cidrï¼Œä¿®æ”¹æ—¶ä¸è¦ä¸å·²æœ‰çš„ ippool æˆ–è€…å·²æœ‰çš„åº•å±‚ ip åœ°å€æ®µå†²çªã€‚\né€šè¿‡æ­¤æ–¹æ³•æ‰©å®¹ä¹‹åï¼Œippool çš„åœ°å€æ®µå¢åŠ ï¼Œå¯ç”¨çš„ ipamblocks å¢åŠ ï¼Œä¹Ÿä¸ä¼šå¯¹å·²æœ‰çš„ä¸šåŠ¡é€ æˆå½±å“ã€‚\n\u003e éœ€è¦æ³¨æ„ calico ippool æ²¡æœ‰åšåœ°å€å†²çªæ£€æµ‹ç­‰æœºåˆ¶ï¼Œå› æ­¤åœ¨ä¿®æ”¹ calico ç›¸å…³èµ„æºæ—¶éœ€è¦æ˜ç¡®è‡ªå·±çš„æ“ä½œä»¥åŠä¼šå¸¦æ¥çš„å½±å“ã€‚\n\n**ks ç•Œé¢ä¸­ä¸æ”¯æŒæ‰©å®¹æ“ä½œï¼Œå¯ä»¥è¿›è¡Œåˆ é™¤åé‡å»º**ã€‚\nkubesphere ä¸ºäº†æ•´ä¸ªé›†ç¾¤çš„ç½‘ç»œå®‰å…¨è€ƒè™‘ï¼Œä¸æ”¯æŒå¯¹ ippool çš„ä¿®æ”¹ï¼›åŒæ—¶å¯¹äºè¦åˆ é™¤çš„ ippool å¿…é¡»ä¿è¯å…¶ ippool ä¸­æ²¡æœ‰ ip è¢«å ç”¨ï¼Œå¦åˆ™åˆ é™¤å¤±è´¥ã€‚\nå› æ­¤å¯¹äºå·²ç»å¯ç”¨ kubesphere ippool çš„ç”¨æˆ·ï¼Œå¯¹äºè¦æ‰©å®¹çš„ ippoolï¼Œéœ€è¦è¿›è¡Œä»¥ä¸‹æ­¥éª¤ï¼š\n1. å°† ippool ä¸Šçš„è´Ÿè½½è¿ç§»åˆ°å…¶ä»– ippool(*ä¿®æ”¹è´Ÿè½½æ³¨è§£ä¸­ä½¿ç”¨çš„ ippool*)\n2. åˆ é™¤è¦æ‰©å®¹çš„ ippool\n3. æ–°å»ºè¾ƒå¤§èŒƒå›´çš„ ippool\n4. å°†å¿…è¦çš„è´Ÿè½½è¿ç§»å›è¯¥ ippool (*ä¿®æ”¹è´Ÿè½½æ³¨è§£ä¸­ä½¿ç”¨çš„ ippool*)\n\n\n\n\n### 2. å›ºå®š ip\n[Configure the Calico CNI plugins (tigera.io)](https://projectcalico.docs.tigera.io/reference/cni-plugin/configuration#requesting-a-specific-ip-address)\n[Use a specific IP address with a pod (tigera.io)](https://projectcalico.docs.tigera.io/networking/use-specific-ip#reserving-ips-for-manual-assignments)\nè®¾ç½®çš„ ip åœ°å€éœ€è¦åœ¨ calico ippool èŒƒå›´ä¸­ï¼Œå¦åˆ™ ipam æŠ¥é”™æ‰¾ä¸åˆ°ç›¸åº”çš„ ipamblock æ— æ³•åˆ†é… ipã€‚\n**å•ä¸ª pod å›ºå®š ip**\nåˆ›å»º pod æˆ–è€…åˆ›å»ºå•ä¸ªå‰¯æœ¬çš„ pod æ—¶æ·»åŠ `cni.projectcalico.org/ipAddrs`æ³¨è§£ï¼š\n```\n annotations:\n    \"cni.projectcalico.org/ipAddrs\": \"[\\\"192.168.0.1\\\"]\"\n```\npod å¯¹åº”çš„ annotation çš„ ipv4 åœ°å€å€¼åªæ”¯æŒè®¾ç½®ä¸€ä¸ªï¼Œå½“è®¾ç½®å¤šä¸ªæ—¶ä¼šæŠ¥é”™ï¼š\ncannot have more than one IPv4 address for \"cni.projectcalico.org/ipAddrs\" annotation\n\n**deploy å¤šå‰¯æœ¬ pod å›ºå®š ip**\nå…ˆåˆ›å»ºé¢„æœŸ cidrã€æœ‰ç¬¦åˆé¢„æœŸ ip æ•°é‡çš„ ippool\n![upgit_20221222_1671700172.png](https://images.ryken.cloud/2022/12/upgit_20221222_1671700172.png)\nåˆ›å»ºè´Ÿè½½æ—¶æ·»åŠ `cni.projectcalico.org/ipv4pools`æ³¨è§£ï¼š\n```\nannotations:\n    \"cni.projectcalico.org/ipv4pools\": \"[\\\"ippool\\\"]\"\n```\n\nå½“å‰¯æœ¬æ•°è¶…è¿‡ ippool å¤§å°æ—¶ï¼Œpod ä¼šåˆ›å»ºä¸æˆåŠŸç›´åˆ°è¯¥ ippool æœ‰ç©ºä½™ ip ã€‚å»ºè®®ä½¿ç”¨æ—¶ ippool å¯ç”¨ ip æ•°é‡å¤§äºå‰¯æœ¬æ•°ï¼Œè¿™æ ·å¯ä»¥åœ¨è¿›è¡Œæ‰©å®¹æˆ–è€…é‡å¯æ“ä½œæ—¶é¿å…å‡ºç°å›  ip ä¸å¤Ÿç”¨ï¼Œpod ç­‰å¾…é‡Šæ”¾ ip è€Œæ— æ³•åˆ›å»ºçš„è¿‡ç¨‹\n\n\n\u003e å¦‚æœåŒæ—¶å­˜åœ¨ `cni.projectcalico.org/ipAddrs` å’Œ `cni.projectcalico.org/ipv4pools` æ—¶ï¼Œä»¥æœ€å°ç²’åº¦çš„ `cni.projectcalico.org/ipAddrs` ä¸ºä¸»ã€‚\n\n\n#### 3. ns ä¸ subnet ç»‘å®š\n[Configure the Calico CNI plugins (tigera.io)](https://projectcalico.docs.tigera.io/reference/cni-plugin/configuration#using-kubernetes-annotations)\né€šè¿‡è®¾ç½®æ³¨è§£`cni.projectcalico.org/ipv4pools`æ¥å®ç° ns ä¸ ippool çš„ç»‘å®š\n```\nannotations:\n    \"cni.projectcalico.org/ipv4pools\": \"[\\\"ippool\\\"]\"\n```\n\nå¯ä»¥ç»‘å®šå¤šä¸ª ippoolï¼Œå…¶ä½¿ç”¨é¡ºåºä¸€èˆ¬ä¸ºï¼šæŒ‡å®šçš„ç¬¬ä¸€ä¸ª ippool ç”¨å®Œä¹‹åï¼Œä½¿ç”¨æŒ‡å®šçš„ç¬¬äºŒä¸ª ippoolã€‚å¯¹äº ip çš„åˆ†é…åŒæ ·æ˜¯ä½¿ç”¨ ippool - ipamblock çš„æ–¹å¼åˆ†é…ã€‚\n```\nannotations:\n    \"cni.projectcalico.org/ipv4pools\": \"[\\\"ippool\\\", \\\"ippool-1\\\"]\"\n```\n\n---\n\ntor å»ºç«‹ ibgp æƒ…å†µä¸‹ï¼Œå¯èƒ½å­¦ä¹ ä¸åˆ°è·¯ç”± or blackhole è·¯ç”±æ— æ³•å€Ÿç”¨åœ°å€ï¼Œæˆ–è€…å€Ÿç”¨äº†åœ°å€æ— æ³•è®¿é—®\n\n---\n\n\n#### 4. caico é™é€Ÿ\nåœ¨ kubernetes ä¸­æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å®ç°é™æµã€‚\n1. é…ç½® cni æ’ä»¶ bandwidth\n```json\n{\n   \"type\": \"bandwidth\",\n   \"capabilities\": {\"bandwidth\": true},\n   \"ingressRate\": 10000000,\n   \"ingressBurst\": 10000000,\n   \"egressRate\": 10000000,\n   \"egressBurst\": 10000000\n}\n```\n\nbandwidth ä½¿ç”¨ tbf å®ç°æµé‡æ•´å½¢ã€‚TBF (ä»¤ç‰Œæ¡¶è¿‡æ»¤å™¨) æ˜¯ä¸€ä¸ªç®€å•çš„é˜Ÿåˆ—è§„åˆ™ï¼Œ**åªå…è®¸ä»¥ä¸è¶…è¿‡äº‹å…ˆè®¾å®šçš„é€Ÿç‡åˆ°æ¥çš„æ•°æ®åŒ…é€šè¿‡ï¼Œä½†å¯èƒ½å…è®¸çŸ­æš‚çªå‘æµé‡è¶…è¿‡è®¾å®šå€¼**ã€‚TBFçš„å®ç°åœ¨äºä¸€ä¸ªç¼“å†²å™¨(æ¡¶)ï¼Œæ¡¶è¢«ä¸€äº›å«åšâ€ä»¤ç‰Œâ€çš„è™šæ‹Ÿæ•°æ®ä»¥ç‰¹å®šé€Ÿç‡(tokenÂ rate)å¡«å……ç€ï¼Œå¦‚æœæœ‰token å°±èƒ½å‘æ•°æ®ã€‚\n\ncni é…ç½®\n- ingressRateï¼šè®¾å®šç½‘å¡æ”¶åŒ…é€Ÿç‡ (bps)\n- ingressBurstï¼šæœ€å¤šå¯ä»¥æœ‰å¤šå°‘ä¸ªä»¤ç‰Œèƒ½å¤Ÿå³åˆ»è¢«ä½¿ç”¨(æ¯”ç‰¹æ•°)\n- egressRateï¼šè®¾å®šç½‘å¡å‘åŒ…é€Ÿç‡ (bps)\n- egressBurstï¼šæœ€å¤šå¯ä»¥æœ‰å¤šå°‘ä¸ªä»¤ç‰Œèƒ½å¤Ÿå³åˆ»è¢«ä½¿ç”¨(æ¯”ç‰¹æ•°)ï¼Œè¯¥å‚æ•°åŒ tbf çš„ burst è¡¨ç¤ºæ¡¶çš„å¤§å°ã€‚é€šå¸¸ç®¡ç†çš„å¸¦å®½è¶Šå¤§ï¼Œéœ€è¦çš„ç¼“å†²å™¨å°±è¶Šå¤§ã€‚åœ¨Intelä½“ç³»ä¸Š,10mbit/sçš„é€Ÿç‡éœ€è¦è‡³å°‘10kå­—èŠ‚çš„ç¼“å†²åŒºæ‰èƒ½è¾¾åˆ°æœŸæœ›çš„é€Ÿç‡ã€‚\n\nå¦‚æœç¼“å†²åŒºå¤ªå°ï¼Œå°±ä¼šå¯¼è‡´åˆ°è¾¾çš„ä»¤ç‰Œæ²¡æœ‰åœ°æ–¹æ”¾(æ¡¶æ»¡äº†)ï¼Œè¿™ä¼šå¯¼è‡´æ½œåœ¨çš„ä¸¢åŒ…ã€‚(æœ€å°ç¼“å†²åŒºå¤§å°å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¡ç®—ï¼šé€Ÿç‡/HZ = 10mbit / 100 â‰ˆ 10kB)\n\n\u003e ingressRate å’Œ ingressBurst å¿…é¡»åŒæ—¶è®¾ç½®ï¼Œç¼ºå°‘ä¸€ä¸ªåˆ™é…ç½®ä¸ç”Ÿæ•ˆã€‚\n\u003e egressRate å’Œ egressBurst å¿…é¡»åŒæ—¶è®¾ç½®ï¼Œç¼ºå°‘ä¸€ä¸ªåˆ™é…ç½®ä¸ç”Ÿæ•ˆã€‚\n\u003e ingressBurstã€egressBurst åœ¨æ¢ç®—æ—¶ä¼šé™¤ä»¥8ï¼Œå› æ­¤åœ¨å¡«å†™å®é™…å€¼æ—¶è¦ç•™æ„ã€‚\n\u003e \n\u003e æ›´å¤šç›¸å…³ tbfï¼š[tc-tbf(8) - Linux manual page (man7.org)](https://man7.org/linux/man-pages/man8/tbf.8.html)\n\n**calico ä¿®æ”¹ cni é…ç½®**ï¼š\ncalico é»˜è®¤çš„é…ç½®æ–‡ä»¶ä¸ºconfigmap kube-system/calico-configã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤è¿›è¡ŒæŸ¥çœ‹ï¼š`kubectl get cm -n kube-system calico-config -o yaml`ã€‚ calico é»˜è®¤å¯ç”¨ bandwidth æ¥å¯¹ pod å…¥å£å’Œå‡ºå£æµé‡è¿›è¡Œæ•´å½¢ã€‚å› æ­¤å¯ä»¥æ ¹æ®ä¸Šè¿° cni é…ç½®æ¥ä¿®æ”¹ calico-configï¼Œç”±æ­¤è®¾ç½®é»˜è®¤çš„å¸¦å®½é™åˆ¶ã€‚\n\nåœ¨ calico calico-config é…ç½®ä¸­æ·»åŠ ä»¥ä¸Šé…ç½®åï¼Œéœ€è¦é‡å¯ calico-node daemonsetï¼Œé‡å¯å®Œæˆä¹‹åæ£€æŸ¥ä¸»æœºä¸Š /etc/cni/net.d/10-calico.conflist ä¸­æ˜¯å¦ä¹Ÿæ·»åŠ äº†å¯¹åº”çš„å­—æ®µã€‚\n\nå¯¹äºä¿®æ”¹é…ç½®ä¹‹å‰åˆ›å»ºçš„ pod ï¼Œéœ€è¦é‡å¯ pod å¸¦å®½é™é€Ÿæ‰ä¼šç”Ÿæ•ˆã€‚\n\n\n2. è®¾ç½® pod annotations\n```yaml\nannotations:\n  kubernetes.io/ingress-bandwidth: 300M\n  kubernetes.io/egress-bandwidth: 300M\n```\n\nè¯¥æ–¹æ³•åªèƒ½è®¾ç½®å¸¦å®½ï¼Œæ— æ³•è®¾ç½® Burst å€¼ï¼Œå¯¹äº Burst å€¼ï¼Œä½¿ç”¨äº†è¾ƒå¤§çš„ 256Mbã€‚\n![upgit_20221223_1671790862.png](https://images.ryken.cloud/2022/12/upgit_20221223_1671790862.png)\n\n\n\u003e ç»è¿‡æµ‹è¯•å‘ç°ï¼Œå½“ cni é…ç½®å¸¦å®½é™åˆ¶æ—¶ï¼Œå†æ¬¡è®¾ç½® pod æ³¨è§£å¹¶ä¸ä¼šè¦†ç›–æ‰ cni çš„æ•ˆæœã€‚\n\n\n#### 5. calico çš„ tunnel åœ°å€ä¼šè‡ªåŠ¨åˆ†é…\n**é—®é¢˜ç°è±¡ï¼š**\n\tä½¿ç”¨ ipip æ¨¡å¼å®‰è£…é›†ç¾¤ï¼Œå¹¶åˆ‡æ¢ä¸º bgp æ¨¡å¼ä¹‹å(ä¿®æ”¹é»˜è®¤ default-ipv4-ippool çš„ ipipMode: Neverï¼Œå¹¶ä¿®æ”¹ calico-node daemonset çš„ç¯å¢ƒå˜é‡ CALICO_IPV4POOL_IPIP: Never)ï¼Œå¯¹äºæ–°å»º ippool çš„ ipipMode ä¸º Always å¹¶ä¸”è‡ªåŠ¨ä¸º tunl0 åˆ†é… ipï¼Œåœ¨ç•Œé¢ä¸Šåˆ é™¤ ippool æ—¶æç¤º ip è¢«å ç”¨æ— æ³•åˆ é™¤ ippoolã€‚\n**é—®é¢˜åˆ†æï¼š**\n\tåœ¨ç•Œé¢ä¸Šåˆ›å»º ippool æ—¶ï¼Œç”± ks-controller-manager å°† ks ippool è½¬æ¢ä¸º calico ippoolï¼Œks-controller-manager åœ¨åˆå§‹åŒ–æ—¶ä¼šè·å– calico-node daemonset çš„ç¯å¢ƒå˜é‡ï¼Œå¹¶ä»¥æ­¤ä½œä¸ºè½¬æ¢ calico ippool çš„å‚æ•°ã€‚ks-controller-manager ä¸ä¼šæŒç»­ watch calico-node daemonsetï¼Œ å› æ­¤åœ¨ä¿®æ”¹å…¶ç¯å¢ƒå˜é‡åï¼Œks-controller-manager å·²ç»è¢«åˆå§‹åŒ–çš„å‚æ•°ä¸ä¼šè‡ªåŠ¨ä¿®æ”¹ã€‚\n**é—®é¢˜è§£å†³ï¼š**\n\tä¿®æ”¹ä¸º bgp æ¨¡å¼å¹¶ä¿®æ”¹ calico-node daemonset ç¯å¢ƒå˜é‡ä¹‹åï¼Œé‡å¯ä¸€ä¸‹ ks-controller-manager å³å¯ï¼›æˆ–è€…åœ¨ä½¿ç”¨ kk å®‰è£…é›†ç¾¤æ—¶æŒ‡å®š ipipMode ä¸º Neverã€‚\n\n\n#### 6. ippool åœ¨è¿ç§»ä¸šåŠ¡æ—¶éœ€è¦åšçš„å‡†å¤‡\nåœ¨åº”ç”¨å¤§è§„æ¨¡æ›´æ–°æ—¶ï¼Œå¤§é‡å®¹å™¨åˆ é™¤å¹¶ä¸”å¤§é‡å®¹å™¨åˆ›å»ºï¼Œåˆ›å»ºçš„å®¹å™¨éœ€è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½å°±ç»ªã€‚è¿™å…¶ä¸­ä¸€ä¸ªå¯èƒ½çš„åŸå› ï¼Œå°±æ˜¯å¤§é‡å®¹å™¨åˆ é™¤é‡Šæ”¾ipè¿‡äºç¼“æ…¢ï¼Œå¯¼è‡´æ–°åˆ›å»ºçš„å®¹å™¨æ— æ³•åŠæ—¶è·å–ipï¼Œä»è€Œæ— æ³•åŠæ—¶å¯åŠ¨ã€‚(å¯ç”¨ ip æ•°é‡ç´§å¼ )\n\nkubernetes å®¹å™¨çš„æ•´ä¸ªåˆ é™¤æµç¨‹åŸºæœ¬å¥—è·¯å¦‚ä¸‹ï¼š\n1.  å‘é€åˆ é™¤è¯·æ±‚åˆ°apiserverï¼Œæ ‡è®°å®¹å™¨çš„deletionTimestamp\n2.  kubelet watchåˆ°è¯¥äº‹ä»¶ï¼Œè¿›å…¥åˆ é™¤æµç¨‹\n3.  podæ‰§è¡ŒkillPodæµç¨‹\n4.  kill appå®¹å™¨\n    - æ‰§è¡ŒpreStopHook\n    - ç­‰å¾…gracePeriod\n    - åœæ­¢appå®¹å™¨\n5.  kill pauseå®¹å™¨\n    - è°ƒç”¨cniæ¥å£ï¼Œåœæ­¢å®¹å™¨ç½‘ç»œ\n    - åœæ­¢pauseå®¹å™¨\n6.  ä»apiserverä¸­å°†podçš„ä¿¡æ¯æ¸…é™¤ï¼ˆçœŸæ­£åˆ é™¤æ‰å­˜å‚¨åœ¨etcdçš„podä¿¡æ¯ï¼‰\n\nå¯ä»¥çœ‹å‡ºï¼Œipçš„é‡Šæ”¾å…¶å®æ˜¯å‘ç”Ÿåœ¨è°ƒç”¨cniæ¥å£çš„æ—¶å€™ã€‚å› æ­¤ï¼ŒæŒ‰ç…§æµç¨‹éœ€è¦ç­‰å¾…çš„æ—¶é—´æ˜¯è¾ƒä¸ºæ¼«é•¿çš„ã€‚\n\nä½†æ˜¯ä¸åŒçš„æ›´æ–°ç­–ç•¥ï¼Œip æ•°é‡ç´§å¼ çš„æƒ…å†µä¹Ÿæœ‰æ‰€ä¸åŒã€‚\n\n##### é‡å»ºç­–ç•¥\n```yaml\nspec:\n  replicas: 3\n  strategy:\n    type: Recreate\n```\nåœ¨è¯¥ç­–ç•¥ä¸‹æ›´æ–°ï¼Œæ‰€æœ‰çš„ pod ä¼šå…ˆå¤„äº Terminating çŠ¶æ€ï¼Œåœ¨æ‰€æœ‰çš„ Pod éƒ½è¢«åˆ é™¤ä¹‹åæ‰ä¼šå¼€å§‹åˆ›å»ºæ–°çš„ Podã€‚è€Œ pod åœ¨åˆ é™¤ä¹‹åå…¶å ç”¨çš„ ip å·²ç»è¢«é‡Šæ”¾ï¼Œå› æ­¤åœ¨è¿ç§»çš„è¿‡ç¨‹ä¸­ä¸”åœ¨æ²¡æœ‰æ–°çš„è´Ÿè½½åˆ›å»ºçš„æƒ…å†µä¸‹ï¼Œ ip æ•°é‡ä½¿ç”¨æƒ…å†µä¸ä¼šç´§å¼ ï¼Œä¹Ÿä¸ä¼šäº§ç”Ÿ pod ç­‰å¾…é‡Šæ”¾ ip åæ‰èƒ½åˆ†é… ip çš„æƒ…å†µã€‚\n\n##### æ»šåŠ¨æ›´æ–°\n```yaml\nspec:\n  replicas: 3\n  strategy:\n    rollingUpdate:\n      maxSurge: 25%\n      maxUnavailable: 25%\n    type: RollingUpdate\n\nspec:\n  replicas: 3\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxSurge: 2 Â Â Â Â Â Â Â # ä¸€æ¬¡å¯ä»¥æ·»åŠ å¤šå°‘ä¸ªPod\n      maxUnavailable: 1 Â # æ»šåŠ¨æ›´æ–°æœŸé—´æœ€å¤§å¤šå°‘ä¸ªPodä¸å¯ç”¨\n```\n\nåœ¨åº”ç”¨æ›´æ–°æ—¶å¦‚æœé‡‡ç”¨æ»šåŠ¨æ›´æ–°ï¼Œéœ€è¦ç¡®ä¿å¯ç”¨çš„Podå¯¹è±¡æ•°é‡ä¸ä½äºæŸé˜ˆå€¼ä»¥ç¡®ä¿å¯ä»¥æŒç»­å¤„ç†å®¢æˆ·ç«¯çš„æœåŠ¡è¯·æ±‚ã€‚æ­¤æ—¶å¯¹äºæ–°çš„ pod åˆ›å»ºçš„æ—¶æœºä»¥åŠæ•´ä¸ªè¿ç§»çš„è¿›åº¦é™¤äº†å—æ˜¯å¦æœ‰å¯ç”¨ ip çš„å½±å“å¤–ï¼ŒåŒæ—¶ä¹Ÿå—æ›´æ–°ç­–ç•¥è®¾å®šçš„ `spec.strategy.rollingUpdate.maxSurge`å’Œ`spec.strategy.rollingUpdate.maxUnavailable`ä¸¤ä¸ªå±æ€§å½±å“ã€‚\n-   Â maxSurgeï¼šå’ŒæœŸæœ›readyçš„å‰¯æœ¬æ•°æ¯”ï¼Œè¶…è¿‡æœŸæœ›å‰¯æœ¬æ•°æœ€å¤§æ¯”ä¾‹ï¼ˆæˆ–æœ€å¤§å€¼ï¼‰ï¼Œ**è¿™ä¸ªå€¼è°ƒçš„è¶Šå¤§ï¼Œå‰¯æœ¬æ›´æ–°é€Ÿåº¦è¶Šå¿«**ã€‚å‡è®¾å½“æ­¤å€¼ä¸º 30% æ—¶ï¼Œå¯åŠ¨æ»šåŠ¨æ›´æ–°åï¼Œä¼šç«‹å³å¯¹æ–°çš„ ReplicaSet æ‰©å®¹ï¼ŒåŒæ—¶ä¿è¯æ–°æ—§ Pod çš„æ€»æ•°ä¸è¶…è¿‡æ‰€éœ€ Pod æ€»æ•°çš„ 130%ã€‚ä¸€æ—¦æ—§ Pod è¢«æ€æ­»ï¼Œæ–°çš„ ReplicaSet å¯ä»¥è¿›ä¸€æ­¥æ‰©å®¹ï¼Œ åŒæ—¶ç¡®ä¿æ›´æ–°æœŸé—´çš„ä»»ä½•æ—¶å€™è¿è¡Œä¸­çš„ Pod æ€»æ•°æœ€å¤šä¸ºæ‰€éœ€ Pod æ€»æ•°çš„ 130%ã€‚\n-   Â maxUnavailableï¼šå’ŒæœŸæœ›readyçš„å‰¯æœ¬æ•°æ¯”ï¼Œä¸å¯ç”¨å‰¯æœ¬æ•°æœ€å¤§æ¯”ä¾‹ï¼ˆæˆ–æœ€å¤§å€¼ï¼‰ï¼Œ**è¿™ä¸ªå€¼è¶Šå°ï¼Œè¶Šèƒ½ä¿è¯æœåŠ¡ç¨³å®šï¼Œæ›´æ–°è¶Šå¹³æ»‘**ï¼›å‡è®¾å½“æ­¤å€¼è®¾ç½®ä¸º 30% æ—¶ï¼Œæ»šåŠ¨æ›´æ–°å¼€å§‹æ—¶ä¼šç«‹å³å°†æ—§ ReplicaSet ç¼©å®¹åˆ°æœŸæœ› Pod ä¸ªæ•°çš„70%ã€‚ æ–° Pod å‡†å¤‡å°±ç»ªåï¼Œå¯ä»¥ç»§ç»­ç¼©å®¹æ—§æœ‰çš„ ReplicaSetï¼Œç„¶åå¯¹æ–°çš„ ReplicaSet æ‰©å®¹ï¼Œ ç¡®ä¿åœ¨æ›´æ–°æœŸé—´å¯ç”¨çš„ Pod æ€»æ•°åœ¨ä»»ä½•æ—¶å€™éƒ½è‡³å°‘ä¸ºæ‰€éœ€çš„ Pod ä¸ªæ•°çš„ 70%ã€‚\n\næ»šåŠ¨æ›´æ–°æ—¶ä¼šå‡ºç°ä¸€éƒ¨åˆ† pod å¤„äºåˆ é™¤ä¸­ï¼Œip æ²¡æœ‰è¢«é‡Šæ”¾ï¼Œæ–°çš„ä¸€éƒ¨åˆ† pod å¤„äºæ–°å»ºä¸­ï¼Œæ­£åœ¨è¿›è¡Œåˆ†é… ipï¼›æ­¤æ—¶çš„ ip å ç”¨æ•°é‡å¤§äºæœŸæœ›çš„å‰¯æœ¬æ•°é‡ã€‚å¯èƒ½å‡ºç° ip æ•°é‡ç´§å¼ ã€æ–°å»ºçš„ pod ç­‰å¾…åˆ é™¤çš„ pod é‡Šæ”¾ ip çš„æƒ…å†µã€‚å› æ­¤ä½¿ç”¨æ»šåŠ¨æ›´æ–°è¿ç§»åº”ç”¨æ—¶ï¼Œæœ€å¥½ä¿è¯ ippool ä¸­å¯ç”¨ ip æ•°é‡ â‰¥ maxSurge(æ¯”ä¾‹) * ç°æœ‰è´Ÿè½½ pod æ•°ã€‚\n\n#### 7. blockSize å–å€¼\ncalico ä½¿ç”¨ block è¿›è¡Œ ip åˆ†é…ï¼ŒblockSize ä¸º block cidr çš„å¤§å°ã€‚å–å€¼èŒƒå›´ä¸º20~32ï¼Œé»˜è®¤å€¼ä¸º 26ã€‚å¦‚æœåˆ›å»ºçš„ ippool çš„ cidr å¤§äº 26ï¼Œåˆ™ blockSize éœ€è¦æŒ‡å®šï¼Œå¦åˆ™åˆ›å»ºçš„ ippool ä¸å¯ä½¿ç”¨ã€‚\nå½“ ippool cidr è®¾ç½®ä¸º 24ï¼ŒblockSize è®¾ç½®ä¸º 26 æ—¶ï¼Œå¯ä»¥åˆ†ä¸º 4 ä¸ª blockã€‚å¦‚æœæ­¤æ—¶èŠ‚ç‚¹æ•°é‡ä¸º 2ï¼Œå½“ä¸€ä¸ªèŠ‚ç‚¹ä¸Š block ä¸­ ip å ç”¨æ»¡æ—¶ï¼Œä¼šç»§ç»­ç”³è¯·ä¸€ä¸ª block å¹¶ç»‘å®šåˆ°è¯¥èŠ‚ç‚¹ä¸Šï¼›å¦‚æœèŠ‚ç‚¹æ•°é‡ä¸º4ï¼Œåˆšå¥½æ¯ä¸ªèŠ‚ç‚¹åˆ†é…ä¸€ä¸ª blockï¼Œå½“èŠ‚ç‚¹ block ä¸­ ip ä½¿ç”¨å®Œä¹‹åï¼Œä¾¿ä¼šå‡ºç°å€Ÿç”¨ ip æˆ–è€…æ— æ³•åˆ›å»º pod çš„æƒ…å†µï¼ˆæ ¹æ® ipamconfig é…ç½®å†³å®šï¼‰ï¼›å¦‚æœèŠ‚ç‚¹æ•°é‡å¤§äº 4 æ—¶ï¼Œblock æ•°é‡ä¸å¤Ÿç”¨ï¼Œæ‰€ä»¥å¿…ç„¶ä¼šå‡ºç° ip å€Ÿç”¨æˆ–è€…æ— æ³•åˆ›å»º pod çš„æƒ…å†µã€‚\nå› æ­¤é¦–å…ˆä¿è¯ ippool ä¸­çš„ ip å……è¶³ï¼Œå…¶æ¬¡å°½é‡ä½¿ block å¯ä»¥å‡åŒ€çš„åˆ†é…åˆ°èŠ‚ç‚¹ä¸Šï¼Œé¿å… ip å€Ÿç”¨å¯¼è‡´è·¯ç”±æ•°å¢å¤šæˆ– pod æ— æ³•åˆ›å»ºçš„é—®é¢˜ã€‚ç»¼åˆè€ƒè™‘ä¹‹åï¼Œè®¡ç®—å‡ºé€‚å½“çš„ blockSize å€¼ã€‚\n\n\nå‚è€ƒï¼š\n- [kubernetes - Set burst for bandwidth limit for a pod - Stack Overflow](https://stackoverflow.com/questions/59729354/set-burst-for-bandwidth-limit-for-a-pod)\n- [CNI](https://www.cni.dev/plugins/current/meta/bandwidth/)\n- [tc-tbf(8) - Linux manual page (man7.org)](https://man7.org/linux/man-pages/man8/tbf.8.html)\n- [ã€kubernetes/k8sæºç åˆ†æã€‘CNI bandwidthæºç åˆ†æ_å¼ å¿ ç³çš„åšå®¢-CSDNåšå®¢_bandwidth cni](https://blog.csdn.net/zhonglinzhang/article/details/98053900)\n\n\n\n","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/calico-%E8%BF%90%E8%90%A5%E9%97%AE%E9%A2%98":{"title":"","content":"#calico  #issue\n\n![upgit_20221202_1669948100.png](https://images.ryken.cloud/2022/12/upgit_20221202_1669948100.png)\n\n\n- é…ç½®etcd\ncalico æ”¯æŒä¸¤ç§æ•°æ®å­˜å‚¨ï¼Œä¸€ç§æ˜¯ä½¿ç”¨ kubernetes api æ¥å£æ¥å¯¹å…¶ etcd è¿›è¡Œè¯»å†™æ“ä½œï¼›ä¸€ç§ç›´æ¥è¿æ¥ etcd è¿›è¡Œè¯»å†™æ“ä½œï¼ŒåŒæ—¶ calico æ”¯æŒé…ç½® etcd tls è¿›è¡Œæ•°æ®åŠ å¯†å®ç°å®‰å…¨çš„å­˜å‚¨ï¼Œå¯¹äº etcd ç›¸å…³çš„è¯ä¹¦ç”Ÿæˆä»¥åŠæ›´æ–°ç»´æŠ¤ä¸åœ¨ calico ç®¡ç†èŒƒå›´ä¹‹å†…ã€‚\n\n[docs/generate-self-signed-certificates.md at master Â· coreos/docs (github.com)](https://github.com/coreos/docs/blob/master/os/generate-self-signed-certificates.md)\ncalico é€šè¿‡ configmap ç”¨äº daemonset é…ç½®ç¯å¢ƒå˜é‡ + Secret é…ç½®è¯ä¹¦ base64 ç¼–ç \nå¯¹äº etcd çš„è¯ä¹¦è¦ä¸é›†ç¾¤çš„è¯ä¹¦è¿›è¡Œç»Ÿä¸€ç®¡ç†\n\n\n- æ‰©å®¹ã€æ–°å¢ ippool\n\tä½¿ç”¨ kk å®‰è£…é›†ç¾¤æ—¶ä¼šä½¿ç”¨ kubePodsCIDR: 10.233.64.0/18 åˆ›å»ºä¸€ä¸ªé»˜è®¤å­ç½‘ï¼Œæ­¤æ—¶åˆ›å»ºçš„å·¥ä½œè´Ÿè½½ä¼šä½¿ç”¨è¯¥ ippool æ¥åˆ†é… ipï¼Œå¦‚æœè¯¥ ippool åœ°å€åˆ†é…æ»¡è€Œä¸å¤Ÿä½¿ç”¨æ—¶ï¼Œå¯ä»¥æ–°å»ºä¸€ä¸ª ippool ä½¿ç”¨æ–°çš„ ippool æ¥åˆ†é… ipã€‚\n\t\n\tä¸€èˆ¬æƒ…å†µä¸è¿›è¡Œ ippool æ‰©å®¹ï¼Œå› ä¸ºæ‰©å®¹æ“ä½œæ¯”è¾ƒç¹çè€Œä¸”å¯ä»¥é€šè¿‡æ–°å»ºippool çš„æ–¹å¼é¿å…ã€‚å¦‚æœæœ‰å¿…è¦å¯ä»¥é€šè¿‡ä»¥ä¸‹æ“ä½œè¿›è¡Œæ‰©å®¹ï¼šéœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„ ippool å¹¶ç¦ç”¨è¦æ‰©å®¹çš„ ippoolï¼Œå°†åŸæœ‰ ippool çš„ä¸šåŠ¡ pod åˆ é™¤ä¹‹ååœ¨æ–°çš„ ippool é‡æ–°åˆ†é…ï¼Œåˆ é™¤å¹¶é‡å»ºæ‰©å®¹çš„ ippoolï¼Œå†å°†ä¸´æ—¶åˆ›å»ºçš„ ippool ç¦ç”¨å¹¶å°†ä¸šåŠ¡ pod åˆ é™¤ï¼Œpod ä¾¿ä¼šåœ¨æ–°çš„ ippool é‡æ–°åˆ†é…ï¼Œå®Œæˆæ“ä½œä¹‹åå°†ä¸´æ—¶çš„ ippool åˆ é™¤\n\n- calico å‡çº§ \nå¯¹äºå‡çº§è¿‡ç¨‹ä¸­ï¼Œæœ€å¿«çš„å‡çº§ç±»æ¯”äºé‡å¯calico daemonsetï¼Œ\nå½±å“çš„æ—¶é—´éœ€è¦è¯„ä¼°\n\n\néƒ¨ç½²ï¼š\n- éƒ¨ç½²æ—¶çš„ç½‘ç»œè§„åˆ’\n\tæ–¹æ¡ˆç¡®å®šï¼šunderlay or overlay\n\toverlay æ¨¡å¼ä¸å…³å¿ƒåº•å±‚ç‰©ç†ç½‘ç»œï¼Œä½¿ç”¨ ipip å°è£…æˆ–è€… vxlan å°è£…è¿›è¡ŒåŒ…çš„è½¬å‘\n\tunderlay ä¾èµ–äºåº•å±‚çš„ç‰©ç†ç½‘ç»œï¼Œéƒ¨ç½²æ–¹å¼ä»¥åŠè€ƒè™‘çš„æƒ…å†µä¹Ÿå–å†³è¦éƒ¨ç½²ç¯å¢ƒçš„ç½‘ç»œæ¶æ„\n\n- calicoctl å·¥å…·éƒ¨ç½²\n\tå°½é‡åœ¨å…¨ç‰©ç†èŠ‚ç‚¹éƒ¨ç½²ï¼Œæ–¹ä¾¿åœ¨å„ä¸ªèŠ‚ç‚¹ä¸Šå•ç‹¬ç»´æŠ¤ä»¥åŠæ’æŸ¥é—®é¢˜\n\t\n- kubekey æ”¯æŒ calico é…ç½®é€‰é¡¹\n\t- pod cidr - é»˜è®¤ ippool cidr\n\t- ipip/vxlan modeï¼Œveth mtu\nåœ¨å®‰è£…å®Œæˆåæ‰‹åŠ¨å®Œæˆ bgp rr æ¨¡å¼ç›¸å…³çš„é…ç½®\n\n- calico é€‰æ‹© RR èŠ‚ç‚¹\n1. é€‰å– kubernetes èŠ‚ç‚¹å½“åš rr èŠ‚ç‚¹\n\téœ€è¦åœ¨é€‰å–çš„ RR èŠ‚ç‚¹ä¸Šæ‰“ labelï¼Œä¹‹åè®¾ç½® routeReflectorClusterID(*è¯¥ id è¡¨ç¤º BGP è·¯ç”±å™¨çš„é›†ç¾¤ idï¼Œid å”¯ä¸€å³å¯æ²¡æœ‰ç‰¹æ®Šçš„è¦æ±‚ï¼Œä½†æ˜¯ä¸ºäº†æ–¹ä¾¿ç»´æŠ¤å°½é‡å–ä¸€ä¸ªä¸æ‰€æ­å»ºé›†ç¾¤ç›¸å…³çš„ ip åœ°å€*)ï¼Œå¦‚æœåœ¨ä¸€ä¸ªé›†ç¾¤ä¸‹æœ‰å¤šä¸ª rr èŠ‚ç‚¹ï¼Œå¯ä»¥å°† rr èŠ‚ç‚¹çš„ routeReflectorClusterID è®¾ç½®ä¸ºåŒä¸€ä¸ª id\n\tå»ºç«‹ bgppeer å®Œæˆï¼Œrr èŠ‚ç‚¹ä¸å…¶ä»–èŠ‚ç‚¹ ä»¥åŠ rr èŠ‚ç‚¹ä¸äº¤æ¢æœºçš„ bgp è¿æ¥\n2. é€‰å– tor å¹¶å¼€å¯ rr æ¨¡å¼\n\tåœ¨äº¤æ¢æœºä¸Šå®Œæˆå¯¹åº” rr çš„é…ç½®ï¼Œåœ¨ calico ä¸­é…ç½® bgpeer å³å¯\n\t![upgit_20221205_1670210202.png](https://images.ryken.cloud/2022/12/upgit_20221205_1670210202.png)\n\nç›‘æ§\n- calico æ”¯æŒ promethrus ç›‘æ§\n![upgit_20221202_1669952449.png](https://images.ryken.cloud/2022/12/upgit_20221202_1669952449.png)\n\n\n\n\n[Troubleshooting and diagnostics | Calico Documentation (tigera.io)](https://docs.tigera.io/calico/3.25/operations/troubleshoot/troubleshooting)\nLinux ç³»ç»Ÿä¸Šçš„ä¸€ä¸ªå¸¸è§é—®é¢˜æ˜¯ conntrack è¡¨ä¸­çš„ç©ºé—´ä¸è¶³ï¼Œè¿™ä¼šå¯¼è‡´ iptables æ€§èƒ½ä¸ä½³ã€‚å¦‚æœä¸»æœºä¸Šè¿è¡Œå¤§é‡å·¥ä½œï¼Œæˆ–è€…è´Ÿè½½ä¼šåˆ›å»ºå¤§é‡ TCP è¿æ¥æˆ–åŒå‘ UDP æµï¼Œå°±ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚ä¸ºé¿å…è¯¥æƒ…å†µé—®é¢˜ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å¢åŠ  conntrack è¡¨çš„å¤§å°ï¼š\n``` shell\nsysctl -w net.netfilter.nf_conntrack_max=1000000  \necho \"net.netfilter.nf_conntrack_max=1000000\" \u003e\u003e /etc/sysctl.conf\n```\n","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/calico-ebpf-dataplane":{"title":"","content":"#calico #ebpf \n\n### ä»‹ç»calico ebpf \n[Introducing the Calico eBPF dataplane (tigera.io)](https://www.tigera.io/blog/introducing-the-calico-ebpf-dataplane/)\n\n### å¼€å¯ calico ebpf\n[Enable the eBPF dataplane (tigera.io)](https://projectcalico.docs.tigera.io/master/maintenance/ebpf/enabling-ebpf)\n\n1. éªŒè¯é›†ç¾¤æ˜¯å¦æ”¯æŒ ebpf\n```\nuname -rv\n\n5.4.0-42-generic #46-Ubuntu SMP Fri Jul 10 00:24:02 UTC 2020\n\nmount | grep \"/sys/fs/bpf\"\nbpf on /sys/fs/bpf type bpf (rw,nosuid,nodev,noexec,relatime,mode=700)\n```\n\n2. é…ç½® calico ç›´æ¥è®¿é—® apiserver\n\n```\nkubectl cluster-info \n```\n\n```yaml\nkind: ConfigMap\napiVersion: v1\nmetadata:\n  name: kubernetes-services-endpoint\n  namespace: kube-system\ndata:\n  KUBERNETES_SERVICE_HOST: \"lb.kubesphere.local\"\n  KUBERNETES_SERVICE_PORT: \"6443\"\n```\n\n```bash\nkubectl delete pod -n kube-system -l k8s-app=calico-node\nkubectl delete pod -n kube-system -l k8s-app=calico-kube-controllers\n\nkubectl logs -n kube-system \u003cpod name\u003e | grep KUBERNETES_SERVICE_HOST\n2020-08-26 12:26:29.025 [INFO][7] daemon.go 182: Kubernetes server override env vars.\n```\n\n3. é…ç½® kube-proxy\n```bash\nkubectl patch ds -n kube-system kube-proxy -p '{\"spec\":{\"template\":{\"spec\":{\"nodeSelector\":{\"non-calico\": \"true\"}}}}}'\n```\nå¦‚æœæ— æ³•ç¦ç”¨ kube-proxy ï¼Œé…ç½® Felix\n```bash\nkubectl patch felixconfiguration default --type merge --patch='{\"spec\": {\"bpfKubeProxyIptablesCleanupEnabled\": false}}'\n```\n\n4. å¼€å¯ ebpf æ¨¡å¼\n```bash\nkubectl patch felixconfiguration default --type merge  --patch='{\"spec\": {\"bpfEnabled\": true}}'\n```\n\n5. åˆ‡æ¢ä¸º DSR æ¨¡å¼\n```bash\nkubectl patch felixconfiguration default --type merge  --patch='{\"spec\": {\"bpfExternalServiceMode\": \"DSR\"}}'\n```\n\n6. å–æ¶ˆè®¾ç½® - å›æ»š\n```bash\nkubectl patch felixconfiguration default --patch='{\"spec\": {\"bpfEnabled\": false}}' --type merge\nkubectl patch ds -n kube-system kube-proxy --type merge -p '{\"spec\":{\"template\":{\"spec\":{\"nodeSelector\":{\"non-calico\": null}}}}}'\n```\n\n### é—®é¢˜\nåˆ‡æ¢åˆ° bpf æ•°æ®é¢ä¹‹åï¼Œcalico-node ä»¥åŠ calico-controller æ— æ³•æ­£å¸¸å·¥ä½œ\n\n![upgit_20221116_1668568103.png](https://images.ryken.cloud/2022/11/upgit_20221116_1668568103.png)\n\n![upgit_20221116_1668568009.png](https://images.ryken.cloud/2022/11/upgit_20221116_1668568009.png)\n\n'calico_connect_v4': failed to attach to cgroup: Invalid argument\n'calico_connect_v6': failed to attach to cgroup: Invalid argument\n\n\nå†…æ ¸å‚æ•° /sys/config_xxx\nkubectl exec calico-node-4wqvl -n calico-system -- calico-node -bpf nat dump\n\nset Â `BPFLogLevel`Â felix config toÂ `Debug`\ntc exec bpf debug \u003e\u0026 tc.log\n\nbpftool net -j\ntc -s qdisc show dev eth0\n\n\nkubectl  logs -f -n kube-system calico-node-czsml | grep \"BPF enabled\"\n\nexport EBPF_INTERESTING_IP=192.168.197.122 \u0026\u0026 export EBPF_INTERESTING_PORT=31911 \u0026\u0026 for i in `kubectl get pod -o wide -n kube-system | grep calico-node | awk '{print $1}'`; do echo $i; echo \"-----\"; kubectl exec -n kube-system $i -- calico-node -bpf conntrack dump 2\u003e\u00261 | grep ${EBPF_INTERESTING_IP} | grep ${EBPF_INTERESTING_PORT}; printf \"\\n\"; done\n\nkubectl exec -n kube-system calico-node-l8pm7 -- tc -s qdisc show dev  cali64ad15cb1eb  2\u003e\u00261 | egrep -v 'Defaulted'\n\n![upgit_20221129_1669711503.png](https://images.ryken.cloud/2022/11/upgit_20221129_1669711503.png)\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/calico-ipam-%E8%BF%87%E7%A8%8B":{"title":"","content":"### calico ipam ç›¸å…³ CRD èµ„æº\n| èµ„æºå | ä»‹ç» |\n|--|--|\n| ippool | ç”¨äº ipam åˆ†é…çš„ ip æ±  |\n| ipamblock | block ä¸­ ip åˆ†é…ä¿¡æ¯ç­‰ |\n| blockaffinities | ç”± ippool åˆ†å‰²çš„ç»†ç²’åº¦çš„ ip å—ä»¥åŠ block ä¸èŠ‚ç‚¹çš„äº²å’Œæ€§ç»‘å®šå…³ç³» |\n| ipamconfigs | ç”¨äºé…ç½® ipam ç›¸å…³å‚æ•° |\n| ipamhandles | ç”¨äºä¿å­˜ pod ä¸ block å…³ç³» |\n\n#### ippool\nè¡¨ç¤º IP åœ°å€çš„é›†åˆï¼ŒCalico ä»ä¸­åˆ†é… IPç»™ podã€‚\nç¤ºä¾‹ yamlï¼š\n```yaml\napiVersion: projectcalico.org/v3\nkind: IPPool\nmetadata:\n  name: ippool-1\nspec:\n  blockSize: 24\n  cidr: 10.233.0.0/18\n  ipipMode: Always\n  natOutgoing: true\n  vxlanMode: Never\n  disabled: false\n  nodeSelector: all()\n```\n\n| å­—æ®µ | è¯´æ˜ | å–å€¼ | é»˜è®¤å€¼ |\n|--|--|--|--|\n| blockSize | è¯¥ ippool ç”¨äºåˆ†é… ip çš„ block çš„ CIDR å¤§å°ã€‚block ä¼šæŒ‰éœ€åˆ†é…ç»™ nodeï¼Œ å¹¶ç”¨äºèšæ¡ç›®ã€‚è¯¥åˆè·¯ç”±æ¥å‡å°‘è·¯ç”±å€¼åªèƒ½åœ¨åˆ›å»º ippool æ—¶è®¾ç½® |  ipv4ï¼š20~32   ipv6ï¼š116~128| ipv4ï¼š26, ipv6ï¼š122 |\n| cidr | ippool çš„ ip èŒƒå›´ | æœ‰æ•ˆçš„ IPv4 æˆ– IPv6 CIDR | |\n| ipipMode | ä½¿ç”¨ ipip å°è£…ï¼Œä¸èƒ½ä¸ vxlanMode åŒæ—¶ä½¿ç”¨ | Always, CrossSubnet, Never| Never |\n| vxlanMode |ä½¿ç”¨ vxlan å°è£…ï¼Œä¸èƒ½ä¸ ipipMode åŒæ—¶ä½¿ç”¨  | Always, CrossSubnet, Never| Never |\n| natoutgoing | å¯ç”¨åï¼Œippool ä¸­çš„å®¹å™¨å‘é€åˆ°è¯¥ ippool å¤–ç›®çš„åœ°çš„æ•°æ®åŒ…å°†è¢«ä¼ªè£… | true, false | false |\n| disabled | å½“è®¾ç½®ä¸º true æ—¶ï¼ŒCalico IPAM å°†ä¸ä¼šä»è¯¥æ± ä¸­åˆ†é…åœ°å€ | true, false | false |\n| nodeSelector | èŠ‚ç‚¹é€‰æ‹©å™¨ï¼ŒIPAM å…è®¸è¯¥ ippool çš„åœ°å€åˆ†é…ç»™çš„èŠ‚ç‚¹ |  | all() |\nå…³äºnodeSelector å–å€¼åº”ä¸ºè¡¨è¾¾å¼ï¼Œç¬¦åˆ [IP pool (tigera.io)](https://projectcalico.docs.tigera.io/archive/v3.20/reference/resources/ippool#node-selector) ä¸­çš„è§„èŒƒã€‚\n\n#### blockaffinities\n```\napiVersion: crd.projectcalico.org/v1\nkind: BlockAffinity\nmetadata:\n  name: node3-10-233-92-0-24\nspec:\n  cidr: 10.233.92.0/24\n  deleted: \"false\"\n  node: node3\n  state: confirmed\n```\n\n| å­—æ®µ | è¯´æ˜ | å–å€¼ | é»˜è®¤å€¼ |\n|--|--|--|--|\n| cidr | è¯¥ block çš„ cidr èŒƒå›´ | ipv4ã€ipv6 cidr |  |\n| deleted | è®¾ç½®ä¸º true æ—¶ï¼Œå®¢æˆ·ç«¯å°†è§†å…¶ä¸ºä¸å­˜åœ¨ | true, false | false |\n| node | åˆ†é…åˆ°çš„èŠ‚ç‚¹ | èŠ‚ç‚¹çš„ä¸»æœºå |  |\n| state | ä¸ IPAM block äº²å’Œçš„çŠ¶æ€ | confirmed, pending, pendingDeletion |  |\n\n#### ipamblock\ncalico block åˆ†é…ä¿¡æ¯ï¼ŒåŒ…å« pod ä¿¡æ¯å’Œhandle idã€å·²ç»åˆ†é…çš„æƒ…å†µã€æœªåˆ†é…çš„æƒ…å†µå’Œç»‘å®šçš„èŠ‚ç‚¹ç­‰ã€‚\n```\napiVersion: crd.projectcalico.org/v1\nkind: IPAMBlock\nmetadata:\n  labels:\n    ippool.network.kubesphere.io/name: default-ipv4-ippool\n  name: 10-233-92-0-24\nspec:\n  affinity: host:node3\n  allocations:\n  - null\n  - null\n  - 0\n  - 1\n  - 2\n  - ... ...\n  attributes:\n  - handle_id: k8s-pod-network.7dee7d26e16a008cbf11a02be6270454140056619ab5deb14ab33f09a032e142\n    secondary:\n      namespace: kube-system\n      node: node3\n      pod: calico-kube-controllers-64d69886fd-8mzfj\n      timestamp: 2022-12-26 03:28:07.206517227 +0000 UTC\n  - ... ...\n  cidr: 10.233.92.0/24\n  deleted: false\n  strictAffinity: false\n  unallocated:\n  - 77\n  - ... ...\n```\n\n| å­—æ®µ | è¯´æ˜ | å–å€¼ |\n|--|--|--|\n| affinity | block åˆ†é…åˆ°çš„èŠ‚ç‚¹ |  | \n| allocations | å·²ç»åˆ†é…çš„æƒ…å†µ |  | \n| attributes | è®°å½•ä¸ pod ç»‘å®šä¿¡æ¯ |  |\n| cidr | block çš„ cidr | ipv4ã€ipv6 cidr |  \n| deleted | æ˜¯å¦å·²ç»åˆ é™¤ | true, false | \n| strictAffinity | æ˜¯å¦å…è®¸å€Ÿç”¨ ip | true, false |\n| unallocated | æœªåˆ†é…çš„æƒ…å†µ |  | \n\n#### ipamconfigs\n```\napiVersion: projectcalico.org/v3\nkind: IPAMConfiguration\nmetadata:\n  name: default\nspec:\n  strictAffinity: false\n  maxBlocksPerHost: 4\n```\n\n| å­—æ®µ | è¯´æ˜ | å–å€¼ | é»˜è®¤å€¼ |\n|--|--|--|--|\n| strictAffinity | å¯ç”¨åï¼Œä¸å…è®¸å€Ÿç”¨ ip | true, false | false |\n| maxBlocksPerHost | æ¯ä¸ªä¸»æœºäº²å’Œçš„ block æœ€å¤§æ•°é‡ | 0 - max(int32) | ä¸å—é™åˆ¶ |\n\n#### ipamhandles\n```\napiVersion: crd.projectcalico.org/v1\nkind: IPAMHandle\nmetadata:\n  name: k8s-pod-network.d1639c31ee76d37e71bf115adf27a8e7ec9ff63a4528b4eac236b33026969aa5\nspec:\n  block:\n    10.233.92.0/24: 1\n  deleted: false\n  handleID: k8s-pod-network.d1639c31ee76d37e71bf115adf27a8e7ec9ff63a4528b4eac236b33026969aa5\n```\n\n| å­—æ®µ | è¯´æ˜ | å–å€¼ | é»˜è®¤å€¼ |\n|--|--|--|--|\n| block | æ‰€å…³è”çš„ block |  |  |\n| deleted | æ˜¯å¦åˆ é™¤ | true, false | false |\n| handleID | handID åç§° | cni åç§° + å®¹å™¨ID |  |\n\n\n### åˆ†é…æµç¨‹\nåˆ›å»º pod å¹¶è¢« kube-controller-manager å°†å…¶è°ƒåº¦åˆ°æŸä¸€ä¸ªèŠ‚ç‚¹ä¹‹åï¼Œkubelet åˆ›å»ºçœŸæ­£çš„ pod å¹¶è°ƒç”¨ calico cni åˆ†é… ip å¹¶å®Œæˆç½‘ç»œé…ç½®ã€‚\n\n#### æŒ‡å®šåˆ†é…\n- éå†é›†ç¾¤å†… enable çš„ ippoolï¼Œå¹¶éå†æŸ¥æ‰¾åŒ…å«æŒ‡å®š ip åœ°å€çš„ ippool\n- æ ¹æ®IPæ± çš„ blocksize è®¡ç®—å‡ºIPåœ°å€å¯¹åº”çš„block cidr\n- ä½¿ç”¨block cidræŸ¥è¯¢å¯¹åº”çš„block\n\t- è‹¥æŸ¥è¯¢ç»“æœä¸ºç©ºï¼Œå³ block ä¸å­˜åœ¨ï¼Œå°è¯•åˆ›å»º blockaffinityï¼Œå¹¶åˆ†é…æŒ‡å®šçš„IPã€‚\n\t- è‹¥æŸ¥è¯¢åˆ°äº†å¯¹åº”çš„blockï¼Œåˆ™å°è¯•ä»blockä¸­åˆ†é…æŒ‡å®šçš„IPã€‚\n- åˆ†é…æŒ‡å®šçš„IPåœ°å€ï¼Œé¦–å…ˆä¼šæ ¡éªŒ block ä¸ node çš„äº²å’Œæ€§ï¼Œå¦‚æœè®¾ç½®äº†StrictAffinityå‚æ•°ï¼Œblockå¿…é¡»ä¸èŠ‚ç‚¹äº²å’Œæ‰èƒ½å¤Ÿè¿›è¡ŒIPåˆ†é…ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼›ä¹‹åè¿›è¡Œåˆ†é…ï¼Œå¦‚æœ IP å·²è¢«åˆ†é…ï¼Œåˆ™ç›´æ¥è¿”å›é”™è¯¯ï¼›å¦‚æœæ­¤IPæœªåˆ†é…ï¼Œåˆ™è¿›è¡Œåˆ†é…å¹¶æ›´æ–°blockçš„æ•°æ®ï¼Œåˆ›å»º ipamhandlesã€‚\n\n#### è‡ªåŠ¨åˆ†é…\n- ç¡®å®š ippool \n\tç”¨æˆ·å¯èƒ½ä½¿ç”¨æ³¨è§£ cni.projectcalico.org/ipv4pools æŒ‡å®šåˆ†é… ip çš„ ippoolï¼›å¦‚æœç”¨æˆ·æ²¡æœ‰æŒ‡å®šåˆ™æ ¹æ® ippool çš„ nodeSelector è·å–é€‰æ‹©äº†å½“å‰è°ƒåº¦èŠ‚ç‚¹çš„ ippool\n\t*æ­¤å¤„å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šè®¾ç½®çš„ annotation ä¸ ippool æŒ‡å®šçš„ nodeSelector ä¸èƒ½åŒæ—¶å·¥ä½œ*\n\t[K8S Annotation cni.projectcalico.org/ipv4pools should respect nodeSelector Â· Issue #4656 Â· projectcalico/calico (github.com)](https://github.com/projectcalico/calico/issues/4656)\n- è·å–äº²å’Œå—å¹¶åˆ†é…\n\tè·å–ç¬¦åˆæ‰€ç¡®å®šçš„ ip pool cidr çš„ blockAffinitiesï¼Œå¹¶ä»å…¶ä¸­ block ä¸­å°è¯•è¿›è¡Œ ip åˆ†é…ï¼Œå¦‚æœæ²¡æœ‰åˆé€‚çš„ blockï¼Œæ ¹æ® ipamconfigs é…ç½®ç¡®å®šæ˜¯å¦è¿›è¡Œè‡ªåŠ¨åˆ›å»º block å¹¶è¿›è¡Œ ip åˆ†é…ï¼›å¦‚æœæ— æ³•å†åˆ›å»ºæ–°çš„ blockï¼Œæ ¹æ® ipamconfigs é…ç½®ç¡®å®šæ˜¯å¦å¯ä»¥å€Ÿç”¨ ip å®Œæˆåˆ†é…\n- åˆ†é… IPå¹¶æ›´æ–° ipamblock çš„æ•°æ®ï¼Œåˆ›å»º ipamhandles\n\n![upgit_20221226_1672041552.png](https://images.ryken.cloud/2022/12/upgit_20221226_1672041552.png)\n\n\n\n\n### é‡Šæ”¾ ip\næ ¹æ®åˆ†é…æ—¶åˆ›å»ºçš„ ipamhandles è·å– pod æ‰€å ç”¨çš„ blockï¼Œå¹¶å®Œæˆé‡Šæ”¾ ip æ“ä½œã€‚\n![upgit_20221226_1672041684.png](https://images.ryken.cloud/2022/12/upgit_20221226_1672041684.png)\n\n\n\n### å…¶ä»–\nç”¨äºé™æ€åˆ†é…çš„ ippool å¯ä»¥å°†å…¶ ippool.nodeSelector è®¾ç½®ä¸º !all()ï¼Œé˜²æ­¢ ippool è¢«è‡ªåŠ¨åˆ†é…ã€‚ä¸è®¾ç½® disabled: true ä¸åŒï¼Œå®ƒä»ç„¶å¯ä»¥ç”¨äºæ‰‹åŠ¨åˆ†é…ã€‚ç”±äº nodeSelector ä¸åŒ¹é…ä»»ä½•èŠ‚ç‚¹ï¼Œå› æ­¤ä¸ä¼šè‡ªåŠ¨ä½¿ç”¨ IPPoolã€‚\n[IP pool (tigera.io)](https://projectcalico.docs.tigera.io/reference/resources/ippool#node-selector)\n\nå›¾ç‰‡æ¥æºï¼š\n- [calicoæºç åˆ†æ-ipam(1)_51CTOåšå®¢_calico ipam](https://blog.51cto.com/u_2010293/2781914)\n- [calicoæºç åˆ†æ-ipam(2)_51CTOåšå®¢_nacosæºç åˆ†æ](https://blog.51cto.com/u_2010293/2781913)\n- [æŠ€æœ¯å¹²è´§åˆ†äº« | Calico IPAMæºç è§£æ_Kubernetesä¸­æ–‡ç¤¾åŒº](https://www.kubernetes.org.cn/7989.html)","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/calico-iperf":{"title":"","content":"\ncalico å†…éƒ¨\nnode - node\n![upgit_20221124_1669277963.png](https://images.ryken.cloud/2022/11/upgit_20221124_1669277963.png)\n\npod - pod ï¼ˆè‡ªèº«ï¼‰\n![upgit_20221124_1669277857.png](https://images.ryken.cloud/2022/11/upgit_20221124_1669277857.png)\n\npod - nodeï¼ˆåŒï¼‰\n![upgit_20221124_1669277894.png](https://images.ryken.cloud/2022/11/upgit_20221124_1669277894.png)\n\npod - node\n![upgit_20221124_1669277916.png](https://images.ryken.cloud/2022/11/upgit_20221124_1669277916.png)\n\n\n\n![upgit_20221124_1669279786.png](https://images.ryken.cloud/2022/11/upgit_20221124_1669279786.png)\n\n\n![upgit_20221124_1669279344.png](https://images.ryken.cloud/2022/11/upgit_20221124_1669279344.png)\n\n\n![upgit_20221124_1669281631.png](https://images.ryken.cloud/2022/11/upgit_20221124_1669281631.png)\n\n\niperf3å·¥å…·æ¯100mså‘ä¸€è½®æŠ¥æ–‡ï¼Œæ¯æ¬¡åœ¨2ã€3mså†…ç¬é—´å‘å®Œï¼Œiperfå·¥å…·åˆ™å‡åŒ€çš„å‘é€æŠ¥æ–‡ï¼Œæ¥å£é™é€Ÿä½¿ç”¨ iperf3 ä½œä¸ºæµ‹è¯•å·¥å…·éœ€è¦è°ƒæ•´ä»¤ç‰Œæ¡¶å‚æ•°ä»¥è¾¾åˆ°æœ€ä½³æ•ˆæœã€‚\n\n\né—®é¢˜1ï¼šä¸ºä»€ä¹ˆpod è‡ªå·±ç»™è‡ªå·±å‘çš„æ•ˆæœå¥½è¿‡äº node è‡ªå·±ç»™è‡ªå·±å‘\n\tnamepsace éš”ç¦»åè®®æ ˆ\né—®é¢˜2ï¼špod - node åŒèŠ‚ç‚¹  calico ä¸ æ‰‹åŠ¨åˆ›å»ºçš„æœ‰å·®å¼‚\n\tåœ¨ ksv ç¯å¢ƒæœ‰é—®é¢˜ï¼Œä½†æ˜¯åœ¨å…¬æœ‰äº‘æ²¡æœ‰é—®é¢˜\né—®é¢˜3ï¼šè·¨èŠ‚ç‚¹è®¿é—®çš„ç“¶é¢ˆåœ¨å“ªé‡Œ - CPU?\n\né—®é¢˜4ï¼šé€šè¿‡ veth ä¼šå¤šå¤„ç†ã€å°‘å¤„ç†ä»€ä¹ˆå—ï¼Ÿ\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/calico-manifests-%E5%AE%89%E8%A3%85":{"title":"calico manifests å®‰è£…","content":"- upgrade-ipam\n\tç”¨äºå‡çº§ Calico CNI æ’ä»¶çš„ IPAM ç®¡ç†æ¨¡å—ï¼Œä»¥æ”¯æŒæ›´é«˜æ•ˆå’Œçµæ´»çš„ IP åœ°å€æ± çš„ç®¡ç†ã€‚\n- install-cni\n\tå®‰è£… calico-cni åˆ°æŒ‡å®šç›®å½•\n-  flexvol-driver å®¹å™¨å­˜å‚¨æ¥å£ï¼ˆCSIï¼‰é©±åŠ¨ç¨‹åº\n\tåœ¨æ¯ä¸ªpodä¸­è¿è¡Œçš„Felixå’ŒDikasteså®¹å™¨ä¹‹é—´å¯ç”¨å®‰å…¨è¿æ¥ã€‚å®ƒæŒ‚è½½äº†ä¸€ä¸ªå…±äº«å·ï¼ŒFelixå°†UnixåŸŸå¥—æ¥å­—æ’å…¥å…¶ä¸­\n\tDikastesæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒä¸Calicoçš„Felixç»„ä»¶ä¸€èµ·è¿è¡Œï¼Œç”¨äºåœ¨æ¯ä¸ªpodä¸­å®ç°åº”ç”¨å±‚ç­–ç•¥ã€‚å®ƒé€šè¿‡ä¸Felixå…±äº«çš„UnixåŸŸå¥—æ¥å­—ä¸Felixè¿›è¡Œé€šä¿¡ï¼Œä»¥ä¾¿åœ¨Envoyä»£ç†ä¸­æ‰§è¡ŒCalicoå®‰å…¨ç­–ç•¥\n\thttps://www.tigera.io/blog/how-to-build-a-service-mesh-with-istio-and-calico/\n- calico-node\n\n","lastmodified":"2023-04-18T15:06:06.090796333Z","tags":null},"/calico-metrics":{"title":"","content":"#calico-metris\n\n[Prometheus statistics (tigera.io)](https://projectcalico.docs.tigera.io/reference/felix/prometheus)\n\n| æŒ‡æ ‡ | æè¿° |\n|--|--|\n| `felix_active_local_endpoints` | è¯¥ä¸»æœºä¸Šæ´»åŠ¨çš„ endpoints æ•°é‡ |\n| felix_active_local_policies | è¯¥ä¸»æœºä¸Šæ´»è·ƒçš„ç­–ç•¥æ•° |\n| felix_active_local_selectors | è¯¥ä¸»æœºä¸Šé¢æ´»è·ƒ selectors æ•° |\n| felix_calc_graph_output_events | calculation graph äº§ç”Ÿçš„äº‹ä»¶æ•° |\n| felix_calc_graph_update_time_seconds | ä¸ºæ¯ä¸ª datastoreæ›´æ–° calculation graph è°ƒç”¨ OnUpdateçš„ç§’ |\n| felix_calc_graph_updates_processed | calculation graph å¤„ç†çš„ datestore æ›´æ–°æ¬¡æ•° |\n| felix_cluster_num_host_endpoints | é›†ç¾¤å±‚é¢ host endpoints çš„æ€»æ•° |\n| `felix_cluster_num_hosts` | é›†ç¾¤ä¸­çš„ Calico hosts æ€»æ•° |\n| felix_cluster_num_workload_endpoints | é›†ç¾¤å±‚è´Ÿè½½ endpoints æ€»æ•° |\n| felix_exec_time_micros | fork/exec å­è¿›ç¨‹èŠ±è´¹çš„æ—¶é—´ |\n| felix_int_dataplane_addr_msg_batch_size | æ‰¹å¤„ç†çš„æ¥å£åœ°å€æŠ¥æ–‡æ•°ã€‚ è¾ƒé«˜çš„å€¼è¡¨ç¤ºæˆ‘ä»¬æ­£åœ¨åšæ›´å¤šçš„æ‰¹å¤„ç†ä»¥è¯•å›¾è·Ÿä¸Š |\n| `felix_int_dataplane_apply_time_seconds` | åº”ç”¨æ•°æ®é¢æ›´æ–°èŠ±è´¹çš„æ—¶é—´ |\n| felix_int_dataplane_failures | æ•°æ®é¢æ›´æ–°å¤±è´¥ä»¥åŠé‡è¯•æ¬¡æ•° |\n| felix_int_dataplane_iface_msg_batch_size | æ‰¹å¤„ç†çš„æ¥å£çŠ¶æ€æ¶ˆæ¯æ•°ã€‚ è¾ƒé«˜çš„å€¼è¡¨ç¤ºæˆ‘ä»¬æ­£åœ¨åšæ›´å¤šçš„æ‰¹å¤„ç†ä»¥è¯•å›¾è·Ÿä¸Š |\n| felix_int_dataplane_messages | æŒ‰ç…§ç±»å‹åˆ†ç±»çš„æ¶ˆæ¯æ•° |\n| felix_int_dataplane_msg_batch_size | æ‰¹å¤„ç†çš„æ¶ˆæ¯æ•°ã€‚ è¾ƒé«˜çš„å€¼è¡¨ç¤ºæˆ‘ä»¬æ­£åœ¨åšæ›´å¤šçš„æ‰¹å¤„ç†ä»¥è¯•å›¾è·Ÿä¸Š |\n| felix_ipset_calls | ipset å‘½ä»¤æ‰§è¡Œæ•° |\n| `felix_ipset_errors` | ipset å‘½ä»¤å¤±è´¥æ•° |\n| felix_ipset_lines_executed | ipset æ‰§è¡Œæ“ä½œæ•° |\n| felix_ipsets_calico | active Calico IP sets æ•°é‡ |\n| felix_ipsets_total | active IP sets æ€»æ•° |\n| felix_iptables_chains | active iptables chains æ•°é‡ |\n| felix_iptables_lines_executed | iptables è§„åˆ™æ‰§è¡Œæ›´æ–°æ•° |\n| felix_iptables_restore_calls | iptables-restore è°ƒç”¨æ¬¡æ•° |\n| `felix_iptables_restore_errors` | iptables-restore é”™è¯¯æ•° |\n| felix_iptables_rules | active iptables è§„åˆ™æ•° |\n| felix_iptables_save_calls | iptables-save è°ƒç”¨æ¬¡æ•° |\n| `felix_iptables_save_errors` | iptables-save é”™è¯¯æ•° |\n| felix_resync_state | å½“å‰ datastore çŠ¶æ€ |\n| `felix_resyncs_started` | felix å¼€å§‹é‡æ–°åŒæ­¥datastoreçš„æ¬¡æ•° |\n| `felix_route_table_list_seconds` | åœ¨åŒæ­¥æœŸé—´åˆ—å‡ºæ‰€æœ‰æ¥å£æ‰€èŠ±è´¹çš„æ—¶é—´ |\n| felix_route_table_per_iface_sync_seconds | åŒæ­¥æ¯ä¸ªæ¥å£æ‰€èŠ±è´¹çš„æ—¶é—´ |\n| `felix_log_errors` | é”™è¯¯æ—¥å¿—æ•° |\n| `felix_logs_dropped` | ç”±äºè¾“å‡ºæµè¢«é˜»å¡è€Œä¸¢å¼ƒçš„æ—¥å¿—æ•° |\n\n\n\n- ä½¿ç”¨ prometheus æ”¶é›†ç›‘æ§ï¼š[[ç›‘æ§ - monitor]]\n- ä½¿ç”¨å¯è§†åŒ–æŸ¥çœ‹ï¼š[[grafana å¯è§†åŒ–]]\n\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/centos-%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C%E6%96%87%E4%BB%B6":{"title":"","content":"```bash\ncat /etc/sysconfig/network-scripts/ifcfg-eth0 \n# Created by cloud-init on instance boot automatically, do not edit.\n#\nBOOTPROTO=dhcp\nDEVICE=eth0\nHWADDR=00:00:00:25:90:A2\nONBOOT=yes\nSTARTMODE=auto\nTYPE=Ethernet\nUSERCTL=no\nGATEWAY=172.31.73.1\nNETMASK=255.255.255.0\nDNS1=8.8.8.8\nDNS2=114.114.114.114\n```\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/cni-network":{"title":"","content":"[[å¸¦å®½é™åˆ¶]]\n[[æ‰‹åŠ¨åˆ›å»º netns + è·¨ä¸»æœºé€šä¿¡]]\n[[multus-cni]]\n[[networkPolicy - ç½‘ç»œç­–ç•¥]]\n[[calico]]\n","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/confd-%E7%BB%84%E4%BB%B6":{"title":"","content":"\n\nå¼€æºçš„ã€è½»é‡çº§çš„é…ç½®ç®¡ç†å·¥å…·ã€‚ç›‘æ§Calicoæ•°æ®å­˜å‚¨å¯¹BGPé…ç½®å’Œå…¨å±€é»˜è®¤çš„æ—¥å¿—å˜æ›´ï¼Œå¦‚ASå·ã€æ—¥å¿—çº§åˆ«å’ŒIPAMä¿¡æ¯ã€‚\n\nConfdæ ¹æ®å­˜å‚¨ä¸­çš„æ•°æ®æ›´æ–°ï¼ŒåŠ¨æ€ç”ŸæˆBIRDé…ç½®æ–‡ä»¶ã€‚å½“é…ç½®æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶ï¼Œconfdä¼šè§¦å‘BIRDåŠ è½½æ–°çš„æ–‡ä»¶ã€‚\n\n\n```yml\nfunction apply_communities ()\n{\n  {{- $prefix_advertisements_key := \"\"}}\n  {{- $node_prefix_advertisements_key := printf \"/host/%s/prefix_advertisements/ip_v4\" (getenv \"NODENAME\")}}\n  {{- if exists $node_prefix_advertisements_key}}\n    {{- $prefix_advertisements_key = $node_prefix_advertisements_key}}\n  {{- else if exists \"/global/prefix_advertisements/ip_v4\"}}\n    {{- $prefix_advertisements_key = \"/global/prefix_advertisements/ip_v4\"}}\n  {{- end}}\n  {{- if ne \"\" $prefix_advertisements_key}}\n    {{- range gets $prefix_advertisements_key}}\n      {{- $arr:= jsonArray .Value}}\n      {{- range $data := $arr}}\n      if ( net ~ {{$data.cidr}} ) then {\n        {{- range $dt := $data.communities }}\n        {{- $i := split $dt \":\"}}\n        {{- $length := len $i}}\n        {{- if eq $length 2}}\n          bgp_community.add(({{index $i 0}}, {{index $i 1}}));\n        {{- else}}\n          bgp_large_community.add(({{index $i 0}}, {{index $i 1}}, {{index $i 2}}));\n        {{- end}}\n        {{- end}}\n      }\n      {{- end}}\n    {{- end}}\n  {{- end}}\n}\n\n# Generated by confd\ninclude \"bird_aggr.cfg\";\ninclude \"bird_ipam.cfg\";\n\n{{- $node_ip_key := printf \"/host/%s/ip_addr_v4\" (getenv \"NODENAME\")}}{{$node_ip := getv $node_ip_key}}\n{{- $router_id := getenv \"CALICO_ROUTER_ID\" \"\"}}\n\n{{- $node_name := getenv \"NODENAME\"}}\n\nrouter id {{if eq \"hash\" ($router_id) -}}\n        {{hashToIPv4 $node_name}};\n{{- else -}}\n        {{if ne \"\" ($router_id)}}{{$router_id}}{{else}}{{$node_ip}}{{end}};\n{{- end}}\n\n{{- $node_listen_port_key := printf \"/host/%s/listen_port\" (getenv \"NODENAME\")}}\n{{- if exists $node_listen_port_key}}\n# Set node listen_port\nlisten bgp port {{getv $node_listen_port_key}};\n{{- else if exists \"/global/listen_port\" }}\n# Set global listen_port\nlisten bgp port {{getv \"/global/listen_port\"}};\n{{- end}}\n\n{{- define \"LOGGING\"}}\n{{- $node_logging_key := printf \"/host/%s/loglevel\" (getenv \"NODENAME\")}}\n{{- if exists $node_logging_key}}\n{{- $logging := getv $node_logging_key}}\n{{- if eq $logging \"debug\"}}\n  debug all;\n{{- else if ne $logging \"none\"}}\n  debug { states };\n{{- end}}\n{{- else if exists \"/global/loglevel\"}}\n{{- $logging := getv \"/global/loglevel\"}}\n{{- if eq $logging \"debug\"}}\n  debug all;\n{{- else if ne $logging \"none\"}}\n  debug { states };\n{{- end}}\n{{- else}}\n  debug { states };\n{{- end}}\n{{- end}}\n\n# Configure synchronization between routing tables and kernel.\nprotocol kernel {\n  learn;             # Learn all alien routes from the kernel\n  persist;           # Don't remove routes on bird shutdown\n  scan time 2;       # Scan kernel routing table every 2 seconds\n  import all;\n  export filter calico_kernel_programming; # Default is export none\n  graceful restart;  # Turn on graceful restart to reduce potential flaps in\n                     # routes when reloading BIRD configuration.  With a full\n                     # automatic mesh, there is no way to prevent BGP from\n                     # flapping since multiple nodes update their BGP\n                     # configuration at the same time, GR is not guaranteed to\n                     # work correctly in this scenario.\n  merge paths on;    # Allow export multipath routes (ECMP)\n}\n\n# Watch interface up/down events.\nprotocol device {\n{{- template \"LOGGING\"}}\n  scan time 2;    # Scan interfaces every 2 seconds\n}\n\nprotocol direct {\n{{- template \"LOGGING\"}}\n  interface -\"cali*\", -\"kube-ipvs*\", \"*\"; # Exclude cali* and kube-ipvs* but\n                                          # include everything else.  In\n                                          # IPVS-mode, kube-proxy creates a\n                                          # kube-ipvs0 interface. We exclude\n                                          # kube-ipvs0 because this interface\n                                          # gets an address for every in use\n                                          # cluster IP. We use static routes\n                                          # for when we legitimately want to\n                                          # export cluster IPs.\n}\n\n{{if eq \"\" ($node_ip)}}# IPv4 disabled on this node.\n{{else}}{{$node_as_key := printf \"/host/%s/as_num\" (getenv \"NODENAME\")}}\n# Template for all BGP clients\ntemplate bgp bgp_template {\n{{- $as_key := or (and (exists $node_as_key) $node_as_key) \"/global/as_num\"}}\n{{- $node_as_num := getv $as_key}}\n{{- template \"LOGGING\"}}\n  description \"Connection to BGP peer\";\n  local as {{$node_as_num}};\n  multihop;\n  gateway recursive; # This should be the default, but just in case.\n  import all;        # Import all routes, since we don't know what the upstream\n                     # topology is and therefore have to trust the ToR/RR.\n  export filter calico_export_to_bgp_peers;  # Only want to export routes for workloads.\n  add paths on;\n  graceful restart;  # See comment in kernel section about graceful restart.\n  connect delay time 2;\n  connect retry time 5;\n  error wait time 5,30;\n}\n\n# ------------- Node-to-node mesh -------------\n{{- $node_cid_key := printf \"/host/%s/rr_cluster_id\" (getenv \"NODENAME\")}}\n{{- $node_cluster_id := getv $node_cid_key}}\n{{if (json (getv \"/global/node_mesh\")).enabled}}\n{{range $host := lsdir \"/host\"}}\n{{$onode_as_key := printf \"/host/%s/as_num\" .}}\n{{$onode_ip_key := printf \"/host/%s/ip_addr_v4\" .}}{{if exists $onode_ip_key}}{{$onode_ip := getv $onode_ip_key}}\n{{- $listen_port := \"\"}}\n{{- $onode_listen_port_key := printf \"/host/%s/listen_port\" .}}\n{{- if exists $onode_listen_port_key}}\n{{- $listen_port = getv $onode_listen_port_key}}\n{{- else if exists \"/global/listen_port\"}}\n{{- $listen_port = getv \"/global/listen_port\"}}\n{{- end}}\n{{$nums := split $onode_ip \".\"}}{{$id := join $nums \"_\"}}\n# For peer {{$onode_ip_key}}\n{{if eq $onode_ip ($node_ip) }}# Skipping ourselves ({{$node_ip}})\n{{else if ne \"\" $onode_ip}}protocol bgp Mesh_{{$id}} from bgp_template {\n  neighbor {{$onode_ip}} {{if ne \"\" $listen_port}}port {{$listen_port}} {{end}}as {{if exists $onode_as_key}}{{getv $onode_as_key}}{{else}}{{getv \"/global/as_num\"}}{{end}};\n  source address {{$node_ip}};  # The local address we use for the TCP connection\n  {{- /*\n       Make the peering unidirectional. This avoids a race where\n       - peer A opens a connection and begins a graceful restart\n       - before the restart completes, peer B opens its connection\n       - peer A sees the new connection and aborts the graceful restart, causing a route flap.\n  */ -}}\n  {{if gt $onode_ip $node_ip}}\n  passive on; # Mesh is unidirectional, peer will connect to us.\n  {{- end}}\n}{{end}}{{end}}{{end}}\n{{else}}\n# Node-to-node mesh disabled\n{{end}}\n\n\n# ------------- Global peers -------------\n{{if ls \"/global/peer_v4\"}}\n{{range gets \"/global/peer_v4/*\"}}{{$data := json .Value}}\n{{$nums := split $data.ip \".\"}}{{$id := join $nums \"_\"}}\n{{- if $data.port}}\n{{- $id = printf \"%s_port_%.0f\" $id $data.port}}\n{{- end}}\n# For peer {{.Key}}\n{{- if eq $data.ip ($node_ip) }}\n# Skipping ourselves ({{$node_ip}})\n{{- else}}\nprotocol bgp Global_{{$id}} from bgp_template {\n  neighbor {{$data.ip}} {{if $data.port }}port {{ $data.port }} {{end}}as {{$data.as_num}};\n{{- if eq $data.source_addr \"UseNodeIP\"}}\n  source address {{$node_ip}};  # The local address we use for the TCP connection\n{{- end}}\n{{- if ne $data.restart_time \"\"}}\n  graceful restart time {{$data.restart_time}};\n{{- end}}\n{{- if and (eq $data.as_num $node_as_num) (ne \"\" ($node_cluster_id)) (ne $data.rr_cluster_id ($node_cluster_id))}}\n  rr client;\n  rr cluster id {{$node_cluster_id}};\n{{- end}}\n{{- if $data.password}}\n  password \"{{$data.password}}\";\n{{- end}}\n{{- if and (ne $data.as_num $node_as_num) ($data.keep_next_hop)}}\n  next hop keep;\n{{- end}}\n}\n{{- end}}\n{{end}}\n{{else}}# No global peers configured.{{end}}\n\n\n# ------------- Node-specific peers -------------\n{{$node_peers_key := printf \"/host/%s/peer_v4\" (getenv \"NODENAME\")}}\n{{if ls $node_peers_key}}\n{{range gets (printf \"%s/*\" $node_peers_key)}}{{$data := json .Value}}\n{{$nums := split $data.ip \".\"}}{{$id := join $nums \"_\"}}\n{{- if $data.port}}\n{{- $id = printf \"%s_port_%.0f\" $id $data.port}}\n{{- end}}\n# For peer {{.Key}}\n{{- if eq $data.ip ($node_ip) }}\n# Skipping ourselves ({{$node_ip}})\n{{- else}}\nprotocol bgp Node_{{$id}} from bgp_template {\n  neighbor {{$data.ip}} {{if $data.port }}port {{ $data.port }} {{end}}as {{$data.as_num}};\n{{- if eq $data.source_addr \"UseNodeIP\"}}\n  source address {{$node_ip}};  # The local address we use for the TCP connection\n{{- end}}\n{{- if ne $data.restart_time \"\"}}\n  graceful restart time {{$data.restart_time}};\n{{- end}}\n{{- if and (eq $data.as_num $node_as_num) (ne \"\" ($node_cluster_id)) (ne $data.rr_cluster_id ($node_cluster_id))}}\n  rr client;\n  rr cluster id {{$node_cluster_id}};\n{{- end}}\n{{- if $data.password}}\n  password \"{{$data.password}}\";\n{{- end}}\n{{- if and (ne $data.as_num $node_as_num) ($data.keep_next_hop)}}\n  next hop keep;\n{{- end}}\n}\n{{- end}}\n{{end}}\n{{else}}# No node-specific peers configured.{{end}}\n{{end}}{{/* End of IPv4 enable check */}}\n```","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/conntrack":{"title":"","content":"æŸ¥çœ‹ã€åŠ è½½ã€å¸è½½ nf_conntrack æ¨¡å—\n\n\n# è¿æ¥è·Ÿè¸ªï¼ˆconntrackï¼‰ï¼šåŸç†ã€åº”ç”¨åŠ Linux å†…æ ¸å®ç°\n\n## æ‘˜è¦\n\næœ¬æ–‡ä»‹ç»è¿æ¥è·Ÿè¸ªï¼ˆconnection trackingï¼Œconntrackï¼ŒCTï¼‰çš„åŸç†ï¼Œåº”ç”¨ï¼ŒåŠå…¶åœ¨ Linux å†…æ ¸ä¸­çš„å®ç°ã€‚\n\nä»£ç åˆ†æåŸºäºå†…æ ¸Â `4.19`ã€‚ä¸ºä½¿è¡Œæ–‡ç®€æ´ï¼Œæ‰€è´´ä»£ç åªä¿ç•™äº†æ ¸å¿ƒé€»è¾‘ï¼Œä½†éƒ½ç»™å‡ºäº†ä»£ç  æ‰€åœ¨çš„æºæ–‡ä»¶ï¼Œå¦‚æœ‰éœ€è¦è¯·æŸ¥é˜…ã€‚\n\næ°´å¹³æœ‰é™ï¼Œæ–‡ä¸­ä¸å…æœ‰é”™è¯¯ä¹‹å¤„ï¼Œæ¬¢è¿æŒ‡æ­£äº¤æµã€‚\n\n# 1 å¼•è¨€\n\nè¿æ¥è·Ÿè¸ªæ˜¯è®¸å¤šç½‘ç»œåº”ç”¨çš„åŸºç¡€ã€‚ä¾‹å¦‚ï¼ŒKubernetes Serviceã€ServiceMesh sidecarã€ è½¯ä»¶å››å±‚è´Ÿè½½å‡è¡¡å™¨ LVS/IPVSã€Docker networkã€OVSã€iptables ä¸»æœºé˜²ç«å¢™ç­‰ç­‰ï¼Œéƒ½ä¾èµ– è¿æ¥è·Ÿè¸ªåŠŸèƒ½ã€‚\n\n## 1.1 æ¦‚å¿µ\n\nè¿æ¥è·Ÿè¸ªï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯**è·Ÿè¸ªï¼ˆå¹¶è®°å½•ï¼‰è¿æ¥çš„çŠ¶æ€**ã€‚\n![upgit_20221117_1668674793.png](https://images.ryken.cloud/2022/11/upgit_20221117_1668674793.png)\n\n\u003ccenter\u003eFig 1.1. è¿æ¥è·Ÿè¸ªåŠå…¶å†…æ ¸ä½ç½®ç¤ºæ„å›¾\u003c/center\u003e\n\nä¾‹å¦‚ï¼Œä¸Šå›¾æ˜¯ä¸€å° IP åœ°å€ä¸ºÂ `10.1.1.2`Â çš„ Linux æœºå™¨ï¼Œæˆ‘ä»¬èƒ½çœ‹åˆ°è¿™å°æœºå™¨ä¸Šæœ‰ä¸‰æ¡ è¿æ¥ï¼š\n\n1.  æœºå™¨è®¿é—®å¤–éƒ¨ HTTP æœåŠ¡çš„è¿æ¥ï¼ˆç›®çš„ç«¯å£ 80ï¼‰\n2.  å¤–éƒ¨è®¿é—®æœºå™¨å†… FTP æœåŠ¡çš„è¿æ¥ï¼ˆç›®çš„ç«¯å£ 21ï¼‰\n3.  æœºå™¨è®¿é—®å¤–éƒ¨ DNS æœåŠ¡çš„è¿æ¥ï¼ˆç›®çš„ç«¯å£ 53ï¼‰\n\nè¿æ¥è·Ÿè¸ªæ‰€åšçš„äº‹æƒ…å°±æ˜¯å‘ç°å¹¶è·Ÿè¸ªè¿™äº›è¿æ¥çš„çŠ¶æ€ï¼Œå…·ä½“åŒ…æ‹¬ï¼š\n\n-   ä»æ•°æ®åŒ…ä¸­æå–**å…ƒç»„**ï¼ˆtupleï¼‰ä¿¡æ¯ï¼Œè¾¨åˆ«**æ•°æ®æµ**ï¼ˆflowï¼‰å’Œå¯¹åº”çš„**è¿æ¥**ï¼ˆconnectionï¼‰\n-   ä¸ºæ‰€æœ‰è¿æ¥ç»´æŠ¤ä¸€ä¸ª**çŠ¶æ€æ•°æ®åº“**ï¼ˆconntrack tableï¼‰ï¼Œä¾‹å¦‚è¿æ¥çš„åˆ›å»ºæ—¶é—´ã€å‘é€ åŒ…æ•°ã€å‘é€å­—èŠ‚æ•°ç­‰ç­‰\n-   å›æ”¶è¿‡æœŸçš„è¿æ¥ï¼ˆGCï¼‰\n-   ä¸ºæ›´ä¸Šå±‚çš„åŠŸèƒ½ï¼ˆä¾‹å¦‚ NATï¼‰æä¾›æœåŠ¡\n\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ**è¿æ¥è·Ÿè¸ªä¸­æ‰€è¯´çš„â€œè¿æ¥â€ï¼Œæ¦‚å¿µå’Œ TCP/IP åè®®ä¸­â€œé¢å‘è¿æ¥â€ï¼ˆ connection orientedï¼‰çš„â€œè¿æ¥â€å¹¶ä¸å®Œå…¨ç›¸åŒ**ï¼Œç®€å•æ¥è¯´ï¼š\n\n-   TCP/IP åè®®ä¸­ï¼Œè¿æ¥æ˜¯ä¸€ä¸ªå››å±‚ï¼ˆLayer 4ï¼‰çš„æ¦‚å¿µã€‚\n    -   TCP æ˜¯æœ‰è¿æ¥çš„ï¼Œæˆ–ç§°é¢å‘è¿æ¥çš„ï¼ˆconnection orientedï¼‰ï¼Œå‘é€å‡ºå»çš„åŒ…éƒ½è¦æ±‚å¯¹ç«¯åº”ç­”ï¼ˆACKï¼‰ï¼Œå¹¶ä¸”æœ‰é‡ä¼ æœºåˆ¶\n    -   UDP æ˜¯æ— è¿æ¥çš„ï¼Œå‘é€çš„åŒ…æ— éœ€å¯¹ç«¯åº”ç­”ï¼Œä¹Ÿæ²¡æœ‰é‡ä¼ æœºåˆ¶\n-   CT ä¸­ï¼Œä¸€ä¸ªå…ƒç»„ï¼ˆtupleï¼‰å®šä¹‰çš„ä¸€æ¡æ•°æ®æµï¼ˆflow ï¼‰å°±è¡¨ç¤ºä¸€æ¡è¿æ¥ï¼ˆconnectionï¼‰ã€‚\n    -   åé¢ä¼šçœ‹åˆ° UDP ç”šè‡³æ˜¯Â **ICMP è¿™ç§ä¸‰å±‚åè®®åœ¨ CT ä¸­ä¹Ÿéƒ½æ˜¯æœ‰è¿æ¥è®°å½•çš„**\n    -   ä½†**ä¸æ˜¯æ‰€æœ‰åè®®éƒ½ä¼šè¢«è¿æ¥è·Ÿè¸ª**\n\næœ¬æ–‡ä¸­ç”¨åˆ°â€œè¿æ¥â€ä¸€è¯æ—¶ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹æŒ‡çš„éƒ½æ˜¯åè€…ï¼Œå³â€œè¿æ¥è·Ÿè¸ªâ€ä¸­çš„â€œè¿æ¥â€ã€‚\n\n## 1.2 åŸç†\n\näº†è§£ä»¥ä¸Šæ¦‚å¿µä¹‹åï¼Œæˆ‘ä»¬æ¥æ€è€ƒä¸‹è¿æ¥è·Ÿè¸ªçš„æŠ€æœ¯åŸç†ã€‚\n\nè¦è·Ÿè¸ªä¸€å°æœºå™¨çš„æ‰€æœ‰è¿æ¥çŠ¶æ€ï¼Œå°±éœ€è¦\n\n1.  **æ‹¦æˆªï¼ˆæˆ–ç§°è¿‡æ»¤ï¼‰æµç»è¿™å°æœºå™¨çš„æ¯ä¸€ä¸ªæ•°æ®åŒ…ï¼Œå¹¶è¿›è¡Œåˆ†æ**ã€‚\n2.  æ ¹æ®è¿™äº›ä¿¡æ¯**å»ºç«‹**èµ·è¿™å°æœºå™¨ä¸Šçš„**è¿æ¥ä¿¡æ¯æ•°æ®åº“**ï¼ˆconntrack tableï¼‰ã€‚\n3.  æ ¹æ®æ‹¦æˆªåˆ°çš„åŒ…ä¿¡æ¯ï¼Œä¸æ–­æ›´æ–°æ•°æ®åº“\n\nä¾‹å¦‚ï¼Œ\n\n1.  æ‹¦æˆªåˆ°ä¸€ä¸ª TCPÂ `SYNC`Â åŒ…æ—¶ï¼Œè¯´æ˜æ­£åœ¨å°è¯•å»ºç«‹ TCP è¿æ¥ï¼Œéœ€è¦åˆ›å»ºä¸€æ¡æ–° conntrack entry æ¥è®°å½•è¿™æ¡è¿æ¥\n2.  æ‹¦æˆªåˆ°ä¸€ä¸ªå±äºå·²æœ‰ conntrack entry çš„åŒ…æ—¶ï¼Œéœ€è¦æ›´æ–°è¿™æ¡ conntrack entry çš„æ”¶å‘åŒ…æ•°ç­‰ç»Ÿè®¡ä¿¡æ¯\n\né™¤äº†ä»¥ä¸Šä¸¤ç‚¹åŠŸèƒ½éœ€æ±‚ï¼Œè¿˜è¦è€ƒè™‘**æ€§èƒ½é—®é¢˜**ï¼Œå› ä¸ºè¿æ¥è·Ÿè¸ªè¦å¯¹æ¯ä¸ªåŒ…è¿›è¡Œè¿‡æ»¤å’Œåˆ†æ ã€‚æ€§èƒ½é—®é¢˜éå¸¸é‡è¦ï¼Œä½†ä¸æ˜¯æœ¬æ–‡é‡ç‚¹ï¼Œåé¢ä»‹ç»å®ç°æ—¶ä¼šè¿›ä¸€æ­¥æåŠã€‚\n\nä¹‹å¤–ï¼Œè¿™äº›åŠŸèƒ½æœ€å¥½è¿˜æœ‰é…å¥—çš„ç®¡ç†å·¥å…·æ¥æ›´æ–¹ä¾¿åœ°ä½¿ç”¨ã€‚\n\n## 1.3 è®¾è®¡ï¼šNetfilter\n\n**Linux çš„è¿æ¥è·Ÿè¸ªæ˜¯åœ¨Â [Netfilter](https://en.wikipedia.org/wiki/Netfilter)Â ä¸­å®ç°çš„ã€‚**\n![upgit_20221117_1668674893.png](https://images.ryken.cloud/2022/11/upgit_20221117_1668674893.png)\n\n\u003ccenter\u003eFig 1.2. Netfilter architecture inside Linux kernel\u003c/center\u003e\n\nNetfilterÂ æ˜¯ Linux å†…æ ¸ä¸­ä¸€ä¸ªå¯¹æ•°æ® åŒ…è¿›è¡Œ**æ§åˆ¶ã€ä¿®æ”¹å’Œè¿‡æ»¤**ï¼ˆmanipulation and filteringï¼‰çš„æ¡†æ¶ã€‚å®ƒåœ¨å†…æ ¸åè®® æ ˆä¸­è®¾ç½®äº†è‹¥å¹²hook ç‚¹ï¼Œä»¥æ­¤å¯¹æ•°æ®åŒ…è¿›è¡Œæ‹¦æˆªã€è¿‡æ»¤æˆ–å…¶ä»–å¤„ç†ã€‚\n\n\u003e è¯´åœ°æ›´ç›´ç™½ä¸€äº›ï¼Œhook æœºåˆ¶å°±æ˜¯åœ¨æ•°æ®åŒ…çš„å¿…ç»ä¹‹è·¯ä¸Šè®¾ç½®è‹¥å¹²æ£€æµ‹ç‚¹ï¼Œæ‰€æœ‰åˆ°è¾¾è¿™ äº›æ£€æµ‹ç‚¹çš„åŒ…éƒ½å¿…é¡»æ¥å—æ£€æµ‹ï¼Œæ ¹æ®æ£€æµ‹çš„ç»“æœå†³å®šï¼š\n\u003e \n\u003e 1.  æ”¾è¡Œï¼šä¸å¯¹åŒ…è¿›è¡Œä»»ä½•ä¿®æ”¹ï¼Œé€€å‡ºæ£€æµ‹é€»è¾‘ï¼Œç»§ç»­åé¢æ­£å¸¸çš„åŒ…å¤„ç†\n\u003e 2.  ä¿®æ”¹ï¼šä¾‹å¦‚ä¿®æ”¹ IP åœ°å€è¿›è¡Œ NATï¼Œç„¶åå°†åŒ…æ”¾å›æ­£å¸¸çš„åŒ…å¤„ç†é€»è¾‘\n\u003e 3.  ä¸¢å¼ƒï¼šå®‰å…¨ç­–ç•¥æˆ–é˜²ç«å¢™åŠŸèƒ½\n\u003e \n\u003e è¿æ¥è·Ÿè¸ªæ¨¡å—åªæ˜¯å®Œæˆè¿æ¥ä¿¡æ¯çš„é‡‡é›†å’Œå½•å…¥åŠŸèƒ½ï¼Œå¹¶ä¸ä¼šä¿®æ”¹æˆ–ä¸¢å¼ƒæ•°æ®åŒ…ï¼Œåè€…æ˜¯å…¶ ä»–æ¨¡å—ï¼ˆä¾‹å¦‚ NATï¼‰åŸºäº Netfilter hook å®Œæˆçš„ã€‚\n\nNetfilter æ˜¯æœ€å¤è€çš„å†…æ ¸æ¡†æ¶ä¹‹ä¸€ï¼Œ1998 å¹´å¼€å§‹å¼€å‘ï¼Œ2000 å¹´åˆå¹¶åˆ°Â `2.4.x`Â å†… æ ¸ä¸»çº¿ç‰ˆæœ¬ [5]ã€‚\n\n## 1.4 è®¾è®¡ï¼šè¿›ä¸€æ­¥æ€è€ƒ\n\nç°åœ¨æåˆ°è¿æ¥è·Ÿè¸ªï¼ˆconntrackï¼‰ï¼Œå¯èƒ½é¦–å…ˆéƒ½ä¼šæƒ³åˆ° Netfilterã€‚ä½†ç”±ä¸ŠèŠ‚è®¨è®ºå¯çŸ¥ï¼Œ è¿æ¥è·Ÿè¸ªæ¦‚å¿µæ˜¯ç‹¬ç«‹äº Netfilter çš„ï¼Œ**Netfilter åªæ˜¯ Linux å†…æ ¸ä¸­çš„ä¸€ç§è¿æ¥è·Ÿè¸ªå®ç°**ã€‚\n\næ¢å¥è¯è¯´ï¼Œ**åªè¦å…·å¤‡äº† hook èƒ½åŠ›ï¼Œèƒ½æ‹¦æˆªåˆ°è¿›å‡ºä¸»æœºçš„æ¯ä¸ªåŒ…ï¼Œå®Œå…¨å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šè‡ª å·±å®ç°ä¸€å¥—è¿æ¥è·Ÿè¸ª**ã€‚\n![upgit_20221117_1668674950.png](https://images.ryken.cloud/2022/11/upgit_20221117_1668674950.png)\n\u003ccenter\u003eFig 1.3. Cilium's conntrack and NAT architectrue\u003c/center\u003e\n\näº‘åŸç”Ÿç½‘ç»œæ–¹æ¡ˆ Cilium åœ¨Â `1.7.4+`Â ç‰ˆæœ¬å°±å®ç°äº†è¿™æ ·ä¸€å¥—ç‹¬ç«‹çš„è¿æ¥è·Ÿè¸ªå’Œ NAT æœºåˆ¶ ï¼ˆå®Œå¤‡åŠŸèƒ½éœ€è¦ KernelÂ `4.19+`ï¼‰ã€‚å…¶åŸºæœ¬åŸç†æ˜¯ï¼š\n\n1.  åŸºäº BPF hook å®ç°æ•°æ®åŒ…çš„æ‹¦æˆªåŠŸèƒ½ï¼ˆç­‰ä»·äº netfilter é‡Œé¢çš„ hook æœºåˆ¶ï¼‰\n2.  åœ¨ BPF hook çš„åŸºç¡€ä¸Šï¼Œå®ç°ä¸€å¥—å…¨æ–°çš„ conntrack å’Œ NAT\n\nå› æ­¤ï¼Œå³ä¾¿[å¸è½½ Netfilter](https://github.com/cilium/cilium/issues/12879)Â ï¼Œä¹Ÿä¸ä¼šå½±å“ Cilium å¯¹ Kubernetes ClusterIPã€NodePortã€ExternalIPs å’Œ LoadBalancer ç­‰åŠŸèƒ½çš„æ”¯æŒ [2]ã€‚\n\nç”±äºè¿™å¥—è¿æ¥è·Ÿè¸ªæœºåˆ¶æ˜¯ç‹¬ç«‹äº Netfilter çš„ï¼Œå› æ­¤å®ƒçš„ conntrack å’Œ NAT ä¿¡æ¯ä¹Ÿæ²¡æœ‰ å­˜å‚¨åœ¨å†…æ ¸çš„ï¼ˆä¹Ÿå°±æ˜¯ Netfilter çš„ï¼‰conntrack table å’Œ NAT tableã€‚æ‰€ä»¥å¸¸è§„çš„Â `conntrack/netstats/ss/lsof`Â ç­‰å·¥å…·æ˜¯çœ‹ä¸åˆ°çš„ï¼Œè¦ä½¿ç”¨ Cilium çš„å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š\n\n```\n$ cilium bpf nat list\n$ cilium bpf ct list global\n```\n\né…ç½®ä¹Ÿæ˜¯ç‹¬ç«‹çš„ï¼Œéœ€è¦åœ¨ Cilium é‡Œé¢é…ç½®ï¼Œä¾‹å¦‚å‘½ä»¤è¡Œé€‰é¡¹Â `--bpf-ct-tcp-max`ã€‚\n\nå¦å¤–ï¼Œæœ¬æ–‡ä¼šå¤šæ¬¡æåˆ°è¿æ¥è·Ÿè¸ªæ¨¡å—å’Œ NAT æ¨¡å—ç‹¬ç«‹ï¼Œä½†**å‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œå…·ä½“å®ç°ä¸­ äºŒè€…ä»£ç å¯èƒ½æ˜¯æœ‰è€¦åˆçš„**ã€‚ä¾‹å¦‚ Cilium åš conntrack çš„åƒåœ¾å›æ”¶ï¼ˆGCï¼‰æ—¶å°±ä¼šé¡ºä¾¿æŠŠ NAT é‡Œç›¸åº”çš„ entry å›æ”¶æ‰ï¼Œè€Œéä¸º NAT åšå•ç‹¬çš„ GCã€‚\n\n## 1.5 åº”ç”¨\n\næ¥çœ‹å‡ ä¸ª conntrack çš„å…·ä½“åº”ç”¨ã€‚\n\n### 1.5.1 ç½‘ç»œåœ°å€è½¬æ¢ï¼ˆNATï¼‰\n\nç½‘ç»œåœ°å€è½¬æ¢ï¼ˆNATï¼‰ï¼Œåå­—è¡¨è¾¾çš„æ„æ€ä¹Ÿæ¯”è¾ƒæ¸…æ¥šï¼šå¯¹ï¼ˆæ•°æ®åŒ…çš„ï¼‰ç½‘ç»œåœ°å€ï¼ˆ`IP + Port`ï¼‰è¿›è¡Œè½¬æ¢ã€‚\n![upgit_20221117_1668674981.png](https://images.ryken.cloud/2022/11/upgit_20221117_1668674981.png)\n\n\u003ccneter\u003eFig 1.4. NAT åŠå…¶å†…æ ¸ä½ç½®ç¤ºæ„å›¾\u003c/cneter\u003e\n\nä¾‹å¦‚ä¸Šå›¾ä¸­ï¼Œæœºå™¨è‡ªå·±çš„ IPÂ `10.1.1.2`Â æ˜¯èƒ½ä¸å¤–éƒ¨æ­£å¸¸é€šä¿¡çš„ï¼Œä½†Â `192.168`Â ç½‘æ®µæ˜¯ç§æœ‰ IP æ®µï¼Œå¤–ç•Œæ— æ³•è®¿é—®ï¼Œä¹Ÿå°±æ˜¯è¯´æº IP åœ°å€æ˜¯Â `192.168`Â çš„åŒ…ï¼Œå…¶**åº”ç­”åŒ…æ˜¯æ— æ³•å›æ¥çš„**ã€‚å› æ­¤ï¼Œ\n\n-   å½“æºåœ°å€ä¸ºÂ `192.168`Â ç½‘æ®µçš„åŒ…è¦å‡ºå»æ—¶ï¼Œæœºå™¨ä¼šå…ˆå°†æº IP æ¢æˆæœºå™¨è‡ªå·±çš„Â `10.1.1.2`Â å†å‘é€å‡ºå»ï¼›\n-   æ”¶åˆ°åº”ç­”åŒ…æ—¶ï¼Œå†è¿›è¡Œç›¸åçš„è½¬æ¢ã€‚\n\nè¿™å°±æ˜¯ NAT çš„åŸºæœ¬è¿‡ç¨‹ã€‚\n\nDocker é»˜è®¤çš„Â `bridge`Â ç½‘ç»œæ¨¡å¼å°±æ˜¯è¿™ä¸ªåŸç† [4]ã€‚æ¯ä¸ªå®¹å™¨ä¼šåˆ†ä¸€ä¸ªç§æœ‰ç½‘æ®µçš„ IP åœ°å€ï¼Œè¿™ä¸ª IP åœ°å€å¯ä»¥åœ¨å®¿ä¸»æœºå†…çš„ä¸åŒå®¹å™¨ä¹‹é—´é€šä¿¡ï¼Œä½†å®¹å™¨æµé‡å‡ºå®¿ä¸»æœºæ—¶è¦è¿›è¡Œ NATã€‚\n\nNAT åˆå¯ä»¥ç»†åˆ†ä¸ºå‡ ç±»ï¼š\n\n-   SNATï¼šå¯¹æºåœ°å€ï¼ˆsourceï¼‰è¿›è¡Œè½¬æ¢\n-   DNATï¼šå¯¹ç›®çš„åœ°å€ï¼ˆdestinationï¼‰è¿›è¡Œè½¬æ¢\n-   Full NATï¼šåŒæ—¶å¯¹æºåœ°å€å’Œç›®çš„åœ°å€è¿›è¡Œè½¬æ¢\n\nä»¥ä¸Šåœºæ™¯å±äº SNATï¼Œå°†ä¸åŒç§æœ‰ IP éƒ½æ˜ å°„æˆåŒä¸€ä¸ªâ€œå…¬æœ‰ IPâ€ï¼Œä»¥ä½¿å…¶èƒ½è®¿é—®å¤–éƒ¨ç½‘ç»œæœ åŠ¡ã€‚è¿™ç§åœºæ™¯ä¹Ÿå±äºæ­£å‘ä»£ç†ã€‚\n\nNAT ä¾èµ–è¿æ¥è·Ÿè¸ªçš„ç»“æœã€‚è¿æ¥è·Ÿè¸ª**æœ€é‡è¦çš„ä½¿ç”¨åœºæ™¯**å°±æ˜¯ NATã€‚\n\n#### å››å±‚è´Ÿè½½å‡è¡¡ï¼ˆL4LBï¼‰\n\nå†å°†èŒƒå›´ç¨å¾®å»¶ä¼¸ä¸€ç‚¹ï¼Œè®¨è®ºä¸€ä¸‹ NAT æ¨¡å¼çš„å››å±‚è´Ÿè½½å‡è¡¡ã€‚\n\nå››å±‚è´Ÿè½½å‡è¡¡æ˜¯æ ¹æ®åŒ…çš„å››å±‚ä¿¡æ¯ï¼ˆä¾‹å¦‚Â `src/dst ip, src/dst port, proto`ï¼‰åšæµé‡åˆ†å‘ã€‚\n\nVIPï¼ˆVirtual IPï¼‰æ˜¯å››å±‚è´Ÿè½½å‡è¡¡çš„ä¸€ç§å®ç°æ–¹å¼ï¼š\n\n-   å¤šä¸ªåç«¯çœŸå® IPï¼ˆReal IPï¼‰æŒ‚åˆ°åŒä¸€ä¸ªè™šæ‹Ÿ IPï¼ˆVIPï¼‰ä¸Š\n-   å®¢æˆ·ç«¯è¿‡æ¥çš„æµé‡å…ˆåˆ°è¾¾ VIPï¼Œå†ç»è´Ÿè½½å‡è¡¡ç®—æ³•è½¬å‘ç»™æŸä¸ªç‰¹å®šçš„åç«¯ IP\n\nå¦‚æœåœ¨ VIP å’Œ Real IP èŠ‚ç‚¹ä¹‹é—´ä½¿ç”¨çš„ NAT æŠ€æœ¯ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–æŠ€æœ¯ï¼‰ï¼Œé‚£å®¢æˆ·ç«¯è®¿ é—®æœåŠ¡ç«¯æ—¶ï¼ŒL4LB èŠ‚ç‚¹å°†åšåŒå‘ NATï¼ˆFull NATï¼‰ï¼Œæ•°æ®æµå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n![upgit_20221117_1668675014.png](https://images.ryken.cloud/2022/11/upgit_20221117_1668675014.png)\n\n\u003ccenter\u003eFig 1.5. L4LB: Traffic path in NAT mode [3]\u003c/center\u003e\n\n### 1.5.2 æœ‰çŠ¶æ€é˜²ç«å¢™\n\næœ‰çŠ¶æ€é˜²ç«å¢™ï¼ˆstateful firewallï¼‰æ˜¯ç›¸å¯¹äºæ—©æœŸçš„**æ— çŠ¶æ€é˜²ç«å¢™**ï¼ˆstateless firewallï¼‰è€Œè¨€çš„ï¼šæ—©æœŸé˜²ç«å¢™åªèƒ½å†™Â `drop syn to port 443`Â æˆ–è€…Â `allow syn to port 80`Â è¿™ç§éå¸¸ç®€å•ç›´æ¥ çš„è§„åˆ™ï¼Œ**æ²¡æœ‰ flow çš„æ¦‚å¿µ**ï¼Œå› æ­¤æ— æ³•å®ç°è¯¸å¦‚Â **â€œå¦‚æœè¿™ä¸ª ack ä¹‹å‰å·²ç»æœ‰ synï¼Œ å°± allowï¼Œå¦åˆ™ dropâ€**Â è¿™æ ·çš„è§„åˆ™ï¼Œä½¿ç”¨éå¸¸å—é™ [6]ã€‚\n\næ˜¾ç„¶ï¼Œè¦å®ç°æœ‰çŠ¶æ€é˜²ç«å¢™ï¼Œå°±å¿…é¡»è®°å½• flow å’ŒçŠ¶æ€ï¼Œè¿™æ­£æ˜¯ conntrack åšçš„äº‹æƒ…ã€‚\n\næ¥çœ‹ä¸ªæ›´å…·ä½“çš„é˜²ç«å¢™åº”ç”¨ï¼šOpenStack ä¸»æœºé˜²ç«å¢™è§£å†³æ–¹æ¡ˆ â€”â€” å®‰å…¨ç»„ï¼ˆsecurity groupï¼‰ã€‚\n\n#### OpenStack å®‰å…¨ç»„\n\nç®€å•æ¥è¯´ï¼Œå®‰å…¨ç»„å®ç°äº†**è™šæ‹Ÿæœºçº§åˆ«**çš„å®‰å…¨éš”ç¦»ï¼Œå…·ä½“å®ç°æ˜¯ï¼šåœ¨ node ä¸Šè¿æ¥ VM çš„ ç½‘ç»œè®¾å¤‡ä¸Šåšæœ‰çŠ¶æ€é˜²ç«å¢™ã€‚åœ¨å½“æ—¶ï¼Œæœ€èƒ½å®ç°è¿™ä¸€åŠŸèƒ½çš„å¯èƒ½å°±æ˜¯ Netfilter/iptablesã€‚\n\nå›åˆ°å®¿ä¸»æœºå†…ç½‘ç»œæ‹“æ‰‘é—®é¢˜ï¼š OpenStack ä½¿ç”¨ OVS bridge æ¥è¿æ¥ä¸€å°å®¿ä¸»æœºå†…çš„æ‰€æœ‰ VMã€‚ å¦‚æœåªä»ç½‘ç»œè¿é€šæ€§è€ƒè™‘ï¼Œé‚£æ¯ä¸ª VM åº”è¯¥ç›´æ¥è¿åˆ° OVS bridgeÂ `br-int`ã€‚ä½†è¿™é‡Œé—®é¢˜ å°±æ¥äº† [7]ï¼š\n\n-   ï¼ˆè¾ƒæ—©ç‰ˆæœ¬çš„ï¼‰OVS æ²¡æœ‰ conntrack æ¨¡å—ï¼Œ\n-   Linux ä¸­æœ‰ conntrack æ¨¡å—ï¼Œä½†åŸºäº conntrack çš„é˜²ç«å¢™**å·¥ä½œåœ¨ IP å±‚**ï¼ˆL3ï¼‰ï¼Œé€šè¿‡ iptables æ§åˆ¶ï¼Œ\n-   è€ŒÂ **OVS æ˜¯ L2 æ¨¡å—**ï¼Œæ— æ³•ä½¿ç”¨ L3 æ¨¡å—çš„åŠŸèƒ½ï¼Œ\n\næœ€ç»ˆç»“æœæ˜¯ï¼šæ— æ³•åœ¨ OVS ï¼ˆè¿æ¥è™šæ‹Ÿæœºï¼‰çš„è®¾å¤‡ä¸Šåšé˜²ç«å¢™ã€‚\n\næ‰€ä»¥ï¼Œ2016 ä¹‹å‰ OpenStack çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼Œåœ¨æ¯ä¸ª OVS å’Œ VM ä¹‹é—´å†åŠ ä¸€ä¸ª Linux bridge ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º:\n![upgit_20221117_1668675060.png](https://images.ryken.cloud/2022/11/upgit_20221117_1668675060.png)\n\n\u003ccenter\u003eFig 1.6. Network topology within an OpenStack compute node\u003c/cneter\u003e\n\nLinux bridge ä¹Ÿæ˜¯ L2 æ¨¡å—ï¼ŒæŒ‰é“ç†ä¹Ÿæ— æ³•ä½¿ç”¨ iptablesã€‚ä½†æ˜¯ï¼Œ**å®ƒæœ‰ä¸€ä¸ª L2 å·¥å…· ebtablesï¼Œèƒ½å¤Ÿè·³è½¬åˆ° iptables**ï¼Œå› æ­¤é—´æ¥æ”¯æŒäº† iptablesï¼Œä¹Ÿå°±èƒ½ç”¨åˆ° Netfilter/iptables é˜²ç«å¢™çš„åŠŸèƒ½ã€‚\n\nè¿™ç§æš´åŠ›å †ç Œçš„æ–¹å¼ä¸ä»…ä¸‘é™‹ã€å¢åŠ ç½‘ç»œå¤æ‚æ€§ï¼Œè€Œä¸”ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚å› æ­¤ï¼Œ RedHat åœ¨ 2016 å¹´æå‡ºäº†ä¸€ä¸ª OVS conntrack æ–¹æ¡ˆ [7]ï¼Œä»é‚£ä»¥åï¼Œæ‰æœ‰å¯èƒ½å¹²æ‰ Linux bridge è€Œä»ç„¶å…·å¤‡å®‰å…¨ç»„çš„åŠŸèƒ½ã€‚\n\n## 1.6 å°ç»“\n\nä»¥ä¸Šæ˜¯ç†è®ºç¯‡ï¼Œæ¥ä¸‹æ¥çœ‹ä¸€ä¸‹å†…æ ¸å®ç°ã€‚\n\n# 2 Netfilter hook æœºåˆ¶å®ç°\n\nNetfilter ç”±å‡ ä¸ªæ¨¡å—æ„æˆï¼Œå…¶ä¸­æœ€ä¸»è¦çš„æ˜¯**è¿æ¥è·Ÿè¸ª**ï¼ˆCTï¼‰æ¨¡å—å’Œ**ç½‘ç»œåœ°å€è½¬æ¢**ï¼ˆNATï¼‰æ¨¡å—ã€‚\n\nCT æ¨¡å—çš„ä¸»è¦èŒè´£æ˜¯è¯†åˆ«å‡ºå¯è¿›è¡Œè¿æ¥è·Ÿè¸ªçš„åŒ…ã€‚ CT æ¨¡å—ç‹¬ç«‹äº NAT æ¨¡å—ï¼Œä½†ä¸»è¦ç›®çš„æ˜¯æœåŠ¡äºåè€…ã€‚\n\n## 2.1 Netfilter æ¡†æ¶\n\n### 5 ä¸ª hook ç‚¹\n![upgit_20221117_1668675145.png](https://images.ryken.cloud/2022/11/upgit_20221117_1668675145.png)\n\u003ccenter\u003eå›¾ 2.1. The 5 hook points in netfilter framework\u003c/center\u003e\n\nå¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒNetfilter åœ¨å†…æ ¸åè®®æ ˆçš„åŒ…å¤„ç†è·¯å¾„ä¸Šæä¾›äº† 5 ä¸ª hook ç‚¹ï¼Œåˆ†åˆ«æ˜¯ï¼š\n\n```\n// include/uapi/linux/netfilter_ipv4.h\n\n#define NF_IP_PRE_ROUTING    0 /* After promisc drops, checksum checks. */\n#define NF_IP_LOCAL_IN       1 /* If the packet is destined for this box. */\n#define NF_IP_FORWARD        2 /* If the packet is destined for another interface. */\n#define NF_IP_LOCAL_OUT      3 /* Packets coming from a local process. */\n#define NF_IP_POST_ROUTING   4 /* Packets about to hit the wire. */\n#define NF_IP_NUMHOOKS       5\n```\n\nç”¨æˆ·å¯ä»¥åœ¨è¿™äº› hook ç‚¹æ³¨å†Œè‡ªå·±çš„å¤„ç†å‡½æ•°ï¼ˆhandlersï¼‰ã€‚å½“æœ‰æ•°æ®åŒ…ç»è¿‡ hook ç‚¹æ—¶ï¼Œ å°±ä¼šè°ƒç”¨ç›¸åº”çš„ handlersã€‚\n\n\u003e å¦å¤–è¿˜æœ‰ä¸€å¥—Â `NF_INET_`Â å¼€å¤´çš„å®šä¹‰ï¼Œ`include/uapi/linux/netfilter.h`ã€‚ è¿™ä¸¤å¥—æ˜¯ç­‰ä»·çš„ï¼Œä»æ³¨é‡Šçœ‹ï¼Œ`NF_IP_`Â å¼€å¤´çš„å®šä¹‰å¯èƒ½æ˜¯ä¸ºäº†ä¿æŒå…¼å®¹æ€§ã€‚\n\u003e \n\u003e ```\n\u003e enum nf_inet_hooks {\n\u003e     NF_INET_PRE_ROUTING,\n\u003e     NF_INET_LOCAL_IN,\n\u003e     NF_INET_FORWARD,\n\u003e     NF_INET_LOCAL_OUT,\n\u003e     NF_INET_POST_ROUTING,\n\u003e     NF_INET_NUMHOOKS\n\u003e };\n\u003e ```\n\n### hook è¿”å›å€¼ç±»å‹\n\nhook å‡½æ•°å¯¹åŒ…è¿›è¡Œåˆ¤æ–­æˆ–å¤„ç†ä¹‹åï¼Œéœ€è¦è¿”å›ä¸€ä¸ªåˆ¤æ–­ç»“æœï¼ŒæŒ‡å¯¼æ¥ä¸‹æ¥è¦å¯¹è¿™ä¸ªåŒ…åšä»€ ä¹ˆã€‚å¯èƒ½çš„ç»“æœæœ‰ï¼š\n\n```\n// include/uapi/linux/netfilter.h\n\n#define NF_DROP   0  // å·²ä¸¢å¼ƒè¿™ä¸ªåŒ…\n#define NF_ACCEPT 1  // æ¥å—è¿™ä¸ªåŒ…ï¼Œç»“æŸåˆ¤æ–­ï¼Œç»§ç»­ä¸‹ä¸€æ­¥å¤„ç†\n#define NF_STOLEN 2  // ä¸´æ—¶ hold è¿™ä¸ªåŒ…ï¼Œä¸ç”¨å†ç»§ç»­ç©¿è¶Šåè®®æ ˆäº†ã€‚å¸¸è§çš„æƒ…å½¢æ˜¯ç¼“å­˜åˆ†ç‰‡ä¹‹åçš„åŒ…ï¼ˆç­‰å¾…é‡ç»„ï¼‰\n#define NF_QUEUE  3  // åº”å½“å°†åŒ…æ”¾åˆ°é˜Ÿåˆ—\n#define NF_REPEAT 4  // å½“å‰å¤„ç†å‡½æ•°åº”å½“è¢«å†æ¬¡è°ƒç”¨\n```\n\n### hook ä¼˜å…ˆçº§\n\næ¯ä¸ª hook ç‚¹å¯ä»¥æ³¨å†Œå¤šä¸ªå¤„ç†å‡½æ•°ï¼ˆhandlerï¼‰ã€‚åœ¨æ³¨å†Œæ—¶å¿…é¡»æŒ‡å®šè¿™äº› handlers çš„**ä¼˜å…ˆçº§**ï¼Œè¿™æ ·è§¦å‘ hook æ—¶èƒ½å¤Ÿæ ¹æ®ä¼˜å…ˆçº§ä¾æ¬¡è°ƒç”¨å¤„ç†å‡½æ•°ã€‚\n\n## 2.2 è¿‡æ»¤è§„åˆ™çš„ç»„ç»‡\n\n`iptables`Â æ˜¯é…ç½® Netfilter è¿‡æ»¤åŠŸèƒ½çš„ç”¨æˆ·ç©ºé—´å·¥å…·ã€‚ä¸ºä¾¿äºç®¡ç†ï¼Œ è¿‡æ»¤è§„åˆ™æŒ‰åŠŸèƒ½åˆ†ä¸ºè‹¥å¹² tableï¼š\n\n-   raw\n-   filter\n-   nat\n-   mangle\n\nè¿™ä¸æ˜¯æœ¬æ–‡é‡ç‚¹ã€‚æ›´å¤šä¿¡æ¯å¯å‚è€ƒÂ [(è¯‘) æ·±å…¥ç†è§£ iptables å’Œ netfilter æ¶æ„](https://arthurchiao.art/blog/deep-dive-into-iptables-and-netfilter-arch-zh/)\n\n# 3 Netfilter conntrack å®ç°\n\nè¿æ¥è·Ÿè¸ªæ¨¡å—ç”¨äºç»´æŠ¤**å¯è·Ÿè¸ªåè®®**ï¼ˆtrackable protocolsï¼‰çš„è¿æ¥çŠ¶æ€ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿æ¥è·Ÿè¸ª**é’ˆå¯¹çš„æ˜¯ç‰¹å®šåè®®çš„åŒ…ï¼Œè€Œä¸æ˜¯æ‰€æœ‰åè®®çš„åŒ…**ã€‚ ç¨åä¼šçœ‹åˆ°å®ƒæ”¯æŒå“ªäº›åè®®ã€‚\n\n## 3.1 é‡è¦ç»“æ„ä½“å’Œå‡½æ•°\n\né‡è¦ç»“æ„ä½“ï¼š\n\n-   `struct nf_conntrack_tuple {}`: å®šä¹‰ä¸€ä¸ª tupleã€‚\n    -   `struct nf_conntrack_man {}`ï¼štuple çš„ manipulable partã€‚\n        -   `struct nf_conntrack_man_proto {}`ï¼šmanipulable part ä¸­åè®®ç›¸å…³çš„éƒ¨åˆ†ã€‚\n-   `struct nf_conntrack_l4proto {}`: æ”¯æŒè¿æ¥è·Ÿè¸ªçš„**åè®®éœ€è¦å®ç°çš„æ–¹æ³•é›†**ï¼ˆä»¥åŠå…¶ä»–åè®®ç›¸å…³å­—æ®µï¼‰ã€‚\n-   `struct nf_conntrack_tuple_hash {}`ï¼šå“ˆå¸Œè¡¨ï¼ˆconntrack tableï¼‰ä¸­çš„è¡¨é¡¹ï¼ˆentryï¼‰ã€‚\n-   `struct nf_conn {}`ï¼š**å®šä¹‰ä¸€ä¸ª flow**ã€‚\n\né‡è¦å‡½æ•°ï¼š\n\n-   `hash_conntrack_raw()`ï¼šæ ¹æ® tuple è®¡ç®—å‡ºä¸€ä¸ª 32 ä½çš„å“ˆå¸Œå€¼ï¼ˆhash keyï¼‰ã€‚\n-   `nf_conntrack_in()`ï¼š**è¿æ¥è·Ÿè¸ªæ¨¡å—çš„æ ¸å¿ƒï¼ŒåŒ…è¿›å…¥è¿æ¥è·Ÿè¸ªçš„åœ°æ–¹**ã€‚\n-   `resolve_normal_ct() -\u003e init_conntrack() -\u003e ct = __nf_conntrack_alloc(); l4proto-\u003enew(ct)`\n    \n    åˆ›å»ºä¸€ä¸ªæ–°çš„è¿æ¥è®°å½•ï¼ˆconntrack entryï¼‰ï¼Œç„¶ååˆå§‹åŒ–ã€‚\n    \n-   `nf_conntrack_confirm()`ï¼šç¡®è®¤å‰é¢é€šè¿‡Â `nf_conntrack_in()`Â åˆ›å»ºçš„æ–°è¿æ¥ï¼ˆæ˜¯å¦è¢«ä¸¢å¼ƒï¼‰ã€‚\n\n## 3.2Â `struct nf_conntrack_tuple {}`ï¼šå…ƒç»„ï¼ˆTupleï¼‰\n\nTuple æ˜¯è¿æ¥è·Ÿè¸ªä¸­æœ€é‡è¦çš„æ¦‚å¿µä¹‹ä¸€ã€‚\n\n**ä¸€ä¸ª tuple å®šä¹‰ä¸€ä¸ªå•å‘ï¼ˆunidirectionalï¼‰flow**ã€‚å†…æ ¸ä»£ç ä¸­æœ‰å¦‚ä¸‹æ³¨é‡Šï¼š\n\n\u003e //include/net/netfilter/nf_conntrack_tuple.h\n\u003e \n\u003e AÂ `tuple`Â is a structure containing the information to uniquely identify a connection. ie. if two packets have the same tuple, they are in the same connection; if not, they are not.\n\n### ç»“æ„ä½“å®šä¹‰\n\n```\n//include/net/netfilter/nf_conntrack_tuple.h\n\n// ä¸ºæ–¹ä¾¿ NAT çš„å®ç°ï¼Œå†…æ ¸å°† tuple ç»“æ„ä½“æ‹†åˆ†ä¸º \"manipulatable\" å’Œ \"non-manipulatable\" ä¸¤éƒ¨åˆ†\n// ä¸‹é¢ç»“æ„ä½“ä¸­çš„ _man æ˜¯ manipulatable çš„ç¼©å†™\n                                               // ude/uapi/linux/netfilter.h\n                                               union nf_inet_addr {\n                                                   __u32            all[4];\n                                                   __be32           ip;\n                                                   __be32           ip6[4];\n                                                   struct in_addr   in;\n                                                   struct in6_addr  in6;\n/* manipulable part of the tuple */         /  };\nstruct nf_conntrack_man {                  /\n    union nf_inet_addr           u3; --\u003e--/\n    union nf_conntrack_man_proto u;  --\u003e--\\\n                                           \\   // include/uapi/linux/netfilter/nf_conntrack_tuple_common.h\n    u_int16_t l3num; // L3 proto            \\  // åè®®ç›¸å…³çš„éƒ¨åˆ†\n};                                            union nf_conntrack_man_proto {\n                                                  __be16 all;/* Add other protocols here. */\n\n                                                  struct { __be16 port; } tcp;\n                                                  struct { __be16 port; } udp;\n                                                  struct { __be16 id;   } icmp;\n                                                  struct { __be16 port; } dccp;\n                                                  struct { __be16 port; } sctp;\n                                                  struct { __be16 key;  } gre;\n                                              };\n\nstruct nf_conntrack_tuple { /* This contains the information to distinguish a connection. */\n    struct nf_conntrack_man src;  // æºåœ°å€ä¿¡æ¯ï¼Œmanipulable part\n    struct {\n        union nf_inet_addr u3;\n        union {\n            __be16 all; /* Add other protocols here. */\n\n            struct { __be16 port;         } tcp;\n            struct { __be16 port;         } udp;\n            struct { u_int8_t type, code; } icmp;\n            struct { __be16 port;         } dccp;\n            struct { __be16 port;         } sctp;\n            struct { __be16 key;          } gre;\n        } u;\n        u_int8_t protonum; /* The protocol. */\n        u_int8_t dir;      /* The direction (for tuplehash) */\n    } dst;                       // ç›®çš„åœ°å€ä¿¡æ¯\n};\n```\n\n**Tuple ç»“æ„ä½“ä¸­åªæœ‰ä¸¤ä¸ªå­—æ®µ src å’Œ dst**ï¼Œåˆ†åˆ«ä¿å­˜æºå’Œç›®çš„ä¿¡æ¯ã€‚`src`Â å’ŒÂ `dst`Â è‡ªèº«ä¹Ÿæ˜¯ç»“æ„ä½“ï¼Œèƒ½ä¿å­˜ä¸åŒç±»å‹åè®®çš„æ•°æ®ã€‚ä»¥ IPv4 UDP ä¸ºä¾‹ï¼Œäº”å…ƒç»„åˆ†åˆ«ä¿å­˜åœ¨å¦‚ä¸‹å­—æ®µï¼š\n\n-   `dst.protonum`ï¼šåè®®ç±»å‹\n-   `src.u3.ip`ï¼šæº IP åœ°å€\n-   `dst.u3.ip`ï¼šç›®çš„ IP åœ°å€\n-   `src.u.udp.port`ï¼šæºç«¯å£å·\n-   `dst.u.udp.port`ï¼šç›®çš„ç«¯å£å·\n\n### CT æ”¯æŒçš„åè®®\n\nä»ä»¥ä¸Šå®šä¹‰å¯ä»¥çœ‹åˆ°ï¼Œè¿æ¥è·Ÿè¸ªæ¨¡å—**ç›®å‰åªæ”¯æŒä»¥ä¸‹å…­ç§åè®®**ï¼šTCPã€UDPã€ICMPã€DCCPã€SCTPã€GREã€‚\n\n**æ³¨æ„å…¶ä¸­çš„ ICMP åè®®**ã€‚å¤§å®¶å¯èƒ½ä¼šè®¤ä¸ºï¼Œè¿æ¥è·Ÿè¸ªæ¨¡å—ä¾æ®åŒ…çš„ä¸‰å±‚å’Œå››å±‚ä¿¡æ¯åš å“ˆå¸Œï¼Œè€Œ ICMP æ˜¯ä¸‰å±‚åè®®ï¼Œæ²¡æœ‰å››å±‚ä¿¡æ¯ï¼Œå› æ­¤ ICMP è‚¯å®šä¸ä¼šè¢« CT è®°å½•ã€‚ä½†**å®é™…ä¸Š æ˜¯ä¼šçš„**ï¼Œä¸Šé¢ä»£ç å¯ä»¥çœ‹åˆ°ï¼ŒICMP ä½¿ç”¨äº†å…¶å¤´ä¿¡æ¯ä¸­çš„ ICMPÂ `type`å’ŒÂ `code`Â å­—æ®µæ¥ å®šä¹‰ tupleã€‚\n\n## 3.3Â `struct nf_conntrack_l4proto {}`ï¼šåè®®éœ€è¦å®ç°çš„æ–¹æ³•é›†åˆ\n\næ”¯æŒè¿æ¥è·Ÿè¸ªçš„åè®®éƒ½éœ€è¦å®ç°Â `struct nf_conntrack_l4proto {}`Â ç»“æ„ä½“ ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œä¾‹å¦‚Â `pkt_to_tuple()`ã€‚\n\n```\n// include/net/netfilter/nf_conntrack_l4proto.h\n\nstruct nf_conntrack_l4proto {\n    u_int16_t l3proto; /* L3 Protocol number. */\n    u_int8_t  l4proto; /* L4 Protocol number. */\n\n    // ä»åŒ…ï¼ˆskbï¼‰ä¸­æå– tuple\n    bool (*pkt_to_tuple)(struct sk_buff *skb, ... struct nf_conntrack_tuple *tuple);\n\n    // å¯¹åŒ…è¿›è¡Œåˆ¤å†³ï¼Œè¿”å›åˆ¤å†³ç»“æœï¼ˆreturns verdict for packetï¼‰\n    int (*packet)(struct nf_conn *ct, const struct sk_buff *skb ...);\n\n    // åˆ›å»ºä¸€ä¸ªæ–°è¿æ¥ã€‚å¦‚æœæˆåŠŸè¿”å› TRUEï¼›å¦‚æœè¿”å›çš„æ˜¯ TRUEï¼Œæ¥ä¸‹æ¥ä¼šè°ƒç”¨ packet() æ–¹æ³•\n    bool (*new)(struct nf_conn *ct, const struct sk_buff *skb, unsigned int dataoff);\n\n    // åˆ¤æ–­å½“å‰æ•°æ®åŒ…èƒ½å¦è¢«è¿æ¥è·Ÿè¸ªã€‚å¦‚æœè¿”å›æˆåŠŸï¼Œæ¥ä¸‹æ¥ä¼šè°ƒç”¨ packet() æ–¹æ³•\n    int (*error)(struct net *net, struct nf_conn *tmpl, struct sk_buff *skb, ...);\n\n    ...\n};\n```\n\n## 3.4Â `struct nf_conntrack_tuple_hash {}`ï¼šå“ˆå¸Œè¡¨é¡¹\n\nconntrack å°†æ´»åŠ¨è¿æ¥çš„çŠ¶æ€å­˜å‚¨åœ¨ä¸€å¼ å“ˆå¸Œè¡¨ä¸­ï¼ˆ`key: value`ï¼‰ã€‚\n\n`hash_conntrack_raw()`Â æ ¹æ® tuple è®¡ç®—å‡ºä¸€ä¸ª 32 ä½çš„å“ˆå¸Œå€¼ï¼ˆkeyï¼‰ï¼š\n\n```\n// net/netfilter/nf_conntrack_core.c\n\nstatic u32 hash_conntrack_raw(struct nf_conntrack_tuple *tuple, struct net *net)\n{\n    get_random_once(\u0026nf_conntrack_hash_rnd, sizeof(nf_conntrack_hash_rnd));\n\n    /* The direction must be ignored, so we hash everything up to the\n     * destination ports (which is a multiple of 4) and treat the last three bytes manually.  */\n    u32 seed = nf_conntrack_hash_rnd ^ net_hash_mix(net);\n    unsigned int n = (sizeof(tuple-\u003esrc) + sizeof(tuple-\u003edst.u3)) / sizeof(u32);\n\n    return jhash2((u32 *)tuple, n, seed ^ ((tuple-\u003edst.u.all \u003c\u003c 16) | tuple-\u003edst.protonum));\n}\n```\n\næ³¨æ„å…¶ä¸­æ˜¯å¦‚ä½•åˆ©ç”¨ tuple çš„ä¸åŒå­—æ®µæ¥è®¡ç®—å“ˆå¸Œçš„ã€‚\n\n`nf_conntrack_tuple_hash`Â æ˜¯å“ˆå¸Œè¡¨ä¸­çš„è¡¨é¡¹ï¼ˆvalueï¼‰:\n\n```\n// include/net/netfilter/nf_conntrack_tuple.h\n\n// æ¯æ¡è¿æ¥åœ¨å“ˆå¸Œè¡¨ä¸­éƒ½å¯¹åº”ä¸¤é¡¹ï¼Œåˆ†åˆ«å¯¹åº”ä¸¤ä¸ªæ–¹å‘ï¼ˆegress/ingressï¼‰\n// Connections have two entries in the hash table: one for each way\nstruct nf_conntrack_tuple_hash {\n    struct hlist_nulls_node   hnnode;   // æŒ‡å‘è¯¥å“ˆå¸Œå¯¹åº”çš„è¿æ¥ struct nf_connï¼Œé‡‡ç”¨ list å½¢å¼æ˜¯ä¸ºäº†è§£å†³å“ˆå¸Œå†²çª\n    struct nf_conntrack_tuple tuple;    // N å…ƒç»„ï¼Œå‰é¢è¯¦ç»†ä»‹ç»è¿‡äº†\n};\n```\n\n## 3.5Â `struct nf_conn {}`ï¼šè¿æ¥ï¼ˆconnectionï¼‰\n\n**Netfilter ä¸­æ¯ä¸ª flow éƒ½ç§°ä¸ºä¸€ä¸ª connection**ï¼Œå³ä½¿æ˜¯å¯¹é‚£äº›éé¢å‘è¿æ¥çš„åè®®ï¼ˆä¾‹ å¦‚ UDPï¼‰ã€‚æ¯ä¸ª connection ç”¨Â `struct nf_conn {}`Â è¡¨ç¤ºï¼Œä¸»è¦å­—æ®µå¦‚ä¸‹ï¼š\n\n```\n// include/net/netfilter/nf_conntrack.h\n\n                                                  // include/linux/skbuff.h\n                                        ------\u003e   struct nf_conntrack {\n                                        |             atomic_t use;  // è¿æ¥å¼•ç”¨è®¡æ•°ï¼Ÿ\n                                        |         };\nstruct nf_conn {                        |\n    struct nf_conntrack            ct_general;\n\n    struct nf_conntrack_tuple_hash tuplehash[IP_CT_DIR_MAX]; // å“ˆå¸Œè¡¨é¡¹ï¼Œæ•°ç»„æ˜¯å› ä¸ºè¦è®°å½•ä¸¤ä¸ªæ–¹å‘çš„ flow\n\n    unsigned long status; // è¿æ¥çŠ¶æ€ï¼Œè§ä¸‹æ–‡\n    u32 timeout;          // è¿æ¥çŠ¶æ€çš„å®šæ—¶å™¨\n\n    possible_net_t ct_net;\n\n    struct hlist_node    nat_bysource;\n                                                        // per conntrack: protocol private data\n    struct nf_conn *master;                             union nf_conntrack_proto {\n                                                       /    /* insert conntrack proto private data here */\n    u_int32_t mark;    /* å¯¹ skb è¿›è¡Œç‰¹æ®Šæ ‡è®° */      /     struct nf_ct_dccp dccp;\n    u_int32_t secmark;                               /      struct ip_ct_sctp sctp;\n                                                    /       struct ip_ct_tcp tcp;\n    union nf_conntrack_proto proto; ----------\u003e----/        struct nf_ct_gre gre;\n};                                                          unsigned int tmpl_padto;\n                                                        };\n```\n\n**è¿æ¥çš„çŠ¶æ€é›†åˆ enum ip_conntrack_status**ï¼š\n\n```\n// include/uapi/linux/netfilter/nf_conntrack_common.h\n\nenum ip_conntrack_status {\n    IPS_EXPECTED      = (1 \u003c\u003c IPS_EXPECTED_BIT),\n    IPS_SEEN_REPLY    = (1 \u003c\u003c IPS_SEEN_REPLY_BIT),\n    IPS_ASSURED       = (1 \u003c\u003c IPS_ASSURED_BIT),\n    IPS_CONFIRMED     = (1 \u003c\u003c IPS_CONFIRMED_BIT),\n    IPS_SRC_NAT       = (1 \u003c\u003c IPS_SRC_NAT_BIT),\n    IPS_DST_NAT       = (1 \u003c\u003c IPS_DST_NAT_BIT),\n    IPS_NAT_MASK      = (IPS_DST_NAT | IPS_SRC_NAT),\n    IPS_SEQ_ADJUST    = (1 \u003c\u003c IPS_SEQ_ADJUST_BIT),\n    IPS_SRC_NAT_DONE  = (1 \u003c\u003c IPS_SRC_NAT_DONE_BIT),\n    IPS_DST_NAT_DONE  = (1 \u003c\u003c IPS_DST_NAT_DONE_BIT),\n    IPS_NAT_DONE_MASK = (IPS_DST_NAT_DONE | IPS_SRC_NAT_DONE),\n    IPS_DYING         = (1 \u003c\u003c IPS_DYING_BIT),\n    IPS_FIXED_TIMEOUT = (1 \u003c\u003c IPS_FIXED_TIMEOUT_BIT),\n    IPS_TEMPLATE      = (1 \u003c\u003c IPS_TEMPLATE_BIT),\n    IPS_UNTRACKED     = (1 \u003c\u003c IPS_UNTRACKED_BIT),\n    IPS_HELPER        = (1 \u003c\u003c IPS_HELPER_BIT),\n    IPS_OFFLOAD       = (1 \u003c\u003c IPS_OFFLOAD_BIT),\n\n    IPS_UNCHANGEABLE_MASK = (IPS_NAT_DONE_MASK | IPS_NAT_MASK |\n                 IPS_EXPECTED | IPS_CONFIRMED | IPS_DYING |\n                 IPS_SEQ_ADJUST | IPS_TEMPLATE | IPS_OFFLOAD),\n};\n```\n\n## 3.6Â `nf_conntrack_in()`ï¼šè¿›å…¥è¿æ¥è·Ÿè¸ª\n![upgit_20221117_1668675210.png](https://images.ryken.cloud/2022/11/upgit_20221117_1668675210.png)\n\n\u003ccenter\u003eFig. Netfilter ä¸­çš„è¿æ¥è·Ÿè¸ªç‚¹\u003c/center\u003e\n\nå¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒNetfilter åœ¨å››ä¸ª Hook ç‚¹å¯¹åŒ…è¿›è¡Œè·Ÿè¸ªï¼š\n\n1.  `PRE_ROUTING`Â å’ŒÂ `LOCAL_OUT`ï¼š**è°ƒç”¨ nf_conntrack_in() å¼€å§‹è¿æ¥è·Ÿè¸ª**ï¼Œ æ­£å¸¸æƒ…å†µä¸‹ä¼šåˆ›å»ºä¸€æ¡æ–°è¿æ¥è®°å½•ï¼Œç„¶åå°† conntrack entry æ”¾åˆ°Â **unconfirmed list**ã€‚\n    \n    ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸¤ä¸ª hook ç‚¹å‘¢ï¼Ÿå› ä¸ºå®ƒä»¬éƒ½æ˜¯**æ–°è¿æ¥çš„ç¬¬ä¸€ä¸ªåŒ…æœ€å…ˆè¾¾åˆ°çš„åœ°æ–¹**ï¼Œ\n    \n    -   `PRE_ROUTING`Â æ˜¯**å¤–éƒ¨ä¸»åŠ¨å’Œæœ¬æœºå»ºè¿**æ—¶åŒ…æœ€å…ˆåˆ°è¾¾çš„åœ°æ–¹\n    -   `LOCAL_OUT`Â æ˜¯**æœ¬æœºä¸»åŠ¨å’Œå¤–éƒ¨å»ºè¿**æ—¶åŒ…æœ€å…ˆåˆ°è¾¾çš„åœ°æ–¹\n2.  `POST_ROUTING`Â å’ŒÂ `LOCAL_IN`ï¼š**è°ƒç”¨ nf_conntrack_confirm() å°† nf_conntrack_in() åˆ›å»ºçš„è¿æ¥ç§»åˆ° confirmed list**ã€‚\n    \n    åŒæ ·è¦é—®ï¼Œä¸ºä»€ä¹ˆåœ¨è¿™ä¸¤ä¸ª hook ç‚¹å‘¢ï¼Ÿå› ä¸ºå¦‚æœæ–°è¿æ¥çš„ç¬¬ä¸€ä¸ªåŒ…æ²¡æœ‰è¢«ä¸¢å¼ƒï¼Œé‚£è¿™ æ˜¯å®ƒä»¬**ç¦»å¼€ netfilter ä¹‹å‰çš„æœ€å hook ç‚¹**ï¼š\n    \n    -   **å¤–éƒ¨ä¸»åŠ¨å’Œæœ¬æœºå»ºè¿**çš„åŒ…ï¼Œå¦‚æœåœ¨ä¸­é—´å¤„ç†ä¸­æ²¡æœ‰è¢«ä¸¢å¼ƒï¼Œ`LOCAL_IN`Â æ˜¯å…¶è¢«é€åˆ°åº”ç”¨ï¼ˆä¾‹å¦‚ nginx æœåŠ¡ï¼‰ä¹‹å‰çš„æœ€å hook ç‚¹\n    -   **æœ¬æœºä¸»åŠ¨å’Œå¤–éƒ¨å»ºè¿**çš„åŒ…ï¼Œå¦‚æœåœ¨ä¸­é—´å¤„ç†ä¸­æ²¡æœ‰è¢«ä¸¢å¼ƒï¼Œ`POST_ROUTING`Â æ˜¯å…¶ç¦»å¼€ä¸»æœºæ—¶çš„æœ€å hook ç‚¹\n\nä¸‹é¢çš„ä»£ç å¯ä»¥çœ‹åˆ°**è¿™äº› handler æ˜¯å¦‚ä½•æ³¨å†Œåˆ° Netfilter hook ç‚¹çš„**ï¼š\n\n```\n// net/netfilter/nf_conntrack_proto.c\n\n/* Connection tracking may drop packets, but never alters them, so make it the first hook.  */\nstatic const struct nf_hook_ops ipv4_conntrack_ops[] = {\n    {\n        .hook        = ipv4_conntrack_in,       // è°ƒç”¨ nf_conntrack_in() è¿›å…¥è¿æ¥è·Ÿè¸ª\n        .pf          = NFPROTO_IPV4,\n        .hooknum     = NF_INET_PRE_ROUTING,     // PRE_ROUTING hook ç‚¹\n        .priority    = NF_IP_PRI_CONNTRACK,\n    },\n    {\n        .hook        = ipv4_conntrack_local,    // è°ƒç”¨ nf_conntrack_in() è¿›å…¥è¿æ¥è·Ÿè¸ª\n        .pf          = NFPROTO_IPV4,\n        .hooknum     = NF_INET_LOCAL_OUT,       // LOCAL_OUT hook ç‚¹\n        .priority    = NF_IP_PRI_CONNTRACK,\n    },\n    {\n        .hook        = ipv4_confirm,            // è°ƒç”¨ nf_conntrack_confirm()\n        .pf          = NFPROTO_IPV4,\n        .hooknum     = NF_INET_POST_ROUTING,    // POST_ROUTING hook ç‚¹\n        .priority    = NF_IP_PRI_CONNTRACK_CONFIRM,\n    },\n    {\n        .hook        = ipv4_confirm,            // è°ƒç”¨ nf_conntrack_confirm()\n        .pf          = NFPROTO_IPV4,\n        .hooknum     = NF_INET_LOCAL_IN,        // LOCAL_IN hook ç‚¹\n        .priority    = NF_IP_PRI_CONNTRACK_CONFIRM,\n    },\n};\n```\n\n`nf_conntrack_in()`Â æ˜¯**è¿æ¥è·Ÿè¸ªæ¨¡å—çš„æ ¸å¿ƒ**ã€‚\n\n```\n// net/netfilter/nf_conntrack_core.c\n\nunsigned int\nnf_conntrack_in(struct net *net, u_int8_t pf, unsigned int hooknum, struct sk_buff *skb)\n{\n  struct nf_conn *tmpl = nf_ct_get(skb, \u0026ctinfo); // è·å– skb å¯¹åº”çš„ conntrack_info å’Œè¿æ¥è®°å½•\n  if (tmpl || ctinfo == IP_CT_UNTRACKED) {        // å¦‚æœè®°å½•å­˜åœ¨ï¼Œæˆ–è€…æ˜¯ä¸éœ€è¦è·Ÿè¸ªçš„ç±»å‹\n      if ((tmpl \u0026\u0026 !nf_ct_is_template(tmpl)) || ctinfo == IP_CT_UNTRACKED) {\n          NF_CT_STAT_INC_ATOMIC(net, ignore);     // æ— éœ€è·Ÿè¸ªçš„ç±»å‹ï¼Œå¢åŠ  ignore è®¡æ•°\n          return NF_ACCEPT;                       // è¿”å› NF_ACCEPTï¼Œç»§ç»­åé¢çš„å¤„ç†\n      }\n      skb-\u003e_nfct = 0;                             // ä¸å±äº ignore ç±»å‹ï¼Œè®¡æ•°å™¨ç½®é›¶ï¼Œå‡†å¤‡åç»­å¤„ç†\n  }\n\n  struct nf_conntrack_l4proto *l4proto = __nf_ct_l4proto_find(...);    // æå–åè®®ç›¸å…³çš„ L4 å¤´ä¿¡æ¯\n\n  if (l4proto-\u003eerror != NULL) {                   // skb çš„å®Œæ•´æ€§å’Œåˆæ³•æ€§éªŒè¯\n      if (l4proto-\u003eerror(net, tmpl, skb, dataoff, pf, hooknum) \u003c= 0) {\n          NF_CT_STAT_INC_ATOMIC(net, error);\n          NF_CT_STAT_INC_ATOMIC(net, invalid);\n          goto out;\n      }\n  }\n\nrepeat:\n  // å¼€å§‹è¿æ¥è·Ÿè¸ªï¼šæå– tupleï¼›åˆ›å»ºæ–°è¿æ¥è®°å½•ï¼Œæˆ–è€…æ›´æ–°å·²æœ‰è¿æ¥çš„çŠ¶æ€\n  resolve_normal_ct(net, tmpl, skb, ... l4proto);\n\n  l4proto-\u003epacket(ct, skb, dataoff, ctinfo); // è¿›è¡Œä¸€äº›åè®®ç›¸å…³çš„å¤„ç†ï¼Œä¾‹å¦‚ UDP ä¼šæ›´æ–° timeout\n\n  if (ctinfo == IP_CT_ESTABLISHED_REPLY \u0026\u0026 !test_and_set_bit(IPS_SEEN_REPLY_BIT, \u0026ct-\u003estatus))\n      nf_conntrack_event_cache(IPCT_REPLY, ct);\nout:\n  if (tmpl)\n      nf_ct_put(tmpl); // è§£é™¤å¯¹è¿æ¥è®°å½• tmpl çš„å¼•ç”¨\n}\n```\n\nå¤§è‡´æµç¨‹ï¼š\n\n1.  å°è¯•è·å–è¿™ä¸ª skb å¯¹åº”çš„è¿æ¥è·Ÿè¸ªè®°å½•\n2.  åˆ¤æ–­æ˜¯å¦éœ€è¦å¯¹è¿™ä¸ªåŒ…åšè¿æ¥è·Ÿè¸ªï¼Œå¦‚æœä¸éœ€è¦ï¼Œæ›´æ–° ignore è®¡æ•°ï¼ˆ`conntrack -S`Â èƒ½çœ‹åˆ°è¿™ä¸ªè®¡æ•°ï¼‰ï¼Œ è¿”å›Â `NF_ACCEPT`ï¼›å¦‚æœéœ€è¦ï¼Œå°±**åˆå§‹åŒ–è¿™ä¸ª skb çš„å¼•ç”¨è®¡æ•°**ã€‚\n3.  ä»åŒ…çš„ L4 header ä¸­æå–ä¿¡æ¯ï¼Œåˆå§‹åŒ–åè®®ç›¸å…³çš„Â `struct nf_conntrack_l4proto {}`Â å˜é‡ï¼Œå…¶ä¸­åŒ…å«äº†è¯¥åè®®çš„**è¿æ¥è·Ÿè¸ªç›¸å…³çš„å›è°ƒæ–¹æ³•**ã€‚\n4.  è°ƒç”¨è¯¥åè®®çš„Â `error()`Â æ–¹æ³•æ£€æŸ¥åŒ…çš„å®Œæ•´æ€§ã€æ ¡éªŒå’Œç­‰ä¿¡æ¯ã€‚\n5.  è°ƒç”¨Â `resolve_normal_ct()`Â **å¼€å§‹è¿æ¥è·Ÿè¸ª**ï¼Œå®ƒä¼šåˆ›å»ºæ–° tupleï¼Œæ–° conntrack entryï¼Œæˆ–è€…æ›´æ–°å·²æœ‰è¿æ¥çš„çŠ¶æ€ã€‚\n6.  è°ƒç”¨è¯¥åè®®çš„Â `packet()`Â æ–¹æ³•è¿›è¡Œä¸€äº›åè®®ç›¸å…³çš„å¤„ç†ï¼Œä¾‹å¦‚å¯¹äº UDPï¼Œå¦‚æœ status bit é‡Œé¢è®¾ç½®äº†Â `IPS_SEEN_REPLY`Â ä½ï¼Œå°±ä¼šæ›´æ–° timeoutã€‚timeout å¤§å°å’Œå è®®ç›¸å…³ï¼Œè¶Šå°è¶Šè¶Šå¯ä»¥é˜²æ­¢ DoS æ”»å‡»ï¼ˆDoS çš„åŸºæœ¬åŸç†å°±æ˜¯å°†æœºå™¨çš„å¯ç”¨è¿æ¥è€—å°½ï¼‰\n\n## 3.7Â `init_conntrack()`ï¼šåˆ›å»ºæ–°è¿æ¥è®°å½•\n\nå¦‚æœè¿æ¥ä¸å­˜åœ¨ï¼ˆflow çš„ç¬¬ä¸€ä¸ªåŒ…ï¼‰ï¼Œ`resolve_normal_ct()`Â ä¼šè°ƒç”¨Â `init_conntrack`Â ï¼Œåè€…è¿›è€Œä¼šè°ƒç”¨Â `new()`Â æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„ conntrack entryã€‚\n\n```\n// include/net/netfilter/nf_conntrack_core.c\n\n// Allocate a new conntrack\nstatic noinline struct nf_conntrack_tuple_hash *\ninit_conntrack(struct net *net, struct nf_conn *tmpl,\n           const struct nf_conntrack_tuple *tuple,\n           const struct nf_conntrack_l4proto *l4proto,\n           struct sk_buff *skb, unsigned int dataoff, u32 hash)\n{\n    struct nf_conn *ct;\n\n    // ä» conntrack table ä¸­åˆ†é…ä¸€ä¸ª entryï¼Œå¦‚æœå“ˆå¸Œè¡¨æ»¡äº†ï¼Œä¼šåœ¨å†…æ ¸æ—¥å¿—ä¸­æ‰“å°\n    // \"nf_conntrack: table full, dropping packet\" ä¿¡æ¯ï¼Œé€šè¿‡ `dmesg -T` èƒ½çœ‹åˆ°\n    ct = __nf_conntrack_alloc(net, zone, tuple, \u0026repl_tuple, GFP_ATOMIC, hash);\n\n    l4proto-\u003enew(ct, skb, dataoff); // åè®®ç›¸å…³çš„æ–¹æ³•\n\n    local_bh_disable();             // å…³é—­è½¯ä¸­æ–­\n    if (net-\u003ect.expect_count) {\n        exp = nf_ct_find_expectation(net, zone, tuple);\n        if (exp) {\n            /* Welcome, Mr. Bond.  We've been expecting you... */\n            __set_bit(IPS_EXPECTED_BIT, \u0026ct-\u003estatus);\n\n            /* exp-\u003emaster safe, refcnt bumped in nf_ct_find_expectation */\n            ct-\u003emaster = exp-\u003emaster;\n            ct-\u003emark = exp-\u003emaster-\u003emark;\n            ct-\u003esecmark = exp-\u003emaster-\u003esecmark;\n            NF_CT_STAT_INC(net, expect_new);\n        }\n    }\n\n    /* Now it is inserted into the unconfirmed list, bump refcount */\n    // è‡³æ­¤è¿™ä¸ªæ–°çš„ conntrack entry å·²ç»è¢«æ’å…¥ unconfirmed list\n    nf_conntrack_get(\u0026ct-\u003ect_general);\n    nf_ct_add_to_unconfirmed_list(ct);\n\n    local_bh_enable();              // é‡æ–°æ‰“å¼€è½¯ä¸­æ–­\n\n    if (exp) {\n        if (exp-\u003eexpectfn)\n            exp-\u003eexpectfn(ct, exp);\n        nf_ct_expect_put(exp);\n    }\n\n    return \u0026ct-\u003etuplehash[IP_CT_DIR_ORIGINAL];\n}\n```\n\næ¯ç§åè®®éœ€è¦å®ç°è‡ªå·±çš„Â `l4proto-\u003enew()`Â æ–¹æ³•ï¼Œä»£ç è§ï¼š`net/netfilter/nf_conntrack_proto_*.c`ã€‚ ä¾‹å¦‚ TCP åè®®å¯¹åº”çš„Â `new()`Â æ–¹æ³•æ˜¯ï¼š\n\n```\n// net/netfilter/nf_conntrack_proto_tcp.c\n\n/* Called when a new connection for this protocol found. */\nstatic bool tcp_new(struct nf_conn *ct, const struct sk_buff *skb, unsigned int dataoff)\n{\n    if (new_state == TCP_CONNTRACK_SYN_SENT) {\n        memset(\u0026ct-\u003eproto.tcp, 0, sizeof(ct-\u003eproto.tcp));\n        /* SYN packet */\n        ct-\u003eproto.tcp.seen[0].td_end = segment_seq_plus_len(ntohl(th-\u003eseq), skb-\u003elen, dataoff, th);\n        ct-\u003eproto.tcp.seen[0].td_maxwin = ntohs(th-\u003ewindow);\n        ...\n}\n```\n\nå¦‚æœå½“å‰åŒ…ä¼šå½±å“åé¢åŒ…çš„çŠ¶æ€åˆ¤æ–­ï¼Œ`init_conntrack()`Â ä¼šè®¾ç½®Â `struct nf_conn`Â çš„Â `master`Â å­—æ®µã€‚é¢å‘è¿æ¥çš„åè®®ä¼šç”¨åˆ°è¿™ä¸ªç‰¹æ€§ï¼Œä¾‹å¦‚ TCPã€‚\n\n## 3.8Â `nf_conntrack_confirm()`ï¼šç¡®è®¤åŒ…æ²¡æœ‰è¢«ä¸¢å¼ƒ\n\n`nf_conntrack_in()`Â åˆ›å»ºçš„æ–° conntrack entry ä¼šæ’å…¥åˆ°ä¸€ä¸ªÂ **æœªç¡®è®¤è¿æ¥**ï¼ˆ unconfirmed connectionï¼‰åˆ—è¡¨ã€‚\n\nå¦‚æœè¿™ä¸ªåŒ…ä¹‹åæ²¡æœ‰è¢«ä¸¢å¼ƒï¼Œé‚£å®ƒåœ¨ç»è¿‡Â `POST_ROUTING`Â æ—¶ä¼šè¢«Â `nf_conntrack_confirm()`Â æ–¹æ³•å¤„ç†ï¼ŒåŸç†æˆ‘ä»¬åœ¨åˆ†æè¿‡äº† 3.6 èŠ‚çš„å¼€å¤´åˆ†æè¿‡äº†ã€‚Â `nf_conntrack_confirm()`Â å®Œæˆä¹‹åï¼ŒçŠ¶æ€å°±å˜ä¸ºäº†Â `IPS_CONFIRMED`ï¼Œå¹¶ä¸”è¿æ¥è®°å½•ä»Â **æœªç¡®è®¤åˆ—è¡¨**ç§»åˆ°**æ­£å¸¸**çš„åˆ—è¡¨ã€‚\n\nä¹‹æ‰€ä»¥æŠŠåˆ›å»ºä¸€ä¸ªæ–° entry çš„è¿‡ç¨‹åˆ†ä¸ºåˆ›å»ºï¼ˆnewï¼‰å’Œç¡®è®¤ï¼ˆconfirmï¼‰ä¸¤ä¸ªé˜¶æ®µ ï¼Œæ˜¯å› ä¸º**åŒ…åœ¨ç»è¿‡ nf_conntrack_in() ä¹‹åï¼Œåˆ°è¾¾ nf_conntrack_confirm() ä¹‹å‰ ï¼Œå¯èƒ½ä¼šè¢«å†…æ ¸ä¸¢å¼ƒ**ã€‚è¿™æ ·ä¼šå¯¼è‡´ç³»ç»Ÿæ®‹ç•™å¤§é‡çš„åŠè¿æ¥çŠ¶æ€è®°å½•ï¼Œåœ¨æ€§èƒ½å’Œå®‰å…¨æ€§ä¸Šéƒ½ æ˜¯å¾ˆå¤§é—®é¢˜ã€‚åˆ†ä¸ºä¸¤æ­¥ä¹‹åï¼Œå¯ä»¥åŠ å¿«åŠè¿æ¥çŠ¶æ€ conntrack entry çš„ GCã€‚\n\n```\n// include/net/netfilter/nf_conntrack_core.h\n\n/* Confirm a connection: returns NF_DROP if packet must be dropped. */\nstatic inline int nf_conntrack_confirm(struct sk_buff *skb)\n{\n    struct nf_conn *ct = (struct nf_conn *)skb_nfct(skb);\n    int ret = NF_ACCEPT;\n\n    if (ct) {\n        if (!nf_ct_is_confirmed(ct))\n            ret = __nf_conntrack_confirm(skb);\n        if (likely(ret == NF_ACCEPT))\n            nf_ct_deliver_cached_events(ct);\n    }\n    return ret;\n}\n```\n\nconfirm é€»è¾‘ï¼Œçœç•¥äº†å„ç§é”™è¯¯å¤„ç†é€»è¾‘ï¼š\n\n```\n// net/netfilter/nf_conntrack_core.c\n\n/* Confirm a connection given skb; places it in hash table */\nint\n__nf_conntrack_confirm(struct sk_buff *skb)\n{\n    struct nf_conn *ct;\n    ct = nf_ct_get(skb, \u0026ctinfo);\n\n    local_bh_disable();               // å…³é—­è½¯ä¸­æ–­\n\n    hash = *(unsigned long *)\u0026ct-\u003etuplehash[IP_CT_DIR_REPLY].hnnode.pprev;\n    reply_hash = hash_conntrack(net, \u0026ct-\u003etuplehash[IP_CT_DIR_REPLY].tuple);\n\n    ct-\u003etimeout += nfct_time_stamp;   // æ›´æ–°è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œè¶…æ—¶åä¼šè¢« GC\n    atomic_inc(\u0026ct-\u003ect_general.use);  // è®¾ç½®è¿æ¥å¼•ç”¨è®¡æ•°ï¼Ÿ\n    ct-\u003estatus |= IPS_CONFIRMED;      // è®¾ç½®è¿æ¥çŠ¶æ€ä¸º confirmed\n\n    __nf_conntrack_hash_insert(ct, hash, reply_hash);  // æ’å…¥åˆ°è¿æ¥è·Ÿè¸ªå“ˆå¸Œè¡¨\n\n    local_bh_enable();                // é‡æ–°æ‰“å¼€è½¯ä¸­æ–­\n\n    nf_conntrack_event_cache(master_ct(ct) ? IPCT_RELATED : IPCT_NEW, ct);\n    return NF_ACCEPT;\n}\n```\n\nå¯ä»¥çœ‹åˆ°ï¼Œ**è¿æ¥è·Ÿè¸ªçš„å¤„ç†é€»è¾‘ä¸­éœ€è¦é¢‘ç¹å…³é—­å’Œæ‰“å¼€è½¯ä¸­æ–­**ï¼Œæ­¤å¤–è¿˜æœ‰å„ç§é”ï¼Œ è¿™æ˜¯çŸ­è¿é«˜å¹¶å‘åœºæ™¯ä¸‹è¿æ¥è·Ÿè¸ªæ€§èƒ½æŸè€—çš„ä¸»è¦åŸå› ï¼Ÿã€‚\n\n# 4 Netfilter NAT å®ç°\n\nNAT æ˜¯ä¸è¿æ¥è·Ÿè¸ªç‹¬ç«‹çš„æ¨¡å—ã€‚\n\n## 4.1 é‡è¦æ•°æ®ç»“æ„å’Œå‡½æ•°\n\n**é‡è¦æ•°æ®ç»“æ„ï¼š**\n\næ”¯æŒ NAT çš„åè®®éœ€è¦å®ç°å…¶ä¸­çš„æ–¹æ³•ï¼š\n\n-   `struct nf_nat_l3proto {}`\n-   `struct nf_nat_l4proto {}`\n\n**é‡è¦å‡½æ•°ï¼š**\n\n-   `nf_nat_inet_fn()`ï¼šNAT çš„æ ¸å¿ƒå‡½æ•°ï¼Œåœ¨**é™¤ NF_INET_FORWARD ä¹‹å¤–çš„å…¶ä»– hook ç‚¹éƒ½ä¼šè¢«è°ƒç”¨**ã€‚\n\n## 4.2 NAT æ¨¡å—åˆå§‹åŒ–\n\n```\n// net/netfilter/nf_nat_core.c\n\nstatic struct nf_nat_hook nat_hook = {\n    .parse_nat_setup    = nfnetlink_parse_nat_setup,\n    .decode_session        = __nf_nat_decode_session,\n    .manip_pkt        = nf_nat_manip_pkt,\n};\n\nstatic int __init nf_nat_init(void)\n{\n    nf_nat_bysource = nf_ct_alloc_hashtable(\u0026nf_nat_htable_size, 0);\n\n    nf_ct_helper_expectfn_register(\u0026follow_master_nat);\n\n    RCU_INIT_POINTER(nf_nat_hook, \u0026nat_hook);\n}\n\nMODULE_LICENSE(\"GPL\");\nmodule_init(nf_nat_init);\n```\n\n## 4.3Â `struct nf_nat_l3proto {}`ï¼šåè®®ç›¸å…³çš„ NAT æ–¹æ³•é›†\n\n```\n// include/net/netfilter/nf_nat_l3proto.h\n\nstruct nf_nat_l3proto {\n    u8    l3proto; // ä¾‹å¦‚ï¼ŒAF_INET\n\n    u32     (*secure_port    )(const struct nf_conntrack_tuple *t, __be16);\n    bool    (*manip_pkt      )(struct sk_buff *skb, ...);\n    void    (*csum_update    )(struct sk_buff *skb, ...);\n    void    (*csum_recalc    )(struct sk_buff *skb, u8 proto, ...);\n    void    (*decode_session )(struct sk_buff *skb, ...);\n    int     (*nlattr_to_range)(struct nlattr *tb[], struct nf_nat_range2 *range);\n};\n```\n\n## 4.4Â `struct nf_nat_l4proto {}`ï¼šåè®®ç›¸å…³çš„ NAT æ–¹æ³•é›†\n\n```\n// include/net/netfilter/nf_nat_l4proto.h\n\nstruct nf_nat_l4proto {\n    u8 l4proto; // Protocol numberï¼Œä¾‹å¦‚ IPPROTO_UDP, IPPROTO_TCP\n\n    // æ ¹æ®ä¼ å…¥çš„ tuple å’Œ NAT ç±»å‹ï¼ˆSNAT/DNATï¼‰ä¿®æ”¹åŒ…çš„ L3/L4 å¤´\n    bool (*manip_pkt)(struct sk_buff *skb, *l3proto, *tuple, maniptype);\n\n    // åˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„ tuple\n    // ä¾‹å¦‚å¯¹äº UDPï¼Œä¼šæ ¹æ® src_ip, dst_ip, src_port åŠ ä¸€ä¸ªéšæœºæ•°ç”Ÿæˆä¸€ä¸ª 16bit çš„ dst_port\n    void (*unique_tuple)(*l3proto, tuple, struct nf_nat_range2 *range, maniptype, struct nf_conn *ct);\n\n    // If the address range is exhausted the NAT modules will begin to drop packets.\n    int (*nlattr_to_range)(struct nlattr *tb[], struct nf_nat_range2 *range);\n};\n```\n\nå„åè®®å®ç°çš„æ–¹æ³•ï¼Œè§ï¼š`net/netfilter/nf_nat_proto_*.c`ã€‚ä¾‹å¦‚ TCP çš„å®ç°ï¼š\n\n```\n// net/netfilter/nf_nat_proto_tcp.c\n\nconst struct nf_nat_l4proto nf_nat_l4proto_tcp = {\n    .l4proto        = IPPROTO_TCP,\n    .manip_pkt        = tcp_manip_pkt,\n    .in_range        = nf_nat_l4proto_in_range,\n    .unique_tuple        = tcp_unique_tuple,\n    .nlattr_to_range    = nf_nat_l4proto_nlattr_to_range,\n};\n```\n\n## 4.5Â `nf_nat_inet_fn()`ï¼šè¿›å…¥ NAT\n\nNAT çš„æ ¸å¿ƒå‡½æ•°æ˜¯Â `nf_nat_inet_fn()`ï¼Œå®ƒä¼šåœ¨ä»¥ä¸‹ hook ç‚¹è¢«è°ƒç”¨ï¼š\n\n-   `NF_INET_PRE_ROUTING`\n-   `NF_INET_POST_ROUTING`\n-   `NF_INET_LOCAL_OUT`\n-   `NF_INET_LOCAL_IN`\n\nä¹Ÿå°±æ˜¯é™¤äº†Â `NF_INET_FORWARD`Â ä¹‹å¤–å…¶ä»– hook ç‚¹éƒ½ä¼šè¢«è°ƒç”¨ã€‚\n\n**åœ¨è¿™äº› hook ç‚¹çš„ä¼˜å…ˆçº§**ï¼š**Conntrack \u003e NAT \u003e Packet Filtering**ã€‚Â **è¿æ¥è·Ÿè¸ªçš„ä¼˜å…ˆçº§é«˜äº NAT**Â æ˜¯å› ä¸º NAT ä¾èµ–è¿æ¥è·Ÿè¸ªçš„ç»“æœã€‚\n![upgit_20221117_1668675238.png](https://images.ryken.cloud/2022/11/upgit_20221117_1668675238.png)\n\n\u003ccenter\u003eFig. NAT\u003c/center\u003e\n\n```\nunsigned int\nnf_nat_inet_fn(void *priv, struct sk_buff *skb, const struct nf_hook_state *state)\n{\n    ct = nf_ct_get(skb, \u0026ctinfo);\n    if (!ct)    // conntrack ä¸å­˜åœ¨å°±åšä¸äº† NATï¼Œç›´æ¥è¿”å›ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸ºä»€ä¹ˆè¯´ NAT ä¾èµ– conntrack çš„ç»“æœ\n        return NF_ACCEPT;\n\n    nat = nfct_nat(ct);\n\n    switch (ctinfo) {\n    case IP_CT_RELATED:\n    case IP_CT_RELATED_REPLY: /* Only ICMPs can be IP_CT_IS_REPLY.  Fallthrough */\n    case IP_CT_NEW: /* Seen it before? This can happen for loopback, retrans, or local packets. */\n        if (!nf_nat_initialized(ct, maniptype)) {\n            struct nf_hook_entries *e = rcu_dereference(lpriv-\u003eentries); // è·å–æ‰€æœ‰ NAT è§„åˆ™\n            if (!e)\n                goto null_bind;\n\n            for (i = 0; i \u003c e-\u003enum_hook_entries; i++) { // ä¾æ¬¡æ‰§è¡Œ NAT è§„åˆ™\n                if (e-\u003ehooks[i].hook(e-\u003ehooks[i].priv, skb, state) != NF_ACCEPT )\n                    return ret;                         // ä»»ä½•è§„åˆ™è¿”å›é NF_ACCEPTï¼Œå°±åœæ­¢å½“å‰å¤„ç†\n\n                if (nf_nat_initialized(ct, maniptype))\n                    goto do_nat;\n            }\nnull_bind:\n            nf_nat_alloc_null_binding(ct, state-\u003ehook);\n        } else { // Already setup manip\n            if (nf_nat_oif_changed(state-\u003ehook, ctinfo, nat, state-\u003eout))\n                goto oif_changed;\n        }\n        break;\n    default: /* ESTABLISHED */\n        if (nf_nat_oif_changed(state-\u003ehook, ctinfo, nat, state-\u003eout))\n            goto oif_changed;\n    }\ndo_nat:\n    return nf_nat_packet(ct, ctinfo, state-\u003ehook, skb);\noif_changed:\n    nf_ct_kill_acct(ct, ctinfo, skb);\n    return NF_DROP;\n}\n```\n\né¦–å…ˆæŸ¥è¯¢ conntrack è®°å½•ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°±æ„å‘³ç€æ— æ³•è·Ÿè¸ªè¿™ä¸ªè¿æ¥ï¼Œé‚£å°±æ›´ä¸å¯èƒ½åš NAT äº†ï¼Œå› æ­¤ç›´æ¥è¿”å›ã€‚\n\nå¦‚æœæ‰¾åˆ°äº† conntrack è®°å½•ï¼Œå¹¶ä¸”æ˜¯Â `IP_CT_RELATED`ã€`IP_CT_RELATED_REPLY`Â æˆ–Â `IP_CT_NEW`Â çŠ¶æ€ï¼Œå°±å»è·å– NAT è§„åˆ™ã€‚å¦‚æœæ²¡æœ‰è§„åˆ™ï¼Œç›´æ¥è¿”å›Â `NF_ACCEPT`ï¼Œå¯¹åŒ…ä¸ åšä»»ä½•æ”¹åŠ¨ï¼›å¦‚æœæœ‰è§„åˆ™ï¼Œæœ€åæ‰§è¡ŒÂ `nf_nat_packet`ï¼Œè¿™ä¸ªå‡½æ•°ä¼šè¿›ä¸€æ­¥è°ƒç”¨Â `manip_pkt`Â å®Œæˆå¯¹åŒ…çš„ä¿®æ”¹ï¼Œå¦‚æœå¤±è´¥ï¼ŒåŒ…å°†è¢«ä¸¢å¼ƒã€‚\n\n### Masquerade\n\nNAT æ¨¡å—\n\n-   ä¸€èˆ¬é…ç½®æ–¹å¼ï¼š`Change IP1 to IP2 if matching XXX`ã€‚\n-   é«˜çº§é…ç½®æ–¹å¼ï¼š`Change IP1 to dev1's IP if matching XXX`ï¼Œè¿™ç§æ–¹å¼ç§°ä¸º Masqueradeã€‚\n\nMasquerade ä¼˜ç¼ºç‚¹ï¼š\n\n-   ä¼˜ç‚¹ï¼š**å½“è®¾å¤‡ï¼ˆç½‘å¡ï¼‰çš„ IP åœ°å€å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒNAT è§„åˆ™æ— éœ€åšä»»ä½•ä¿®æ”¹**ã€‚\n-   ç¼ºç‚¹ï¼š**æ€§èƒ½æ¯”ç¬¬ä¸€ç§æ–¹å¼è¦å·®**ã€‚\n\n## 4.6Â `nf_nat_packet()`ï¼šæ‰§è¡Œ NAT\n\n```\n// net/netfilter/nf_nat_core.c\n\n/* Do packet manipulations according to nf_nat_setup_info. */\nunsigned int nf_nat_packet(struct nf_conn *ct, enum ip_conntrack_info ctinfo,\n               unsigned int hooknum, struct sk_buff *skb)\n{\n    enum nf_nat_manip_type mtype = HOOK2MANIP(hooknum);\n    enum ip_conntrack_dir dir = CTINFO2DIR(ctinfo);\n    unsigned int verdict = NF_ACCEPT;\n\n    statusbit = (mtype == NF_NAT_MANIP_SRC? IPS_SRC_NAT : IPS_DST_NAT)\n\n    if (dir == IP_CT_DIR_REPLY)     // Invert if this is reply dir\n        statusbit ^= IPS_NAT_MASK;\n\n    if (ct-\u003estatus \u0026 statusbit)     // Non-atomic: these bits don't change. */\n        verdict = nf_nat_manip_pkt(skb, ct, mtype, dir);\n\n    return verdict;\n}\n```\n\n```\nstatic unsigned int nf_nat_manip_pkt(struct sk_buff *skb, struct nf_conn *ct,\n                     enum nf_nat_manip_type mtype, enum ip_conntrack_dir dir)\n{\n    struct nf_conntrack_tuple target;\n\n    /* We are aiming to look like inverse of other direction. */\n    nf_ct_invert_tuplepr(\u0026target, \u0026ct-\u003etuplehash[!dir].tuple);\n\n    l3proto = __nf_nat_l3proto_find(target.src.l3num);\n    l4proto = __nf_nat_l4proto_find(target.src.l3num, target.dst.protonum);\n    if (!l3proto-\u003emanip_pkt(skb, 0, l4proto, \u0026target, mtype)) // åè®®ç›¸å…³å¤„ç†\n        return NF_DROP;\n\n    return NF_ACCEPT;\n}\n```\n\n# 5. é…ç½®å’Œç›‘æ§\n\n## 5.1 æŸ¥çœ‹/åŠ è½½/å¸è½½ nf_conntrack æ¨¡å—\n\n```\n$ modinfo nf_conntrack\nfilename:       /lib/modules/5.15.0-46-generic/kernel/net/netfilter/nf_conntrack.ko\nlicense:        GPL\nalias:          nf_conntrack-10\nalias:          nf_conntrack-2\nalias:          ip_conntrack\nsrcversion:     30B45E5822722ACEDE23A4B\ndepends:        nf_defrag_ipv6,libcrc32c,nf_defrag_ipv4\nretpoline:      Y\nintree:         Y\nname:           nf_conntrack\nvermagic:       5.15.0-46-generic SMP mod_unload modversions\nsig_id:         PKCS#7\nsigner:         Build time autogenerated kernel key\nsig_key:        17:6F:92:2F:58:6B:B2:28:13:DC:71:DC:5A:97:EE:BA:D8:4B:C7:DE\nsig_hashalgo:   sha512\nsignature:      0B:32:AA:93:F4:31:52:9C:FE:0D:80:B4:F6:7C:30:63:4C:F6:03:AA:\n                ...\n                E9:1F:45:C6:77:C2:29:99:B4:3D:1A:D2\nparm:           tstamp:Enable connection tracking flow timestamping. (bool)\nparm:           acct:Enable connection tracking flow accounting. (bool)\nparm:           nf_conntrack_helper:Enable automatic conntrack helper assignment (default 0) (bool)\nparm:           expect_hashsize:uint\nparm:           enable_hooks:Always enable conntrack hooks (bool)\n```\n\nå¸è½½ï¼š\n\n```\n$ rmmod nf_conntrack_netlink nf_conntrack\n```\n\né‡æ–°åŠ è½½ï¼š\n\n```\n$ modprobe nf_conntrack\n\n# åŠ è½½æ—¶è¿˜å¯ä»¥æŒ‡å®šé¢å¤–çš„é…ç½®å‚æ•°ï¼Œä¾‹å¦‚ï¼š\n$ modprobe nf_conntrack nf_conntrack_helper=1 expect_hashsize=131072\n```\n\n## 5.2 sysctl é…ç½®é¡¹\n\n```\n$ sysctl -a | grep nf_conntrack\nnet.netfilter.nf_conntrack_acct = 0\nnet.netfilter.nf_conntrack_buckets = 262144                 # hashsize = nf_conntrack_max/nf_conntrack_buckets\nnet.netfilter.nf_conntrack_checksum = 1\nnet.netfilter.nf_conntrack_count = 2148\n... # DCCP options\nnet.netfilter.nf_conntrack_events = 1\nnet.netfilter.nf_conntrack_expect_max = 1024\n... # IPv6 options\nnet.netfilter.nf_conntrack_generic_timeout = 600\nnet.netfilter.nf_conntrack_helper = 0\nnet.netfilter.nf_conntrack_icmp_timeout = 30\nnet.netfilter.nf_conntrack_log_invalid = 0\nnet.netfilter.nf_conntrack_max = 1048576                    # conntrack table size\n... # SCTP options\nnet.netfilter.nf_conntrack_tcp_be_liberal = 0\nnet.netfilter.nf_conntrack_tcp_loose = 1\nnet.netfilter.nf_conntrack_tcp_max_retrans = 3\nnet.netfilter.nf_conntrack_tcp_timeout_close = 10\nnet.netfilter.nf_conntrack_tcp_timeout_close_wait = 60\nnet.netfilter.nf_conntrack_tcp_timeout_established = 21600\nnet.netfilter.nf_conntrack_tcp_timeout_fin_wait = 120\nnet.netfilter.nf_conntrack_tcp_timeout_last_ack = 30\nnet.netfilter.nf_conntrack_tcp_timeout_max_retrans = 300\nnet.netfilter.nf_conntrack_tcp_timeout_syn_recv = 60\nnet.netfilter.nf_conntrack_tcp_timeout_syn_sent = 120\nnet.netfilter.nf_conntrack_tcp_timeout_time_wait = 120\nnet.netfilter.nf_conntrack_tcp_timeout_unacknowledged = 300\nnet.netfilter.nf_conntrack_timestamp = 0\nnet.netfilter.nf_conntrack_udp_timeout = 30\nnet.netfilter.nf_conntrack_udp_timeout_stream = 180\n```\n\n## 5.3 ç›‘æ§\n\n### ä¸¢åŒ…ç›‘æ§\n\n`/proc/net/stat`Â ä¸‹é¢æœ‰ä¸€äº›å…³äº conntrack çš„è¯¦ç»†ç»Ÿè®¡ï¼š\n\n```\n$ cat /proc/net/stat/nf_conntrack\nentries   searched found    new      invalid  ignore   delete   delete_list insert   insert_failed drop     early_drop icmp_error  expect_new expect_create expect_delete search_restart\n000008e3  00000000 00000000 00000000 0000309d 001e72d4 00000000 00000000    00000000 00000000      00000000 00000000   000000ee    00000000   00000000      00000000       000368d7\n000008e3  00000000 00000000 00000000 00007301 002b8e8c 00000000 00000000    00000000 00000000      00000000 00000000   00000170    00000000   00000000      00000000       00035794\n000008e3  00000000 00000000 00000000 00001eea 001e6382 00000000 00000000    00000000 00000000      00000000 00000000   00000059    00000000   00000000      00000000       0003f166\n...\n```\n\næ­¤å¤–ï¼Œè¿˜å¯ä»¥ç”¨Â `conntrack`Â å‘½ä»¤ï¼š\n\n```\n$ conntrack -S\ncpu=0   found=0 invalid=743150 ignore=238069 insert=0 insert_failed=0 drop=195603 early_drop=118583 error=16 search_restart=22391652\ncpu=1   found=0 invalid=2004   ignore=402790 insert=0 insert_failed=0 drop=44371  early_drop=34890  error=0  search_restart=1225447\n...\n```\n\n-   ignoreï¼šä¸éœ€è¦åšè¿æ¥è·Ÿè¸ªçš„åŒ…ï¼ˆå›å¿†å‰é¢ï¼Œåªæœ‰ç‰¹å®šåè®®çš„åŒ…æ‰ä¼šåšè¿æ¥è·Ÿè¸ªï¼‰\n\n### conntrack table ä½¿ç”¨é‡ç›‘æ§\n\nå¯ä»¥å®šæœŸé‡‡é›†ç³»ç»Ÿçš„ conntrack ä½¿ç”¨é‡ï¼Œ\n\n```\n$ cat /proc/sys/net/netfilter/nf_conntrack_count\n257273\n```\n\nå¹¶ä¸æœ€å¤§å€¼æ¯”è¾ƒï¼š\n\n```\n$ cat /proc/sys/net/netfilter/nf_conntrack_max\n262144\n```\n\n# 6. å¸¸è§é—®é¢˜\n\n## 6.1 è¿æ¥å¤ªå¤šå¯¼è‡´ conntrack table è¢«æ‰“çˆ†\n\n### ç°è±¡\n\n#### ä¸šåŠ¡å±‚ï¼ˆåº”ç”¨å±‚ï¼‰ç°è±¡\n\n1.  å­˜åœ¨éšæœºã€å¶å‘çš„**æ–°å»ºè¿æ¥**è¶…æ—¶ï¼ˆconnect timeoutï¼‰ã€‚\n    \n    ä¾‹å¦‚ï¼Œå¦‚æœä¸šåŠ¡ç”¨çš„æ˜¯ Javaï¼Œé‚£å¯¹åº”çš„æ˜¯Â `jdbc4.CommunicationsException`Â communications link failure ä¹‹ç±»çš„é”™è¯¯ã€‚\n    \n2.  **å·²æœ‰è¿æ¥**æ­£å¸¸ã€‚\n    \n    ä¹Ÿå°±æ˜¯æ²¡æœ‰ read timeout æˆ– write timeout ä¹‹ç±»çš„æŠ¥é”™ï¼ŒæŠ¥é”™éƒ½é›†ä¸­ä¸º connect timeoutã€‚\n    \n\n#### ç½‘ç»œå±‚ç°è±¡\n\n1.  æŠ“åŒ…ä¼šçœ‹åˆ°ä¸‰æ¬¡æ¡æ‰‹çš„**ç¬¬ä¸€ä¸ª SYN åŒ…è¢«å®¿ä¸»æœºé™é»˜ä¸¢å¼ƒäº†**ã€‚\n    \n    éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¸¸è§„çš„ç½‘å¡ç»Ÿè®¡ï¼ˆ`ifconfig`ï¼‰å’Œå†…æ ¸ç»Ÿè®¡ï¼ˆ`/proc/net/softnet_stat`ï¼‰Â **æ— æ³•åæ˜ å‡ºè¿™äº›ä¸¢åŒ…**ã€‚\n    \n2.  `1s+`Â ä¹‹åå‡ºå‘ SYN é‡ä¼ ï¼Œæˆ–è€…è¿˜æ²¡é‡ä¼ è¿æ¥å°±å…³é—­äº†ã€‚\n    \n    **ç¬¬ä¸€ä¸ª SYN çš„é‡ä¼ æ˜¯ 1sï¼Œè¿™ä¸ªæ˜¯å†…æ ¸ä»£ç é‡Œå†™æ­»çš„ï¼Œä¸å¯é…ç½®**ï¼ˆå…·ä½“å®ç°è§Â [é™„å½•](https://arthurchiao.art/blog/conntrack-design-and-implementation-zh/#ch_8.1)ï¼‰ã€‚\n    \n    å†è€ƒè™‘åˆ°å…¶ä»–ä¸€äº›è€—æ—¶ï¼Œç¬¬ä¸€æ¬¡é‡ä¼ çš„å®é™…é—´éš”è¦å¤§äº 1sã€‚ å¦‚æœå®¢æˆ·ç«¯è®¾ç½®çš„è¶…æ—¶æ—¶é—´å¾ˆå°ï¼Œä¾‹å¦‚Â `1.05s`ï¼Œé‚£å¯èƒ½æ¥ä¸åŠé‡ä¼ è¿æ¥å°±è¢«å…³é—­äº†ï¼Œç„¶åå‘ä¸Šå±‚æŠ¥ connect timeout é”™è¯¯ã€‚\n    \n\n#### æ“ä½œç³»ç»Ÿå±‚ç°è±¡\n\nå†…æ ¸æ—¥å¿—ä¸­æœ‰å¦‚ä¸‹æŠ¥é”™ï¼š\n\n```\n$ demsg -T\n[Tue Apr  6 18:12:30 2021] nf_conntrack: nf_conntrack: table full, dropping packet\n[Tue Apr  6 18:12:30 2021] nf_conntrack: nf_conntrack: table full, dropping packet\n[Tue Apr  6 18:12:30 2021] nf_conntrack: nf_conntrack: table full, dropping packet\n...\n```\n\nå¦å¤–ï¼Œ`cat /proc/net/stat/nf_conntrack`Â æˆ–Â `conntrack -S`Â èƒ½çœ‹åˆ°æœ‰ drop ç»Ÿè®¡ã€‚\n\n### ç¡®è®¤ conntrack table è¢«æ‰“çˆ†\n\né‡åˆ°ä»¥ä¸Šç°è±¡ï¼ŒåŸºæœ¬å°±æ˜¯ conntrack è¡¨è¢«æ‰“çˆ†äº†ã€‚ç¡®è®¤ï¼š\n\n```\n$ cat /proc/sys/net/netfilter/nf_conntrack_count\n257273\n\n$ cat /proc/sys/net/netfilter/nf_conntrack_max\nnet.netfilter.nf_conntrack_max = 262144\n```\n\nå¦‚æœæœ‰ conntrack count ç›‘æ§ä¼šçœ‹çš„æ›´æ¸…æ¥šï¼Œå› ä¸ºæˆ‘ä»¬å‘½ä»¤è¡ŒæŸ¥çœ‹æ—¶ï¼Œé«˜å³°å¯èƒ½è¿‡äº†ã€‚\n\n### è§£å†³æ–¹å¼\n\nä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼š\n\n1.  è°ƒå¤§ conntrack è¡¨\n    \n    è¿è¡Œæ—¶é…ç½®ï¼ˆç»å®é™…æµ‹è¯•ï¼Œ**ä¸ä¼šå¯¹ç°æœ‰è¿æ¥é€ æˆå½±å“**ï¼‰ï¼š\n    \n    ```\n     $ sysctl -w net.netfilter.nf_conntrack_max=524288\n     $ sysctl -w net.netfilter.nf_conntrack_buckets=131072 # æ¨èé…ç½® hashsize=nf_conntrack_count/4\n    ```\n    \n    æŒä¹…åŒ–é…ç½®ï¼š\n    \n    ```\n     $ echo 'net.netfilter.nf_conntrack_max = 524288' \u003e\u003e /etc/sysctl.conf\n     $ echo 'net.netfilter.nf_conntrack_buckets = 131072' \u003e\u003e /etc/sysctl.conf\n    ```\n    \n    å½±å“ï¼šè¿æ¥è·Ÿè¸ªæ¨¡å—**ä¼šå¤šç”¨ä¸€äº›å†…å­˜**ã€‚å…·ä½“å¤šç”¨å¤šå°‘å†…å­˜ï¼Œå¯å‚è€ƒÂ [é™„å½•](https://arthurchiao.art/blog/conntrack-design-and-implementation-zh/#ch_8.2)ã€‚\n    \n2.  å‡å° GC æ—¶é—´\n    \n    è¿˜å¯ä»¥è°ƒå° conntrack çš„ GCï¼ˆä¹Ÿå« timeoutï¼‰æ—¶é—´ï¼ŒåŠ å¿«è¿‡æœŸ entry çš„å›æ”¶ã€‚\n    \n    `nf_conntrack`Â é’ˆå¯¹ä¸åŒ TCP çŠ¶æ€ï¼ˆestablishedã€fin_waitã€time_wait ç­‰ï¼‰çš„ entry æœ‰ä¸åŒçš„ GC æ—¶é—´ã€‚\n    \n    ä¾‹å¦‚ï¼Œ**é»˜è®¤çš„ established çŠ¶æ€çš„ GC æ—¶é—´æ˜¯ 423000sï¼ˆ5 å¤©ï¼‰**ã€‚è®¾ç½®æˆè¿™ä¹ˆé•¿çš„Â **å¯èƒ½åŸå› **æ˜¯ï¼šTCP/IP åè®®ä¸­å…è®¸ established çŠ¶æ€çš„è¿æ¥æ— é™æœŸä¸å‘é€ä»»ä½•ä¸œè¥¿ï¼ˆä½†ä»ç„¶æ´»ç€ï¼‰ [8]ï¼Œåè®®çš„å…·ä½“å®ç°ï¼ˆLinuxã€BSDã€Windows ç­‰ï¼‰ä¼šè®¾ç½®å„è‡ªå…è®¸çš„æœ€å¤§ idle timeoutã€‚ä¸ºé˜²æ­¢ GC æ‰è¿™æ ·é•¿æ—¶é—´æ²¡æµé‡ä½†å®é™…è¿˜æ´»ç€çš„è¿æ¥ï¼Œå°±è®¾ç½®ä¸€ä¸ªè¶³å¤Ÿä¿å®ˆçš„ timeout æ—¶é—´ã€‚[8] ä¸­å»ºè®®è¿™ä¸ªå€¼ä¸å°äº 2 å°æ—¶ 4 åˆ†é’Ÿï¼ˆä½œä¸ºå¯¹æ¯”å’Œå‚è€ƒï¼ŒÂ **Cilium è‡ªå·±å®ç°çš„ CT ä¸­ï¼Œé»˜è®¤ established GC æ˜¯ 6 å°æ—¶**ï¼‰ã€‚ ä½†ä¹Ÿèƒ½çœ‹åˆ°ä¸€äº›å‚å•†æ¨èæ¯”è¿™ä¸ªå°å¾—å¤šçš„é…ç½®ï¼Œä¾‹å¦‚ 20 åˆ†é’Ÿã€‚\n    \n    å¦‚æœå¯¹è‡ªå·±çš„ç½‘ç»œç¯å¢ƒå’Œéœ€æ±‚éå¸¸æ¸…æ¥šï¼Œé‚£å¯ä»¥å°†è¿™ä¸ªæ—¶é—´è°ƒåˆ°ä¸€ä¸ªåˆç†çš„ã€è¶³å¤Ÿå°çš„å€¼ï¼› å¦‚æœä¸æ˜¯éå¸¸ç¡®å®šçš„è¯ï¼Œè¿˜æ˜¯**å»ºè®®ä¿å®ˆä¸€äº›ï¼Œä¾‹å¦‚è®¾ç½® 6 ä¸ªå°æ—¶**Â â€”â€” è¿™å·²ç»æ¯”é»˜è®¤å€¼ 5 å¤©å°å¤šäº†ã€‚\n    \n    ```\n     $ sysctl -w net.netfilter.nf_conntrack_tcp_timeout_established = 21600\n    ```\n    \n    æŒä¹…åŒ–ï¼š\n    \n    ```\n     $ echo 'net.netfilter.nf_conntrack_tcp_timeout_established = 21600' \u003e\u003e /etc/sysctl.conf\n    ```\n    \n    å…¶ä»–å‡ ä¸ª timeout å€¼ï¼ˆå°¤å…¶æ˜¯Â `nf_conntrack_tcp_timeout_time_wait`ï¼Œé»˜è®¤Â `120s`ï¼‰ä¹Ÿå¯ä»¥é€‚å½“è°ƒå°ï¼Œ ä½†è¿˜æ˜¯é‚£å¥è¯ï¼š**å¦‚æœä¸ç¡®å®šæ½œåœ¨åæœï¼Œåƒä¸‡ä¸è¦æ¿€è¿›åœ°è°ƒå°**ã€‚\n    \n\n# 7. æ€»ç»“\n\nè¿æ¥è·Ÿè¸ªæ˜¯ä¸€ä¸ªéå¸¸åŸºç¡€ä¸”é‡è¦çš„ç½‘ç»œæ¨¡å—ï¼Œä½†åªæœ‰åœ¨å°‘æ•°åœºæ™¯ä¸‹æ‰ä¼šå¼•èµ·æ™®é€šå¼€å‘è€…çš„æ³¨æ„ã€‚\n\nä¾‹å¦‚ï¼ŒL4LB çŸ­æ—¶é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼ŒLB èŠ‚ç‚¹æ¯ç§’æ¥å—å¤§é‡å¹¶å‘çŸ­è¿æ¥ï¼Œå¯èƒ½å¯¼è‡´ conntrack table è¢«æ‰“çˆ†ã€‚æ­¤æ—¶çš„ç°è±¡æ˜¯ï¼š\n\n-   å®¢æˆ·ç«¯å’Œ L4LB å»ºè¿å¤±è´¥ï¼Œå¤±è´¥å¯èƒ½æ˜¯éšæœºçš„ï¼Œä¹Ÿå¯èƒ½æ˜¯é›†ä¸­åœ¨æŸäº›æ—¶é—´ç‚¹ã€‚\n-   å®¢æˆ·ç«¯é‡è¯•å¯èƒ½ä¼šæˆåŠŸï¼Œä¹Ÿå¯èƒ½ä¼šå¤±è´¥ã€‚\n-   åœ¨ L4LB èŠ‚ç‚¹æŠ“åŒ…çœ‹ï¼Œå®¢æˆ·ç«¯è¿‡æ¥çš„ TCP SYNC åŒ… L4LB æ”¶åˆ°äº†ï¼Œä½†æ²¡æœ‰å› ACKã€‚å³ï¼ŒåŒ… è¢«é™é»˜ä¸¢å¼ƒäº†ï¼ˆsilently droppedï¼‰ã€‚\n\næ­¤æ—¶çš„åŸå› å¯èƒ½æ˜¯ conntrack table å¤ªå°ï¼Œä¹Ÿå¯èƒ½æ˜¯ GC ä¸å¤ŸåŠ æ—¶ï¼Œç”šè‡³æ˜¯Â [GC æœ‰bug](https://github.com/cilium/cilium/pull/12729)ã€‚\n\n# 8. é™„å½•\n\n## 8.1 ç¬¬ä¸€ä¸ª SYN åŒ…çš„é‡ä¼ é—´éš”è®¡ç®—ï¼ˆLinux 4.19.118 å®ç°ï¼‰\n\nè°ƒç”¨è·¯å¾„ï¼š`tcp_connect() -\u003e tcp_connect_init() -\u003e tcp_timeout_init()`ã€‚\n\n```\n// net/ipv4/tcp_output.c\n/* Do all connect socket setups that can be done AF independent. */\nstatic void tcp_connect_init(struct sock *sk)\n{\n    inet_csk(sk)-\u003eicsk_rto = tcp_timeout_init(sk);\n    ...\n}\n\n// include/net/tcp.h\nstatic inline u32 tcp_timeout_init(struct sock *sk)\n{\n    // è·å– SYN-RTOï¼šå¦‚æœè¿™ä¸ª socket ä¸Šæ²¡æœ‰ BPF ç¨‹åºï¼Œæˆ–è€…æœ‰ BPF ç¨‹åºä½†æ‰§è¡Œå¤±è´¥ï¼Œéƒ½è¿”å› -1\n    // é™¤éç”¨æˆ·è‡ªå·±ç¼–å†™ BPF ç¨‹åºå¹¶ attach åˆ° cgroup/socketï¼Œå¦åˆ™è¿™é‡Œéƒ½æ˜¯æ²¡æœ‰ BPF çš„ï¼Œå› æ­¤è¿™é‡Œè¿”å› -1\n    timeout = tcp_call_bpf(sk, BPF_SOCK_OPS_TIMEOUT_INIT, 0, NULL);\n\n    if (timeout \u003c= 0)                // timeout == -1ï¼Œæ¥ä¸‹æ¥ä½¿ç”¨é»˜è®¤å€¼\n        timeout = TCP_TIMEOUT_INIT;  // å®å®šä¹‰ï¼Œç­‰äºç³»ç»Ÿçš„ HZ æ•°ï¼Œä¹Ÿå°±æ˜¯ 1 ç§’ï¼Œè§ä¸‹é¢\n    return timeout;\n}\n\n// include/net/tcp.h\n#define TCP_RTO_MAX    ((unsigned)(120*HZ))\n#define TCP_RTO_MIN    ((unsigned)(HZ/5))\n#define TCP_TIMEOUT_MIN    (2U) /* Min timeout for TCP timers in jiffies */\n#define TCP_TIMEOUT_INIT ((unsigned)(1*HZ))    /* RFC6298 2.1 initial RTO value    */\n```\n\n## 8.2 æ ¹æ® nf_conntrack_max è®¡ç®— conntrack æ¨¡å—æ‰€éœ€çš„å†…å­˜\n\n```\n$ cat /proc/slabinfo | head -n2; cat /proc/slabinfo | grep conntrack\nslabinfo - version: 2.1\n# name            \u003cactive_objs\u003e \u003cnum_objs\u003e \u003cobjsize\u003e \u003cobjperslab\u003e \u003cpagesperslab\u003e : tunables \u003climit\u003e \u003cbatchcount\u003e \u003csharedfactor\u003e : slabdata \u003cactive_slabs\u003e \u003cnum_slabs\u003e \u003csharedavail\u003e\nnf_conntrack      512824 599505    320   51    4 : tunables    0    0    0 : slabdata  11755  11755      0\n```\n\nå…¶ä¸­çš„Â **objsize è¡¨ç¤ºè¿™ä¸ªå†…æ ¸å¯¹è±¡**ï¼ˆè¿™é‡Œå¯¹åº”çš„æ˜¯Â `struct nf_conn`ï¼‰çš„å¤§å°ï¼Œ å•ä½æ˜¯**å­—èŠ‚**ï¼Œæ‰€ä»¥ä»¥ä¸Šè¾“å‡ºè¡¨æ˜**æ¯ä¸ª conntrack entry å ç”¨ 320 å­—èŠ‚çš„å†…å­˜ç©ºé—´**ã€‚\n\nå¦‚æœå¿½ç•¥å†…å­˜ç¢ç‰‡ï¼ˆå†…å­˜åˆ†é…å•ä½ä¸º slabï¼‰ï¼Œé‚£**ä¸åŒ size çš„ conntrack table å ç”¨çš„å†…å­˜**å¦‚ä¸‹ï¼š\n\n-   `nf_conntrack_max=512K`:Â `512K * 320Byte = 160MB`\n-   `nf_conntrack_max=1M`:Â `1M * 320Byte = 320MB`\n\næ›´ç²¾ç¡®çš„è®¡ç®—ï¼Œå¯ä»¥å‚è€ƒ [9]ã€‚\n\n# References\n1.  [Netfilter connection tracking and NAT implementation](https://wiki.aalto.fi/download/attachments/69901948/netfilter-paper.pdf). Proc. Seminar on Network Protocols in Operating Systems, Dept. Commun. and Networking, Aalto Univ. 2013.\n2.  [Cilium: Kubernetes without kube-proxy](https://docs.cilium.io/en/v1.7/gettingstarted/kubeproxy-free/)\n3.  [L4LB for Kubernetes: Theory and Practice with Cilium+BGP+ECMP](https://arthurchiao.art/blog/k8s-l4lb/)\n4.  [Docker bridge network mode](https://docs.docker.com/network/bridge/)\n5.  [Wikipedia: Netfilter](https://en.wikipedia.org/wiki/Netfilter)\n6.  [Conntrack tales - one thousand and one flows](https://blog.cloudflare.com/conntrack-tales-one-thousand-and-one-flows/)\n7.  [How connection tracking in Open vSwitch helps OpenStack performance](https://www.redhat.com/en/blog/how-connection-tracking-open-vswitch-helps-openstack-performance)\n8.  [NAT Behavioral Requirements for TCP](https://tools.ietf.org/html/rfc5382#section-5), RFC5382\n9.  [Netfilter Conntrack Memory Usage](https://johnleach.co.uk/posts/2009/06/17/netfilter-conntrack-memory-usage/)\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/containerlab":{"title":"","content":"#containerlab #network #tools\n\n### å®‰è£…\nbash -c \"$(curl -sL https://get.containerlab.dev)\"\n\n### é…ç½®\nvyos\n\n\nç½‘ç»œæ¨¡å¼\n- ä¸»æœºç½‘ç»œ\n- å®¹å™¨ç½‘ç»œ\n\n### é…ç½® spine + leaf \nå®‰è£… dockerã€kubectl \n```bash\ncurl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun\n\ncurl -LO \"https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl\"\n\napt install bridge-utils\nbrctl addbr bridge0\n```\n#### 1. ä½¿ç”¨ kind åˆ›å»º node èŠ‚ç‚¹\n\nå›ºå®šèŠ‚ç‚¹ ip \n\n[[Kind Tools]]\n```\nkind: Cluster\nname: cluster\napiVersion: kind.x-k8s.io/v1alpha4\nnodes:\n- role: control-plane\n  image: kindest/node:v1.24.7@sha256:577c630ce8e509131eab1aea12c022190978dd2f745aac5eb1fe65c0807eb315\n- role: worker\n  image: kindest/node:v1.24.7@sha256:577c630ce8e509131eab1aea12c022190978dd2f745aac5eb1fe65c0807eb315\n- role: worker\n  image: kindest/node:v1.24.7@sha256:577c630ce8e509131eab1aea12c022190978dd2f745aac5eb1fe65c0807eb315\n- role: worker\n  image: kindest/node:v1.24.7@sha256:577c630ce8e509131eab1aea12c022190978dd2f745aac5eb1fe65c0807eb315\nnetworking:\n  disableDefaultCNI: true\n  podSubnet: 10.233.64.0/18\n  serviceSubnet: 10.233.0.0/18\n```\n\n2. åˆ›å»ºæ‹“æ‰‘\n\n```\ncontainerlab deploy -t srl02.clab.yml\n#Â topo.yaml  \nname:Â bgp-cplane-demo  \ntopology:  \nÂ Â kinds:  \nÂ Â Â Â linux:  \nÂ Â Â Â Â Â cmd:Â bash  \nÂ Â nodes:  \nÂ Â Â Â router0:  \nÂ Â Â Â Â Â kind:Â linux  \nÂ Â Â Â Â Â image:Â frrouting/frr:v8.2.2  \nÂ Â Â Â Â Â labels:  \nÂ Â Â Â Â Â Â Â app:Â frr  \nÂ Â Â Â Â Â exec:  \nÂ Â Â Â Â Â -Â iptablesÂ -tÂ natÂ -AÂ POSTROUTINGÂ -oÂ eth0Â -jÂ MASQUERADE  \nÂ Â Â Â Â Â -Â ipÂ addrÂ addÂ 10.0.0.0/32Â devÂ lo  \nÂ Â Â Â Â Â -Â ipÂ routeÂ addÂ blackholeÂ 10.0.0.0/8  \nÂ Â Â Â Â Â -Â touchÂ /etc/frr/vtysh.conf  \nÂ Â Â Â Â Â -Â sedÂ -iÂ -eÂ 's/bgpd=no/bgpd=yes/g'Â /etc/frr/daemons  \nÂ Â Â Â Â Â -Â usr/lib/frr/frrinit.shÂ start  \nÂ Â Â Â Â Â -Â \u003e-  \nÂ Â Â Â Â Â Â Â Â vtyshÂ -cÂ 'confÂ t'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'routerÂ bgpÂ 65000'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â bgpÂ router-idÂ 10.0.0.0'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â noÂ bgpÂ ebgp-requires-policy'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ ROUTERSÂ peer-group'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ ROUTERSÂ remote-asÂ external'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ ROUTERSÂ default-originate'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ net0Â interfaceÂ peer-groupÂ ROUTERS'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ net1Â interfaceÂ peer-groupÂ ROUTERS'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â address-familyÂ ipv4Â unicast'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â Â Â redistributeÂ connected'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â exit-address-family'  \nÂ Â Â Â Â Â Â Â Â -cÂ '!'Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â \nÂ Â Â Â Â Â Â Â Â \nÂ Â Â Â tor0:  \nÂ Â Â Â Â Â kind:Â linux  \nÂ Â Â Â Â Â image:Â frrouting/frr:v8.2.2Â Â   \nÂ Â Â Â Â Â labels:  \nÂ Â Â Â Â Â Â Â app:Â frr  \nÂ Â Â Â Â Â exec:  \nÂ Â Â Â Â Â -Â ipÂ linkÂ delÂ eth0  \nÂ Â Â Â Â Â -Â ipÂ addrÂ addÂ 10.0.0.1/32Â devÂ lo  \nÂ Â Â Â Â Â -Â ipÂ addrÂ addÂ 10.0.1.1/24Â devÂ net1  \nÂ Â Â Â Â Â -Â ipÂ addrÂ addÂ 10.0.2.1/24Â devÂ net2  \nÂ Â Â Â Â Â -Â touchÂ /etc/frr/vtysh.conf  \nÂ Â Â Â Â Â -Â sedÂ -iÂ -eÂ 's/bgpd=no/bgpd=yes/g'Â /etc/frr/daemons  \nÂ Â Â Â Â Â -Â /usr/lib/frr/frrinit.shÂ start  \nÂ Â Â Â Â Â -Â \u003e-  \nÂ Â Â Â Â Â Â Â Â vtyshÂ -cÂ 'confÂ t'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'frrÂ defaultsÂ datacenter'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'routerÂ bgpÂ 65010'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â bgpÂ router-idÂ 10.0.0.1'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â noÂ bgpÂ ebgp-requires-policy'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ ROUTERSÂ peer-group'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ ROUTERSÂ remote-asÂ external'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ SERVERSÂ peer-group'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ SERVERSÂ remote-asÂ internal'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ net0Â interfaceÂ peer-groupÂ ROUTERS'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ 10.0.1.2Â peer-groupÂ SERVERS'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ 10.0.2.2Â peer-groupÂ SERVERS'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â address-familyÂ ipv4Â unicast'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â Â Â redistributeÂ connected'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â Â exit-address-family'  \nÂ Â Â Â Â Â Â Â Â -cÂ '!'Â Â Â Â Â Â Â Â Â Â Â Â Â Â   \n  \nÂ Â Â Â tor1:  \nÂ Â Â Â Â Â kind:Â linux  \nÂ Â Â Â Â Â image:Â frrouting/frr:v8.2.2  \nÂ Â Â Â Â Â labels:  \nÂ Â Â Â Â Â Â Â app:Â frr  \nÂ Â Â Â Â Â exec:  \nÂ Â Â Â Â Â -Â ipÂ linkÂ delÂ eth0  \nÂ Â Â Â Â Â -Â ipÂ addrÂ addÂ 10.0.0.2/32Â devÂ lo  \nÂ Â Â Â Â Â -Â ipÂ addrÂ addÂ 10.0.3.1/24Â devÂ net1  \nÂ Â Â Â Â Â -Â ipÂ addrÂ addÂ 10.0.4.1/24Â devÂ net2  \nÂ Â Â Â Â Â -Â touchÂ /etc/frr/vtysh.conf  \nÂ Â Â Â Â Â -Â sedÂ -iÂ -eÂ 's/bgpd=no/bgpd=yes/g'Â /etc/frr/daemons  \nÂ Â Â Â Â Â -Â /usr/lib/frr/frrinit.shÂ start  \nÂ Â Â Â Â Â -Â \u003e-  \nÂ Â Â Â Â Â Â Â Â vtyshÂ -cÂ 'confÂ t'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'frrÂ defaultsÂ datacenter'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'routerÂ bgpÂ 65011'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â bgpÂ router-idÂ 10.0.0.2'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â noÂ bgpÂ ebgp-requires-policy'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ ROUTERSÂ peer-group'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ ROUTERSÂ remote-asÂ external'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ SERVERSÂ peer-group'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ SERVERSÂ remote-asÂ internal'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ net0Â interfaceÂ peer-groupÂ ROUTERS'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ 10.0.3.2Â peer-groupÂ SERVERS'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â neighborÂ 10.0.4.2Â peer-groupÂ SERVERS'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â address-familyÂ ipv4Â unicast'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â Â Â redistributeÂ connected'  \nÂ Â Â Â Â Â Â Â Â -cÂ 'Â Â exit-address-family'  \nÂ Â Â Â Â Â Â Â Â -cÂ '!'Â Â Â Â Â Â Â Â Â Â   \nÂ Â Â Â server0:  \nÂ Â Â Â Â Â kind:Â linux  \nÂ Â Â Â Â Â image:Â nicolaka/netshoot:latest  \nÂ Â Â Â Â Â network-mode:Â container:control-plane  \nÂ Â Â Â Â Â exec:  \nÂ Â Â Â Â Â -Â ipÂ addrÂ addÂ 10.0.1.2/24Â devÂ net0  \nÂ Â Â Â Â Â -Â ipÂ routeÂ replaceÂ defaultÂ viaÂ 10.0.1.1  \n  \nÂ Â Â Â server1:  \nÂ Â Â Â Â Â kind:Â linux  \nÂ Â Â Â Â Â image:Â nicolaka/netshoot:latest  \nÂ Â Â Â Â Â network-mode:Â container:worker  \nÂ Â Â Â Â Â exec:  \nÂ Â Â Â Â Â -Â ipÂ addrÂ addÂ 10.0.2.2/24Â devÂ net0  \nÂ Â Â Â Â Â -Â ipÂ routeÂ replaceÂ defaultÂ viaÂ 10.0.2.1  \n  \nÂ Â Â Â server2:  \nÂ Â Â Â Â Â kind:Â linux  \nÂ Â Â Â Â Â image:Â nicolaka/netshoot:latest  \nÂ Â Â Â Â Â network-mode:Â container:worker2  \nÂ Â Â Â Â Â exec:  \nÂ Â Â Â Â Â -Â ipÂ addrÂ addÂ 10.0.3.2/24Â devÂ net0  \nÂ Â Â Â Â Â -Â ipÂ routeÂ replaceÂ defaultÂ viaÂ 10.0.3.1  \n  \nÂ Â Â Â server3:  \nÂ Â Â Â Â Â kind:Â linux  \nÂ Â Â Â Â Â image:Â nicolaka/netshoot:latest  \nÂ Â Â Â Â Â network-mode:Â container:worker3  \nÂ Â Â Â Â Â exec:  \nÂ Â Â Â Â Â -Â ipÂ addrÂ addÂ 10.0.4.2/24Â devÂ net0  \nÂ Â Â Â Â Â -Â ipÂ routeÂ replaceÂ defaultÂ viaÂ 10.0.4.1  \n  \n  \nÂ Â links:  \nÂ Â -Â endpoints:Â [\"router0:net0\",Â \"tor0:net0\"]  \nÂ Â -Â endpoints:Â [\"router0:net1\",Â \"tor1:net0\"]  \nÂ Â -Â endpoints:Â [\"tor0:net1\",Â \"server0:net0\"]  \nÂ Â -Â endpoints:Â [\"tor0:net2\",Â \"server1:net0\"]  \nÂ Â -Â endpoints:Â [\"tor1:net1\",Â \"server2:net0\"]  \nÂ Â -Â endpoints:Â [\"tor1:net2\",Â \"server3:net0\"]\n```\n\nå®‰è£… calico - bgp\n1. éƒ¨ç½²æ‹“æ‰‘\n\tclab deploy -t simple.yaml\n2. é”€æ¯æ‹“æ‰‘\n\tclab destory -t simple.yaml\n3. ç”Ÿæˆç½‘ç»œæ‹“æ‰‘\n\tclabÂ graphÂ -tÂ topo.yaml\n\nå­˜æ”¾ demo çš„æ–‡ä»¶å¤¹ï¼š/etc/containerlab/lab-examples\n\nssh è®¿é—®ï¼š\nvim ~/.ssh/config\nHost clab-*\n  User root\n  StrictHostKeyChecking no\n  UserKnownHostsFile /dev/null\n\n\ntopology å®šä¹‰ï¼š[Topology definition - containerlab](https://containerlab.dev/manual/topo-def-file/)\nnode å„ä¸ªå­—æ®µè¯´æ˜ï¼š[Nodes - containerlab](https://containerlab.dev/manual/nodes/)\nkind ç±»å‹åˆ—è¡¨ï¼š[Kinds - containerlab](https://containerlab.dev/manual/kinds/)\n\n![upgit_20230314_1678761763.png](https://images.ryken.cloud/2023/03/upgit_20230314_1678761763.png)\n\nspine1\ndocker exec -it clab-bgp-spine1 /bin/vbash\n```\n# spine1 â€”â€” ä¸èƒ½é…ç½®å®£å‘Šé»˜è®¤è·¯ç”± å¯èƒ½å¯¼è‡´è·¯ç”±å­¦ä¹ çš„ä¸å¯¹\n#set protocols bgp neighbor 10.1.10.1 address-family ipv4-unicast default-originate\n#set protocols bgp neighbor 10.1.34.1 address-family ipv4-unicast default-originate\n\nset interfaces ethernet eth0 address '172.20.20.5/24'\nset interfaces ethernet eth0 description public\nset protocols static route 0.0.0.0/0 next-hop 172.20.20.1 distance 1\nset nat source rule 100 outbound-interface 'eth0'\nset nat source rule 100 source address '10.1.0.0/16'\nset nat source rule 100 translation address 'masquerade'\n\nset interfaces ethernet eth1 address '10.1.10.2/24'\nset interfaces ethernet eth2 address '10.1.34.2/24'\nset protocols bgp local-as 500 \nset protocols bgp neighbor 10.1.10.1 remote-as '65005'\nset protocols bgp neighbor 10.1.34.1 remote-as '65008'\nset protocols bgp parameters router-id '10.1.10.2'\n\n\n# spine2\n#set protocols bgp neighbor 10.1.11.1 address-family ipv4-unicast default-originate\n#set protocols bgp neighbor 10.1.12.1 address-family ipv4-unicast default-originate\n\nset interfaces ethernet eth0 address '172.20.20.4/24'\nset interfaces ethernet eth0 description public\nset protocols static route 0.0.0.0/0 next-hop 172.20.20.1 distance 1\nset nat source rule 100 outbound-interface 'eth0'\nset nat source rule 100 source address '10.1.0.0/16'\nset nat source rule 100 translation address 'masquerade'\n\nset interfaces ethernet eth1 address '10.1.12.2/24'\nset interfaces ethernet eth2 address '10.1.11.2/24'\nset protocols bgp local-as 800 \nset protocols bgp neighbor 10.1.11.1 remote-as '65008'\nset protocols bgp neighbor 10.1.12.1 remote-as '65005'\n\nset protocols bgp parameters router-id '10.1.12.2'\n\n\n# leaf-1\n# set interfaces ethernet eth0 address '172.20.20.2/24'\n# set interfaces ethernet eth0 description public\n# set protocols static route 0.0.0.0/0 next-hop 172.20.20.1 distance 1\n# set nat source rule 100 outbound-interface 'eth0'\n# set nat source rule 100 source address '10.1.0.0/16'\n# set nat source rule 100 translation address 'masquerade'\n\n#set interfaces ethernet eth3 address '10.1.5.1/24'\n\nset interfaces bridge br0 address '10.1.5.1/24'\nset interfaces bridge br0 description 'leaf1-br'\nset interfaces bridge br0 member interface eth3\nset interfaces bridge br0 member interface eth4\n\nset protocols static route 10.1.34.0/24 next-hop 10.1.10.2\nset protocols static route 10.1.11.0/24 next-hop 10.1.12.2\nset protocols static route 0.0.0.0/0 next-hop 10.1.10.2\nset protocols static route 0.0.0.0/0 next-hop 10.1.12.2\n\nset interfaces ethernet eth1 address '10.1.10.1/24'\nset interfaces ethernet eth2 address '10.1.12.1/24'\nset protocols bgp local-as 65005\nset protocols bgp address-family ipv4-unicast network 10.1.5.0/24\nset protocols bgp neighbor 10.1.5.11 address-family ipv4-unicast route-reflector-client\nset protocols bgp neighbor 10.1.5.11 remote-as '65005'\nset protocols bgp neighbor 10.1.5.12 address-family ipv4-unicast route-reflector-client\nset protocols bgp neighbor 10.1.5.12 remote-as '65005'\nset protocols bgp neighbor 10.1.10.2 remote-as '500'\nset protocols bgp neighbor 10.1.12.2 remote-as '800'\nset protocols bgp parameters bestpath as-path multipath-relax\nset protocols bgp parameters router-id '10.1.5.1'\n\n\n# leaf2\n# set interfaces ethernet eth0 address '172.20.20.3/24'\n# set interfaces ethernet eth0 description public\n# set protocols static route 0.0.0.0/0 next-hop 172.20.20.1 distance 1\n# set nat source rule 100 outbound-interface 'eth0'\n# set nat source rule 100 source address '10.1.0.0/16'\n# set nat source rule 100 translation address 'masquerade'\nset interfaces ethernet eth3 address '10.1.8.1/24'\n\n\nset interfaces bridge br0 address '10.1.8.1/24'\nset interfaces bridge br0 description 'leaf2-br'\nset interfaces bridge br0 member interface eth3\nset interfaces bridge br0 member interface eth4\n\nset protocols static route 10.1.10.0/24 next-hop 10.1.34.2\nset protocols static route 10.1.12.0/24 next-hop 10.1.11.2\nset protocols static route 0.0.0.0/0 next-hop 10.1.34.2\nset protocols static route 0.0.0.0/0 next-hop 10.1.11.2\n\nset interfaces ethernet eth1 address '10.1.34.1/24'\nset interfaces ethernet eth2 address '10.1.11.1/24'\nset protocols bgp local-as 65008\nset protocols bgp address-family ipv4-unicast network 10.1.8.0/24\nset protocols bgp neighbor 10.1.8.13 address-family ipv4-unicast route-reflector-client\nset protocols bgp neighbor 10.1.8.13 remote-as '65008'\nset protocols bgp neighbor 10.1.8.14 address-family ipv4-unicast route-reflector-client\nset protocols bgp neighbor 10.1.8.14 remote-as '65008'\nset protocols bgp neighbor 10.1.11.2 remote-as '800'\nset protocols bgp neighbor 10.1.34.2 remote-as '500'\nset protocols bgp parameters bestpath as-path multipath-relax\nset protocols bgp parameters router-id '10.1.8.1'\n```\n\n\n![upgit_20230305_1678030421.png](https://images.ryken.cloud/2023/03/upgit_20230305_1678030421.png)\n\n![upgit_20230305_1678030430.png](https://images.ryken.cloud/2023/03/upgit_20230305_1678030430.png)\n\nå‚è€ƒï¼š[ä½¿ç”¨ Containerlab + Kind å¿«é€Ÿéƒ¨ç½² Cilium BGP ç¯å¢ƒ (qq.com)](https://mp.weixin.qq.com/s/k25e7gTIIJLnL_FLlgdHUw)","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/coredns":{"title":"","content":"#coredns\n\n### coredns  \"no nameservers found\" error\ncoredns  CrashLoopBackOff \n```\nkubectl edit configmap coredns -n kube-system\n```\n\nåˆ é™¤ä»¥ä¸‹éƒ¨åˆ†æˆ–è€…ä¿®æ”¹ä¸ºæ­£ç¡®çš„ dns\n```\n    forward . /etc/resolv.conf {\n       max_concurrent 1000\n    }\n```\n\n```\nforward . 8.8.8.8 {\n       max_concurrent 1000\n    }\n```\n\n### dns è§£æå¤±è´¥\nå…‰å¤§ä¸€ä¸ªæµ‹è¯•ç¯å¢ƒä¸­ï¼Œé‡åˆ°äº†Â dnsÂ è§£æå¤±è´¥çš„é—®é¢˜å¯¼è‡´Â ks-redisÂ å¯åŠ¨ä¸èµ·æ¥ï¼Œéšåå½±å“Â api-serverï¼Œæ ¹æœ¬åŸå› æ˜¯ï¼š  \n  \ncmÂ coredns.hostsæ²¡å†™fallthroughå¯¼è‡´é›†ç¾¤å®¹å™¨dnsè§£ææœ‰é—®é¢˜ã€‚  \ncorednsÂ Â hostsæ˜¯æ’ä»¶æœºåˆ¶Â ï¼Œä¼˜å…ˆçº§è¾ƒé«˜\n\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/ebpf-%E6%8E%92%E6%9F%A5%E5%B7%A5%E5%85%B7":{"title":"","content":"æ’æŸ¥å·¥å…·ï¼šftrace / bcc trace\n[é—®é¢˜æ’æŸ¥åˆ©å™¨ï¼šLinux åŸç”Ÿè·Ÿè¸ªå·¥å…· Ftrace å¿…çŸ¥å¿…ä¼š | æ·±å…¥æµ…å‡º eBPF](https://www.ebpf.top/post/ftrace_tools/)\n\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/felix":{"title":"","content":"![upgit_20221116_1668580534.png](https://images.ryken.cloud/2022/11/upgit_20221116_1668580534.png)\n\nfelix ä¸»è¦çš„å·¥ä½œç»„ä»¶ï¼šsyncer, CalcGraph, dataplane\n- SyncerÂ åç¨‹è´Ÿè´£ç›‘å¬ datastore ä¸­çš„æ›´æ–°ï¼Œå¹¶å°†æ›´æ–°çš„å†…å®¹é€šè¿‡ channel å‘é€ç»™Â ValidatorÂ åç¨‹ã€‚Validator å®Œæˆæ ¡éªŒåï¼Œå°†å…¶å‘é€ç»™Â Calc graphÂ åç¨‹ã€‚Calc graph å®Œæˆè®¡ç®—åï¼Œå‘é€ç»™dataplaneåç¨‹ã€‚æœ€ådataplaneå®Œæˆæ•°æ®å¹³é¢å¤„ç†ã€‚\n\n1.  syncer, calicoctl å¯ä»¥ç›´æ¥å‘ datastore å¢åˆ æ”¹æŸ¥ä¸€ç³»åˆ— Resourceã€‚syncer åŒæ­¥ä¸”ç›‘å¬è¿™äº›Resourceï¼Œå½“èµ„æºå˜åŠ¨æ—¶ï¼Œé€šè¿‡å›è°ƒonUpdate é€šçŸ¥ä¸‹æ¸¸ç»„ä»¶ï¼ˆæ¯”å¦‚CalcGraphï¼‰ã€‚\n2.  CalcGraph, syncer ä¼ é€’çš„ datastore æ•°æ®é€šå¸¸ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦CalcGraph åšä¸€äº›è®¡ç®—å’Œå½’å¹¶å†äº¤ç»™dataplane\n3.  dataplane è´Ÿè´£å¯¹ node åšå‡ºå¤„ç†ã€‚\n- dataplane åˆ†ä¸ºæœ¬åœ°å’Œè¿œç¨‹ä¸¤ç§å½¢æ€ï¼Œå¦‚æœæ˜¯æœ¬åœ°è¿è¡Œï¼Œåˆ™é€šè¿‡channel ç›´æ¥ä¼ è¾“ proto modelï¼Œå¦‚æœæ˜¯dataplane è¿œç¨‹ç‹¬ç«‹è¿è¡Œï¼Œåˆ™æ‰§è¡Œgrpc è°ƒç”¨ï¼›\n\u003e `github.com/projectcalico/felix/proto/felixbackend.pb.go`Â \n- dataplane ä¸€æ–¹é¢é€šè¿‡ifaceMonitor ç›‘å¬ç½‘å¡ï¼Œå¦ä¸€æ–¹é¢æ¥æ”¶ æ¥è‡ªsyncer/CalcGraph çš„proto modelã€‚ dataplane èšåˆä¸€ç³»åˆ— Managerï¼Œç›‘å¬ä¸Šè¿°ä¸¤ç±»äº‹ä»¶å˜åŒ–å¹¶æ‰§è¡Œ\n- InternalDataplane åŸºäº iptables å’Œ ipsets å®ç°è¿›ç¨‹å†… Felix æ•°æ®å¹³é¢é©±åŠ¨ç¨‹åºã€‚é€šè¿‡ Send/RecvMessage æ–¹æ³•ä¸ Felix é¢å‘æ•°æ®å­˜å‚¨çš„éƒ¨åˆ†è¿›è¡Œé€šä¿¡ã€‚\n\n\n![upgit_20221116_1668580872.png](https://images.ryken.cloud/2022/11/upgit_20221116_1668580872.png)\n\nå‚è€ƒï¼š\n- [calicoæºç åˆ†æ | æä¹¾å¤çš„åšå®¢ (qiankunli.github.io)](https://qiankunli.github.io/2020/07/12/calico_source.html)","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/felix-%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B":{"title":"","content":"#calico-felix #calico-ebpf\n\nå…¥å£å¤„ï¼š`felix/dataplane/linux/int_dataplane.go`Â çš„Â `NewIntDataplaneDriver()`Â å‡½æ•°ï¼Œè¿›è¡Œdataplaneçš„åˆå§‹åŒ–\né¦–å…ˆä¼šåˆ¤æ–­æ˜¯å¦å¼€å¯äº†BPFï¼Œå¦‚æœæ˜¯å¼€å¯çŠ¶æ€ï¼Œåˆ™è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š\n1ï¼‰æ³¨å†Œ map managerï¼Œè¯¥managerçš„ä½œç”¨æ˜¯è´Ÿè´£ç®¡ç†ebpfçš„mapï¼ˆmapç”¨äºuserspaceå’Œkernelä¹‹é—´è¿›è¡Œæ•°æ®çš„å…±äº«ï¼‰\n2ï¼‰æ³¨å†Œendpoint managerï¼Œè¯¥managerçš„ä½œç”¨æ˜¯è´Ÿè´£å„ç§epçš„ç®¡ç†ï¼ŒåŒ…æ‹¬hostã€workloadç­‰\n3ï¼‰åˆ›å»ºå„ç§mapï¼Œæ¯”å¦‚natçš„frontendMapã€backendMapã€routeMapã€conntrackMapç­‰\n4ï¼‰å¼€å¯kube-proxyï¼Œæ³¨æ„æ­¤kube-proxyå¹¶ékubernetesçš„kube-proxyï¼Œè€Œæ˜¯proxyçš„ä¸€ä¸ªå°è£…ï¼Œè´Ÿè´£å’Œkubernetesé€šä¿¡ï¼Œç»´æŠ¤å„ç§mapä¸­çš„ä¿¡æ¯\n5ï¼‰è‹¥BPFConnTimeEnabledå¼€å¯ï¼Œåˆ™å®‰è£…connect_time_loadbalancerï¼Œå³åŠ è½½ç›¸å…³çš„eBPFç¨‹åº\n6ï¼‰å¯åŠ¨dataplaneï¼ˆè¿™éƒ¨åˆ†æš‚ä¸æ¶‰åŠconnect_time_loadbalancerï¼Œæœ¬æ–‡æš‚ä¸åˆ†æï¼‰\n\ncalico å…¨éƒ¨çš„ç»„ä»¶ä»¥åŠå…¶è¿›ç¨‹æ ‘è¯¦è§ï¼š[[ç»„ä»¶]]\nfelix ç»„ä»¶ [[felix]]\n\nå¯åŠ¨ç¨‹åº calico-node -felix\né…ç½®æ–‡ä»¶ï¼š/etc/calico/felix.cfg\n```txt\nsh-4.4# cat /etc/calico/felix.cfg\n[global]\nMetadataAddr = None\nLogFilePath = None\nLogSeverityFile = None\nLogSeveritySys = None\n```\n\nå¯åŠ¨æ³¨å†Œ felix-startup - healthAggregator\nåŠ è½½ KUBERNETES_SERVICE_HOST + KUBERNETES_SERVICE_PORT ç¯å¢ƒå˜é‡\nåŠ è½½é…ç½®\n- åŠ è½½ç¯å¢ƒå˜é‡\n- åŠ è½½é…ç½®æ–‡ä»¶\n- åŠ è½½datastore é…ç½®æ–‡ä»¶ - globalConfig + hostConfig \n\t- global: felix defalut / cluster info default\n\t- host: felix node.nodename / node nodename\n- åˆ›å»ºæ•°æ®å­˜å‚¨çš„å®¢æˆ·ç«¯\nå¯åŠ¨æ•°æ®é¢é©±åŠ¨ - å¯åŠ¨åŒæ­¥ç­–ç•¥ server - å¯åŠ¨ datastore Syncer\nå¯åŠ¨ asyncCalcGraph\n\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/felix-env":{"title":"felix env","content":"æ—¥å¿—ï¼š\n- FELIX_EARLYLOGSEVERITYSCREEN\n- FELIX_LOGSEVERITYSCREEN\n\ngo åƒåœ¾å›æ”¶\n- GOGC\n\nBPF æ¨¡å¼\n- KUBERNETES_SERVICE_HOST\n- KUBERNETES_SERVICE_PORT\n\nå¾ªç¯åŠ è½½é…ç½® - ç›´åˆ° data store ready\n\nå¥åº·æ£€æŸ¥ï¼šhealthAggregator\n\n\n\n","lastmodified":"2023-04-18T15:06:06.090796333Z","tags":null},"/fortio-%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7":{"title":"","content":"![upgit_20221228_1672194984.png](https://images.ryken.cloud/2022/12/upgit_20221228_1672194984.png)\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/git-%E6%96%87%E6%A1%A3":{"title":"","content":"#git \n\n-   **featï¼š**æäº¤æ–°åŠŸèƒ½\n-   **fix**ï¼šä¿®å¤äº†bug\n-   **docs**ï¼šåªä¿®æ”¹äº†æ–‡æ¡£\n-   **style**ï¼šè°ƒæ•´ä»£ç æ ¼å¼ï¼Œæœªä¿®æ”¹ä»£ç é€»è¾‘ï¼ˆæ¯”å¦‚ä¿®æ”¹ç©ºæ ¼ã€æ ¼å¼åŒ–ã€ç¼ºå°‘åˆ†å·ç­‰ï¼‰\n-   **refactor**ï¼šä»£ç é‡æ„ï¼Œæ—¢æ²¡ä¿®å¤bugä¹Ÿæ²¡æœ‰æ·»åŠ æ–°åŠŸèƒ½\n-   **perf**ï¼šæ€§èƒ½ä¼˜åŒ–ï¼Œæé«˜æ€§èƒ½çš„ä»£ç æ›´æ”¹\n-   **test**ï¼šæ·»åŠ æˆ–ä¿®æ”¹ä»£ç æµ‹è¯•\n-   **chore**ï¼šå¯¹æ„å»ºæµç¨‹æˆ–è¾…åŠ©å·¥å…·å’Œä¾èµ–åº“ï¼ˆå¦‚æ–‡æ¡£ç”Ÿæˆç­‰ï¼‰çš„æ›´æ”¹\n\n","lastmodified":"2023-04-18T15:06:05.590791632Z","tags":null},"/git-proxy":{"title":"","content":"#git #proxy\n\n[git è®¾ç½®å’Œå–æ¶ˆä»£ç† (github.com)](https://gist.github.com/laispace/666dd7b27e9116faece6)\n## windows git è®¾ç½®ä»£ç†\nç®€å•æ–¹æ³•ï¼š\nè®¾ç½®ç¯å¢ƒå˜é‡\n- http_proxy: 127.0.0.1:1080\n- https_proxy: 127.0.0.1:1080\n\n\nwindows git ç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼š`C:\\Users\\renyunkang\\.gitconfig`\n``` toml\n[user]\n\temail = rykren1998@gmail.com\n\tname = renyunkang\n\t\n[url \"git@github.com:\"]\n        insteadOf = https://github.com/\n        \n[core]\n\tautocrlf = false\n[http]\n    proxy = http://127.0.0.1:1080\n    # proxy = socks5://127.0.0.1:1080\n[https]\n    proxy = https://127.0.0.1:1080\n    # proxy = socks5://127.0.0.1:1080\n    \n# åªå¯¹ github ç”Ÿæ•ˆ\n# [http \"https://github.com\"]\n #    proxy = http://127.0.0.1:1080\n# [https \"https://github.com\"]\n#     proxy = https://127.0.0.1:1080\n# ä½¿ç”¨å‘½ä»¤ï¼š\n# - git config --global http.https://github.com.proxy socks5://127.0.0.1:1080\n# - git config --global https.proxy socks5://127.0.0.1:1080\n```\n\n### é…ç½®å…å¯†\n####  1. ä¿å­˜ç”¨æˆ·ä¿¡æ¯\n// é…ç½®è¾“å…¥ä¸€æ¬¡å¯†ç  ä¹‹åä¿å­˜\ngit config --global credential.helper store\né€šè¿‡storeçš„æ–¹å¼ä¼šå°†ä½ çš„è´¦å·å¯†ç ä»¥æ˜æ–‡çš„å½¢å¼å­˜åœ¨`~/.git-credentials`æ–‡ä»¶é‡Œï¼Œå¤§è‡´é•¿è¿™æ ·ï¼š\n```\n$ cat ~/.git-credentials  \nhttps://username:password@github.com\n```\n\n\n#### 2. ä½¿ç”¨ sshï¼š\nåˆ›å»º/ä¿®æ”¹ `C:\\Users\\renyunkang\\.ssh\\config`  ~/.ssh/config(linux)\n```\nHost github.com\nUser git\nHostname github.com\nPreferredAuthentications publickey\nIdentityFile ~/.ssh/id_rsa\nPort 22\nProxyCommand connect -S 127.0.0.1:1080 %h %p\n```\næ”¯æŒå¤šä¸ªä¸åŒgithub è´¦å·ä¸åŒssh\n```\nHost personal-username.github.com  \n  HostName github.com  \n  AddKeysToAgent yes\n  LogLevel=quiet\n  PreferredAuthentications publickey\n  IdentityFile ~/.ssh/id_rsa_github_personal \n\nHost company-username.github.com  \n  HostName github.com  \n  AddKeysToAgent yes\n  LogLevel=quiet\n  PreferredAuthentications publickey\n  IdentityFile ~/.ssh/id_rsa_github_company\n```\n\n\n\næ²¡æœ‰æ¢¯å­å¯ä»¥åœ¨å¯¹åº”çš„github.comåé¢æ·»åŠ [cnpmjs.org](https://github.com.cnpmjs.org/cpselvis/geektime-webpack-course.git)\n\n","lastmodified":"2023-04-18T15:06:05.590791632Z","tags":null},"/git-submodule":{"title":"","content":"#git \n\n1. ä¸‹è½½äº†é¡¹ç›®ä¹‹ååˆå§‹åŒ–å­æ¨¡å—\n\tgit submodule update --init --recursive\n2. æ·»åŠ å­æ¨¡å—\n\t*git submodule add url path*\n\tgit  submodule add -b dev https://github.com/xx/xx content\n3. åˆ é™¤å­æ¨¡å—\n\t- åˆ é™¤æ–‡ä»¶ rm -rf content/\n\t-Â åˆ é™¤é¡¹ç›®ç›®å½•ä¸‹.gitmodulesæ–‡ä»¶ä¸­å­æ¨¡å—ç›¸å…³æ¡ç›®\n\t- åˆ é™¤é…ç½®é¡¹ä¸­ .git/config å­æ¨¡å—ç›¸å…³æ¡ç›®\n\t- åˆ é™¤æ¨¡å—ä¸‹ .git/module/* çš„å­æ¨¡å—ç›®å½•ï¼Œæ¯ä¸ªå­æ¨¡å—å¯¹åº”ä¸€ä¸ªç›®å½•ï¼Œæ³¨æ„åªåˆ é™¤å¯¹åº”çš„å­æ¨¡å—ç›®å½•å³å¯\n\næ‰§è¡Œå®Œæˆåï¼Œå†æ‰§è¡Œæ·»åŠ å­æ¨¡å—å‘½ä»¤å³å¯ï¼Œå¦‚æœä»ç„¶æŠ¥é”™ï¼Œæ‰§è¡Œå¦‚ä¸‹ï¼š\n- git add .\n- git rm --cached å­æ¨¡å—åç§°","lastmodified":"2023-04-18T15:06:05.590791632Z","tags":null},"/git-sync":{"title":"git sync","content":"\nç”±äºæ–°çš„éœ€æ±‚åœ¨ä»“åº“(upstream)æ–°å»ºäº†ä¸€ä¸ªåˆ†æ”¯newï¼Œç„¶è€Œæˆ‘forkçš„origin(è¿œç¨‹ä¸ªäººä»“åº“ï¼Œéç”µè„‘ä¸­çš„æœ¬åœ°ä»“åº“)ä¸­æ²¡æœ‰è¿™ä¸ªåˆ†æ”¯ï¼Œæˆ‘éœ€è¦åœ¨newåˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘å¹¶ä¸upstreamè¿½è¸ªï¼Œå¦‚ä½•å°†æ–°åˆ†æ”¯newæ’å…¥originä¸­äº†ï¼Œæ­¥éª¤å¦‚ä¸‹:\n1ï¼šåˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°çš„ä¸Šæ¸¸åˆ†æ”¯çš„æœ¬åœ°ç‰ˆæœ¬ git checkout -b new upstream/newï¼›\n2ï¼šå°†æ–°çš„åˆ†æ”¯æ¨é€åˆ°ä¸ªäººè¿œç¨‹ä»“åº“ git push -u origin new,-uè·Ÿè¸ªæŒ‡å®šçš„è¿œç¨‹ï¼›\n\n\n**åŒæ­¥å…¶ä»–æäº¤**\n```bash\ngit remote add upstream https://github.com/kubesphere/porter-website\ngit switch -c rename_to_openelb\n\ngit reset --soft HEAD^\ngit commit -s -m \"rename porterlb to openelb\"\ngit push -u origin rename_to_openelb\ngit push --force-with-lease origin rename_to_openelb\n\n\n# åŒæ­¥\ngit fetch upstream \ngit checkout master\ngit rebase upstream/master\n\n# åœ¨æ–°åˆ†æ”¯å¼€å‘\n# Then make your development branch in sync with master branch \ngit checkout new_feature \ngit rebase -i master\n\n./hack/verify-all.sh\nmake goimports\n\nmake tests\n```\n\ngit cherry-pick\n[Apply changes from one Git branch to another | GoLand Documentation (jetbrains.com)](https://www.jetbrains.com/help/go/apply-changes-from-one-branch-to-another.html#cherry-pick)","lastmodified":"2023-04-18T15:06:06.090796333Z","tags":null},"/grafana-%E5%8F%AF%E8%A7%86%E5%8C%96":{"title":"","content":"#calico #grafana\n\n```\nkubectl apply -f - \u003c\u003cEOF\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: grafana-config\n  namespace: calico-monitoring\ndata:\n  prometheus.yaml: |-\n    {\n        \"apiVersion\": 1,\n        \"datasources\": [\n            {\n               \"access\":\"proxy\",\n                \"editable\": true,\n                \"name\": \"calico-demo-prometheus\",\n                \"orgId\": 1,\n                \"type\": \"prometheus\",\n                \"url\": \"http://prometheus-dashboard-svc.calico-monitoring.svc:9090\",\n                \"version\": 1\n            }\n        ]\n    }\nEOF\n```\n\n```\nkubectl apply -f https://raw.githubusercontent.com/projectcalico/calico/v3.24.5/manifests/grafana-dashboards.yaml\n```\n\nåˆ›å»º grafana pod\n```\nkubectl apply -f - \u003c\u003cEOF\napiVersion: v1\nkind: Pod\nmetadata:\n  name: grafana-pod\n  namespace: calico-monitoring\n  labels:\n    app:  grafana-pod\n    role: monitoring\nspec:\n  containers:\n  - name: grafana-pod\n    image: grafana/grafana:latest\n    resources:\n      limits:\n        memory: \"128Mi\"\n        cpu: \"500m\"\n    volumeMounts:\n    - name: grafana-config-volume\n      mountPath: /etc/grafana/provisioning/datasources\n    - name: grafana-dashboards-volume\n      mountPath: /etc/grafana/provisioning/dashboards\n    - name: grafana-storage-volume\n      mountPath: /var/lib/grafana\n    ports:\n    - containerPort: 3000\n  volumes:\n  - name: grafana-storage-volume\n    emptyDir: {}\n  - name: grafana-config-volume\n    configMap:\n      name: grafana-config\n  - name: grafana-dashboards-volume\n    configMap:\n      name: grafana-dashboards-config\nEOF\n```\n\nåˆ›å»º svc è®¿é—®\nè´¦å·å¯†ç ï¼šadmin/admin\n```yaml\nkubectl apply -f - \u003c\u003cEOF\napiVersion: v1\nkind: Service\nmetadata:\n  name: grafana-dashboard-svc\n  namespace: calico-monitoring\nspec:\n  selector:\n    app:  grafana-pod\n    role: monitoring\n  ports:\n  - port: 3000\n    targetPort: 3000\n    protocol: TCP\n    nodePort: 30000\n  type: NodePort\nEOF\n```\n\n\nåˆ é™¤\n```\nkubectl delete namespace calico-monitoring\n```\n\n\n- ä½¿ç”¨ prometheus æ”¶é›†ç›‘æ§ï¼š[[ç›‘æ§ - monitor]]\n- metrics è¯¦æƒ…ï¼š[[calico metrics]]\n![upgit_20230206_1675697893.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675697893.png)\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/helm-Tools":{"title":"","content":"#helm\n\n# 1. å®˜ç½‘åœ°å€\n[https://helm.sh/](https://helm.sh/)\n\n# 2. åœ¨ubuntuä¸Šå®‰è£…\n```bash\ncurl https://baltocdn.com/helm/signing.asc | sudo apt-key add -\nsudo apt-get install apt-transport-https --yes\necho \"deb https://baltocdn.com/helm/stable/debian/ all main\" | sudo tee /etc/apt/sources.list.d/helm-stable-debian.list\nsudo apt-get update\nsudo apt-get install helm\n```\n\n# 3. åˆå§‹åŒ–ä»¥åŠå®‰è£…\n```\n# åˆå§‹åŒ– æ·»åŠ ä¸€ä¸ªchartä»“åº“\nroot@orange:~# helm repo add bitnami https://charts.bitnami.com/bitnami\n\n# æ·»åŠ å®Œæˆä¹‹åå¯ä»¥æŸ¥çœ‹chartä¸­å¯ä»¥å®‰è£…çš„åˆ—è¡¨\nroot@orange:~# helm search repo bitnami\n\n# helm å®‰è£…ç¤ºä¾‹\nroot@orange:~# helm repo update\nroot@orange:~# helm install bitnami/mysql --generate-name\nNAME: mysql-1641454438\nLAST DEPLOYED: Thu Jan  6 07:34:07 2022\nNAMESPACE: default\nSTATUS: deployed\nREVISION: 1\nTEST SUITE: None\nNOTES:\nCHART NAME: mysql\nCHART VERSION: 8.8.20\nAPP VERSION: 8.0.27\n\n# æ˜¾ç¤ºå®‰è£…\nroot@orange:~# helm show chart bitnami/mysql\nannotations:\n  category: Database\napiVersion: v2\nappVersion: 8.0.27\ndependencies:\n- name: common\n  repository: https://charts.bitnami.com/bitnami\n  tags:\n  - bitnami-common\n  version: 1.x.x\ndescription: Chart to create a Highly available MySQL cluster\nhome: https://github.com/bitnami/charts/tree/master/bitnami/mysql\nicon: https://bitnami.com/assets/stacks/mysql/img/mysql-stack-220x234.png\nkeywords:\n- mysql\n- database\n- sql\n- cluster\n- high availability\nmaintainers:\n- email: containers@bitnami.com\n  name: Bitnami\nname: mysql\nsources:\n- https://github.com/bitnami/bitnami-docker-mysql\n- https://mysql.com\nversion: 8.8.20\n```\n\n\n# 4. æŸ¥çœ‹/ç®¡ç†\n\n## 1. æŸ¥çœ‹åˆ—è¡¨\n``` bash\nroot@orange:~# helm list\nNAME                    NAMESPACE       REVISION        UPDATED                                 STATUS          CHART           APP VERSION\nmysql-1641454438        default         1               2022-01-06 07:34:07.02836979 +0000 UTC  deployed        mysql-8.8.20    8.0.27\n```\n\n\n## 2. æŸ¥çœ‹çŠ¶æ€\n``` bash\nroot@orange:~# helm status mysql-1641454438\nNAME: mysql-1641454438\nLAST DEPLOYED: Thu Jan  6 07:34:07 2022\nNAMESPACE: default\nSTATUS: deployed\nREVISION: 1\nTEST SUITE: None\nNOTES:\nCHART NAME: mysql\nCHART VERSION: 8.8.20\nAPP VERSION: 8.0.27\n```\n\n## 3. å¸è½½\nå¦‚æœåœ¨å¸è½½æ—¶æŒ‡å®š --keep-history å‚æ•°ï¼ŒHelmä¼šä¿ç•™è®°å½•ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡statuså‘½ä»¤æŸ¥è¯¢åˆ°çŠ¶æ€ï¼Œå¯ä»¥å®¡è®¡é›†ç¾¤å†å²ç”šè‡³å›æ»šç‰ˆæœ¬\n``` bash\nroot@orange:~# helm uninstall mysql-1641454438\nrelease \"mysql-1641454438\" uninstalled \n```\n\n# 5. æ›´å¤šæ“ä½œ\n`root@orange:~# helm --help`\n`helm upgrade --namespace default mysql-1641454438 bitnami/mysql --set auth.rootPassword=$ROOT_PASSWORD`\n\n\n## åˆ›å»ºä½ è‡ªå·±çš„ charts\n$ **helm create test**\nCreating test\nç°åœ¨ï¼Œ./test ç›®å½•ä¸‹å·²ç»æœ‰ä¸€ä¸ª chart äº†ã€‚ä½ å¯ä»¥ç¼–è¾‘å®ƒå¹¶åˆ›å»ºä½ è‡ªå·±çš„æ¨¡ç‰ˆã€‚\nåœ¨ç¼–è¾‘ chart æ—¶ï¼Œå¯ä»¥é€šè¿‡ helm lint éªŒè¯æ ¼å¼æ˜¯å¦æ­£ç¡®ã€‚\n\nå½“å‡†å¤‡å°† chart æ‰“åŒ…åˆ†å‘æ—¶ï¼Œä½ å¯ä»¥è¿è¡Œ helm package å‘½ä»¤ï¼š\n$ **helm package test test -0.1.0.tgz**\n\nç„¶åè¿™ä¸ª chart å°±å¯ä»¥å¾ˆè½»æ¾çš„é€šè¿‡ helm install å‘½ä»¤å®‰è£…ï¼š\n$ **helm install test ./test -0.1.0.tgz ...**\n\næ‰“åŒ…å¥½çš„ chart å¯ä»¥ä¸Šä¼ åˆ° chart ä»“åº“ä¸­ã€‚\nchartæ ¼å¼ï¼š[https://helm.sh/zh/docs/topics/charts/](https://helm.sh/zh/docs/topics/charts/)","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/hybirdnet-%E4%BD%BF%E7%94%A8":{"title":"","content":"#hybridnet  #cni\n\n[[hybirdnet.svg]]\nç»™èŠ‚ç‚¹æ‰“ label\n\n``` yaml\napiVersion: networking.alibaba.com/v1\nkind: Network\nmetadata:\n  name: underlay-network\nspec:\n  netID: 0\n  type: Underlay\n  nodeSelector:\n    network: \"network1\"\n---\napiVersion: networking.alibaba.com/v1\nkind: Subnet\nmetadata:\n  name: underlay-subnet\nspec:\n  network: underlay-network\n  netID: 0\n  range:\n    version: \"4\"\n    cidr: \"10.10.12.0/24\"\n    gateway: \"10.10.12.1\"\n```\n\n\n![upgit_20230330_1680168073.png](https://images.ryken.cloud/2023/03/upgit_20230330_1680168073.png)\n\näº¤æ¢æœºä¸Šåˆ›å»ºå¯¹åº”çš„å­æ¥å£ï¼Œå¹¶å®£å‘Šè·¯ç”±\n\n\nip rule\n\n","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/hybirdnet-%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86":{"title":"","content":"#hybridnet \n\n\n- crd èµ„æºå®šä¹‰è§£é‡Š [[hybridnet è‡ªå®šä¹‰èµ„æºè§£é‡Š]]\n1. æ•´ä¸ªæµç¨‹ï¼škubelet -\u003e cni -\u003e æ‰“é€šç½‘ç»œ\n- ipam å¦‚ä½•å¤„ç†\n2. ç¯å¢ƒçš„æ­å»º\n\n\noverlay æ¨¡å¼å®ç°åŸç†\nå°è£…çš„ç½‘å¡\nè·¯ç”±\nåˆ›å»ºçš„èµ„æº\n\nunderlay æ¨¡å¼å®ç°åŸç†\n\n\nå¤šé›†ç¾¤ä¸‹çš„ä½¿ç”¨\n\n\ncni é…ç½® - kube-system/configmap/hybridnet-cni-conf\n```\ncat /etc/cni/net.d/06-hybridnet.conflist \n{\n    \"name\":\"hybridnet\",\n    \"cniVersion\":\"0.3.1\",\n    \"plugins\":[\n        {\n            \"type\":\"hybridnet\",\n            \"server_socket\":\"/run/cni/hybridnet.sock\"\n        },{\n            \"type\": \"bandwidth\",\n            \"capabilities\": {\"bandwidth\": true}\n        }\n    ]\n}\n```\n\n\n### æµé‡è®¿é—®\n\n\n1. ä¸ºä»€ä¹ˆä¼šä½¿ç”¨ calico ç›¸å…³ç»„ä»¶\n\nå¯¹äºå®‰è£…çš„ kubernetes 1.26.0:\nkubectl label node node1 node-role.kubernetes.io/master=\"\"\nkubectl scale deployment -n kube-system hybridnet-webhook --replicas=2\nkubectl scale deployment -n kube-system hybridnet-manager --replicas=1\nkubectl scale deployment -n kube-system calico-typha --replicas=1\n\n\n![upgit_20230403_1680505379.png](https://images.ryken.cloud/2023/04/upgit_20230403_1680505379.png)","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/hybridnet-%E7%BD%91%E7%BB%9C%E6%8F%92%E4%BB%B6":{"title":"","content":"#cni #hybridnet\n\n[[vlan é…ç½®]]\n\n### ä¸€é”®å®‰è£…\n```\nhelm repo add hybridnet https://alibaba.github.io/hybridnet/\nhelm repo update\nhelm install hybridnet hybridnet/hybridnet -n kube-system --set init.cidr=10.233.64.0/18\n```\n\nå®‰è£… CRD\n```yaml\nbgpconfigurations.crd.projectcalico.org\nclusterinformations.crd.projectcalico.org\nfelixconfigurations.crd.projectcalico.org\nglobalnetworkpolicies.crd.projectcalico.org\nglobalnetworksets.crd.projectcalico.org\nhostendpoints.crd.projectcalico.org\nippools.crd.projectcalico.org\nnetworkpolicies.crd.projectcalico.org\n\nremoteclusters.multicluster.alibaba.com\nremoteendpointslice.multicluster.alibaba.com\nremotesubnets.multicluster.alibaba.com\nremotevteps.multicluster.alibaba.com\n\nnetworks.networking.alibaba.com\nsubnets.networking.alibaba.com\nipinstances.networking.alibaba.com\nnodeinfoes.networking.alibaba.com\n```\n\nå®‰è£…çš„ç»„ä»¶\n- dsï¼š\n\t- hybridnet-daemon\n\t\t- - ipam\n\t\t- bgp è·¯ç”±å®£å‘Š\n\t\t- vlan + vxlan æ‰“é€š\n- deployï¼š å…¨éƒ¨ä½¿ç”¨ä¸»æœºç½‘ç»œ\n\t- hybridnet-manager æ§åˆ¶é¢\n\t- hybridnet-webhook\n\t\t- ValidatingWebhookConfiguration\n\t\t\t- podsã€remoteclustersã€remotesubnetsã€networksã€subnets\n\t\t- MutatingWebhookConfiguration\n\t\t\t- pods - æ·»åŠ  annotation + nodeSelector\n\t- calico-typha\n\t\t- ç½‘ç»œç­–ç•¥ + å‡å°‘ apiserver è´Ÿè½½\n\n\næ¨¡å¼\n- overlay æ¨¡å¼ - vxlan\n\t- Overlay = NetworkType(\"Overlay\")\n- underlay æ¨¡å¼ - vlan or bgp\n\t- Underlay = NetworkType(\"Underlay\")\n\t- GlobalBGP = NetworkType(\"GlobalBGP\")\n\n\n### ç¯å¢ƒéªŒè¯\nä½¿ç”¨ kind + containerlad æ­å»ºç¯å¢ƒéªŒè¯\n\n#### ç½‘ç»œæ‹“æ‰‘\n![upgit_20230403_1680506964.png](https://images.ryken.cloud/2023/04/upgit_20230403_1680506964.png)\n\n![upgit_20230403_1680507027.png](https://images.ryken.cloud/2023/04/upgit_20230403_1680507027.png)\n\n![upgit_20230403_1680507201.png](https://images.ryken.cloud/2023/04/upgit_20230403_1680507201.png)\n\n![upgit_20230403_1680507312.png](https://images.ryken.cloud/2023/04/upgit_20230403_1680507312.png)\n\nhybirdnet ä¸­æœ‰ä¸¤ä¸ªé‡è¦æ¦‚å¿µï¼šç½‘ç»œåŸŸã€å­ç½‘\n1. ç½‘ç»œåŸŸ network - å®ç°äº†ä¾èµ–ç‰¹å®šç½‘ç»œèµ„æº pod çš„è‡ªåŠ¨è°ƒåº¦\n\tä¸€ä¸ªç½‘ç»œåŸŸå…·æœ‰è¿™æ ·çš„æ€§è´¨ï¼šâ€œä¸€ä¸ªå¸¦æœ‰ç‰¹å®šåœ°å€çš„ Pod å¦‚æœèƒ½è¢«éƒ¨ç½²åˆ°ç½‘ç»œåŸŸå†…çš„æŸä¸€èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå¸¦æœ‰ç›¸åŒåœ°å€çš„ Pod åº”è¯¥èƒ½è¢«è°ƒåº¦åˆ°åŒä¸€ç½‘ç»œåŸŸå†…çš„å…¶ä»–ä»»æ„èŠ‚ç‚¹â€ã€‚Network å¯¹è±¡é€šè¿‡ nodeSelector é€‰æ‹©å¸¦æœ‰ç‰¹å®š label çš„èŠ‚ç‚¹ä½œä¸ºç½‘ç»œåŸŸä¸­çš„èŠ‚ç‚¹ã€‚\n2. Subnet - æè¿° ip åœ°å€åˆ†é…ä¿¡æ¯\n\né€šè¿‡å®˜æ–¹ [github ç¤ºä¾‹é“¾æ¥]([hybridnet/samples at main Â· alibaba/hybridnet (github.com)](https://github.com/alibaba/hybridnet/tree/main/samples))ä¸­å¯ä»¥åˆ›å»ºä¸åŒæ¨¡å¼çš„ç½‘ç»œåŸŸä»¥åŠå­ç½‘ï¼Œä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥åŒæ—¶åœ¨å¤šä¸ªç½‘ç»œåŸŸä¸­,\n\n\n### å­˜åœ¨çš„é—®é¢˜ï¼š\né—®é¢˜1ï¼šä½¿ç”¨ kind æ­å»º ç¯å¢ƒæ— æ³•æ­å»ºèµ·æ¥\nkindÂ åˆ›å»ºçš„ node èŠ‚ç‚¹æ²¡æœ‰/proc/sys/net/ipv4/neigh/default/gc_thresh1 æ–‡ä»¶ã€‚ä¹Ÿä¸èƒ½åœ¨Â kindÂ åˆ›å»ºçš„èŠ‚ç‚¹å®¹å™¨å†…éƒ¨åˆ›å»ºÂ `/proc/sys/net/ipv4/neigh/default/gc_thresh1`Â æ–‡ä»¶ï¼Œå› ä¸ºÂ `/proc`Â æ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒç”¨äºåœ¨å†…æ ¸å’Œç”¨æˆ·ç©ºé—´ä¹‹é—´ä¼ é€’ä¿¡æ¯ã€‚ä¹Ÿä¸èƒ½åœ¨å®¹å™¨å†…éƒ¨å¯ç”¨å†…æ ¸æ¨¡å—ï¼Œå› ä¸ºå®¹å™¨å…±äº«å®¿ä¸»æœºçš„å†…æ ¸ã€‚\nä¿®æ”¹äº†æºä»£ç ï¼Œæ³¨é‡Šæ‰ç›¸å…³éƒ¨åˆ†åå¯ä»¥æˆåŠŸè¿è¡Œ\nä½¿ç”¨ä¿®æ”¹åçš„é•œåƒ `docker pull rykren/hybridnet:release-amd64`\n\n\n2. bgp å»ºç«‹ peer æ—¶ ttl ä¸º1ï¼Œå› æ­¤å»ºç«‹ bgp peer æ—¶ä¸èƒ½è·¨å¤šä¸ªäº¤æ¢æœºå»ºç«‹ peer\n![upgit_20230403_1680503258.png](https://images.ryken.cloud/2023/04/upgit_20230403_1680503258.png)\n\n\n3. é«˜äº1.24ç‰ˆæœ¬çš„å¯èƒ½å­˜åœ¨é—®é¢˜\n[hybridnet åœ¨k8s1.26.3ä¸­ä½¿ç”¨å¼‚å¸¸ Â· Issue #372 Â· alibaba/hybridnet (github.com)](https://github.com/alibaba/hybridnet/issues/372)\nå¯ä»¥ä½¿ç”¨ `--set daemon.enableFelixPolicy=false` ä¸å¯ç”¨calico-typhaå³ä¸å¯ç”¨ç½‘ç»œéš”ç¦»\n```\nIt seems the version of felix we use (v3.20.2) is not compatible with higher version of kubernetes than 1.24,Â [projectcalico/calico#7032](https://github.com/projectcalico/calico/issues/7032).\n\nWe will fix it and you can deploy hybridnet without networkpolicy implementation by using theÂ `--set daemon.enableFelixPolicy=false`Â helm parameter to avoid this in a v1.26.3 Kubernetes at present.\n```\n\n\n### å‚è€ƒ\n- [CNStack ç½‘ç»œæ’ä»¶ï¼šhybridnet çš„è®¾è®¡ä¸å®ç° (qq.com)](https://mp.weixin.qq.com/s/d_7GdrIHgPEVESXd6Rn1dA)\n- [alibaba/hybridnet(github.com)](https://github.com/alibaba/hybridnet)\n- [alibaba/hybridnet Wiki](https://github.com/alibaba/hybridnet/wiki/Home(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87))","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/hybridnet-%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B5%84%E6%BA%90%E8%A7%A3%E9%87%8A":{"title":"","content":"#cni #hybridnet\n\n[[hybridnet ç½‘ç»œæ’ä»¶]]\n\n\n| èµ„æº        | è§£é‡Š                |\n| ----------- | ------------------- |\n| networks    | ç½‘ç»œåŸŸ              |\n| subnets     | èŠ‚ç‚¹å¯ç”¨çš„ç½‘æ®µèµ„æº  |\n| ipinstances | ip åˆ†é…æƒ…å†µï¼ˆåªè¯»ï¼‰ |\n| nodeinfoes  | èŠ‚ç‚¹æƒ…å†µ vxlan ä¿¡æ¯ |\n\u003e1. æ¯ä¸ª Network è‡³å°‘éœ€è¦æœ‰ä¸€ä¸ª Subnet æ‰èƒ½çœŸæ­£è¢«ä½¿ç”¨\n\u003e2. ç›®å‰è¿˜ä¸æ”¯æŒä¸€ä¸ªèŠ‚ç‚¹å±äºå¤šä¸ª Underlay Networkï¼Œä½†æ˜¯æ”¯æŒä¸€ä¸ªèŠ‚ç‚¹å±äºå¤šä¸ªä¸åŒ typeï¼ˆæ¯”å¦‚ Overlayã€Underlayï¼‰çš„ Network\n\n### network\nnetwork.spec\n| å­—æ®µ         | è¯´æ˜                |\n| ------------ | ------------------- |\n| nodeSelector | ç½‘ç»œåŸŸä¸­çš„èŠ‚ç‚¹é€‰æ‹©å™¨              |\n| netID        | ç½‘ç»œ id  |\n| type         | ç±»å‹ï¼šUnderlay/Overlay/GlobalBGP |\n| mode         | æ¨¡å¼ï¼šBGP/VLAN/VXLAN/GlobalBGP |\n| config       |      bgp peer çš„é…ç½®               |\n\nå¯¹äº vxlan æ¥è¯´ï¼ŒnetID æ˜¯ vxlan ä½¿ç”¨çš„éš§é“ID\nå¯¹äº vlan æ¥è¯´ï¼ŒnetID ç­‰äº vlan tag\nå¯¹äº bgp æ¥è¯´ï¼ŒnetID ç­‰äº as number\n\n\nnetID: 0 # å¦‚æœæ˜¯ VXLAN/BGP ç½‘ç»œï¼Œè¯¥å­—æ®µä¸å¡«ï¼› å¯¹äº VLAN ç½‘ç»œï¼Œå¦‚æœ Network çš„ spec.netID ä¸ºç©ºï¼ŒSubnet çš„ spec.netID ä¸€å®šä¸èƒ½ä¸ºç©º# å¦‚æœ Network çš„ spec.netID ä¸ä¸ºç©ºï¼ŒSubnet çš„ spec.netID åªèƒ½ä¸ºç©ºæˆ–è€…ä¸ Network çš„å€¼ç›¸åŒ\n\n\n\n\n\n\n","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/hybridnet.excalidraw":{"title":"","content":"==âš   Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš ==\n\n\n# Text Elements\nleaf1 ^sDROrzpl\n\nserver1 ^eqxCtLQ4\n\nserver2 ^GBiLAyht\n\n10.1.5.11/24 ^de2Oms7o\n\n10.1.5.12/24 ^9fVphJfZ\n\nleaf2 ^JIReIgUw\n\nserver3 ^mUD4e9GS\n\n10.1.8.13/24 ^mjsGravC\n\n10.1.8.14/24 ^QpOmcUme\n\n10.1.10.1/24 ^JXp49FGf\n\n172.18.0.2/24 ^4369vzWO\n\n172.18.0.3/24 ^XkAu0H2k\n\n172.18.0.4/24 ^ieRHPajI\n\n172.18.0.5/24 ^SLeDd4Rs\n\nAS 65005 ^iJ19Ncnf\n\nAS 65008 ^VU3zxvaE\n\nspine1 ^A4Z8ZEJJ\n\nspine2 ^dn2eAlf0\n\n10.1.10.2/24 ^KPY1fs9z\n\n10.1.34.2/24 ^d3TPApah\n\n10.1.11.2/24 ^G3xUlx2A\n\n10.1.12.2/24 ^cNe4Srnh\n\nAS 500 ^P9JvBqVQ\n\nAS 800 ^lUFFAdH1\n\n10.1.12.1/24 ^LvXT323S\n\n10.1.5.1/24 ^3LfGFhru\n\n10.1.8.1/24 ^2D0Mzlzj\n\n10.1.34.1/24 ^OnGBzOer\n\n10.1.11.1/24 ^QRjF14mV\n\nserver4 ^OVyr1X7X\n\n%%\n# Drawing\n```json\n{\n\t\"type\": \"excalidraw\",\n\t\"version\": 2,\n\t\"source\": \"https://github.com/zsviczian/obsidian-excalidraw-plugin/releases/tag/1.8.20\",\n\t\"elements\": [\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 476,\n\t\t\t\"versionNonce\": 2079341470,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"bQY_UL6MjQ9FE0dAZm1sd\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -300.71066557458846,\n\t\t\t\"y\": -34.923484513932635,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 412383234,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"qJMfCNjXoNS4LiNqytdbE\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"M6f_go9iXgH087avZWI3Q\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"cpQPO7-cnO1kLAYVKldos\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"aN4D5Hy0OMmx7oUd8jAQH\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"sDROrzpl\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 465,\n\t\t\t\"versionNonce\": 653874498,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"sDROrzpl\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -265.55064665369,\n\t\t\t\"y\": -29.423484513932635,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 44.679962158203125,\n\t\t\t\"height\": 24,\n\t\t\t\"seed\": 1125155102,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"leaf1\",\n\t\t\t\"rawText\": \"leaf1\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"bQY_UL6MjQ9FE0dAZm1sd\",\n\t\t\t\"originalText\": \"leaf1\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 510,\n\t\t\t\"versionNonce\": 833645598,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"43Ptvx_f5WZnQAYvdbCFa\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -391.35974876229443,\n\t\t\t\"y\": 107.55021093991218,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 352987074,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"M6f_go9iXgH087avZWI3Q\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"eqxCtLQ4\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 509,\n\t\t\t\"versionNonce\": 1358064834,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"eqxCtLQ4\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -366.76971427743115,\n\t\t\t\"y\": 113.05021093991218,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 65.81993103027344,\n\t\t\t\"height\": 24,\n\t\t\t\"seed\": 903785822,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"server1\",\n\t\t\t\"rawText\": \"server1\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"43Ptvx_f5WZnQAYvdbCFa\",\n\t\t\t\"originalText\": \"server1\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 532,\n\t\t\t\"versionNonce\": 525042818,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"UmFe_mVLcjWST4kTxr4MG\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -203.0264968091692,\n\t\t\t\"y\": 109.21689795163093,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 515104642,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"qJMfCNjXoNS4LiNqytdbE\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"GBiLAyht\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 529,\n\t\t\t\"versionNonce\": 1887337630,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"GBiLAyht\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -182.84645835702077,\n\t\t\t\"y\": 114.71689795163093,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 74.63992309570312,\n\t\t\t\"height\": 24,\n\t\t\t\"seed\": 1050497438,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"server2\",\n\t\t\t\"rawText\": \"server2\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"UmFe_mVLcjWST4kTxr4MG\",\n\t\t\t\"originalText\": \"server2\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 615,\n\t\t\t\"versionNonce\": 1009706498,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"M6f_go9iXgH087avZWI3Q\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -307.6761468159136,\n\t\t\t\"y\": 100.88355444577155,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 48.895934557779356,\n\t\t\t\"height\": 72.19294735826088,\n\t\t\t\"seed\": 30449474,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988089160,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"43Ptvx_f5WZnQAYvdbCFa\",\n\t\t\t\t\"focus\": 0.14153229957578503,\n\t\t\t\t\"gap\": 6.666656494140625\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"3LfGFhru\",\n\t\t\t\t\"focus\": 0.04587059703524727,\n\t\t\t\t\"gap\": 5.268317955272597\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t48.895934557779356,\n\t\t\t\t\t-72.19294735826088\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 606,\n\t\t\t\"versionNonce\": 330030942,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"qJMfCNjXoNS4LiNqytdbE\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -165.52503235008862,\n\t\t\t\"y\": 98.18177864396239,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 57.085550767755706,\n\t\t\t\"height\": 72.4666564941408,\n\t\t\t\"seed\": 947744222,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988089160,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"UmFe_mVLcjWST4kTxr4MG\",\n\t\t\t\t\"focus\": 0.0347893756489593,\n\t\t\t\t\"gap\": 11.035119307668538\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"3LfGFhru\",\n\t\t\t\t\"focus\": -0.23792626275568463,\n\t\t\t\t\"gap\": 2.292833017583508\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-57.085550767755706,\n\t\t\t\t\t-72.4666564941408\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 440,\n\t\t\t\"versionNonce\": 1986161950,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"de2Oms7o\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -393.2443946644878,\n\t\t\t\"y\": 163.1437800142694,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 717186818,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.5.11/24\",\n\t\t\t\"rawText\": \"10.1.5.11/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.5.11/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 468,\n\t\t\t\"versionNonce\": 1763507138,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"9fVphJfZ\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -207.7443946644878,\n\t\t\t\"y\": 164.3937800142694,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1888485918,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.5.12/24\",\n\t\t\t\"rawText\": \"10.1.5.12/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.5.12/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 740,\n\t\t\t\"versionNonce\": 1251678,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"-L6yELzkYUJfsohyQDSxf\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 73.4189094500125,\n\t\t\t\"y\": -39.80514422244687,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 570373826,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"dbu8joI85D5e6T8Lc4-a1\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"8OJY8YyLdMJMMrxT3JPgQ\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"oR_ZL5HpWuio5aIOlzvi1\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"RdX6w6TrpdW7V5qsr67ZM\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"JIReIgUw\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 736,\n\t\t\t\"versionNonce\": 290206594,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"JIReIgUw\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 104.1689323381961,\n\t\t\t\"y\": -34.30514422244687,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 53.49995422363281,\n\t\t\t\"height\": 24,\n\t\t\t\"seed\": 1774587486,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"leaf2\",\n\t\t\t\"rawText\": \"leaf2\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"-L6yELzkYUJfsohyQDSxf\",\n\t\t\t\"originalText\": \"leaf2\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 754,\n\t\t\t\"versionNonce\": 965138910,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"gjE-OpekGZBwttRnBDkNJ\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 0.9276406897329252,\n\t\t\t\"y\": 103.5107078925821,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 137301634,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"dbu8joI85D5e6T8Lc4-a1\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"mUD4e9GS\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 756,\n\t\t\t\"versionNonce\": 710064898,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"mUD4e9GS\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 21.417676700475113,\n\t\t\t\"y\": 109.0107078925821,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 74.01992797851562,\n\t\t\t\"height\": 24,\n\t\t\t\"seed\": 552637086,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"server3\",\n\t\t\t\"rawText\": \"server3\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"gjE-OpekGZBwttRnBDkNJ\",\n\t\t\t\"originalText\": \"server3\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 1133,\n\t\t\t\"versionNonce\": 1259982146,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"dbu8joI85D5e6T8Lc4-a1\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 59.93684242288771,\n\t\t\t\"y\": 90.17739490430085,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 53.833375635535106,\n\t\t\t\"height\": 64.51416087315829,\n\t\t\t\"seed\": 302902850,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988089160,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"gjE-OpekGZBwttRnBDkNJ\",\n\t\t\t\t\"focus\": -0.33590166925976533,\n\t\t\t\t\"gap\": 13.33331298828125\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"2D0Mzlzj\",\n\t\t\t\t\"focus\": -0.002039694929302959,\n\t\t\t\t\"gap\": 9.366359636000015\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t53.833375635535106,\n\t\t\t\t\t-64.51416087315829\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 1126,\n\t\t\t\"versionNonce\": 173175838,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"8OJY8YyLdMJMMrxT3JPgQ\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 211.00495703660937,\n\t\t\t\"y\": 92.21248369439218,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 63.5867088270883,\n\t\t\t\"height\": 65.39064352874084,\n\t\t\t\"seed\": 1354796766,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988089160,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"ubCBCHZh6wGVU2I0AfDiK\",\n\t\t\t\t\"focus\": 0.4004044449566961,\n\t\t\t\t\"gap\": 10.297241932846191\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"2D0Mzlzj\",\n\t\t\t\t\"focus\": 0.026710023306753466,\n\t\t\t\t\"gap\": 10.524965770508787\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-63.5867088270883,\n\t\t\t\t\t-65.39064352874084\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 677,\n\t\t\t\"versionNonce\": 1375560322,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"mjsGravC\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -0.45700521246067183,\n\t\t\t\"y\": 159.9375899552224,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 75159042,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.8.13/24\",\n\t\t\t\"rawText\": \"10.1.8.13/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.8.13/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 642,\n\t\t\t\"versionNonce\": 1625390750,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"QpOmcUme\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 163.9492102261147,\n\t\t\t\"y\": 159.59352890240189,\n\t\t\t\"strokeColor\": \"#0b7285\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 902234910,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.8.14/24\",\n\t\t\t\"rawText\": \"10.1.8.14/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.8.14/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 543,\n\t\t\t\"versionNonce\": 1553923202,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"JXp49FGf\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -383.1784476651567,\n\t\t\t\"y\": -64.84572727025443,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 812959170,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"aN4D5Hy0OMmx7oUd8jAQH\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1679988089160,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t},\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.10.1/24\",\n\t\t\t\"rawText\": \"10.1.10.1/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.10.1/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 510,\n\t\t\t\"versionNonce\": 1001650910,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"4369vzWO\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -392.64565177817053,\n\t\t\t\"y\": 187.41266472585448,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1383395166,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"172.18.0.2/24\",\n\t\t\t\"rawText\": \"172.18.0.2/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"172.18.0.2/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 541,\n\t\t\t\"versionNonce\": 96741890,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"XkAu0H2k\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -205.89331279463715,\n\t\t\t\"y\": 185.77448631371772,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1864023426,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"172.18.0.3/24\",\n\t\t\t\"rawText\": \"172.18.0.3/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"172.18.0.3/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 585,\n\t\t\t\"versionNonce\": 1198321438,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"ieRHPajI\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 0.5171671345314053,\n\t\t\t\"y\": 181.67904028337853,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 857428894,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"172.18.0.4/24\",\n\t\t\t\"rawText\": \"172.18.0.4/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"172.18.0.4/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 635,\n\t\t\t\"versionNonce\": 1702074818,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"SLeDd4Rs\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 165.37940219886877,\n\t\t\t\"y\": 177.82998237055563,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 121.875,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 497794370,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"172.18.0.5/24\",\n\t\t\t\"rawText\": \"172.18.0.5/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"172.18.0.5/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 427,\n\t\t\t\"versionNonce\": 276650846,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"iJ19Ncnf\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -421.1212297887912,\n\t\t\t\"y\": -15.968544443296196,\n\t\t\t\"strokeColor\": \"#364fc7\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 70.28125,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 837496798,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 2,\n\t\t\t\"text\": \"AS 65005\",\n\t\t\t\"rawText\": \"AS 65005\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 65005\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 556,\n\t\t\t\"versionNonce\": 1159664002,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"VU3zxvaE\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 245.33997978879137,\n\t\t\t\"y\": -21.017431368029975,\n\t\t\t\"strokeColor\": \"#364fc7\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 70.28125,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 428262658,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 2,\n\t\t\t\"text\": \"AS 65008\",\n\t\t\t\"rawText\": \"AS 65008\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 65008\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 615,\n\t\t\t\"versionNonce\": 1832271774,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"YCZ3AY-rYpe9Fs6cGbytO\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -294.03678626688,\n\t\t\t\"y\": -240.37090439924123,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 989168670,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"aN4D5Hy0OMmx7oUd8jAQH\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"oR_ZL5HpWuio5aIOlzvi1\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"A4Z8ZEJJ\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 606,\n\t\t\t\"versionNonce\": 1476759874,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"A4Z8ZEJJ\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -261.93675727518075,\n\t\t\t\"y\": -234.87090439924123,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 50.79994201660156,\n\t\t\t\"height\": 24,\n\t\t\t\"seed\": 1009439938,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"spine1\",\n\t\t\t\"rawText\": \"spine1\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"YCZ3AY-rYpe9Fs6cGbytO\",\n\t\t\t\"originalText\": \"spine1\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 571,\n\t\t\t\"versionNonce\": 1145401374,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"sP0iQlG2QEcQxRlgZkx3H\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 69.19989794283276,\n\t\t\t\"y\": -242.5970397258543,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 271274078,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"RdX6w6TrpdW7V5qsr67ZM\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"cpQPO7-cnO1kLAYVKldos\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"dn2eAlf0\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 563,\n\t\t\t\"versionNonce\": 555722946,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"dn2eAlf0\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 96.88993090181714,\n\t\t\t\"y\": -237.0970397258543,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 59.61993408203125,\n\t\t\t\"height\": 24,\n\t\t\t\"seed\": 1463217282,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"spine2\",\n\t\t\t\"rawText\": \"spine2\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"sP0iQlG2QEcQxRlgZkx3H\",\n\t\t\t\"originalText\": \"spine2\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 134,\n\t\t\t\"versionNonce\": 1850743874,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"KPY1fs9z\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -372.52297469357177,\n\t\t\t\"y\": -184.38255508505335,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 224236702,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"aN4D5Hy0OMmx7oUd8jAQH\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1679988089160,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.10.2/24\",\n\t\t\t\"rawText\": \"10.1.10.2/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.10.2/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 1223,\n\t\t\t\"versionNonce\": 2118026398,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"aN4D5Hy0OMmx7oUd8jAQH\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -254.84702541950855,\n\t\t\t\"y\": -46.3520291216073,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 2.2130271745162986,\n\t\t\t\"height\": 151.13315649620063,\n\t\t\t\"seed\": 812256322,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988089160,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"JXp49FGf\",\n\t\t\t\t\"focus\": 1.280562502450195,\n\t\t\t\t\"gap\": 15.831422245648128\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"KPY1fs9z\",\n\t\t\t\t\"focus\": -1.1226441256062405,\n\t\t\t\t\"gap\": 13.102630532754574\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t2.2130271745162986,\n\t\t\t\t\t-151.13315649620063\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 839,\n\t\t\t\"versionNonce\": 163607838,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"oR_ZL5HpWuio5aIOlzvi1\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 131.13527963148408,\n\t\t\t\"y\": -49.91473649015461,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 359.4581467400621,\n\t\t\t\"height\": 141.86574104493684,\n\t\t\t\"seed\": 1815957726,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988089160,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"QRjF14mV\",\n\t\t\t\t\"focus\": -0.8409985850499824,\n\t\t\t\t\"gap\": 13.528098675755018\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"YCZ3AY-rYpe9Fs6cGbytO\",\n\t\t\t\t\"focus\": 0.692869163643391,\n\t\t\t\t\"gap\": 13.590426864149777\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-359.4581467400621,\n\t\t\t\t\t-141.86574104493684\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 105,\n\t\t\t\"versionNonce\": 1633191938,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"d3TPApah\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -197.8532111765602,\n\t\t\t\"y\": -185.19498596220365,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 2107847682,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.34.2/24\",\n\t\t\t\"rawText\": \"10.1.34.2/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.34.2/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 882,\n\t\t\t\"versionNonce\": 757312386,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"RdX6w6TrpdW7V5qsr67ZM\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 141.5742712947523,\n\t\t\t\"y\": -49.32095192872839,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 4.895357535839267,\n\t\t\t\"height\": 153.74143227342893,\n\t\t\t\"seed\": 140215582,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988089160,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"QRjF14mV\",\n\t\t\t\t\"focus\": -1.0491022628540119,\n\t\t\t\t\"gap\": 3.0891070124868065\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"sP0iQlG2QEcQxRlgZkx3H\",\n\t\t\t\t\"focus\": -0.15979749596509443,\n\t\t\t\t\"gap\": 4.534655523696983\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t-4.895357535839267,\n\t\t\t\t\t-153.74143227342893\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"arrow\",\n\t\t\t\"version\": 1014,\n\t\t\t\"versionNonce\": 1214704450,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"cpQPO7-cnO1kLAYVKldos\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -245.84418166210116,\n\t\t\t\"y\": -45.13015721519332,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 365.35883258485956,\n\t\t\t\"height\": 149.02545856559527,\n\t\t\t\"seed\": 1625383874,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988089160,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"startBinding\": {\n\t\t\t\t\"elementId\": \"bQY_UL6MjQ9FE0dAZm1sd\",\n\t\t\t\t\"focus\": -0.7027680838923297,\n\t\t\t\t\"gap\": 10.206672701260686\n\t\t\t},\n\t\t\t\"endBinding\": {\n\t\t\t\t\"elementId\": \"cNe4Srnh\",\n\t\t\t\t\"focus\": -0.14563879983432954,\n\t\t\t\t\"gap\": 8.366845257160548\n\t\t\t},\n\t\t\t\"lastCommittedPoint\": null,\n\t\t\t\"startArrowhead\": null,\n\t\t\t\"endArrowhead\": null,\n\t\t\t\"points\": [\n\t\t\t\t[\n\t\t\t\t\t0,\n\t\t\t\t\t0\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t365.35883258485956,\n\t\t\t\t\t-149.02545856559527\n\t\t\t\t]\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 201,\n\t\t\t\"versionNonce\": 1090887006,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"G3xUlx2A\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 144.16669620399898,\n\t\t\t\"y\": -186.97633964647775,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 589902174,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.11.2/24\",\n\t\t\t\"rawText\": \"10.1.11.2/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.11.2/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 249,\n\t\t\t\"versionNonce\": 104980958,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"cNe4Srnh\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 7.5962470763452075,\n\t\t\t\"y\": -185.78877052362805,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1682152322,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"cpQPO7-cnO1kLAYVKldos\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1679988089160,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.12.2/24\",\n\t\t\t\"rawText\": \"10.1.12.2/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.12.2/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 488,\n\t\t\t\"versionNonce\": 661012894,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"P9JvBqVQ\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -370.52076276239836,\n\t\t\t\"y\": -228.04125894619847,\n\t\t\t\"strokeColor\": \"#364fc7\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 52.484375,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 670520734,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 2,\n\t\t\t\"text\": \"AS 500\",\n\t\t\t\"rawText\": \"AS 500\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 500\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 532,\n\t\t\t\"versionNonce\": 441364290,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"lUFFAdH1\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 204.35592427522806,\n\t\t\t\"y\": -233.38531999901898,\n\t\t\t\"strokeColor\": \"#364fc7\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 52.484375,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1980291906,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 2,\n\t\t\t\"text\": \"AS 800\",\n\t\t\t\"rawText\": \"AS 800\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"AS 800\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 578,\n\t\t\t\"versionNonce\": 2057854430,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"LvXT323S\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -213.88539433502388,\n\t\t\t\"y\": -59.312658940191795,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1878454750,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.12.1/24\",\n\t\t\t\"rawText\": \"10.1.12.1/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.12.1/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 643,\n\t\t\t\"versionNonce\": 889900418,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"3LfGFhru\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": -297.60901749589004,\n\t\t\t\"y\": 4.222289132238075,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 103.125,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1687167746,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"M6f_go9iXgH087avZWI3Q\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"qJMfCNjXoNS4LiNqytdbE\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1679988089160,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t},\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.5.1/24\",\n\t\t\t\"rawText\": \"10.1.5.1/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.5.1/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 725,\n\t\t\t\"versionNonce\": 1364518082,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"2D0Mzlzj\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 77.91254883304907,\n\t\t\t\"y\": -2.9031256048574505,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 103.125,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 104400414,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"dbu8joI85D5e6T8Lc4-a1\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"8OJY8YyLdMJMMrxT3JPgQ\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1679988089160,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t},\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.8.1/24\",\n\t\t\t\"rawText\": \"10.1.8.1/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.8.1/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 66,\n\t\t\t\"versionNonce\": 507070146,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"OnGBzOer\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 15.81212847810491,\n\t\t\t\"y\": -63.46970385295754,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1515745986,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.34.1/24\",\n\t\t\t\"rawText\": \"10.1.34.1/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.34.1/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 71,\n\t\t\t\"versionNonce\": 175120734,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"QRjF14mV\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 0.5,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 0,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 144.6633783072391,\n\t\t\t\"y\": -58.71942736156143,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 112.5,\n\t\t\t\"height\": 19.2,\n\t\t\t\"seed\": 1806602846,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"oR_ZL5HpWuio5aIOlzvi1\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"RdX6w6TrpdW7V5qsr67ZM\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1679988089160,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 16,\n\t\t\t\"fontFamily\": 3,\n\t\t\t\"text\": \"10.1.11.1/24\",\n\t\t\t\"rawText\": \"10.1.11.1/24\",\n\t\t\t\"textAlign\": \"left\",\n\t\t\t\"verticalAlign\": \"top\",\n\t\t\t\"containerId\": null,\n\t\t\t\"originalText\": \"10.1.11.1/24\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"rectangle\",\n\t\t\t\"version\": 828,\n\t\t\t\"versionNonce\": 312942210,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"ubCBCHZh6wGVU2I0AfDiK\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 150.69832637966942,\n\t\t\t\"y\": 102.50972562723837,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 115,\n\t\t\t\"height\": 35,\n\t\t\t\"seed\": 1510001282,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"8OJY8YyLdMJMMrxT3JPgQ\",\n\t\t\t\t\t\"type\": \"arrow\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"id\": \"OVyr1X7X\"\n\t\t\t\t}\n\t\t\t],\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"customData\": {\n\t\t\t\t\"legacyTextWrap\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"text\",\n\t\t\t\"version\": 830,\n\t\t\t\"versionNonce\": 633438878,\n\t\t\t\"isDeleted\": false,\n\t\t\t\"id\": \"OVyr1X7X\",\n\t\t\t\"fillStyle\": \"hachure\",\n\t\t\t\"strokeWidth\": 1,\n\t\t\t\"strokeStyle\": \"solid\",\n\t\t\t\"roughness\": 1,\n\t\t\t\"opacity\": 100,\n\t\t\t\"angle\": 0,\n\t\t\t\"x\": 171.598366052521,\n\t\t\t\"y\": 108.00972562723837,\n\t\t\t\"strokeColor\": \"#000000\",\n\t\t\t\"backgroundColor\": \"transparent\",\n\t\t\t\"width\": 73.19992065429688,\n\t\t\t\"height\": 24,\n\t\t\t\"seed\": 1529386654,\n\t\t\t\"groupIds\": [],\n\t\t\t\"roundness\": null,\n\t\t\t\"boundElements\": null,\n\t\t\t\"updated\": 1679988088894,\n\t\t\t\"link\": null,\n\t\t\t\"locked\": false,\n\t\t\t\"fontSize\": 20,\n\t\t\t\"fontFamily\": 1,\n\t\t\t\"text\": \"server4\",\n\t\t\t\"rawText\": \"server4\",\n\t\t\t\"textAlign\": \"center\",\n\t\t\t\"verticalAlign\": \"middle\",\n\t\t\t\"containerId\": \"ubCBCHZh6wGVU2I0AfDiK\",\n\t\t\t\"originalText\": \"server4\"\n\t\t}\n\t],\n\t\"appState\": {\n\t\t\"theme\": \"light\",\n\t\t\"viewBackgroundColor\": \"#ffffff\",\n\t\t\"currentItemStrokeColor\": \"#000000\",\n\t\t\"currentItemBackgroundColor\": \"transparent\",\n\t\t\"currentItemFillStyle\": \"hachure\",\n\t\t\"currentItemStrokeWidth\": 1,\n\t\t\"currentItemStrokeStyle\": \"solid\",\n\t\t\"currentItemRoughness\": 1,\n\t\t\"currentItemOpacity\": 100,\n\t\t\"currentItemFontFamily\": 1,\n\t\t\"currentItemFontSize\": 20,\n\t\t\"currentItemTextAlign\": \"left\",\n\t\t\"currentItemStartArrowhead\": null,\n\t\t\"currentItemEndArrowhead\": \"arrow\",\n\t\t\"scrollX\": 821.25,\n\t\t\"scrollY\": 484.0078125,\n\t\t\"zoom\": {\n\t\t\t\"value\": 1\n\t\t},\n\t\t\"currentItemRoundness\": \"round\",\n\t\t\"gridSize\": null,\n\t\t\"colorPalette\": {},\n\t\t\"currentStrokeOptions\": null,\n\t\t\"previousGridSize\": null\n\t},\n\t\"files\": {}\n}\n```\n%%","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/icmp-tcp-dns-%E9%85%8D%E7%BD%AE":{"title":"","content":"```yaml\n---\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: monitoring-system\n  labels:\n    app:  monitoring\n---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: blackbox-config\n  namespace: monitoring-system\ndata:\n  blackbox.yml: |-\n    modules:\n      dns:\n        prober: dns\n        dns:\n          transport_protocol: \"tcp\"  # é»˜è®¤æ˜¯ udp\n          preferred_ip_protocol: \"ip4\"  # é»˜è®¤æ˜¯ ip6\n          query_name: \"kubernetes.default.svc.cluster.local\"\n      icmp:\n        prober: icmp\n      icmp_ttl5:\n        prober: icmp\n        timeout: 5s\n        icmp:\n          ttl: 5\n      tcp_connect:\n        prober: tcp\n        tcp:\n          preferred_ip_protocol: \"ip4\"\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: blackbox\n  namespace: monitoring-system\nspec:\n  selector:\n    matchLabels:\n      app: blackbox\n  template:\n    metadata:\n      labels:\n        app: blackbox\n    spec:\n      containers:\n      - image: quay.io/prometheus/blackbox-exporter:v0.22.0\n        name: blackbox\n        args:\n        - --config.file=/etc/blackbox_exporter/blackbox.yml # ConfigMap ä¸­çš„é…ç½®æ–‡ä»¶\n        - --log.level=error  # é”™è¯¯çº§åˆ«æ§åˆ¶\n        - --web.listen-address=:9115\n        ports:\n        - containerPort: 9115\n        volumeMounts:\n        - name: config\n          mountPath: /etc/blackbox_exporter\n      volumes:\n      - name: config\n        configMap:\n          name: blackbox-config\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: blackbox\n  namespace: monitoring-system\nspec:\n  selector:\n    app: blackbox\n  ports:\n  - port: 9115\n    targetPort: 9115\n```\n\n\nprometheus\n```yaml\n---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: prometheus-config\n  namespace: monitoring-system\ndata:\n  prometheus.yml: |\n    global:\n      scrape_interval: 15s\n      scrape_timeout: 15s\n    scrape_configs:\n    - job_name: 'prometheus'\n      static_configs:\n      - targets: ['localhost:9090']\n      \n    - job_name: \"kubernetes-service-dns\"\n      metrics_path: /probe # ä¸æ˜¯ metricsï¼Œæ˜¯ probe\n      params:\n        module: [dns] # ä½¿ç”¨ DNS æ¨¡å—\n      static_configs:\n      - targets:\n        - kube-dns.kube-system:53  # ä¸è¦çœç•¥ç«¯å£å·\n      relabel_configs:\n      - source_labels: [__address__]\n        target_label: __param_target\n      - source_labels: [__param_target]\n        target_label: instance\n      - target_label: __address__\n        replacement: blackbox:9115\n\n    - job_name: 'blackbox_http_ping'\n      scrape_interval: 30s\n      metrics_path: /probe\n      params:\n        module: [icmp]\n      static_configs:\n      - targets:\n        - 223.5.5.5\n      relabel_configs:\n      - source_labels: [__address__]\n        target_label: __param_target\n      - source_labels: [__param_target]\n        target_label: instance\n      - target_label: __address__\n        replacement: blackbox:9115\n\n    - job_name: 'blackbox_tcp_connect'\n      scrape_interval: 30s\n      metrics_path: /probe\n      params:\n        module: [tcp_connect]\n      static_configs:\n      - targets:\n        - 172.30.10.2:179\n        - 172.30.10.4:179\n      relabel_configs:\n      - source_labels: [__address__]\n        target_label: __param_target\n      - source_labels: [__param_target]\n        target_label: instance\n      - target_label: __address__\n        replacement: blackbox:9115\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: prometheus-user\nrules:\n- apiGroups: [\"\"]\n  resources:\n  - endpoints\n  - services\n  - pods\n  verbs: [\"get\", \"list\", \"watch\"]\n- nonResourceURLs: [\"/metrics\"]\n  verbs: [\"get\"]\n---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: prometheus-user\n  namespace: monitoring-system\n---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: prometheus-user\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: prometheus-user\nsubjects:\n- kind: ServiceAccount\n  name: prometheus-user\n  namespace: monitoring-system\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: prometheus\n  namespace: monitoring-system\n  labels:\n    app: prometheus-pod\nspec:\n  progressDeadlineSeconds: 600\n  replicas: 1\n  selector:\n    matchLabels:\n      app: prometheus-pod\n  strategy:\n    rollingUpdate:\n      maxSurge: 25%\n      maxUnavailable: 25%\n    type: RollingUpdate\n  template:\n    metadata:\n      labels:\n        app: prometheus-pod\n    spec:\n      containers:\n      - image: prom/prometheus\n        name: prometheus-pod\n        ports:\n        - containerPort: 9090\n          protocol: TCP\n        resources: \n          limits:\n            memory: \"128Mi\"\n            cpu: \"500m\"\n        volumeMounts:\n        - name: config-volume\n          mountPath: /etc/prometheus/prometheus.yml\n          subPath: prometheus.yml\n      volumes:\n      - name: config-volume\n        configMap:\n          name: prometheus-config\n      restartPolicy: Always\n      serviceAccountName: prometheus-user\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: prometheus-dashboard-svc\n  namespace: monitoring-system\nspec:\n  selector:\n    app: prometheus-pod\n  ports:\n  - nodePort: 32000\n    port: 9090\n    targetPort: 9090\n    protocol: TCP\n  type: NodePort\n```\n\n\n\n\n```\n---\napiVersion: v1\nkind: Deployment\nmetadata:\n  name: grafana\n  namespace: monitoring-system\n  labels:\n    app:  grafana\nspec:\n  progressDeadlineSeconds: 600\n  replicas: 1\n  selector:\n    matchLabels:\n      app: grafana\n  strategy:\n    rollingUpdate:\n      maxSurge: 25%\n      maxUnavailable: 25%\n    type: RollingUpdate\n  template:\n    metadata:\n      labels:\n        app: grafana\n\tspec:\n\t  containers:\n\t  - name: grafana-pod\n\t    image: grafana/grafana:latest\n\t    resources:\n\t      limits:\n\t        memory: \"128Mi\"\n\t        cpu: \"500m\"\n\t    volumeMounts:\n\t    - name: grafana-config-volume\n\t      mountPath: /etc/grafana/provisioning/datasources\n\t    - name: grafana-dashboards-volume\n\t      mountPath: /etc/grafana/provisioning/dashboards\n\t    - name: grafana-storage-volume\n\t      mountPath: /var/lib/grafana\n\t    ports:\n\t    - containerPort: 3000\n\t  volumes:\n\t  - name: grafana-storage-volume\n\t    emptyDir: {}\n\t  - name: grafana-config-volume\n\t    configMap:\n\t      name: grafana-config\n\t  - name: grafana-dashboards-volume\n\t    configMap:\n\t      name: grafana-dashboards-config\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: grafana-dashboard-svc\n  namespace: monitoring-system\nspec:\n  selector:\n    app:  grafana-pod\n  ports:\n  - port: 3000\n    targetPort: 3000\n    protocol: TCP\n    nodePort: 31100\n  type: NodePort\n---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: grafana-config\n  namespace: monitoring-system\ndata:\n  prometheus.yaml: |-\n    {\n        \"apiVersion\": 1,\n        \"datasources\": [\n            {\n               \"access\":\"proxy\",\n                \"editable\": true,\n                \"name\": \"block-exporter-prometheus\",\n                \"orgId\": 1,\n                \"type\": \"prometheus\",\n                \"url\": \"http://prometheus-dashboard-svc.monitoring-system.svc:9090\",\n                \"version\": 1\n            }\n        ]\n    }\n---\n\n```","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/images-repository":{"title":"images-repository","content":"\n\u003e *Moby = open source development\n\u003e Docker CE = free product release based on Moby\n\u003e Docker EE = commercial product release based on Docker CE.*\n\n## ç™»å½•ä¿¡æ¯\n`cat /root/.docker/config.json`\n```json\n{\n\t\"auths\": {\n\t\t\"https://index.docker.io/v1/\": {\n\t\t\t\"auth\": \"cn********jMxMjMu\"\n\t\t}\n\t},\n\t\"aliases\": {\n\t\t\"builder\": \"buildx\"\n\t}\n}\n```\n\n```bash\n~#: echo -n \"cn********MjMu\" | base64 -d\nuser:mima\n```\n\n## æ‰‹åŠ¨ push å¤šæ¶æ„é•œåƒ\n[https://blog.csdn.net/linmengmeng_1314/article/details/123231087](https://blog.csdn.net/linmengmeng_1314/article/details/123231087)\n```bash\ndocker manifest create --insecure rykren/jdk8:latest rykren/jdk8:amd64 rykren/jdk8:arm64\n\n\ndocker manifest annotate rykren/jdk8:latest rykren/jdk8:amd64 --os linux --arch amd64\ndocker manifest annotate rykren/jdk8:latest rykren/jdk8:arm64 --os linux --arch arm64\n\ndocker manifest push --insecure onlyonelmm/jdk8:latest\n\n# åˆ é™¤ manifest\ndocker manifest rm docker manifest annotate rykren/jdk8:latest\n```\n\n\n## é…ç½® push ä»“åº“ä¿¡æ¯\nåœ¨é…ç½®å®ŒHarbor åå‘ç° push åŠŸèƒ½ä¸å¯ç”¨å‡ºç°ä»¥ä¸‹é—®é¢˜\n==unauthorized: unauthorized to access repository: xuegod-web/redis-photon, action: push: unauthorized to access repository: xuegod-web/redis-photon, action: push==\n\nå‘ç°/root/.docker/config.json ä¸­è®¾ç½®ä¸ºIPåœ°å€ï¼Œè€Œåœ¨daemon.json è®¾çš„ä¸ºä¸»æœºåï¼Œæ›´æ”¹ä¸ºåŒæ ·è®¾ç½®ï¼š\n``` bash\n~#: cat config.json \n{ \"auths\": { \"_win21.inno.com_\": { \"auth\": \"YWRt****QDIwMjA=\" } } } \n~#: cat /etc/docker/daemon.json \n{ \"insecure-registries\":[\"_win21.inno.com_\"] }\n```\n\n\n## æ‹‰å–é•œåƒ\n1.  æ™®é€šæ‹‰å–\nç›´æ¥æ‹‰å–è¯¥é•œåƒçš„æœ€æ–°ç‰ˆ,é»˜è®¤æ‹‰å–tagä¸ºlatestçš„é•œåƒ\n`docker pull ubuntu`\n\n2.  tagæŒ‡å®šæ ‡ç­¾æ‹‰å–\n`docker pull ubuntu:18.04`\n\n3.  æ‘˜è¦æ‹‰å–\n`docker pull ubuntu@sha256:xxx`  \n\n4.  ä»å…¶ä»–é•œåƒä»“åº“ä¸­æ‹‰å–\né»˜è®¤æƒ…å†µä¸‹ `docker pull` ä»Docker Hubæ‹‰å–é•œåƒã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä»å…¶ä»–æ³¨å†Œä¸­å¿ƒæ‹‰å–é•œåƒï¼Œæ³¨å†Œä¸­å¿ƒçš„URLå‰ä¸éœ€è¦åŠ `http://`æˆ–`https://`\n`docker pull localregistry.example:6666/testing/test-image`\n\n5.  ä»åŒä¸€é•œåƒåº“ï¼Œä¸€æ¬¡æ‹‰å–å¤šä¸ªé•œåƒ\nä½¿ç”¨`docker pull -a`Â åˆ™å¯ä»¥æ‹‰å–åŒä¸€é•œåƒåº“ä¸­æ‰€æœ‰é•œåƒã€‚\n\n\n## å›½å†…é•œåƒæº\n-   dockerå®˜æ–¹ä¸­å›½åŒº https://registry.docker-cn.com\n-   ç½‘æ˜“ http://hub-mirror.c.163.com\n-   ustc http://docker.mirrors.ustc.edu.cn\n``` json\n{\n  \"registry-mirrors\" : [\n    \"https://registry.docker-cn.com\",\n    \"https://docker.mirrors.ustc.edu.cn\",\n    \"http://hub-mirror.c.163.com\"\n  ],\n  \"insecure-registries\" : [\n    \"registry.docker-cn.com\",\n    \"docker.mirrors.ustc.edu.cn\"\n  ],\n  \"debug\" : true,\n  \"experimental\" : true\n}\n```\n\n## é˜¿é‡Œäº‘é•œåƒ\t\n`docker login --username=renyunkang registry.cn-hangzhou.aliyuncs.com`\n\næ›¿æ¢ entrypoint\n`docker run -it --entrypoint /bin/bash xxxx`\n","lastmodified":"2023-04-18T15:06:06.090796333Z","tags":null},"/install-KubeOVN":{"title":"","content":"#kube-ovn #kubekey #install \n\n## overlay å®‰è£…\n1. ä½¿ç”¨ kubekey å®‰è£…\n```yaml\napiVersion: kubekey.kubesphere.io/v1alpha2\nkind: Cluster\nmetadata:\n  name: sample\nspec:\n  ...\n  network:\n    plugin: kubeovn\n    kubePodsCIDR: 10.233.64.0/18\n    kubeServiceCIDR: 10.233.0.0/18\n  ...\n```\n2. è‡ªå®šä¹‰å®‰è£… - ä½¿ç”¨å®‰è£…è„šæœ¬\n```bash\nwget https://raw.githubusercontent.com/kubeovn/kube-ovn/release-1.10/dist/images/install.sh\n\n# ä¿®æ”¹å¯¹åº”çš„å‚æ•°\nREGISTRY=\"kubeovn\" # é•œåƒä»“åº“åœ°å€\nPOD_CIDR=\"10.16.0.0/16\" # é»˜è®¤å­ç½‘ CIDR ä¸è¦å’Œ SVC/NODE/JOIN CIDR é‡å \nSVC_CIDR=\"10.96.0.0/12\" # éœ€è¦å’Œ apiserver çš„ service-cluster-ip-range ä¿æŒä¸€è‡´ \nJOIN_CIDR=\"100.64.0.0/16\" # Pod å’Œnodeé€šä¿¡ CIDRï¼Œä¸è¦å’Œ SVC/NODE/POD CIDR é‡å \nLABEL=\"node-role.kubernetes.io/master\" # éƒ¨ç½² OVN DB èŠ‚ç‚¹çš„æ ‡ç­¾ \nTUNNEL_TYPE=\"geneve\" # éš§é“å°è£…åè®®(geneve/vxlan/stt,stt è¦å•ç‹¬ç¼–è¯‘ ovs å†…æ ¸æ¨¡å—)\nIFACE=\"\" # å®¹å™¨ç½‘ç»œæ‰€ä½¿ç”¨çš„çš„å®¿ä¸»æœºç½‘å¡åï¼Œå¦‚æœä¸ºç©ºåˆ™ä½¿ç”¨ Kubernetes ä¸­çš„ Node IP æ‰€åœ¨ç½‘å¡ï¼Œå¯ä»¥ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…\n\n# æ‰§è¡Œå®‰è£…\nbash install.sh\n```\n\n\n## underlay å®‰è£…\n### ç¯å¢ƒè¦æ±‚\nåœ¨ Underlay æ¨¡å¼ä¸‹ï¼Œ OVS å°†ä¼šæ¡¥æ¥ä¸€ä¸ªèŠ‚ç‚¹ç½‘å¡åˆ° OVS ç½‘æ¡¥ï¼Œå¹¶å°†æ•°æ®åŒ…ç›´æ¥é€šè¿‡è¯¥èŠ‚ç‚¹ç½‘å¡å¯¹å¤–å‘é€ï¼ŒL2/L3 å±‚é¢çš„è½¬å‘èƒ½åŠ›éœ€è¦ä¾èµ–åº•å±‚ç½‘ç»œè®¾å¤‡ã€‚ éœ€è¦é¢„å…ˆåœ¨åº•å±‚ç½‘ç»œè®¾å¤‡é…ç½®å¯¹åº”çš„ç½‘å…³ã€Vlan å’Œå®‰å…¨ç­–ç•¥ç­‰é…ç½®ã€‚\n\n1.  å¯¹äº OpenStack çš„ VM ç¯å¢ƒï¼Œéœ€è¦å°†å¯¹åº”ç½‘ç»œç«¯å£çš„Â `PortSecurity`Â å…³é—­ã€‚\n2.  å¯¹äº VMware çš„ vSwitch ç½‘ç»œï¼Œéœ€è¦å°†Â `MAC Address Changes`,Â `Forged Transmits`Â å’ŒÂ `Promiscuous Mode Operation`Â è®¾ç½®ä¸ºÂ `allow`ã€‚\n3.  å…¬æœ‰äº‘ï¼Œä¾‹å¦‚ AWSã€GCEã€é˜¿é‡Œäº‘ç­‰ç”±äºä¸æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰ Mac æ— æ³•æ”¯æŒ Underlay æ¨¡å¼ç½‘ç»œã€‚\n4.  æ¡¥æ¥ç½‘å¡ä¸èƒ½ä¸º Linux Bridgeã€‚\n\nå¯¹äºç®¡ç†ç½‘å’Œå®¹å™¨ç½‘ä½¿ç”¨åŒä¸€ä¸ªç½‘å¡çš„æƒ…å†µä¸‹ï¼ŒKube-OVN ä¼šå°†ç½‘å¡çš„ Mac åœ°å€ã€IP åœ°å€ã€è·¯ç”±ä»¥åŠ MTU å°†è½¬ç§»æˆ–å¤åˆ¶è‡³å¯¹åº”çš„ OVS Bridgeï¼Œ ä»¥æ”¯æŒå•ç½‘å¡éƒ¨ç½² Underlay ç½‘ç»œã€‚OVS Bridge åç§°æ ¼å¼ä¸ºÂ `br-PROVIDER_NAME`ï¼Œ`PROVIDER_NAME`Â ä¸º Provider ç½‘ç»œåç§°ï¼ˆé»˜è®¤ä¸º providerï¼‰ã€‚\n\n### å®‰è£…\nä½¿ç”¨ kubekey å®‰è£… overlay ä¹‹åé¢å¤–è¿›è¡Œ CRD é…ç½®\n```yaml\n---\napiVersion: kubeovn.io/v1\nkind: ProviderNetwork\nmetadata:\n  name: provider\nspec:\n  defaultInterface: eth0\n---\napiVersion: kubeovn.io/v1\nkind: Vlan\nmetadata:\n  name: vlan\nspec:\n  id: 10\n  provider: provider\n---\napiVersion: kubeovn.io/v1\nkind: Subnet\nmetadata:\n  name: subnet\nspec:\n  logicalGateway: false\n  cidrBlock: 172.30.10.0/24\n  gateway: 172.30.10.1\n  vlan: vlan\n  excludeIps:\n  - 172.30.10.1\n```\n\nä¿®æ”¹ ovn-default çš„ default ä¸º false\nä¿®æ”¹ subnet ä¸º default ä¸º true\n\n### ä½¿ç”¨è„šæœ¬å®‰è£…\n```bash\n# ä¸‹è½½è„šæœ¬\nwget https://raw.githubusercontent.com/kubeovn/kube-ovn/release-1.10/dist/images/install.sh\n\n# ä¿®æ”¹è„šæœ¬ä¸­ç›¸åº”é…ç½®\n`NETWORK_TYPE          # è®¾ç½®ä¸º vlan \nVLAN_INTERFACE_NAME   # è®¾ç½®ä¸ºå®¿ä¸»æœºä¸Šæ‰¿æ‹…å®¹å™¨æµé‡çš„ç½‘å¡ï¼Œä¾‹å¦‚ eth1 \nVLAN_ID               # äº¤æ¢æœºæ‰€æ¥å—çš„ VLAN Tagï¼Œè‹¥è®¾ç½®ä¸º 0 åˆ™ä¸åš VLAN å°è£… \nPOD_CIDR              # è®¾ç½®ä¸ºç‰©ç†ç½‘ç»œ CIDRï¼Œ ä¾‹å¦‚ 192.168.1.0/24 \nPOD_GATEWAY           # è®¾ç½®ä¸ºç‰©ç†ç½‘ç»œç½‘å…³ï¼Œä¾‹å¦‚192.168.1.1 \nEXCLUDE_IPS           # æ’é™¤èŒƒå›´ï¼Œé¿å…å®¹å™¨ç½‘æ®µå’Œç‰©ç†ç½‘ç»œå·²ç”¨ IP å†²çªï¼Œä¾‹å¦‚ 192.168.1.1..192.168.1.100`\n\n# è¿è¡Œå®‰è£…è„šæœ¬\nbash install.sh\n```\n\n\né•œåƒï¼š\n- registry.cn-beijing.aliyuncs.com/kubesphereio/kube-ovn:v1.10.6\n- kubeovn/kube-ovn:v1.10.6","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/iptables":{"title":"","content":"#iptables #calico \n\nCalico ä½¿ç”¨ iptables æ•°æ®é¢æ—¶ä¼šåˆ›å»ºå¤šä¸ª iptables è§„åˆ™æ¥å®ç°ç½‘ç»œç­–ç•¥å’Œæµé‡æ§åˆ¶ã€‚è¿™äº›è§„åˆ™ç”¨äºå®ç°è¯¸å¦‚æµé‡éš”ç¦»ã€æµé‡è½¬å‘ã€è´Ÿè½½å‡è¡¡å’Œè®¿é—®æ§åˆ¶ç­‰åŠŸèƒ½ã€‚\nCalico ä¼šæ ¹æ®å®šä¹‰çš„ç½‘ç»œç­–ç•¥è‡ªåŠ¨ç”Ÿæˆ iptables è§„åˆ™ã€‚æ­¤å¤–ï¼ŒCalico è¿˜ä¼šåˆ›å»ºä¸€äº›åŸºç¡€è§„åˆ™æ¥å®ç°å…¶æ ¸å¿ƒåŠŸèƒ½ï¼Œä¾‹å¦‚è·¯ç”±å’Œç½‘ç»œéš”ç¦»ã€‚æ‰€ä»¥è¯´ï¼Œå³ä½¿æ‚¨æ²¡æœ‰å®šä¹‰ä»»ä½•ç½‘ç»œç­–ç•¥ï¼ŒCalico ä»ç„¶ä¼šåœ¨ä¸»æœºä¸Šåˆ›å»ºä¸€äº› iptables è§„åˆ™ã€‚\n\n\n\ncalico ä½¿ç”¨ iptables \n\nä¸ service æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ\n```\nWhen using Calico with Kubernetes' `kube-proxy` in IPVS mode, Calico uses additional iptables mark bits to store an ID for each local Calico endpoint. For example, the default `IptablesMarkMask` value, `0xffff0000` gives Calico 16 bits, up to 6 of which are used for internal purposes, leaving 10 bits for endpoint IDs. 10 bits is enough for 1024 different values and Calico uses 2 of those for internal purposes, leaving enough for 1022 endpoints on the host.\n```\n\n```\n**iptables: when to change mark bits**\n\nTo police traffic in IPVS mode, Calico uses additional iptables mark bits to store an ID for each local Calico endpoint. If you are planning to run more than 1,022 pods per host with IPVS enabled, you may need to adjust the mark bit size using theÂ `IptablesMarkMask`Â parameter in CalicoÂ FelixConfiguration.\n```\n\n![upgit_20230323_1679556881.png](https://images.ryken.cloud/2023/03/upgit_20230323_1679556881.png)\n\n\nå¼€å¯äº†ç½‘ç»œç­–ç•¥ï¼š\ncalico - nat\n```\n:cali-OUTPUT - [0:0]\n:cali-POSTROUTING - [0:0]\n:cali-PREROUTING - [0:0]\n:cali-fip-dnat - [0:0]\n:cali-fip-snat - [0:0]\n:cali-nat-outgoing - [0:0]\n```\n\n\ncalico - filter\n```\n:cali-FORWARD - [0:0]\n:cali-INPUT - [0:0]\n:cali-OUTPUT - [0:0]\n:cali-cidr-block - [0:0]\n:cali-forward-check - [0:0]\n:cali-forward-endpoint-mark - [0:0]\n:cali-from-endpoint-mark - [0:0]\n:cali-from-hep-forward - [0:0]\n:cali-from-host-endpoint - [0:0]\n:cali-from-wl-dispatch - [0:0]\n... ...\n:cali-fw-cali00611cd3a35 - [0:0]\n... ...\n:cali-pri-_4yKiQwonO0KS2HOLn2 - [0:0]\n... ...\n:cali-pri-kns.kube-system - [0:0]\n:cali-pri-kns.namespace-b - [0:0]\n:cali-pri-kns.rykren - [0:0]\n:cali-pri-ksa.rykren.default - [0:0]\n:cali-pro-_4yKiQwonO0KS2HOLn2 - [0:0]\n... ...\n:cali-pro-kns.kube-system - [0:0]\n:cali-pro-kns.namespace-b - [0:0]\n:cali-pro-kns.rykren - [0:0]\n:cali-pro-ksa.rykren.default - [0:0]\n:cali-set-endpoint-mark - [0:0]\n... ...\n:cali-sm-cali00611cd3a35 - [0:0]\n... ...\n:cali-to-hep-forward - [0:0]\n:cali-to-host-endpoint - [0:0]\n:cali-to-wl-dispatch - [0:0]\n... ...\n:cali-tw-calife8377029c4 - [0:0]\n... ...\n:cali-wl-to-host - [0:0]\n```\n\n\ncalico mangle\n```\n:cali-POSTROUTING - [0:0]\n:cali-PREROUTING - [0:0]\n:cali-from-host-endpoint - [0:0]\n:cali-to-host-endpoint - [0:0]\n```\n\ncalico raw\n```\n:cali-OUTPUT - [0:0]\n:cali-PREROUTING - [0:0]\n:cali-from-host-endpoint - [0:0]\n:cali-rpf-skip - [0:0]\n:cali-to-host-endpoint - [0:0]\n```\n\n\næœªå¼€å¯ç½‘ç»œç­–ç•¥\n\n\n\n### calico æ•°æ®å¹³é¢\n- iptables æ•°æ®é¢\n- ebpf æ•°æ®é¢\n\n1. iptables æ•°æ®é¢å¦‚ä½•å·¥ä½œçš„\n\t1. calico controller + daemonset + calico cni bin\n2. cni æ˜¯å¦æ”¯æŒé…ç½® policy ï¼štype-k8s   disabled-true\n\n","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/iptables-%E8%BD%AC%E5%8F%91":{"title":"","content":"#iptables\n\n## ç«¯å£è½¬å‘\n**å°†æœ¬æœºçš„8080ç«¯å£è½¬å‘è‡³å…¶ä»–ä¸»æœºï¼Œä¸»æœºIPï¼š192.168.1.12ï¼Œç›®æ ‡ä¸»æœºIPå’Œç«¯å£ï¼š192.168.1.13:8088ï¼Œè§„åˆ™å¦‚ä¸‹**\n```bash\niptables -t nat -A PREROUTING -p tcp -m tcp --dport 8080 -j DNAT --to-destination 192.168.1.13:8088\niptables -t nat -A POSTROUTING -p tcp -m tcp --dport 8088 -j SNAT --to-source 192.168.1.12\necho 1 \u003e /proc/sys/net/ipv4/ip_forward #å¼€å¯iptables forwardè½¬å‘åŠŸèƒ½ã€‚\n```\n\n**tcpèŒƒå›´ç«¯å£æ˜ å°„**\n```bash\niptables -t nat -A PREROUTING -p tcp --dport 2000:2500 -j DNAT --to 192.168.66.2:2000-2500\n```\n\n**è¿œç¨‹è½¬å‘**\n```bash\niptables -A FORWARD -p tcp --dport 80 -j ACCEPT\niptables -A FORWARD -p tcp --sport 80 -j ACCEPT\n#æŠŠè®¿é—®192.168.0.12çš„80ç«¯å£è½¬å‘åˆ°192.168.0.13çš„80ç«¯å£\niptables -t nat -A PREROUTING -p tcp -i eth0 -d 192.168.0.12 --dport 80 -j DNAT --to-destination 192.168.0.13:80\n#é…ç½®åœ°å€ä¼ªè£… \niptables -t nat -A POSTROUTING -p tcp -m tcp --dport 80 -j MASQUERADE\n```\n\n**æœ¬åœ°è½¬å‘**\n```bash\n#è®¿é—®æœ¬æœºçš„8080ç«¯å£è½¬å‘åˆ°æœ¬åœ°çš„80ç«¯å£\niptables -t nat -A PREROUTING -p tcp --dport 8080 -j REDIRECT --to-ports 80\n```\n\n**æ¸…ç©ºè½¬å‘è§„åˆ™ï¼ˆnatè¡¨ï¼‰**\n```bash\niptables -F -t nat\n```\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/k9s-Tools":{"title":"","content":"#k9s \n\nrelease url: [Releases Â· derailed/k9s (github.com)](https://github.com/derailed/k9s/releases)\n\nå®‰è£…\n\né…ç½®ï¼š[derailed/k9s: ğŸ¶ Kubernetes CLI To Manage Your Clusters In Style! (github.com)](https://github.com/derailed/k9s#k9s-configuration)\n~/.config/k9s/config.yml\n```\nk9s:\n  refreshRate: 2\n  maxConnRetry: 5\n  enableMouse: false\n  headless: false\n  logoless: false\n  crumbsless: false\n  readOnly: false\n  noExitOnCtrlC: false\n  noIcons: false\n  logger:\n    tail: 100\n    buffer: 5000\n    sinceSeconds: 60\n    fullScreenLogs: false\n    textWrap: false\n    showTime: false\n  currentContext: kubernetes-admin@cluster.local\n  currentCluster: cluster.local\n  clusters:\n    cluster.local:\n      namespace:\n        active: all\n        lockFavorites: false\n        favorites:\n        - default\n      view:\n        active: po\n      featureGates:\n        nodeShell: false\n      shellPod:\n        image: busybox:1.35.0\n        command: []\n        args: []\n        namespace: default\n        limits:\n          cpu: 100m\n          memory: 100Mi\n      portForwardAddress: localhost\n  thresholds:\n    cpu:\n      critical: 90\n      warn: 70\n    memory:\n      critical: 90\n      warn: 70\n  screenDumpDir: /tmp/k9s-screens-root\n```","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/kube-ovn":{"title":"","content":"#kube-ovn  #cni \n\næ–‡æ¡£é“¾æ¥ï¼š[Kube-OVN æ–‡æ¡£](https://kube-ovn.readthedocs.io/zh_CN/latest/)\nå‘å¸ƒç‰ˆæœ¬ï¼š[Releases Â· kubeovn/kube-ovn (github.com)](https://github.com/kubeovn/kube-ovn/releases)\n\nkube-ovn 1.9 ç‰ˆæœ¬è‡ªå®šä¹‰èµ„æº\n| è‡ªå®šä¹‰èµ„æº | è¯´æ˜ | å¤‡æ³¨|\n|---|---|--|\n| vpcs | è‡ªå®šä¹‰vpc | |\n| vpc-nat-gateways | vpc å‡ºå£ç½‘å…³ | |\n| subnets | å­ç½‘/ippool åœ°å€æ±  | |\n| provider-networks | underlay ç½‘å¡æä¾›è€… | |\n| vlans | vlan ä¿¡æ¯ | |\n| ips | ip åˆ†é…è®°å½• | |\n| htbqoses | pod ç½‘ç»œé™é€Ÿ | |\n| security-groups | å®‰å…¨ç»„ä¿¡æ¯ | |\n\nkube-ovn 1.10 è‡ªå®šä¹‰èµ„æº\n| è‡ªå®šä¹‰èµ„æº | è¯´æ˜ | å¤‡æ³¨|\n|---|---|--|\n| vpcs | è‡ªå®šä¹‰vpc | |\n| vpc-nat-gateways | vpc å‡ºå£ç½‘å…³ | |\n| subnets | å­ç½‘/ippool åœ°å€æ±  | |\n| provider-networks | underlay ç½‘å¡æä¾›è€… | |\n| vlans | vlan ä¿¡æ¯ | |\n| ips | ip åˆ†é…è®°å½• | |\n| vips | vip åˆ†é…è®°å½• | |\n| htbqoses | pod ç½‘ç»œé™é€Ÿ | |\n| security-groups | å®‰å…¨ç»„ä¿¡æ¯ | |\n| iptables-snat-rules | snat è§„åˆ™  | |\n| iptables-dnat-rules | dnat è§„åˆ™ | |\n| iptables-eips | eip ä¿¡æ¯ | |\n| iptables-fip-rules | float ip ä¿¡æ¯ | |\næ–°ç‰ˆæœ¬ 1.10 å°†è€¦åˆåœ¨ vpc-nat-gateways ä¸­çš„ snat/dnat/eips/fip ä¿¡æ¯æŠ½ç¦»å‡ºæ¥\n\n\n\n\n\n","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/kube-ovn-ipam":{"title":"","content":"#ipam #kube-ovn \n\n## ip åˆ†é…\n- **éšæœºåˆ†é…**\n\tå¯¹äºå·¥ä½œè´Ÿè½½çš„ ip åˆ†é…ç­–ç•¥\n\t- ä¼˜å…ˆä½¿ç”¨è´Ÿè½½æŒ‡å®šçš„ï¼š`ovn.kubernetes.io/logical_switch: subnet`\n\t- å¦‚æœè´Ÿè½½æ²¡æœ‰æŒ‡å®šä½¿ç”¨ï¼Œä½¿ç”¨ namespace ç»‘å®šçš„ subnet\n\t- å¦‚æœ namespace æ²¡æœ‰ç»‘å®š subnetï¼Œä½¿ç”¨å®‰è£…é»˜è®¤çš„ ovn-default \n\n- **é™æ€åˆ†é…**\n\té™æ€åˆ†é…å³åœ¨ pod çš„ annotations ä¸­æ·»åŠ å¯¹åº”çš„æ³¨è§£ï¼šå¦‚æœ mac åœ°å€ä¸ºç©ºï¼Œä¼šéšæœºç”³è¯·å‡ºä¸€ä¸ª mac åœ°å€ã€‚\n``` yaml\n  annotations:\n    ovn.kubernetes.io/ip_address: 10.233.128.2\n    ovn.kubernetes.io/logical_switch: subnet\n    ovn.kubernetes.io/mac_address: 00:00:00:53:6B:B6\n```\n\n- **æŒ‡å®š ip-pool åˆ†é…**\n\tKube-OVN æ”¯æŒç»™ Workload è®¾ç½®å›ºå®š IPï¼ŒåŒ…æ‹¬Deployment/StatefulSet/DaemonSet/Job/CronJobã€‚\n```yaml\n      annotations:\n        ovn.kubernetes.io/logical_switch: subnet\n        ovn.kubernetes.io/ip_pool: 10.233.128.200,10.233.128.201,10.233.128.202\n```\n\n## ip é¢„ç•™\nåˆ›å»º subnet æ—¶å¯ä»¥é¢„ç•™ ip\n```yaml\napiVersion: kubeovn.io/v1\nkind: Subnet\nmetadata:\n  name: subnet\nspec:\n  protocol: IPv4\n  cidrBlock: 10.233.128.0/24\n  gateway: 10.233.128.1\n  excludeIps:\n  - 10.233.128.1..10.233.128.10\n  - 10.233.128.200\n```","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/kube-ovn-networkpolicy":{"title":"","content":"#network-policy #kube-ovn \n\n### æ ‡å‡†çš„ NetworkPolicy\nkube-ovn æ”¯æŒæ ‡å‡†çš„ NetworkPolicyï¼Œä½†æ˜¯æ— æ³•ä½œç”¨äº node ä¸Šçš„ç­–ç•¥\n```yaml\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: test-network-policy\n  namespace: default\nspec:\n  podSelector:\n    matchLabels:\n      role: db\n  policyTypes:\n    - Ingress\n    - Egress\n  ingress:\n    - from:\n        - ipBlock:\n            cidr: 172.17.0.0/16\n            except:\n              - 172.17.1.0/24\n        - namespaceSelector:\n            matchLabels:\n              project: myproject\n        - podSelector:\n            matchLabels:\n              role: frontend\n      ports:\n        - protocol: TCP\n          port: 6379\n  egress:\n    - to:\n        - ipBlock:\n            cidr: 10.0.0.0/24\n      ports:\n        - protocol: TCP\n          port: 5978\n```\n\n### å­ç½‘çº§åˆ«çš„ç½‘ç»œéš”ç¦»+è®¿é—®æ§åˆ¶\nkube-ovn è¿˜æ”¯æŒå­ç½‘çº§åˆ«çš„ç½‘ç»œéš”ç¦»å’Œè®¿é—®æ§åˆ¶\n1. ã€ç½‘ç»œéš”ç¦»ã€‘é€šè¿‡ subnet.spec.private å¼€å¯å­ç½‘é—´çš„éš”ç¦»ï¼Œå¹¶è‡ªå®šä¹‰æ·»åŠ å…è®¸è®¿é—®çš„ subnet \n```yaml\napiVersion: kubeovn.io/v1\nkind: Subnet\nmetadata:\n  name: subnet\nspec:\n  private: true\n  allowSubnets:\n  - 10.233.129.0/24\n  - 10.233.130.0/24\n```\n\n2. ã€è®¿é—®æ§åˆ¶ã€‘é€šè¿‡ subnet.spec.acls ä½¿ç”¨æ›´ç»†ç²’åº¦çš„è®¿é—®æ§åˆ¶\n```yaml\napiVersion: kubeovn.io/v1\nkind: Subnet\nmetadata:\n  name: subnet\nspec:\n  acls:                                                 // ACL å‚æ•°ä¿¡æ¯\n  - action: reject\n    direction: to-lport\n    match: ip4.src==172.30.2.201 \u0026\u0026 ip4.dst==172.30.3.201\n    priority: 2022\n  - action: allow\n    direction: to-lport\n    match: ip4.src==172.30.2.201 \u0026\u0026 ip4.dst==172.30.3.202\n    priority: 2222\n```\n| å­—æ®µ | è¯´æ˜ | å–å€¼ |\n|--|--|--|\n| action | åŠ¨ä½œ | allow/reject/drop/allow-related/allow-stateless |\n| direction | æ–¹å‘ | from-lport/to-lport |\n| match | åŒ¹é…è§„åˆ™ | `ip4.src==172.30.2.201 \u0026\u0026 ip4.dst==172.30.3.201` |\n| priority | ä¼˜å…ˆçº§ | 0~32767 |\n\nã€æ³¨ã€‘ï¼šmatch éœ€è¦ç¬¦åˆæµè¡¨è§„åˆ™ï¼š[ovn-sb man page - ovn - File Formats | ManKier](https://www.mankier.com/5/ovn-sb#Logical_Flow_TABLE)\n\n### å®‰å…¨ç»„ SecurityGroup\n```yaml\napiVersion: kubeovn.io/v1\nkind: SecurityGroup\nmetadata:\n  name: sg1\nspec:\n  allowSameGroupTraffic: true\n  egressRules:\n    - ipVersion: ipv4 \n      policy: allow                           \n      priority: 1\n      protocol: all\n      remoteAddress: 0.0.0.0/0\n      remoteType: address\n  ingressRules:\n    - ipVersion: ipv4\n      policy: allow\n      priority: 10\n      protocol: icmp\n      remoteAddress: 0.0.0.0/0\n      remoteType: address\n    - ipVersion: ipv4\n      policy: allow\n      priority: 10\n      protocol: tcp\n      portRangeMin: 3306\n      portRangeMax: 3306\n      remoteAddress: 192.168.2.100\n      remoteType: address\n    - ipVersion: ipv4\n      policy: allow\n      priority: 10\n      protocol: all\n      remoteSecurityGroup: sg2\n      remoteType: securityGroup\n```\n\n| å­—æ®µ | è¯´æ˜ | å–å€¼ |\n|--|--|--|\n| allowSameGroupTraffic | æ˜¯å¦å…è®¸ä¸å®‰å…¨ç»„é€šä¿¡ | true/false |\n| ipVersion | ip åè®® | ipv4/ipv6 |\n| policy | ç­–ç•¥ | allow/drop |\n| priority | ä¼˜å…ˆçº§ï¼Œå€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ | 0~200 |\n| protocol | åè®® | tcp/udp/icmp/all |\n| portRangeMin | ç«¯å£èŒƒå›´ | 0~65535 |\n|Â portRangeMax | ç«¯å£èŒƒå›´ï¼Œå¯ä»¥ç­‰äºportRangeMin å€¼ | 0~65535 |\n| remoteType | ä½œç”¨çš„å¯¹è±¡ç±»å‹ | address/securityGroup |\n| remoteSecurityGroup | å½“remoteTypeå–securityGroupï¼ŒæŒ‡å®šå…¶åç§° | string |\n\n\u003e å½“ protocol æŒ‡å®š tcp/udp æ—¶ï¼Œéœ€è¦æŒ‡å®š portRange \n\né€šè¿‡è®¾ç½® pod æ³¨è§£æ¥ä½¿ç”¨å®‰å…¨ç»„ï¼š\n```yaml\nmetadata:\n  annotations:\n    ovn.kubernetes.io/port_security: 'true'\n    ovn.kubernetes.io/security_groups: 'sg1,sg3,sgx'\n```\n\nå®˜æ–¹PR: [[WIP] Security group by fanriming Â· Pull Request #932 Â· kubeovn/kube-ovn (github.com)](https://github.com/kubeovn/kube-ovn/pull/932)\n\n### é›†æˆ cilium networkPolicy\n","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/kube-ovn-overlay-vpc":{"title":"","content":" #cni  #kube-ovn  #overlay\n\n\n### overlay æ¨¡å¼è·¯ç”±ç½‘ç»œæ‰“é€š\n[Overlay ä¸‹è·¯ç”±æ–¹å¼ç½‘ç»œæ‰“é€š - Kube-OVN æ–‡æ¡£](https://kube-ovn.readthedocs.io/zh_CN/latest/advance/overlay-with-route/)\n\n### ç½‘å…³ç±»å‹\n\u003e ä»…åœ¨é»˜è®¤ vpc ä¸‹æ”¯æŒï¼Œ*å­ç½‘ç®¡ç†*\n\n#### åˆ†å¸ƒå¼ç½‘å…³\nå­ç½‘çš„é»˜è®¤ç±»å‹ç½‘å…³ï¼Œæ¯ä¸ª node ä¼šä½œä¸ºå½“å‰ node ä¸Š pod è®¿é—®å¤–éƒ¨ç½‘ç»œçš„ç½‘å…³ã€‚æ•°æ®åŒ…ä¼šé€šè¿‡æœ¬æœºçš„Â `ovn0`Â ç½‘å¡æµå…¥ä¸»æœºç½‘ç»œæ ˆï¼Œå†æ ¹æ®ä¸»æœºçš„è·¯ç”±è§„åˆ™è¿›è¡Œå‡ºç½‘ã€‚ å½“Â `natOutgoing`Â ä¸ºÂ `true`Â æ—¶ï¼ŒPod è®¿é—®å¤–éƒ¨ç½‘ç»œå°†ä¼šä½¿ç”¨å½“å‰æ‰€åœ¨å®¿ä¸»æœºçš„ IPã€‚\n```yaml\napiVersion: kubeovn.io/v1\nkind: Subnet\nmetadata:\n  name: distributed\nspec:\n  ...\n  gatewayType: distributed\n  natOutgoing: true\n```\n\n#### é›†ä¸­å¼ç½‘å…³\nå¦‚æœå¸Œæœ›å­ç½‘å†…æµé‡è®¿é—®å¤–ç½‘ä½¿ç”¨å›ºå®šçš„ IPï¼Œä»¥ä¾¿å®¡è®¡å’Œç™½åå•ç­‰å®‰å…¨æ“ä½œï¼Œå¯ä»¥åœ¨å­ç½‘ä¸­è®¾ç½®ç½‘å…³ç±»å‹ä¸ºé›†ä¸­å¼ç½‘å…³ã€‚ åœ¨é›†ä¸­å¼ç½‘å…³æ¨¡å¼ä¸‹ï¼ŒPod è®¿é—®å¤–ç½‘çš„æ•°æ®åŒ…ä¼šé¦–å…ˆè¢«è·¯ç”±åˆ°ç‰¹å®šèŠ‚ç‚¹çš„Â `ovn0`Â ç½‘å¡ï¼Œå†é€šè¿‡ä¸»æœºçš„è·¯ç”±è§„åˆ™è¿›è¡Œå‡ºç½‘ã€‚ å½“Â `natOutgoing`Â ä¸ºÂ `true`Â æ—¶ï¼ŒPod è®¿é—®å¤–éƒ¨ç½‘ç»œå°†ä¼šä½¿ç”¨ç‰¹å®šå®¿ä¸»æœºçš„ IPã€‚\n```yaml\napiVersion: kubeovn.io/v1\nkind: Subnet\nmetadata:\n  name: centralized\nspec:\n  ...\n  gatewayType: centralized\n  gatewayNode: \"node1,node2\"\n  natOutgoing: true\n```\nå…¶ä¸­Â `gatewayType`Â å­—æ®µä¸ºÂ `centralized`ï¼Œ`gatewayNode`Â ä¸ºç‰¹å®šæœºå™¨åœ¨ Kubernetes ä¸­çš„ NodeNameã€‚\n- `gatewayNode`Â å­—æ®µå¯ä»¥ä¸ºé€—å·åˆ†éš”çš„å¤šå°ä¸»æœºã€‚\n- é›†ä¸­å¼ç½‘å…³å¦‚æœå¸Œæœ›æŒ‡å®šæœºå™¨çš„ç‰¹å®šç½‘å¡è¿›è¡Œå‡ºç½‘ï¼Œ`gatewayNode`Â å¯æ›´æ”¹ä¸ºÂ `kube-ovn-worker:172.18.0.2, kube-ovn-control-plane:172.18.0.3`Â æ ¼å¼ã€‚\n- é›†ä¸­å¼ç½‘å…³é»˜è®¤ä¸ºä¸»å¤‡æ¨¡å¼ï¼Œåªæœ‰ä¸»èŠ‚ç‚¹è¿›è¡Œæµé‡è½¬å‘ï¼Œå¦‚æœéœ€è¦åˆ‡æ¢ä¸º ECMP æ¨¡å¼ä¿®æ”¹ kube-ovn-controller Deployment çš„å‚æ•°ï¼š\n``` yaml\nargs:\n- --enable-ecmp=true \n```\n\n### Eip å’Œ Snat é…ç½®\n\u003e ä»…åœ¨é»˜è®¤ vpc ä¸‹æ”¯æŒ\n\nKube-OVN æ”¯æŒåˆ©ç”¨ OVN ä¸­çš„ L3 Gateway åŠŸèƒ½æ¥å®ç° Pod çº§åˆ«çš„ SNAT å’Œ EIP åŠŸèƒ½ã€‚ \n- é€šè¿‡ä½¿ç”¨ SNATï¼Œä¸€ç»„ Pod å¯ä»¥å…±äº«ä¸€ä¸ª IP åœ°å€å¯¹å¤–è¿›è¡Œè®¿é—®ã€‚ \n- é€šè¿‡ EIP çš„åŠŸèƒ½ï¼Œä¸€ä¸ª Pod å¯ä»¥ç›´æ¥å’Œä¸€ä¸ªå¤–éƒ¨ IP å…³è”ï¼Œ å¤–éƒ¨æœåŠ¡å¯ä»¥é€šè¿‡ EIP ç›´æ¥è®¿é—® Podï¼ŒPod ä¹Ÿå°†é€šè¿‡è¿™ä¸ª EIP è®¿é—®å¤–éƒ¨æœåŠ¡ã€‚\n\n#### å‡†å¤‡å·¥ä½œ\n- ä¸ºäº†ä½¿ç”¨ OVN çš„ L3 Gateway èƒ½åŠ›ï¼Œå¿…é¡»å°†ä¸€ä¸ªå•ç‹¬çš„ç½‘å¡æ¥å…¥ OVS ç½‘æ¡¥ä¸­è¿›è¡Œ Overlay å’Œ Underlay ç½‘ç»œçš„æ‰“é€šï¼Œ ä¸»æœºå¿…é¡»æœ‰å…¶ä»–çš„ç½‘å¡ç”¨äºè¿ç»´ç®¡ç†ã€‚\n- ç”±äºç»è¿‡ NAT åçš„æ•°æ®åŒ…ä¼šç›´æ¥è¿›å…¥ Underlay ç½‘ç»œï¼Œå¿…é¡»ç¡®è®¤å½“å‰çš„ç½‘ç»œæ¶æ„ä¸‹æ­¤ç±»æ•°æ®åŒ…å¯ä»¥å®‰å…¨é€šè¿‡ã€‚\n- ç›®å‰ EIP å’Œ SNAT åœ°å€æ²¡æœ‰å†²çªæ£€æµ‹ï¼Œéœ€è¦ç®¡ç†å‘˜æ‰‹åŠ¨åˆ†é…é¿å…åœ°å€å†²çªã€‚\n\n#### åˆ›å»ºé…ç½®æ–‡ä»¶\nåœ¨Â `kube-system`Â ä¸‹åˆ›å»º ConfigMapÂ `ovn-external-gw-config`ï¼š\n```yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: ovn-external-gw-config\n  namespace: kube-system\ndata:\n  enable-external-gw: \"true\"\n  external-gw-nodes: \"kube-ovn-worker\"\n  external-gw-nic: \"eth1\"\n  external-gw-addr: \"172.56.0.1/16\"\n  nic-ip: \"172.56.0.254/16\"\n  nic-mac: \"16:52:f3:13:6a:25\"\n```\n\n| å­—æ®µ | æè¿°|\n|--|--|\n| enable-external-gw | æ˜¯å¦å¼€å¯ SNAT å’Œ EIP åŠŸèƒ½ |\n| type | é»˜è®¤ä¸ºÂ centralizedï¼Œå¦‚æœä½¿ç”¨Â distributedï¼Œåˆ™é›†ç¾¤æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦æœ‰åŒåç½‘å¡æ¥æ‰¿æ‹…ç½‘å…³åŠŸèƒ½ |\n| external-gw-nodes | centralizedæ¨¡å¼ä¸‹ï¼Œæ‰¿æ‹…ç½‘å…³ä½œç”¨çš„èŠ‚ç‚¹å(é€—å·åˆ†éš”) |\n| external-gw-nic | èŠ‚ç‚¹ä¸Šæ‰¿æ‹…ç½‘å…³ä½œç”¨çš„ç½‘å¡å |\n| external-gw-addr | ç‰©ç†ç½‘ç»œç½‘å…³çš„ IP å’Œæ©ç  |\n| nic-ip | åˆ†é…ç»™é€»è¾‘ç½‘å…³ç«¯å£çš„ IPï¼Œéœ€ä¸ºç‰©ç†æ®µæœªè¢«å ç”¨çš„ IP |\n| nic-mac | åˆ†é…ç»™é€»è¾‘ç½‘å…³ç«¯å£çš„ Macï¼Œéœ€ä¸ºç‰©ç†æ®µæœªè¢«å ç”¨çš„ Mac |\n\n#### è§‚å¯Ÿ OVN å’Œ OVS çŠ¶æ€ç¡®è®¤é…ç½®ç”Ÿæ•ˆ\næ£€æŸ¥ OVN-NB çŠ¶æ€, ç¡®è®¤Â `ovn-external`Â é€»è¾‘äº¤æ¢æœºå­˜åœ¨ï¼Œå¹¶ä¸”Â `ovn-cluster-ovn-external`Â é€»è¾‘è·¯ç”±å™¨ç«¯å£ä¸Š ç»‘å®šäº†æ­£ç¡®çš„åœ°å€å’Œ chassisã€‚\n```bash\n# kubectl ko nbctl show\nswitch 3de4cea7-1a71-43f3-8b62-435a57ef16a6 (ovn-external)\n    port ln-ovn-external\n        type: localnet\n        addresses: [\"unknown\"]\n    port ovn-external-ovn-cluster\n        type: router\n        router-port: ovn-cluster-ovn-external\nrouter e1eb83ad-34be-4ed5-9a02-fcc8b1d357c4 (ovn-cluster)\n    port ovn-cluster-ovn-external\n        mac: \"ac:1f:6b:2d:33:f1\"\n        networks: [\"172.56.0.100/16\"]\n        gateway chassis: [a5682814-2e2c-46dd-9c1c-6803ef0dab66]\n```\n\næ£€æŸ¥ OVS çŠ¶æ€ï¼Œç¡®è®¤ç›¸åº”çš„ç½‘å¡å·²ç»æ¡¥æ¥è¿›Â `br-external`Â ç½‘æ¡¥ï¼š\n```bash\n# kubectl ko vsctl ${gateway node name} show\ne7d81150-7743-4d6e-9e6f-5c688232e130\n    Bridge br-external\n        Port br-external\n            Interface br-external\n                type: internal\n        Port eno2\n            Interface eno2\n        Port patch-ln-ovn-external-to-br-int\n            Interface patch-ln-ovn-external-to-br-int\n                type: patch\n                options: {peer=patch-br-int-to-ln-ovn-external}\n```\n\n#### Pod é…ç½® EIP å’Œ SNAT\nå¯é€šè¿‡åœ¨ Pod ä¸Šå¢åŠ Â `ovn.kubernetes.io/snat`Â æˆ–Â `ovn.kubernetes.io/eip`Â annotation æ¥åˆ†åˆ«é…ç½® SNAT å’Œ EIPï¼š\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  annotations:\n    ovn.kubernetes.io/snat: 172.56.0.200\n...\n---\napiVersion: v1\nkind: Pod\nmetadata:\n  annotations:\n    ovn.kubernetes.io/eip: 172.56.0.233\n...\n```\n\nå¯ä»¥åŠ¨æ€è°ƒæ•´ Pod æ‰€é…ç½®çš„ EIP æˆ– SNAT è§„åˆ™ï¼Œæ›´æ”¹æ—¶è¯·æ³¨æ„è¦åŒæ—¶åˆ é™¤Â `ovn.kubernetes.io/routed`Â annotation è§¦å‘è·¯ç”±çš„å˜æ›´ï¼š\n```yaml\nkubectl annotate pod pod-gw ovn.kubernetes.io/eip=172.56.0.221 --overwrite\nkubectl annotate pod pod-gw ovn.kubernetes.io/routed-\n```\n\n#### é«˜çº§é…ç½®\né»˜è®¤ç½‘ç»œä¸‹å¦‚æœæ— éœ€ä½¿ç”¨ EIP å’Œ SNAT çš„èƒ½åŠ›ï¼Œå¯ä»¥é€‰æ‹©å…³é—­ç›¸å…³åŠŸèƒ½ï¼Œä»¥å‡å°‘Â `kube-ovn-controller`Â åœ¨åˆ›å»ºå’Œæ›´æ–° ç½‘ç»œæ—¶çš„æ£€æŸ¥æ¶ˆè€—ï¼Œåœ¨å¤§è§„æ¨¡é›†ç¾¤ç¯å¢ƒä¸‹å¯ä»¥æå‡å¤„ç†é€Ÿåº¦ã€‚\n- å®‰è£…æ—¶å…³é—­ï¼Œå¯ä»¥åœ¨å®‰è£…è„šæœ¬ä¸­è¿›è¡Œé…ç½®ï¼š`ENABLE_EIP_SNAT=false`\n- å®‰è£…åå…³é—­ï¼Œå¯ä»¥é€šè¿‡æ›´æ”¹Â `kube-ovn-controller`Â Deployment çš„å‚æ•°è¿›è¡Œé…ç½®ï¼š\n``` yaml\nargs:\n- --enable-eip-snat=false\n```\n\n`kube-ovn-controller`Â çš„å…¶ä½™å‚æ•°å¯å¯¹ SNAT å’Œ EIP åŠŸèƒ½è¿›è¡Œé«˜é˜¶é…ç½®ï¼š\n-   `--external-gateway-config-ns`: ConfigmapÂ `ovn-external-gw-config`Â æ‰€å± Namespaceï¼Œ é»˜è®¤ä¸ºÂ `kube-system`ã€‚\n-   `--external-gateway-net`: ç‰©ç†ç½‘å¡æ‰€æ¡¥æ¥çš„ç½‘æ¡¥åï¼Œé»˜è®¤ä¸ºÂ `external`ã€‚\n-   `--external-gateway-vlanid`: ç‰©ç†ç½‘ç»œ Vlan Tag å·ï¼Œé»˜è®¤ä¸º 0ï¼Œ å³ä¸ä½¿ç”¨ Vlanã€‚\n\n\n### ä½¿ç”¨è‡ªå®šä¹‰ VPC\nKube-OVN æ”¯æŒå¤šç§Ÿæˆ·éš”ç¦»çº§åˆ«çš„ VPC ç½‘ç»œã€‚ä¸åŒ VPC ç½‘ç»œç›¸äº’ç‹¬ç«‹ï¼Œå¯ä»¥åˆ†åˆ«é…ç½® Subnet ç½‘æ®µã€è·¯ç”±ç­–ç•¥ã€å®‰å…¨ç­–ç•¥ã€å‡ºç½‘ç½‘å…³ã€EIP ç­‰é…ç½®ã€‚\n\n#### è¯´æ˜\n- VPC ä¸»è¦ç”¨äºæœ‰å¤šç§Ÿæˆ·ç½‘ç»œå¼ºéš”ç¦»çš„åœºæ™¯ã€‚éƒ¨åˆ† Kubernetes ç½‘ç»œåŠŸèƒ½åœ¨å¤šç§Ÿæˆ·ç½‘ç»œä¸‹å­˜åœ¨å†²çªã€‚ ä¾‹å¦‚èŠ‚ç‚¹å’Œ Pod äº’è®¿ï¼ŒNodePort åŠŸèƒ½ï¼ŒåŸºäºç½‘ç»œè®¿é—®çš„å¥åº·æ£€æŸ¥å’Œ DNS èƒ½åŠ›åœ¨å¤šç§Ÿæˆ·ç½‘ç»œåœºæ™¯æš‚ä¸æ”¯æŒã€‚ ä¸ºäº†æ–¹ä¾¿å¸¸è§ Kubernetes çš„ä½¿ç”¨åœºæ™¯ï¼ŒKube-OVN é»˜è®¤ VPC åšäº†ç‰¹æ®Šè®¾è®¡ï¼Œè¯¥ VPC ä¸‹çš„ Subnet å¯ä»¥æ»¡è¶³ Kubernetes è§„èŒƒã€‚\n- å¸¸è§éš”ç¦»éœ€æ±‚å¯é€šè¿‡é»˜è®¤ VPC ä¸‹çš„ç½‘ç»œç­–ç•¥å’Œå­ç½‘ ACL å®ç°\n- ç”¨æˆ·è‡ªå®šä¹‰ VPC æ”¯æŒé™æ€è·¯ç”±ã€EIPã€NAT ç½‘å…³ç­‰åŠŸèƒ½ã€‚\n- åœ¨ä½¿ç”¨è‡ªå®šä¹‰ VPC å‰è¯·æ˜ç¡®æ˜¯å¦éœ€è¦ VPC çº§åˆ«çš„éš”ç¦»ï¼Œå¹¶äº†è§£è‡ªå®šä¹‰ VPC ä¸‹çš„é™åˆ¶ã€‚\n\n**v1.10.6 æ”¯æŒçš„åŠŸèƒ½å¦‚ä¸‹ï¼š**\n- é™åˆ¶ namespace è®¿é—®\n- è‡ªå®šä¹‰è·¯ç”±\n\t- é™æ€è·¯ç”±\n\t- ç­–ç•¥è·¯ç”±\n- è®¾ç½®å‡ºç½‘ç½‘å…³ã€EIPã€SNATã€DNATã€æµ®åŠ¨IP\n\n#### é™åˆ¶ namespace + è‡ªå®šä¹‰è·¯ç”±\n```yaml\nkind: Vpc\napiVersion: kubeovn.io/v1\nmetadata:\n  name: test-vpc-1\nspec:\n  namespaces:\n  - ns1\n---\nkind: Subnet\napiVersion: kubeovn.io/v1\nmetadata:\n  name: net1\nspec:\n  vpc: test-vpc-1 # æŒ‡å®š vpc\n  cidrBlock: 10.0.1.0/24\n  namespaces:\n    - ns1\n```\nåœ¨åˆ›å»º vpc æ—¶ï¼Œå¯ä»¥æŒ‡å®šå“ªäº› namesapce å¯ä»¥è®¿é—®è¯¥ vpcï¼Œè®¾ç½®ä¸ºç©ºåˆ™ä¸é™å®šã€‚\n\nåœ¨è‡ªå®šä¹‰ VPC å†…ï¼Œç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰ç½‘ç»œå†…éƒ¨çš„è·¯ç”±è§„åˆ™ï¼Œç»“åˆç½‘å…³å®ç°æ›´çµæ´»çš„è½¬å‘ã€‚ Kube-OVN æ”¯æŒé™æ€è·¯ç”±å’Œæ›´ä¸ºçµæ´»çš„ç­–ç•¥è·¯ç”±ã€‚\n**é™æ€è·¯ç”±**\n```yaml\nkind: Vpc\napiVersion: kubeovn.io/v1\nmetadata:\n  name: test-vpc-1\nspec:\n  staticRoutes:\n    - cidr: 0.0.0.0/0\n      nextHopIP: 10.0.1.254\n      policy: policyDst\n    - cidr: 172.31.0.0/24\n      nextHopIP: 10.0.1.253\n      policy: policySrc\n```\n-   `policy`: æ”¯æŒç›®çš„åœ°å€è·¯ç”±Â `policyDst`Â å’Œæºåœ°å€è·¯ç”±Â `policySrc`ã€‚\n-   å½“è·¯ç”±è§„åˆ™å­˜åœ¨é‡å æ—¶ï¼ŒCIDR æ©ç è¾ƒé•¿çš„è§„åˆ™ä¼˜å…ˆçº§æ›´é«˜ï¼Œè‹¥æ©ç é•¿åº¦ç›¸åŒåˆ™ç›®çš„åœ°å€è·¯ç”±ä¼˜å…ˆäºæºåœ°å€è·¯ç”±ã€‚\n\n**ç­–ç•¥è·¯ç”±**\nç­–ç•¥è·¯ç”±æä¾›äº†æ›´ç²¾ç¡®çš„åŒ¹é…è§„åˆ™ï¼Œä¼˜å…ˆçº§æ§åˆ¶ å’Œæ›´å¤šçš„è½¬å‘åŠ¨ä½œã€‚é’ˆå¯¹é™æ€è·¯ç”±åŒ¹é…çš„æµé‡ï¼Œå¯é€šè¿‡ç­–ç•¥è·¯ç”±è¿›è¡Œæ›´ç»†ç²’åº¦çš„æ§åˆ¶ã€‚\n\u003e è¯¥åŠŸèƒ½ä¸º OVN å†…éƒ¨é€»è¾‘è·¯ç”±å™¨ç­–ç•¥åŠŸèƒ½çš„ä¸€ä¸ªå¯¹å¤–æš´éœ²ï¼Œæ›´å¤šä½¿ç”¨ä¿¡æ¯è¯·å‚è€ƒÂ [Logical Router Policy](https://man7.org/linux/man-pages/man5/ovn-nb.5.html#Logical_Router_Policy_TABLE)\n```yaml\nkind: Vpc\napiVersion: kubeovn.io/v1\nmetadata:\n  name: test-vpc-1\nspec:\n  policyRoutes:\n    - action: drop\n      match: ip4.src==10.0.1.0/24 \u0026\u0026 ip4.dst==10.0.1.250\n      priority: 11\n    - action: reroute\n      match: ip4.src==10.0.1.0/24\n      nextHopIP: 10.0.1.252\n      priority: 10\n```\n\n#### VPC å‡ºç½‘ç½‘å…³\n\u003e 1. ä½¿ç”¨è‡ªå®šä¹‰ vpc å¹¶é…ç½®å‡ºå£ç½‘å…³æ—¶ï¼Œéœ€è¦ä½¿ç”¨ multus-cni. [[multus-cni]]\n\u003e 2. è‡ªå®šä¹‰ VPC ä¸‹çš„å­ç½‘ä¸æ”¯æŒé»˜è®¤ VPC ä¸‹çš„åˆ†å¸ƒå¼ç½‘å…³å’Œé›†ä¸­å¼ç½‘å…³ã€‚\n\nè‡ªå®šä¹‰ VPC å†…å®¹å™¨è®¿é—®å¤–éƒ¨ç½‘ç»œéœ€è¦é€šè¿‡ VPC ç½‘å…³ï¼ŒVPC ç½‘å…³å¯ä»¥æ‰“é€šç‰©ç†ç½‘ç»œå’Œç§Ÿæˆ·ç½‘ç»œï¼Œå¹¶æä¾›æµ®åŠ¨ IPã€SNATã€DNAT åŠŸèƒ½ã€‚\n##### é…ç½®å¤–éƒ¨ç½‘ç»œ\n- åˆ›å»ºä¸€ä¸ª `name`Â å¿…é¡»ä¸º ovn-vpc-external-network çš„ Subnet ç”¨æ¥ç®¡ç†å¯ç”¨çš„å¤–éƒ¨åœ°å€ï¼Œè¯·å’Œç½‘ç»œç®¡ç†æ²Ÿé€šç»™å‡ºå¯ç”¨çš„ç‰©ç†æ®µ IPã€‚\n- VPC ç½‘å…³ä½¿ç”¨ Macvlan åšç‰©ç†ç½‘ç»œé…ç½®ï¼Œ`NetworkAttachmentDefinition`Â çš„Â `master`Â éœ€ä¸ºå¯¹åº”ç‰©ç†ç½‘è·¯ç½‘å¡çš„ç½‘å¡åã€‚\n- `provider`Â æ ¼å¼ä¸ºÂ `\u003cnad Name\u003e.\u003cnad Namespace\u003e`ã€‚\n```yaml\napiVersion: kubeovn.io/v1\nkind: Subnet\nmetadata:\n  name: ovn-vpc-external-network\nspec:\n  protocol: IPv4\n  provider: ovn-vpc-external-network.kube-system\n  cidrBlock: 192.168.0.0/24\n  gateway: 192.168.0.1  # IP address of the physical gateway\n  excludeIps:\n  - 192.168.0.1..192.168.0.10\n---\napiVersion: \"k8s.cni.cncf.io/v1\"\nkind: NetworkAttachmentDefinition\nmetadata:\n  name: ovn-vpc-external-network\n  namespace: kube-system\nspec:\n  config: '{\n      \"cniVersion\": \"0.3.0\",\n      \"type\": \"macvlan\",\n      \"master\": \"eth1\",\n      \"mode\": \"bridge\",\n      \"ipam\": {\n        \"type\": \"kube-ovn\",\n        \"server_socket\": \"/run/openvswitch/kube-ovn-daemon.sock\",\n        \"provider\": \"ovn-vpc-external-network.kube-system\"\n      }\n    }'\n```\n##### å¼€å¯ VPC ç½‘å…³åŠŸèƒ½\nVPC ç½‘å…³åŠŸèƒ½éœ€è¦é€šè¿‡Â `kube-system`Â ä¸‹çš„Â `ovn-vpc-nat-gw-config`Â å¼€å¯ï¼š\n```yaml\nkind: ConfigMap\napiVersion: v1\nmetadata:\n  name: ovn-vpc-nat-gw-config\n  namespace: kube-system\ndata:\n  image: 'kubeovn/vpc-nat-gateway:v1.11.0'  # æŒ‡å®šç½‘å…³ pod ä½¿ç”¨çš„é•œåƒ\n  enable-vpc-nat-gw: 'true' # æ§åˆ¶æ˜¯å¦å¯ç”¨\n  # nic å­—æ®µå·²å¼ƒç”¨\n```\n##### åˆ›å»º VPC ç½‘å…³\n```yaml\nkind: VpcNatGateway\napiVersion: kubeovn.io/v1\nmetadata:\n  name: gw1\nspec:\n  vpc: test-vpc-1 # æŒ‡å®š vpc \n  subnet: net1 # VPC å†…æŸä¸ª Subnet åï¼Œç½‘å…³ Pod ä¼šç”¨è¯¥ subnet åˆ†é…çš„Â lanIp æ¥è¿æ¥ç§Ÿæˆ·ç½‘ç»œ\n  lanIp: 10.0.1.254 # subnetÂ å†…æŸä¸ªæœªè¢«ä½¿ç”¨çš„ IPï¼Œç”¨äºç½‘å…³ Pod ip åˆ†é…\n  selector: # VPC ç½‘å…³ Pod çš„èŠ‚ç‚¹é€‰æ‹©å™¨\n    - \"kubernetes.io/hostname: kube-ovn-worker\"\n    - \"kubernetes.io/os: linux\"\n```\nåˆ›å»ºä¹‹åä¼šåœ¨ test-vpc-1 vpc ä¸Šé…ç½®å¯¹åº”çš„é»˜è®¤é™æ€è·¯ç”±ï¼Œ`nextHopIP`å³ä¸ºÂ `lanIp`ã€‚\n##### åˆ›å»º EIPã€DNATã€SNATã€Float IP\n```yaml\nkind: IptablesEIP\napiVersion: kubeovn.io/v1\nmetadata:\n  name: eip\nspec:\n  natGwDp: gw1\n   # å›ºå®š EIP åœ°å€åˆ†é…\n  # v4ip: 10.0.1.111\n```\n\n```yaml\nkind: IptablesDnatRule\napiVersion: kubeovn.io/v1\nmetadata:\n  name: dnat01\nspec:\n  eip: eip\n  externalPort: '8888'\n  internalIp: 10.0.1.10\n  internalPort: '80'\n  protocol: tcp\n```\n\n```yaml\nkind: IptablesSnatRule\napiVersion: kubeovn.io/v1\nmetadata:\n  name: snat01\nspec\n  eip: eip\n  internalCIDR: 10.0.1.0/24\n``` \n\n```yaml\nkind: IptablesFIPRule\napiVersion: kubeovn.io/v1\nmetadata:\n  name: fip01\nspec:\n  eip: eip\n  internalIp: 10.0.1.5\n```\n\n#### VPC Peer\n[VPC äº’è” - Kube-OVN æ–‡æ¡£](https://kube-ovn.readthedocs.io/zh_CN/latest/advance/vpc-peering/)\n\n","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/kube-ovn-underlay":{"title":"","content":"#kube-ovn  #underlay  \n\n## åŠŸèƒ½é™åˆ¶\nç”±äºè¯¥æ¨¡å¼ä¸‹å®¹å™¨ç½‘ç»œç›´æ¥ä½¿ç”¨ç‰©ç†ç½‘ç»œè¿›è¡ŒäºŒå±‚åŒ…è½¬å‘ï¼ŒOverlay æ¨¡å¼ä¸‹çš„ SNAT/EIPï¼Œ åˆ†å¸ƒå¼ç½‘å…³/é›†ä¸­å¼ç½‘å…³ç­‰ L3 åŠŸèƒ½æ— æ³•ä½¿ç”¨ã€‚\n\n## ä½¿ç”¨\nunderlay æ¨¡å¼ä¸»è¦æ¶‰åŠçš„èµ„æºæœ‰ï¼š\n\n| èµ„æº | è¯´æ˜ |\n|--|--|\n| provider-networks | underlay ç½‘å¡æä¾›è€… | \n| vlans | vlan ä¿¡æ¯ | \n| subnets | å­ç½‘/ippool åœ°å€æ±  | \n| ips | ip åˆ†é…è®°å½• | \n\n### provider-networks èµ„æº\nProviderNetwork æä¾›äº†ä¸»æœºç½‘å¡åˆ°ç‰©ç†ç½‘ç»œæ˜ å°„çš„æŠ½è±¡ï¼Œå°†åŒå±ä¸€ä¸ªç½‘ç»œçš„ç½‘å¡è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼Œ å¹¶è§£å†³åœ¨å¤æ‚ç¯å¢ƒä¸‹åŒæœºå™¨å¤šç½‘å¡ã€ç½‘å¡åä¸ä¸€è‡´ã€å¯¹åº” Underlay ç½‘ç»œä¸ä¸€è‡´ç­‰æƒ…å†µä¸‹çš„é…ç½®é—®é¢˜ã€‚\n```yaml\napiVersion: kubeovn.io/v1\nkind: ProviderNetwork\nmetadata:\n  name: provider\nspec:\n  defaultInterface: eth0\n  customInterfaces:\n    - interface: eth2\n      nodes:\n        - node1\n  excludeNodes:\n    - node2\n```\n\n| å­—æ®µ | é€‰é¡¹ | è¯´æ˜ |\n|--|--|--|\n| defaultInterface | å¿…é€‰ | ä¸ºé»˜è®¤ä½¿ç”¨çš„èŠ‚ç‚¹ç½‘å¡åç§°ã€‚ èµ„æºåˆ›å»ºæˆåŠŸåï¼Œå„èŠ‚ç‚¹(*é™¤ excludeNodes å¤–*)ä¸­ä¼šåˆ›å»ºåä¸º br-providerçš„ OVS ç½‘æ¡¥,å¹¶å°†æŒ‡å®šçš„èŠ‚ç‚¹ç½‘å¡æ¡¥æ¥è‡³æ­¤ç½‘æ¡¥ | \n| customInterfaces | å¯é€‰ | å¯é’ˆå¯¹ç‰¹å®šèŠ‚ç‚¹æŒ‡å®šéœ€è¦ä½¿ç”¨çš„ç½‘å¡ | \n| excludeNodes | å¯é€‰ | ç”¨äºæŒ‡å®šä¸æ¡¥æ¥ç½‘å¡çš„èŠ‚ç‚¹ | \n\nç›¸å…³ labels æ ‡ç­¾å¦‚ä¸‹ï¼š\n\n| æ ‡ç­¾ | å–å€¼ | è¯´æ˜ |\n|--|--|--|\n| provider.provider-network.ovn.kubernetes.io/ready | true | èŠ‚ç‚¹ä¸­çš„æ¡¥æ¥å·¥ä½œå·²å®Œæˆï¼ŒProviderNetwork åœ¨èŠ‚ç‚¹ä¸­å¯ç”¨  | \n| provider.provider-network.ovn.kubernetes.io/interface | eth0 | èŠ‚ç‚¹ä¸­è¢«æ¡¥æ¥çš„ç½‘å¡çš„åç§° | \n| provider.provider-network.ovn.kubernetes.io/mtu | 1500 | èŠ‚ç‚¹ä¸­è¢«æ¡¥æ¥çš„ç½‘å¡çš„ MTU |\n| provider.provider-network.ovn.kubernetes.io/exclude | true | æ ‡è®° excludeNodes èŠ‚ç‚¹ |  \n\n\u003e å¦‚æœèŠ‚ç‚¹ç½‘å¡ä¸Šå·²ç»é…ç½®äº† IPï¼Œåˆ™ IP åœ°å€å’Œç½‘å¡ä¸Šçš„è·¯ç”±ä¼šè¢«è½¬ç§»è‡³å¯¹åº”çš„ OVS ç½‘æ¡¥ã€‚\n\u003e **ProviderNetwork èµ„æºåç§°çš„é•¿åº¦ä¸å¾—è¶…è¿‡ 12 **\n\n\n### vlan èµ„æº\nVlan æä¾›äº†å°† Vlan Tag å’Œ ProviderNetwork è¿›è¡Œç»‘å®šçš„èƒ½åŠ›ã€‚\n```yaml\napiVersion: kubeovn.io/v1\nkind: Vlan\nmetadata:\n  name: vlan1\nspec:\n  id: 0\n  provider: provider\n```\n\n-   `provider`: ä¸ºéœ€è¦ä½¿ç”¨çš„ ProviderNetwork èµ„æºçš„åç§°ã€‚å¤šä¸ª vlan å¯ä»¥å¼•ç”¨åŒä¸€ä¸ª ProviderNetwork\n-   `id`: ä¸º vlan id/tagï¼Œkube-ovn ä¼šå¯¹è¯¥ Vlan ä¸‹çš„æµé‡å¢åŠ  Vlan tagï¼Œä¸º 0 æ—¶ä¸å¢åŠ ä»»ä½•æ ‡ç­¾ã€‚\n\n\u003e vlan çš„ tag é…ç½®ä¸ºå…¶ä»–æ•°å­—æ—¶ï¼Œå¯¹åº”çš„äº¤æ¢æœºç«¯å£åº”è¯¥é…ç½®ä¸º trunkï¼›åŒæ—¶é…ç½®æˆåŠŸåï¼Œåº”å½“è®© ovs æ”¶åˆ°çš„æ•°æ®åŒ…å¸¦æœ‰ vlan tagï¼Œå¦åˆ™æ— æ³•é€šä¿¡\n\n### subnet èµ„æº\n- Vlan ä¸å­ç½‘ç»‘å®š\n\nå°†Â `vlan`Â çš„å€¼æŒ‡å®šä¸ºéœ€è¦ä½¿ç”¨çš„ vlan åç§°å³å¯ã€‚å¤šä¸ª Subnet å¯ä»¥å¼•ç”¨åŒä¸€ä¸ª VLANã€‚\n```yaml\napiVersion: kubeovn.io/v1\nkind: Subnet\nmetadata:\n  name: subnet1\nspec:\n  protocol: IPv4\n  cidrBlock: 172.17.0.0/16\n  gateway: 172.17.0.1\n  vlan: vlan1\n```\n\n- ä½¿ç”¨é€»è¾‘ç½‘å…³\n\nå¯¹äºç‰©ç†ç½‘ç»œä¸å­˜åœ¨ç½‘å…³çš„æƒ…å†µï¼ŒKube-OVN æ”¯æŒåœ¨ Underlay æ¨¡å¼çš„å­ç½‘ä¸­é…ç½®ä½¿ç”¨é€»è¾‘ç½‘å…³ã€‚ è‹¥è¦ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œè®¾ç½®å­ç½‘çš„Â `spec.logicalGateway`Â ä¸ºÂ `true`Â å³å¯\n```yaml\napiVersion: kubeovn.io/v1\nkind: Subnet\nmetadata:\n  name: subnet1\nspec:\n  protocol: IPv4\n  cidrBlock: 172.17.0.0/16\n  gateway: 172.17.0.1\n  vlan: vlan1\n  logicalGateway: true\n```\nå¼€å¯æ­¤åŠŸèƒ½åï¼ŒPod ä¸ä½¿ç”¨å¤–éƒ¨ç½‘å…³ï¼Œè€Œæ˜¯ä½¿ç”¨ Kube-OVN åˆ›å»ºçš„é€»è¾‘è·¯ç”±å™¨ã€‚å¯¹äºè·¨ç½‘æ®µé€šä¿¡è¿›è¡Œè½¬å‘ã€‚\n\n### ä¸‰è€…çš„å…³ç³»\n![upgit_20221103_1667439509.png](https://images.ryken.cloud/2022/11/upgit_20221103_1667439509.png)\n\n\n### é—®é¢˜ï¼š\n[Underlay/Overlay æ··åˆç½‘ç»œçš„é›†ç¾¤ï¼Œæœºå™¨é‡å¯åkube-ovnå¯åŠ¨å¼‚å¸¸ Â· Issue #1964 Â· kubeovn/kube-ovn (github.com)](https://github.com/kubeovn/kube-ovn/issues/1964)\nhttps://raw.githubusercontent.com/kubeovn/kube-ovn/release-1.10/dist/images/start-ovs.sh\n\né‡‡ç”¨ä¸€ä¸‹æ–¹å¼æ¢å¤ç½‘ç»œï¼š\n```bash\n# åˆ é™¤ovs ä¸Š eth0 çš„ç«¯å£\novs-vsctlÂ show\novs-vsctlÂ del-portÂ br-providerÂ eth0\n\n# è·¯ç”±å’Œ ip è½¬ç§»\nip addr del 172.30.4.2/24 dev br-provider\nip addr replace 172.30.4.2/24 dev eth0\nip link set br-provider down\nip route replace default via 172.30.4.1 dev eth0\nip route replace 172.30.4.0/24 dev eth0 proto kernel scope link src 172.30.4.2\n```\n\n","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/kube-proxy":{"title":"","content":"ä½¿ç”¨æ¨¡å¼ï¼šipvs or iptables\n\nåˆ‡æ¢æ–¹å¼\n```bash\n~#: kubectl -n kube-system edit cm kube-proxy\napiVersion: v1\ndata:\n  config.conf: |-\n    apiVersion: kubeproxy.config.k8s.io/v1alpha1\n    bindAddress: 0.0.0.0\n    bindAddressHardFail: false\n    clientConnection:\n      acceptContentTypes: \"\"\n      burst: 0\n      contentType: \"\"\n      kubeconfig: /var/lib/kube-proxy/kubeconfig.conf\n      qps: 0\n    clusterCIDR: 10.233.64.0/18\n    configSyncPeriod: 0s\n    conntrack:\n      maxPerCore: null\n      min: null\n      tcpCloseWaitTimeout: null\n      tcpEstablishedTimeout: null\n    detectLocalMode: \"\"\n    enableProfiling: false\n    healthzBindAddress: \"\"\n    hostnameOverride: \"\"\n    iptables:\n      masqueradeAll: false\n      masqueradeBit: 14\n      minSyncPeriod: 0s\n      syncPeriod: 30s\n    ipvs:\n      excludeCIDRs: null\n      minSyncPeriod: 0s\n      scheduler: \"\"\n      strictARP: false\n      syncPeriod: 0s\n      tcpFinTimeout: 0s\n      tcpTimeout: 0s\n      udpTimeout: 0s\n    kind: KubeProxyConfiguration\n    metricsBindAddress: \"\"\n    mode: ipvs\n    nodePortAddresses: null\n    oomScoreAdj: null\n    portRange: \"\"\n    showHiddenMetricsForVersion: \"\"\n    udpIdleTimeout: 0s\n    winkernel:\n      enableDSR: false\n      networkName: \"\"\n      sourceVip: \"\"\n  kubeconfig.conf: |-\n    apiVersion: v1\n    kind: Config\n    clusters:\n    - cluster:\n        certificate-authority: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n        server: https://lb.kubesphere.local:6443\n      name: default\n    contexts:\n    - context:\n        cluster: default\n        namespace: default\n        user: default\n      name: default\n    current-context: default\n    users:\n    - name: default\n      user:\n        tokenFile: /var/run/secrets/kubernetes.io/serviceaccount/token\nkind: ConfigMap\nmetadata:\n  labels:\n    app: kube-proxy\n  name: kube-proxy\n  namespace: kube-system\n```\n\nipvs å·¥å…· ipvsadm\nipvsadm -Ln æŸ¥çœ‹ç°æœ‰çš„ ipvs è§„åˆ™\nipvsadm -D -t 10.0.0.100:80\n\n\næŸ¥è¯¢ kube-proxy æ¨¡å¼ï¼š`http://localhost:10249/proxyMode`Â \n\næœ‰å…³æºåœ°å€è½¬æ¢ SourceIP - æœ‰å…³ networkPolicy\n- iptables æ¨¡å¼ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹åœ¨é›†ç¾¤å†…å‘é€åˆ° ClusterIP å’Œ PodIP çš„æ•°æ®åŒ…ä¸ä¼šè¿›è¡Œæº NATï¼Œå¦‚æœè®¾ç½® masqueradeAll ä¸º trueï¼Œåˆ™æº IP åœ°å€å°†ä¿®æ”¹ä¸º èŠ‚ç‚¹ IP æˆ–è€… tunl0 IP\n- é»˜è®¤æƒ…å†µä¸‹ï¼Œå‘é€åˆ° LoadBalancer æˆ– NodePort çš„ service çš„æ•°æ®åŒ…ä¼šè¿›è¡Œæº NATï¼Œå› ä¸ºå¤„äºå°±ç»ªçŠ¶æ€çš„æ‰€æœ‰å¯è°ƒåº¦ Kubernetes èŠ‚ç‚¹éƒ½ç¬¦åˆè´Ÿè½½å¹³è¡¡æµé‡çš„æ¡ä»¶ã€‚å› æ­¤ï¼Œå¦‚æœæ•°æ®åŒ…åˆ°è¾¾æ²¡æœ‰ç«¯ç‚¹çš„èŠ‚ç‚¹ï¼Œç³»ç»Ÿä¼šå°†å…¶ä»£ç†åˆ°å…·æœ‰ç«¯ç‚¹çš„èŠ‚ç‚¹ï¼Œå°†æ•°æ®åŒ…ä¸Šçš„æº IP æ›¿æ¢ä¸ºèŠ‚ç‚¹çš„ IPã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨å°† service.spec.externalTrafficPolicy å­—æ®µè®¾ç½®ä¸º Localï¼Œåˆ™æ•°æ®åŒ…å°†ä»…å‘é€åˆ°å®ƒä»¬åˆ°è¾¾çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”ä¸ä¼šæ›¿æ¢æº IPã€‚\n\nä¿ç•™å®¢æˆ·ç«¯æº ipï¼Œå¦‚æœå°†Â `service.spec.externalTrafficPolicy`Â è®¾ç½®ä¸ºÂ `Local`ï¼Œ kube-proxy åªä¼šå°†ä»£ç†è¯·æ±‚ä»£ç†åˆ°æœ¬åœ°ç«¯ç‚¹ï¼Œè€Œä¸ä¼šå°†æµé‡è½¬å‘åˆ°å…¶ä»–èŠ‚ç‚¹ã€‚ ä½†æ˜¯å¦‚æœæ²¡æœ‰æœ¬åœ°ç«¯ç‚¹ï¼Œåˆ™å‘é€åˆ°è¯¥èŠ‚ç‚¹çš„æ•°æ®åŒ…å°†è¢«ä¸¢å¼ƒã€‚\n```bash\nkubectl patch svc nodeport -p '{\"spec\":{\"externalTrafficPolicy\":\"Local\"}}'\n```\n\né‡åˆ°çš„é—®é¢˜ï¼š\n1. ä½¿ç”¨ nodeport æ¨¡å¼ ä»¥åŠ iptables æ¨¡å¼æ—¶ï¼Œå½“ pod è°ƒåº¦åˆ° node èŠ‚ç‚¹æ—¶ï¼Œè®¿é—®nodeIP:port ä¸é€šï¼Œä½†æ˜¯å…¶ä»–èŠ‚ç‚¹ ip é€š","lastmodified":"2023-04-18T15:06:05.578791519Z","tags":null},"/kubeadm-install-k8s":{"title":"","content":"#install #kubernetes #kubeadm\n## ubuntu å®‰è£… kubernetes\n### 1. å®‰è£… docker\nå®‰è£…dockerï¼š\n-   curl -sSL https://get.daocloud.io/docker | sh\n-   curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun\n\n### 2. å‡†å¤‡æº\n```shell\necho \"deb https://mirrors.aliyun.com/kubernetes/apt/ kubernetes-xenial main\" | sudo tee /etc/apt/sources.list.d/kubernetes.list\n# æ·»åŠ å…¬é’¥\napt-key adv --keyserver keyserver.ubuntu.com --recv-keys 8B57C5C2836F4BEB FEEA9169307EA071\napt-get update\n\n# å®‰è£…\napt-get install -y kubelet=1.23.9-00 kubeadm=1.23.9-00 kubectl=1.23.9-00 --allow-unauthenticated\n\n# å…³é—­ swap\nswapoff -a\nsed -ri 's/.*swap.*/#\u0026/' /etc/fstab\n\n# ä¿®æ”¹ docker ä¸ cgroup é©±åŠ¨\ncat \u003e /etc/docker/daemon.json \u003c\u003cEOF\n{\"exec-opts\": [\"native.cgroupdriver=systemd\"]}\nEOF\n```\n\n### 3. æå‰å‡†å¤‡é•œåƒ\n```shell\n# ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ›´ç®€å•\nfor  i  in  `kubeadm config images list`;  do\n    imageName=${i#k8s.gcr.io/}\n    docker pull registry.aliyuncs.com/google_containers/$imageName\n    docker tag registry.aliyuncs.com/google_containers/$imageName k8s.gcr.io/$imageName\n    docker rmi registry.aliyuncs.com/google_containers/$imageName\ndone\n\ndocker pull rykren/coredns:v1.8.6\ndocker tag rykren/coredns:v1.8.6 k8s.gcr.io/coredns:v1.8.6\ndocker rmi registry.aliyuncs.com/google_containers/$imageName\n\n```\n### 4. å®‰è£…\n`kubeadm init --pod-network-cidr 10.244.0.0/16 --kubernetes-version v1.23.9 --apiserver-advertise-address=192.168.0.101 --skip-phases=addon/kube-proxy`\n- --pod-network-cidr æŒ‡å®š pod cidr\n- --kubernetes-version æŒ‡å®šå®‰è£… kubernetes ç‰ˆæœ¬\n- --apiserver-advertise-address æŒ‡å®š apiserver ç›‘å¬çš„ ip åœ°å€\n- --skip-phases=addon/kube-proxy ä¸å®‰è£… kube-proxy\n\n### 5. é…ç½®ç”¨æˆ·\n-   æ™®é€šç”¨æˆ·\n`mkdir -p` `$HOME``/.kube`\n`sudo cp -i /etc/kubernetes/admin.conf` `$HOME``/.kube/config`\n`sudo chown $(id -u):$(id -g)` `$HOME``/.kube/config`\n\n-   rootç”¨æˆ·ï¼š\n`export KUBECONFIG=/etc/kubernetes/admin.conf`\n\n### 6. é…ç½®ç½‘ç»œä¿¡æ¯\nflannelï¼š `kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml`\ncalicoï¼š`curl https://projectcalico.docs.tigera.io/archive/v3.23/manifests/calico.yaml -O`\n\n### 7. å•èŠ‚ç‚¹è¿è¡Œã€å¤šèŠ‚ç‚¹åŠ å…¥\n#### å•èŠ‚ç‚¹ all-in-one\nkubeadm åœ¨ Master ä¸Šä¹Ÿå®‰è£…äº† kubeletï¼Œ åœ¨é»˜è®¤æƒ…å†µä¸‹å¹¶ä¸å‚ä¸å·¥ä½œè´Ÿè½½ã€‚ å¦‚æœå¸Œæœ›å®‰è£…ä¸€ä¸ªå•æœº All-In-One çš„ Kubernetes ç¯å¢ƒï¼Œåˆ™å¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼ˆåˆ é™¤Nodeçš„Labelâ€œnode-role.kubernetes.io/masterâ€ï¼‰ ï¼Œ è®©Masteræˆä¸ºä¸€ä¸ªNodeï¼š\n`kubectl taint nodes --all node-role.kubernetes.io/master-`\n`kubectl taint nodes k8s node-role.kubernetes.io/master=true:NoSchedule`\n\n#### å¤šèŠ‚ç‚¹åŠ å…¥\n![upgit_20221031_1667230629.png](https://raw.githubusercontent.com/renyunkang/images/master/2022/10/upgit_20221031_1667230629.png)\nå®‰è£…æˆåŠŸä¹‹åä¼šæ‰“å°å‡ºåŠ å…¥é›†ç¾¤çš„å‘½ä»¤ï¼Œç›´æ¥å¤åˆ¶åœ¨å¦å¤–ä¸€ä¸ªå®‰è£…æœ‰ kubeadm çš„èŠ‚ç‚¹ä¸Šè¿è¡Œå³å¯ã€‚\n\nå…¶ä»–æƒ…å†µä¸‹æ²¡æœ‰è¯¥å‘½ä»¤æˆ–è€…è¯¥ token è¿‡æœŸçš„æƒ…å†µä¸‹çš„å®‰è£…ï¼š\n- åˆ—ä¸¾å‡ºå¯ç”¨çš„è¯ä¹¦ï¼š`kubeadm token list`\n- æ²¡æœ‰å¯ç”¨çš„æ—¶å€™å¯ä»¥æ–°å»ºä¸€ä¸ª tokenï¼š`kubeadm token create`\n`kubeadm config print join-defaults \u003e join-config.yaml`\n`vim join-config.yaml`\n``` yaml\napiVersion:   kubeadm.k8s.io/v1beta2\ncaCertPath:   /etc/kubernetes/pki/ca.crt\ndiscovery:\n  bootstrapToken:\n    apiServerEndpoint: 192.168.72.186:6443\n    token: cdfcka.5e7wxqkyh8nfjdvt\n    unsafeSkipCAVerification: true\n  timeout: 5m0s\n  tlsBootstrapToken: cdfcka.5e7wxqkyh8nfjdvt\nkind:   JoinConfiguration\nnodeRegistration:\n  criSocket: /var/run/dockershim.sock\n  name: orange\n  taints: null\n```\nåŠ å…¥åˆ°å…¶ä»–é›†ç¾¤ï¼š`kubeadm join --config=join-config.yaml`\n\n## centos å®‰è£… kubernetes\n[https://segmentfault.com/a/1190000037682150](https://segmentfault.com/a/1190000037682150)\nå®‰è£…dockerï¼š\n-   curl -sSL https://get.daocloud.io/docker | sh\n-   curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun\n\n``` bash\n# å…³é—­é˜²ç«å¢™\nsystemctl disable firewalld\nsystemctl stop firewalld\nsed -i 's/SELINUX=permissive/SELINUX=disabled/' /etc/sysconfig/selinux\nsed -i \"s/SELINUX=enforcing/SELINUX=disabled/g\" /etc/selinux/config\n# å…³é—­ swap\nswapoff -a\nsed -i 's/.*swap.*/#\u0026/' /etc/fstab\n\n# ä¿®æ”¹å†…æ ¸å‚æ•°\ncat \u003c\u003cEOF \u003e  /etc/sysctl.d/k8s.conf\nnet.bridge.bridge-nf-call-ip6tables = 1\nnet.bridge.bridge-nf-call-iptables = 1\nEOF\nsysctlÂ --system\n\n# åŠ è½½æº\ncat \u003c\u003cEOF \u003e /etc/yum.repos.d/kubernetes.repo\n[kubernetes]\nname=Kubernetes\nbaseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/\nenabled=1\ngpgcheck=1\nrepo_gpgcheck=1\ngpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg\nEOF\n\n#Â å®‰è£…kubeadmã€kubectlã€kubeletã€å¯åŠ¨kubeletæœåŠ¡\nyumÂ installÂ -yÂ kubectl-1.16.0-0Â kubeadm-1.16.0-0Â kubelet-1.16.0-0\nsystemctlÂ enableÂ kubeletÂ \u0026\u0026Â systemctlÂ startÂ kubelet\n```\n\n\n## å®‰è£…é‡åˆ°çš„é—®é¢˜\nã€æ³¨æ„ã€‘å®‰è£…å¼‚å¸¸ä¹‹åå¯ä»¥ä½¿ç”¨kubeadm reseté‡ç½®ã€‚å¦‚æœé‡åˆ°ä¸€äº›é”™è¯¯å¯ä»¥é€šè¿‡`journalctl -u kubelet -f` æ¥æŸ¥çœ‹æ—¥å¿—\n\n\n","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/kubectl-ko":{"title":"","content":"#kube-ovn #kubectl\n\næœ‰æ—¶å€™å®‰è£…å®Œæˆ kube-ovn ä¹‹åï¼Œkubectl ko æ’ä»¶æ— æ³•ä½¿ç”¨\n\n","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/kubekey-install-k8s":{"title":"","content":"#install #kubernetes #kubekey\nä¸‹è½½ kubekey\n```bash\nexport KKZONE=cn\ncurl -sfL https://get-kk.kubesphere.io | VERSION=v2.3.0 sh -\n```\n\nç”Ÿæˆé…ç½®æ–‡ä»¶\n```bash\n./kk create cluster --with-kubernetes v1.22.10 --with-kubesphere v3.3.1 --with-local-storage\n./kk create cluster --with-kubernetes v1.22.10\n\n./kk create cluster --with-kubernetes v1.26.0 --container-manager containerd --with-local-storage \n\nå•ç‹¬å®‰è£… openebs\nkubectl apply -f https://openebs.github.io/charts/openebs-operator.yaml\nkubectl patch storageclass openebs-hostpath -p '{\"metadata\": {\"annotations\": {\"storageclass.kubernetes.io/is-default-class\": \"true\"}}}'\n```\n\n- ä½¿ç”¨ ssh user+password å®‰è£…\n- ä½¿ç”¨ ssh privateKey å®‰è£…\n``` yaml\napiVersion: kubekey.kubesphere.io/v1alpha2\nkind: Cluster\nmetadata:\n  name: sample\nspec:\n  hosts:\n  - {name: node1, address: 172.16.10.2, internalAddress: 172.16.10.2, privateKeyPath: \"~/.ssh/id_rsa\"}\n  - {name: node2, address: 172.16.10.3, internalAddress: 172.16.10.3, privateKeyPath: \"~/.ssh/id_rsa\"}\n  # - {name: node2, address: 172.16.10.3, internalAddress: 172.16.10.3, user: root, password: \"123456\", arch: arm64}\n  roleGroups:\n    etcd:\n    - node1\n    control-plane:\n    - node1\n    worker:\n    - node1\n    - node2\n  controlPlaneEndpoint:\n    ## Internal loadbalancer for apiservers \n    # internalLoadbalancer: haproxy\n\n    domain: lb.kubesphere.local\n    address: \"\"\n    port: 6443\n  kubernetes:\n    version: v1.21.5\n    clusterName: cluster.local\n    autoRenewCerts: true\n  etcd:\n    type: kubekey\n  network:\n    plugin: kubeovn\n    kubePodsCIDR: 10.233.64.0/18\n    kubeServiceCIDR: 10.233.0.0/18\n    ## multus support. https://github.com/k8snetworkplumbingwg/multus-cni\n    multusCNI:\n      enabled: false\n  registry:\n    privateRegistry: \"\"\n    namespaceOverride: \"\"\n    registryMirrors: []\n    insecureRegistries: []\n  addons: []\n```\n\ncniæ’ä»¶å¯é€‰ï¼šnoneã€calicoã€kube-ovnã€cilium\n\n\nks-installer ä¿®æ”¹é•œåƒ\n- kubectl -n kubesphere-system patch cc ks-installer -p '{\"spec\":{\"local_registry\":\"registry.cn-beijing.aliyuncs.com\"}}' --type=merge\n- kubectl -n kubesphere-system set image deploy ks-installer installer=registry.cn-beijing.aliyuncs.com/kubesphereio/ks-installer:v3.3.0-rc.2\n\n\nks-installer ä¿®æ”¹é•œåƒ\n![upgit_20230323_1679550781.png](https://images.ryken.cloud/2023/03/upgit_20230323_1679550781.png)\n\n","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/kubernetes":{"title":"","content":"[[kubeadm install k8s]]\n[[kubekey install k8s]]\n[[webhook]]\n[[runtime]]","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/linux-%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE":{"title":"","content":"#é™æ€ip\n\n```\nroot@node1:~# cat /etc/network/interfaces\nsource /etc/network/interfaces.d/*.cfg\n\nauto lo\niface lo inet loopback\n\nauto eth0\niface eth0 inet static\n  address 192.168.0.2\n  netmask 255.255.255.0\n  gateway 192.168.0.1\n  dns-nameservers 8.8.8.8 114.114.114.114\n\niface eth0 inet6 static\n  pre-up modprobe ipv6\n  netmask 64\n  gateway 2402:e7c0:400:c000::1\n  address 2402:e7c0:400:c000:ffff:ffff:fffe:fffe\n  dns-nameservers 2001:4860:4860::8888 2001:4860:4860::8844\n```\n\nipv6 è®¾ç½®é™æ€ ip\n```\nroot@node1:~/kubekey/kse# cat /etc/network/interfaces.d/60-default-with-ipv6.cfg \niface eth0 inet6 static\n    #autoconf 0\n    netmask 64\n    gateway 2402:e7c0:400:c000::1\n    address 2402:e7c0:400:c000:ffff:ffff:fffe:fffe\n```\n\n\n## é‡å¯ç½‘ç»œ\n- ifup -v eth0 / ifdown eth0\n- ifconfig eth0 up/down\n- service network restart æˆ–è€…/etc/init.d/networking restart\n\n\n\næ·»åŠ é»˜è®¤è·¯ç”±\n- route -A inet6 add ::/0 gw 2001:da8:203:ec7::1\n\næ·»åŠ è·¯ç”±\n- route add default gw  192.100.10.1\n- ip route add default via 192.168.0.1\n- ip route add 192.100.10.0/24 via 192.100.200.1 dev enp49s0f1\n- route add -net 192.100.10.0 netmask 255.255.255.0 dev eth0 \n\n[Configure dual stack or IPv6 only | Calico Documentation (tigera.io)](https://docs.tigera.io/calico/3.25/networking/ipam/ipv6)\n\n\n### vlan é…ç½®\n[[vlan é…ç½®]]\n\n1ã€Â  åŠ è½½8021qæ¨¡å—\n- lsmod |grep â€˜8021qâ€™ æŸ¥çœ‹æ¨¡å—åŠ è½½æˆåŠŸä¸å¦\n- modprobeÂ  8021qÂ  å‘½ä»¤åŠ è½½å†…æ ¸æ¨¡å—\n- æ²¡æœ‰çš„è¯å®‰è£… apt-get install vlan\n\n2. åˆ›å»ºå­æ¥å£\n- ip link add link eth1 name eth1.10 type vlan id 10\n- ip addr add 10.10.10.2/24 dev eth1.10\n- ip link set dev eth1.10 up\n\né…ç½®ä¸ºæ–‡ä»¶ - ubunt æ°¸ä¹…é…ç½®\n```yaml\nauto lo\niface lo inet loopback\n\nauto eth0\niface eth0 inet static\naddress 10.163.201.184\nnetmask 255.255.255.0\ngateway 10.163.201.1\n\nauto eth0.101\niface eth0.101 inet static\naddress 192.168.200.2\nnetmask 255.255.255.0\nnetwork 192.168.200.0\nbroadcast 192.168.200.255\n```\n\nDebian é…ç½®\n```yaml\nauto vlan10\niface vlan10 inet static\n    vlan-raw-device eth0\n    address 192.168.1.X\n    netmask 255.255.255.0\n    gateway 192.168.1.1\n```\n[vlan-interfaces(5) â€” vlan â€” Debian buster â€” Debian Manpages](https://manpages.debian.org/buster/vlan/vlan-interfaces.5.en.html)\n\n\n\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/markdown-style":{"title":"","content":"#markdown\n\n[Extended Syntax | Markdown Guide](https://www.markdownguide.org/extended-syntax/#heading-ids)","lastmodified":"2023-04-18T15:06:05.590791632Z","tags":null},"/multipass":{"title":"","content":"#multipass\n\nå®˜æ–¹githubï¼š[https://github.com/canonical/multipass](https://github.com/canonical/multipass)\nwindows ç¯å¢ƒä¸‹çš„å®‰è£…ä»¥åŠä½¿ç”¨ï¼š[https://multipass.run/docs/installing-on-windows](https://multipass.run/docs/installing-on-windows)\n\nwindows æ”¯æŒä»¥ä¸‹ä¸¤ç§æ¨¡å¼ï¼š\n-   Hyper-Vï¼šï¼ˆåªèƒ½æ˜¯windows Pro æˆ–è€… windows ä¼ä¸šç‰ˆï¼‰\n-   VirtualBoxï¼šä¾èµ– VirtualBox\n\nåˆ‡æ¢æ¨¡å¼ï¼š\n-   multipass set local.driver=virtualbox\n-   multipass set local.driver=hyperv\n\né¦–å…ˆéœ€è¦å¼€å¯bios çš„è™šæ‹ŸåŒ–åŠŸèƒ½ï¼Œä½¿ç”¨ hyper-v æ¨¡å¼ï¼Œéœ€è¦å¼€å¯ windows çš„ hyperv åŠŸèƒ½ï¼Œä½¿ç”¨ virtualbox æ¨¡å¼æ—¶ï¼Œéœ€è¦è¦å…³é—­ windows çš„ hyperv åŠŸèƒ½ã€‚\n\nä½¿ç”¨ virtualboxï¼š\n- [https://multipass.run/docs/using-virtualbox-in-multipass-windows](https://multipass.run/docs/using-virtualbox-in-multipass-windows)\n- D:\\software\\Develop\\PSTools\\PsExec.exe -s -i D:\\software\\Develop\\VirtualBox\\VirtualBox.exe\n\næŸ¥çœ‹æœ¬æœºçš„äº§å“å¯†é’¥ï¼š\n```powershell\nC:\\Windows\\system32\u003ewmic path SoftwareLicensingService get OA3xOriginalProductKey\nOA3xOriginalProductKey\nQF7JX-DNPKR-KYBWC-JB2KR-7H7CK\n```\n\n\n**windows Home ç‰ˆæœ¬å‡çº§ä¸º Pro æˆ–è€…ä¼ä¸šç‰ˆ**\n- windows å‡çº§ä¸“ä¸šç‰ˆï¼š[https://www.win10gw.com/win10wenzhang/4602.html](https://www.win10gw.com/win10wenzhang/4602.html)\n- è¿™é‡Œé‡‡å–æ›´æ¢äº§å“å¯†é’¥è¿›è¡Œå‡çº§ï¼Œå¦‚æœå‡ºç°æ¿€æ´»ä¸äº†çš„å¯ä»¥ä½¿ç”¨kmsè¿›è¡Œæ¿€æ´»ï¼Œå› ä¸ºåœ¨ home ç‰ˆæœ¬ä½¿ç”¨ virtual Box ä¸€ç›´æœ‰é—®é¢˜ç½‘ç»œæƒ…å†µä¸€ç›´ä¸º N/A ä¸”æ‰€æœ‰çš„ ip å‡ä¸€è‡´ï¼Œäºæ˜¯æ›´æ¢ä¸ºä¸“ä¸šç‰ˆçš„ hypervï¼Œå¦å¤–å¯èƒ½æ˜¯ home ç‰ˆæœ¬çš„ hyperv å’Œ virtual Box å­˜åœ¨å†²çªï¼Œè¿™é‡Œæ˜¯ home å®‰è£…/æ˜¾ç¤º hyperv çš„æ–¹æ³•ï¼Œä½†æ˜¯æ…ç”¨ï¼Œæœ€å¥½å‡çº§ä¸ºä¸“ä¸šç‰ˆï¼š[https://cloud.tencent.com/developer/article/1352777](https://cloud.tencent.com/developer/article/1352777)\n\n**win10å®¶åº­ç‰ˆå‡çº§ä¸“ä¸šç‰ˆå¯†é’¥ï¼š**\n-   VK7JG-NPHTM-C97JM-9MPGT-3V66T\n-   4N7JM-CV98F-WY9XX-9D8CF-369TT\n-   FMPND-XFTD4-67FJC-HDR8C-3YH26\n-   236TW-X778T-8MV9F-937GT-QVKBB\n-   87VT2-FY2XW-F7K39-W3T8R-XMFGF\n-   KH2J9-PC326-T44D4-39H6V-TVPBY\n-   TFP9Y-VCY3P-VVH3T-8XXCC-MF4YK\n-   J783Y-JKQWR-677Q8-KCXTF-BHWGC\n-   C4M9W-WPRDG-QBB3F-VM9K8-KDQ9Y\n-   2VCGQ-BRVJ4-2HGJ2-K36X9-J66JG\n-   MGX79-TPQB9-KQ248-KXR2V-DHRTD\n-   FJHWT-KDGHY-K2384-93CT7-323RC\n","lastmodified":"2023-04-18T15:06:05.590791632Z","tags":null},"/multus-cni":{"title":"multus-cni","content":"\nä»“åº“åœ°å€ï¼š[k8snetworkplumbingwg/multus-cni: A CNI meta-plugin for multi-homed pods in Kubernetes (github.com)](https://github.com/k8snetworkplumbingwg/multus-cni)\n\n## å®‰è£…\n`kubectl apply -f https://raw.githubusercontent.com/k8snetworkplumbingwg/multus-cni/v3.9.2/deployments/multus-daemonset-thick-plugin.yml`\n\n## ä½¿ç”¨\n1. åˆ›å»º NetworkAttachmentDefinition èµ„æº\n```\ncat \u003c\u003cEOF | kubectl create -f -\napiVersion: \"k8s.cni.cncf.io/v1\"\nkind: NetworkAttachmentDefinition\nmetadata:\n  name: macvlan-conf\nspec:\n  config: '{\n      \"cniVersion\": \"0.3.0\",\n      \"type\": \"macvlan\",\n      \"master\": \"eth0\",\n      \"mode\": \"bridge\",\n      \"ipam\": {\n        \"type\": \"host-local\",\n        \"subnet\": \"192.168.1.0/24\",\n        \"rangeStart\": \"192.168.1.200\",\n        \"rangeEnd\": \"192.168.1.216\",\n        \"routes\": [\n          { \"dst\": \"0.0.0.0/0\" }\n        ],\n        \"gateway\": \"192.168.1.1\"\n      }\n    }'\nEOF\n``` \n2. åˆ›å»º pod å¹¶æŒ‡å®šä½¿ç”¨\n```\ncat \u003c\u003cEOF | kubectl create -f -\napiVersion: v1\nkind: Pod\nmetadata:\n  name: samplepod\n  annotations:\n    k8s.v1.cni.cncf.io/networks: macvlan-conf\nspec:\n  containers:\n  - name: samplepod\n    command: [\"tail\", \"-f\", \"/dev/null\"]\n    # command: [\"/bin/ash\", \"-c\", \"trap : TERM INT; sleep infinity \u0026 wait\"]\n    image: alpine\nEOF\n```","lastmodified":"2023-04-18T15:06:06.090796333Z","tags":null},"/netlab":{"title":"","content":"#netlab\n\né¡¹ç›®åœ°å€ï¼š[ipspace/netlab: Making virtual networking labs suck less (github.com)](https://github.com/ipspace/netlab)\n\næ–‡æ¡£åœ°å€ï¼š[VLANs â€” Network Simulation Tools documentation (netsim-tools.readthedocs.io)](https://netsim-tools.readthedocs.io/en/latest/module/vlan.html)\n\nåˆ«äººçš„ä¸€ä¸ª demoï¼š[netlab Simple VLAN Example Â« ipSpace.net blog](https://blog.ipspace.net/2022/05/netsim-vlan-simple.html)","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/network-tools":{"title":"","content":"#nsenter\n\n`nsenter -u -n -t $pid bash`\n\n`nsenterÂ --utsÂ --net --targetÂ 3326Â --ipcÂ --mountÂ --pid`\n\nç½‘å¡é˜Ÿåˆ—è®¾ç½®ä¸º1 + ç½‘å¡ç»ˆç«¯ç»‘å®šè‡³ CPU0\n[[Linux æ€§èƒ½è°ƒä¼˜] ç½‘å¡ä¸­æ–­ä¸CPUçš„ç»‘å®šé—®é¢˜ - å·´è›®å­ - åšå®¢å›­ (cnblogs.com)](https://www.cnblogs.com/bamanzi/p/linux-irq-and-cpu-affinity.html)\n\nperf ftrace æŸ¥çœ‹æŠ¥æ–‡ç»è¿‡å“ªäº›å†…æ ¸åè®®æ ˆçš„è·¯å¾„\n\nqperf æµ‹è¯•åå\n\nnetperf\n\n\nTCPå››å…ƒç»„\n\næµ‹è¯•ç¯å¢ƒä½¿ç”¨äº†é€Ÿç‡ä¸º 100 Gbit/s çš„ç½‘å£ä»¥ç¡®ä¿ç½‘å¡ä¸ä¼šæˆä¸ºç“¶é¢ˆ\n\n\n#### æŸ¥çœ‹ç½‘å¡é€Ÿç‡\n```bash\n~#: cat /sys/class/net/eth0/speed \n-1\n\n~#: ethtool eth0\nSettings for eth0:\n        Supported ports: [ ]\n        Supported link modes:   Not reported\n        Supported pause frame use: No\n        Supports auto-negotiation: No\n        Supported FEC modes: Not reported\n        Advertised link modes:  Not reported\n        Advertised pause frame use: No\n        Advertised auto-negotiation: No\n        Advertised FEC modes: Not reported\n        Speed: Unknown!\n        Duplex: Unknown! (255)\n        Port: Other\n        PHYAD: 0\n        Transceiver: internal\n        Auto-negotiation: off\n        Link detected: yes\n```\n\n#### è®¾ç½®ç½‘å¡é™é€Ÿ\n1. iproute å·¥å…·\n-  tc qdisc add dev eth0 root tbf rate 50kbit latency 50ms burst 1000\n-  tc qdisc del dev eth0 root tbf\n\n2. iptables å·¥å…·\n-m limit --limit \u003c[!]limitnum\u003e --limit-burst\n--limit: é€Ÿç‡é™åˆ¶/sec /minute /hour\n--limit-burst: æœ€å¤§çš„è¿æ¥æ•°ã€‚ç”¨æ¥é™åˆ¶æœ€å¤§å¯ç”¨æ•°çš„ã€‚\n\n- iptables -A INPUT -p tcp -s 10.226.52.1 -m limit --limit 30/sec --limit-burst 3 -j ACCEPT\n- iptables -A INPUT -p tcp -s 10.226.52.1 -j DROP (INPUTé»˜è®¤è§„åˆ™æ˜¯ACCEPT)\n- iptables -A OUTPUT -p tcp -d 10.226.52.1 -m limit --limit 30/sec --limit-burst 3 -j ACCEPT\n- iptables -A OUTPUT -p tcp -d 10.226.52.1 -j DROP\n\n\n3. å°†åƒå…†ç½‘å¡æ”¹æˆ10å…†ç½‘å¡\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/networkPolicy-%E7%BD%91%E7%BB%9C%E7%AD%96%E7%95%A5":{"title":"","content":"[ç½‘ç»œç­–ç•¥ | Kubernetes](https://kubernetes.io/zh-cn/docs/concepts/services-networking/network-policies/)\n\n","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/perf-%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90":{"title":"","content":"#iperf #network \n\n[Wiki - Linux æ•ˆèƒ½åˆ†æå·¥å…·: Perf (ncku.edu.tw)](http://wiki.csie.ncku.edu.tw/embedded/perf-tutorial)\n![upgit_20221118_1668759156.png](https://images.ryken.cloud/2022/11/upgit_20221118_1668759156.png)\n\n\n![upgit_20221118_1668758187.png](https://images.ryken.cloud/2022/11/upgit_20221118_1668758187.png)\n\n### ç½‘ç»œæµ‹è¯•å·¥å…·\nä¸€ã€iperf\niperfæ˜¯ä¸€ä¸ªç½‘ç»œæ€§èƒ½æµ‹è¯•å·¥å…·ã€‚iperfå¯ä»¥æµ‹è¯•TCPå’ŒUDPå¸¦å®½è´¨é‡ã€‚iperfå¯ä»¥æµ‹é‡æœ€å¤§TCPå¸¦å®½ï¼Œå…·æœ‰å¤šç§å‚æ•°å’ŒUDPç‰¹æ€§ã€‚iperfå¯ä»¥æŠ¥å‘Šå¸¦å®½ï¼Œå»¶è¿ŸæŠ–åŠ¨å’Œæ•°æ®åŒ…ä¸¢å¤±ã€‚åˆ©ç”¨iperfè¿™ä¸€ç‰¹æ€§ï¼Œå¯ä»¥ç”¨æ¥æµ‹è¯•ä¸€äº›ç½‘ç»œè®¾å¤‡å¦‚è·¯ç”±å™¨ï¼Œé˜²ç«å¢™ï¼Œäº¤æ¢æœºç­‰çš„æ€§èƒ½ã€‚\n\n- æœåŠ¡ç«¯10.74.148.74å¯åŠ¨iperf3ï¼Œç›‘å¬ç«¯å£12345ï¼Œè¯·æ±‚é—´æ–­æ—¶é—´1s\n~#Â iperf3Â -sÂ -pÂ 12345Â -iÂ 1\n- å®¢æˆ·ç«¯å‘10.74.148.74å‘èµ·è¯·æ±‚ï¼Œè¯·æ±‚é—´æ–­æ—¶é—´1sï¼Œæµ‹è¯•æ—¶é—´é•¿åº¦10s\n~#Â iperf3Â -cÂ 10.74.148.74Â -pÂ 12345Â Â -iÂ 1Â -tÂ 10\n\näºŒã€netperf\nnetperfæ˜¯ä¸€ç§ç½‘ç»œæ€§èƒ½çš„æµ‹é‡å·¥å…·ï¼Œä¸»è¦é’ˆå¯¹åŸºäºTCPæˆ–UDPçš„ä¼ è¾“ã€‚Netperfæ ¹æ®åº”ç”¨çš„ä¸åŒï¼Œå¯ä»¥è¿›è¡Œä¸åŒæ¨¡å¼çš„ç½‘ç»œæ€§èƒ½æµ‹è¯•ï¼Œ**å³æ‰¹é‡æ•°æ®ä¼ è¾“ï¼ˆbulk data transferï¼‰æ¨¡å¼å’Œè¯·æ±‚/åº”ç­”ï¼ˆrequest/reponseï¼‰æ¨¡å¼ã€‚**\n- æœåŠ¡ç«¯10.74.148.74å¼€èµ·12865çš„netserverç¨‹åºç›‘å¬\n~#Â netserver\nStartingÂ netserverÂ withÂ hostÂ 'IN(6)ADDR_ANY'Â portÂ '12865'Â andÂ familyÂ AF_UNSPEC\n\n- å®¢æˆ·ç«¯å‘10.74.148.74å‘èµ·è¯·æ±‚ï¼Œæµ‹è¯•æ—¶é—´é•¿åº¦10s\n~#Â netperfÂ -HÂ 10.74.148.74Â -lÂ 10\n\nä¸‰ã€qperf\n- qperf -t 60 10.233.96.11 tcp_bw\n- qperf\nqperf å¯ä»¥ç”¨æ¥æµ‹è¯•ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„å¸¦å®½ï¼ˆbandwidthï¼‰å’Œå»¶è¿Ÿï¼ˆlatencyï¼‰ï¼Œé™¤äº†æ”¯æŒtcp/udp/sctpå¤–ï¼Œ qperfå€¼å¾—æçš„äº®ç‚¹æ˜¯ï¼šç¬¬ä¸€å¯ä»¥æ”¯æŒRDMAæµ‹é‡ï¼Œç¬¬äºŒå¯è¿›è¡Œå¾ªç¯éå†æµ‹è¯•ã€‚è¿™ä¸¤ç‚¹ä¹Ÿæ˜¯æ¨èè¯¥å·¥å…·çš„ä¸»è¦åŸå› ã€‚ä½¿ç”¨æ–¹æ³•æ˜¯ï¼šä¸€ä¸ªèŠ‚ç‚¹è¿è¡Œ qperf ä½œä¸ºæœåŠ¡ç«¯ï¼Œå¦ä¸€ä¸ªèŠ‚ç‚¹åˆ™è¿è¡Œ qperf ä½œä¸ºå®¢æˆ·ç«¯ï¼Œä¸æœåŠ¡ç«¯å»ºç«‹è¿æ¥ä¹‹åæ‰“æµï¼Œè·å–å¸¦å®½å’Œå»¶è¿Ÿç­‰æ•°æ®ã€‚\n\n\n### iperf3 æ€§èƒ½æµ‹è¯•\niperf -c 10.233.94.214 -u -t 120 -p 8000\niperf -s -u -i 1 -p 8000\n\nä½¿ç”¨ iperf æµ‹è¯•ï¼Œdeploy1 æš´éœ² svcï¼Œdeploy2 é€šè¿‡ svc è®¿é—® deploy1\niperf3 -s -p 8000\niperf3 -c 10.233.94.220 -u -p 8000 -b 1500M -t 120\n\n\næ‰‹åŠ¨åˆ›å»º veth-pair è®¾å¤‡æ¥è¿›è¡Œæµ‹è¯•ï¼š[[æ‰‹åŠ¨åˆ›å»º netns + è·¨ä¸»æœºé€šä¿¡]]ï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š\n\n![upgit_20221121_1669020131.png](https://images.ryken.cloud/2022/11/upgit_20221121_1669020131.png)\n\n![upgit_20221121_1669020150.png](https://images.ryken.cloud/2022/11/upgit_20221121_1669020150.png)\n\n\n![upgit_20221206_1670292224.png](https://images.ryken.cloud/2022/12/upgit_20221206_1670292224.png)\n\n![upgit_20221206_1670292233.png](https://images.ryken.cloud/2022/12/upgit_20221206_1670292233.png)\n\n![upgit_20221206_1670292242.png](https://images.ryken.cloud/2022/12/upgit_20221206_1670292242.png)\n\n![upgit_20221206_1670292249.png](https://images.ryken.cloud/2022/12/upgit_20221206_1670292249.png)\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/runtime":{"title":"","content":"crio\n```\n#### 1. å®‰è£…cri-o yum install git make curl -OL https://github.com/cri-o/cri-o/releases/download/v1.18.4/crio-v1.18.4.tar.gz tar -zxf crio-v1.18.4.tar.gz cd crio-v1.18.4 mkdir -p /etc/crio /opt/cni/bin /usr/local/share/oci-umount/oci-umount.d /usr/local/lib/systemd/system make install echo \"fs.may_detach_mounts=1\" \u003e\u003e /etc/sysctl.conf sysctl -p # 2. é…ç½®cri-o vi /etc/crio/crio.conf # æ‰¾åˆ°å¦‚ä¸‹å‚æ•°è¿›è¡Œä¿®æ”¹ pause_image = \"kubesphere/pause:3.2\" registries = [ \"docker.io\" ## è¿™é‡Œå¯æ›¿æ¢æˆdockerhubçš„é•œåƒåŠ é€Ÿå™¨ ] # 3. å¯åŠ¨crio systemctl enable crio \u0026\u0026 systemctl restart crio\n\n```\n\ncentos 7\n\nå®‰è£… crio\ncurl -L -o /etc/yum.repos.d/devel:kubic:libcontainers:stable.repo https://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/CentOS_7/devel:kubic:libcontainers:stable.repo\ncurl -L -o /etc/yum.repos.d/devel:kubic:libcontainers:stable:cri-o:1.25.repo https://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable:/cri-o:/1.25/CentOS_7/devel:kubic:libcontainers:stable:cri-o:1.25.repo\nyum -y install cri-o\nsystemctl enable crio \u0026\u0026 systemctl restart crio \ncrio config\nvim /etc/crio/crio.conf \n\n\nå®‰è£… crictl \n[Releases Â· kubernetes-sigs/cri-tools (github.com)](https://github.com/kubernetes-sigs/cri-tools/releases)\n```\nCRICTL_VERSION=\"v1.25.0\"\nmkdir -p /opt/bin\ncurl -L \"https://github.com/kubernetes-incubator/cri-tools/releases/download/${CRICTL_VERSION}/crictl-${CRICTL_VERSION}-linux-amd64.tar.gz\" | tar -C /opt/bin -xz\n\nln -s /opt/bin/crictl /usr/bin/crictl\n\nyum install -y ebtables\n```","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/shell-%E5%B8%B8%E7%94%A8":{"title":"shell å¸¸ç”¨","content":"\n#shell\n\n# ç§»åŠ¨å…‰æ ‡\n-   **ctrl+a****: ç§»åˆ°è¡Œé¦–ï¼ˆaæ˜¯é¦–å­—æ¯ï¼‰**\n-   **ctrl+e****: ç§»åˆ°è¡Œå°¾ï¼ˆendï¼‰**\n\n-   ctrl+b: å‰ç§»ä¸€ä¸ªå­—ç¬¦(backward)\n-   ctrl+f: åç§»ä¸€ä¸ªå­—ç¬¦(forward)\n-   alt+b: å‰ç§»ä¸€ä¸ªå•è¯\n-   alt+f: åç§»ä¸€ä¸ªå•è¯\n-   ctrl+x: è¡Œé¦–åˆ°å½“å‰å…‰æ ‡æ›¿æ¢\n\n# ç¼–è¾‘å‘½ä»¤\n-   **alt+d: åˆ é™¤å½“å‰å…‰æ ‡åˆ°ä¸´è¿‘å³è¾¹å•è¯å¼€å§‹(delete)**\n-   **ctrl+w: åˆ é™¤å½“å‰å…‰æ ‡åˆ°ä¸´è¿‘å·¦è¾¹å•è¯ç»“æŸ(word)**\n-   **ctrl+u: åˆ é™¤å…‰æ ‡å·¦è¾¹æ‰€æœ‰**\n-   **ctrl+k: åˆ é™¤å…‰æ ‡å³è¾¹æ‰€æœ‰**\n-   **ctrl+l: æ¸…å±**\n-   alt+.: ç²˜å¸–æœ€åä¸€æ¬¡å‘½ä»¤æœ€åçš„å‚æ•°ï¼ˆé€šå¸¸ç”¨äºmkdir long-long-dirå, cdé…åˆç€alt+.ï¼‰\n-   ctrl+h: åˆ é™¤å…‰æ ‡å‰ä¸€ä¸ªå­—ç¬¦ï¼ˆç›¸å½“äºbackspaceï¼‰\n-   ctrl+d: åˆ é™¤å…‰æ ‡åä¸€ä¸ªå­—ç¬¦ï¼ˆç›¸å½“äºdeleteï¼‰\n-   ctrl+shift+c: å¤åˆ¶ï¼ˆç›¸å½“äºé¼ æ ‡å·¦é”®æ‹–æ‹½ï¼‰\n-   ctrl+shift+v: ç²˜è´´ï¼ˆç›¸å½“äºé¼ æ ‡ä¸­é”®ï¼‰\n\n# å…¶å®ƒ\n-   ctrl+n: ä¸‹ä¸€æ¡å‘½ä»¤\n-   ctrl+p: ä¸Šä¸€æ¡å‘½ä»¤\n-   shift+PageUp: å‘ä¸Šç¿»é¡µ\n-   shift+PageDown: å‘ä¸‹ç¿»é¡µ\n-   **ctrl+r: è¿›å…¥å†å²æŸ¥æ‰¾å‘½ä»¤è®°å½•ï¼Œ è¾“å…¥å…³é”®å­—ã€‚ å¤šæ¬¡æŒ‰è¿”å›ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹**\n\n# Vim\n## ç§»åŠ¨å…‰æ ‡\n-   b: å‘å‰ç§»åŠ¨ä¸€ä¸ªå•è¯\n-   w: å‘åç§»åŠ¨ä¸€ä¸ªå•è¯\n-   :s/foo/bar/ # ä»…æ›¿æ¢å…‰æ ‡æ‰€åœ¨è¡Œçš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹\n-   :s/foo/bar/g # æ›¿æ¢å…‰æ ‡æ‰€åœ¨è¡Œçš„æ‰€æœ‰åŒ¹é…é¡¹\n-   **:%s/foo/bar/g** # åœ¨æ•´ä¸ªæ–‡ä»¶ä¸­æœç´¢æ›¿æ¢foo\n-   :s/foo//g # å°†å…‰æ ‡å½“å‰è¡Œçš„fooæ›¿æ¢ä¸ºç©ºå­—ç¬¦ä¸²\n*(æ³¨æ„è½¬ç§» / . ç­‰ç¬¦å·)*\n## åˆ é™¤\n-   dw: ä»å½“å‰å…‰æ ‡å¼€å§‹åˆ é™¤åˆ°ä¸‹ä¸€ä¸ªå•è¯å¤´\n-   de: ä»å½“å‰å…‰æ ‡å¼€å§‹åˆ é™¤åˆ°å•è¯å°¾\n- :1 æˆ–è€… gg è·³åˆ°ç¬¬ä¸€è¡Œ\n- :$ æˆ–è€… shift + g è·³åˆ°æœ€åä¸€è¡Œ\n\n\n## shell æ²¡æœ‰å†å²è®°å½•\nä¸´æ—¶ç”Ÿæ•ˆï¼šexport HISTSIZE=500\næ°¸ä¹…ç”Ÿæ•ˆï¼švim /etc/profile ä¿®æ”¹HISTSIZE\nhistory å¸¦æœ‰æ—¶é—´ï¼šexport HISTTIMEFORMAT='%F %T'\n","lastmodified":"2023-04-18T15:06:06.090796333Z","tags":null},"/ss-%E5%91%BD%E4%BB%A4":{"title":"","content":"#network #tool \n\nss å‘½ä»¤ç”¨äºæ˜¾ç¤ºsocketçŠ¶æ€. ä»–å¯ä»¥æ˜¾ç¤ºPACKET sockets, TCP sockets, UDP sockets, DCCP sockets, RAW sockets, Unix domain socketsç­‰ç­‰ç»Ÿè®¡. å®ƒæ¯”å…¶ä»–å·¥å…·å±•ç¤ºç­‰å¤štcpå’Œstateä¿¡æ¯. å®ƒæ˜¯ä¸€ä¸ªéå¸¸å®ç”¨ã€å¿«é€Ÿã€æœ‰æ•ˆçš„è·Ÿè¸ªIPè¿æ¥å’Œsocketsçš„æ–°å·¥å…·.\n\nåŠŸèƒ½ç±»ä¼¼ï¼šnetstat\n```bash\nroot@node3:~# ss -h\nUsage: ss [ OPTIONS ]\n       ss [ OPTIONS ] [ FILTER ]\n   -h, --help          this message\n   -V, --version       output version information\n   -n, --numeric       don't resolve service names\n   -r, --resolve       resolve host names\n   -a, --all           display all sockets\n   -l, --listening     display listening sockets\n   -o, --options       show timer information\n   -e, --extended      show detailed socket information\n   -m, --memory        show socket memory usage\n   -p, --processes     show process using socket\n   -i, --info          show internal TCP information\n       --tipcinfo      show internal tipc socket information\n   -s, --summary       show socket usage summary\n       --tos           show tos and priority information\n   -b, --bpf           show bpf filter socket information\n   -E, --events        continually display sockets as they are destroyed\n   -Z, --context       display process SELinux security contexts\n   -z, --contexts      display process and socket SELinux security contexts\n   -N, --net           switch to the specified network namespace name\n\n   -4, --ipv4          display only IP version 4 sockets\n   -6, --ipv6          display only IP version 6 sockets\n   -0, --packet        display PACKET sockets\n   -t, --tcp           display only TCP sockets\n   -S, --sctp          display only SCTP sockets\n   -u, --udp           display only UDP sockets\n   -d, --dccp          display only DCCP sockets\n   -w, --raw           display only RAW sockets\n   -x, --unix          display only Unix domain sockets\n       --tipc          display only TIPC sockets\n       --vsock         display only vsock sockets\n   -f, --family=FAMILY display sockets of type FAMILY\n       FAMILY := {inet|inet6|link|unix|netlink|vsock|tipc|xdp|help}\n\n   -K, --kill          forcibly close sockets, display what was closed\n   -H, --no-header     Suppress header line\n   -O, --oneline       socket's data printed on a single line\n\n   -A, --query=QUERY, --socket=QUERY\n       QUERY := {all|inet|tcp|udp|raw|unix|unix_dgram|unix_stream|unix_seqpacket|packet|netlink|vsock_stream|vsock_dgram|tipc}[,QUERY]\n\n   -D, --diag=FILE     Dump raw information about TCP sockets to FILE\n   -F, --filter=FILE   read filter information from FILE\n       FILTER := [ state STATE-FILTER ] [ EXPRESSION ]\n       STATE-FILTER := {all|connected|synchronized|bucket|big|TCP-STATES}\n         TCP-STATES := {established|syn-sent|syn-recv|fin-wait-{1,2}|time-wait|closed|close-wait|last-ack|listening|closing}\n          connected := {established|syn-sent|syn-recv|fin-wait-{1,2}|time-wait|close-wait|last-ack|closing}\n       synchronized := {established|syn-recv|fin-wait-{1,2}|time-wait|close-wait|last-ack|closing}\n             bucket := {syn-recv|time-wait}\n                big := {established|syn-sent|fin-wait-{1,2}|closed|close-wait|last-ack|listening|closing}\n```\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/ssh":{"title":"ssh","content":" \n```\n          WARNING: UNPROTECTED PRIVATE KEY FILE! \nPermissions 0777 for '/root/.ssh/id_rsa' are too open.\nIt is recommended that your private key files are NOT accessible by others.\nThis private key will be ignored.\nbad permissions: ignore key: /root/.ssh/id_rsa\n```\nè§£å†³åŠæ³•ï¼š\n```\nchmod 600 /root/.ssh/id_rsa\n```","lastmodified":"2023-04-18T15:06:06.090796332Z","tags":null},"/tc-tbf":{"title":"","content":"tbf - token bucket Filter ä»¤ç‰Œæ¡¶è¿‡æ»¤å™¨\n\ntbf  sfq \næ— ç±»ç®—æ³•\næµé‡æ§åˆ¶ TBF\né˜Ÿåˆ—æ§åˆ¶ SFQ  éšæœºå…¬å¹³é˜Ÿåˆ—\n\nåˆ†ç±»ç®—æ³•ï¼šPRIO/CBQ/HTB\nå¯¹å¤šç§æ•°æ®æµåŒºåˆ«å¯¹å¾…\n- PRIOï¼šåˆ†ç±»ä¼˜å…ˆç®—æ³• (ä»å·¦è‡³å³ä¼˜å…ˆå‘åŒ…), é˜Ÿåˆ—è§„å®šå¹¶ä¸è¿›è¡Œæ•´å½¢ï¼Œå®ƒä»…ä»…æ ¹æ®é…ç½®çš„è¿‡æ»¤å™¨æŠŠæµé‡è¿›ä¸€æ­¥ç»†åˆ†\n- CBQï¼šå·¥ä½œæœºåˆ¶æ˜¯ç¡®è®¤é“¾è·¯çš„é—²ç½®æ—¶é—´è¶³å¤Ÿé•¿ï¼Œä»¥è¾¾åˆ°é™ä½é“¾è·¯å®é™…å¸¦å®½çš„ç›®çš„\n- HTBï¼šåˆ†å±‚çš„ä»¤ç‰Œæ¡¶ä¸€ä¸ªåˆ†ç±»çš„ä»¤ç‰Œæ¡¶è¿‡æ»¤å™¨\n\nlinux æµé‡æ§åˆ¶ï¼š\n- é˜Ÿåˆ—æ§åˆ¶ - Qosï¼šå¸¸è§SFQ  PRIO\n- æµé‡æ§åˆ¶/å¸¦å®½æ§åˆ¶ï¼šé˜Ÿåˆ—çš„æ’é˜Ÿæ•´å½¢ï¼Œä¸€èˆ¬ä¸º TBF  HTB\n\nlinux æµé‡æ§åˆ¶ç®—æ³•ï¼š\n- æ— ç±»æ§åˆ¶ç®—æ³•ï¼šç”¨äºæ ‘å¶çº§æ— åˆ†æ”¯çš„é˜Ÿåˆ—ï¼Œå¦‚ SFQ\n- åˆ†ç±»æ§åˆ¶ç®—æ³•ï¼šç”¨äºå¤šåˆ†æ”¯çš„é˜Ÿåˆ—ï¼Œå¦‚PRIO  TBF  HTB\n\n\næ—¶å»¶\nè£… k8s ä¹‹åï¼Œæ—¶å»¶å˜é«˜\ncalico veth æ—¶å»¶å˜é«˜","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/tcpdump":{"title":"","content":"\ntcpdump -i any -w mycap.pacp","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/termshark":{"title":"","content":"#wireshark  #tcpdump #termshark\n\nå®‰è£…ï¼š[Releases Â· gcla/termshark (github.com)](https://github.com/gcla/termshark/releases)\n\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/use-kube-ovn":{"title":"","content":"#kube-ovn #cni #how-to-use\n\næ ¸å¿ƒèµ„æº subnet \n- ### ç¤ºä¾‹\n```yaml\napiVersion: kubeovn.io/v1\nkind: Subnet\nmetadata:\n  name: ovn-default\nspec:\n  namespaces:\n  - ns1\n  - ns2\n  cidrBlock: 172.30.10.0/24\n  default: true\n  disableGatewayCheck: false\n  disableInterConnection: false\n  excludeIps:\n  - 172.30.10.1\n  gateway: 172.30.10.1\n  gatewayNode: \"\"\n  gatewayType: distributed\n  logicalGateway: false\n  natOutgoing: true\n  protocol: IPv4\n  provider: ovn                                # å¯ä»¥ä¸ºå…¶ä»–çš„ cni æ’ä»¶\n  vlan: ovn-vlan\n  vpc: ovn-cluster\n  private: true\n  allowSubnets:\n  - 10.16.0.0/16\n  - 10.18.0.0/16\n  acls:                                                 // ACL å‚æ•°ä¿¡æ¯\n  - action: reject\n    direction: to-lport\n    match: ip4.src==172.30.2.201 \u0026\u0026 ip4.dst==172.30.3.201\n    priority: 2022\n  - action: allow\n    direction: to-lport\n    match: ip4.src==172.30.2.201 \u0026\u0026 ip4.dst==172.30.3.202\n    priority: 2222\nstatus:\n  activateGateway: \"\"\n  conditions:\n  - lastTransitionTime: \"2022-03-25T05:51:33Z\"\n    lastUpdateTime: \"2022-03-25T06:25:05Z\"\n    reason: ResetLogicalSwitchAclSuccess\n    status: \"True\"\n    type: Validated\n  v4availableIPs: 232\n  v4usingIPs: 21\n  v6availableIPs: 0\n  v6usingIPs: 0\n```\n\n| å­—æ®µ | è¯´æ˜ |\n|---|---|\n| protocol | åè®® IPv4/IPv6/Dual |\n| namespaces | ç»‘å®šçš„ namespace |\n| default | è®¾ç½®ä¸ºé»˜è®¤çš„ subnetï¼Œä¸€ä¸ªé›†ç¾¤åªèƒ½æœ‰ä¸€ä¸ªé»˜è®¤çš„ subnet|\n| cidrBlock | subnet çš„ cidr |\n| gateway | subnet ç½‘å…³åœ°å€ |\n| excludeIps | è¯¥ subnet ä¿ç•™çš„ ip åœ°å€ |\n| *network-policy* | |\n| private | è®¾ç½®ä¸º trueï¼Œå¼€å¯åè¡¨ç¤ºç¦æ­¢è¯¥ subnet å¤–çš„ ip è®¿é—® |\n| allowSubnets | å¼€å¯ private åï¼Œå…è®¸è®¿é—®çš„å­ç½‘åˆ—è¡¨ |\n| *gateway* | |\n| gatewayType | ç½‘å…³ç±»å‹ |\n| gatewayNode | ç”¨ä½œç½‘å…³çš„èŠ‚ç‚¹åˆ—è¡¨ |\n| natOutgoing | é€šè¿‡ç½‘å…³æ—¶æ˜¯å¦éœ€è¦masqueraded pod ipã€‚ä¸º false æ—¶ï¼Œpod ip ä¼šç›´æ¥æš´éœ²ç»™å¤–ç½‘ |\n| *dhcp*|  |\n| - | - |\n| *advance* | |\n| vlan | (underlay æ¨¡å¼)ç”¨äºç»‘å®š vlan id |\n| localGateway | (underlay æ¨¡å¼) ä½¿ç”¨é€»è¾‘ç½‘å…³è€Œéç‰©ç†ç½‘å…³ |\n| externalEgressGateway | å¤–éƒ¨å‡ºå£ç½‘å…³çš„åœ°å€,å‡ºå£æµé‡é€šè¿‡åŸºäºç­–ç•¥çš„è·¯ç”±é€šè¿‡ç½‘å…³èŠ‚ç‚¹é‡å®šå‘åˆ°å¤–éƒ¨ç½‘å…³,ä¸ natOutgoing å†²çª |\n| policyRoutingPriority | ç­–ç•¥è·¯ç”±ä¼˜å…ˆçº§ï¼Œå½“`externalEgressGateway` è®¾ç½®æ—¶è¯¥å­—æ®µä¹Ÿå¿…é¡»è®¾ç½® |\n| policyRoutingTableID | ç­–ç•¥è·¯ç”±è·¯ç”±è¡¨ï¼Œå½“`externalEgressGateway` è®¾ç½®æ—¶è¯¥å­—æ®µä¹Ÿå¿…é¡»è®¾ç½®ï¼Œè¡¨å¿…é¡»å”¯ä¸€ |\n| disableGatewayCheck | ç”¨äºæ£€æµ‹ä¸ç½‘å…³çš„è¿é€šæ€§,å¦‚æœunderlayæ¨¡å¼ç½‘å…³ä¸å›å¤ icmp å¯ä»¥ç¦ç”¨ |\n| disableInterConnection | å¦‚æœå¯ç”¨é›†ç¾¤äº’è¿ï¼Œä½¿ç”¨æ­¤å­—æ®µç¦ç”¨è‡ªåŠ¨è·¯ç”± |\n\n- ### è®¾ç½®ç»‘å®š namespace \n```yaml\napiVersion: kubeovn.io/v1\nkind: Subnet\nmetadata:\n  name: ovn-default\nspec:\n  namespaces:\n  - project\n  cidrBlock: 10.233.128.0/24\n  gateway: 10.233.128.1\n```\n\nç»‘å®šä¹‹åï¼Œå¯¹åº” namespace ä¼šç”Ÿæˆä»¥ä¸‹æ³¨è§£ä¿¡æ¯\n```\nmetadata:\n  annotations:\n    ovn.kubernetes.io/cidr: 10.233.128.0/24\n    ovn.kubernetes.io/exclude_ips: 10.233.128.1\n    ovn.kubernetes.io/logical_switch: subnet\n```\n\nå¯¹äºå·¥ä½œè´Ÿè½½çš„ ip åˆ†é…\n- ä¼˜å…ˆä½¿ç”¨è´Ÿè½½æŒ‡å®šçš„\n- å¦‚æœè´Ÿè½½æ²¡æœ‰æŒ‡å®šä½¿ç”¨ï¼Œä½¿ç”¨ namespace ç»‘å®šçš„ subnet\n- å¦‚æœ namespace æ²¡æœ‰ç»‘å®š subnetï¼Œä½¿ç”¨å®‰è£…é»˜è®¤çš„ subnet \næ›´å¤š ip åˆ†é…å‚è€ƒï¼š[[kube-ovn ipam]]\n\n\n### ç½‘ç»œç­–ç•¥\nè¯¦ç»†è§ [[kube-ovn networkpolicy]]\n\n### DHCP\n- *æœ‰å…³ dhcp ç‰¹æ€§ç”¨äºæ”¯æŒ kubevirt,æ­¤å¤„ä¸è¿›è¡Œå±•å¼€* \n\n### qos å¸¦å®½é™é€Ÿ\nkube-ovn æ”¯æŒä»¥ä¸‹ä¸¤ç§ qos é…ç½®ï¼Œå¹¶å‡å¯ä»¥é€šè¿‡è®¾ç½® pod çš„ annotations å¼€å¯ï¼š\n-   æœ€å¤§å¸¦å®½é™åˆ¶ QoS\n```yaml\nmetadata:\n  annotations:\n    ovn.kubernetes.io/ingress_rate: \"3\" \n    ovn.kubernetes.io/egress_rate: \"1\"\n```\n-   linux-netem æ¨¡æ‹Ÿè®¾å¤‡å¹²æ‰°ä¸¢åŒ…ç­‰çš„ QoSï¼Œå¯ç”¨äºæ¨¡æ‹Ÿæµ‹è¯•\n```yaml\nmetadata:\n  annotations:\n    ovn.kubernetes.io/latency: \"100\" # è®¾ç½® Pod æµé‡å»¶è¿Ÿï¼Œå–å€¼ä¸ºæ•´æ•°ï¼Œå•ä½ä¸º ms\n    ovn.kubernetes.io/limit: \"1000\"  # qdiscé˜Ÿåˆ—å¯å®¹çº³çš„æœ€å¤§æ•°æ®åŒ…æ•°ï¼Œå–å€¼ä¸ºæ•´å½¢æ•°å€¼\n    ovn.kubernetes.io/loss: \"20\" # ä¸ºè®¾ç½®çš„æŠ¥æ–‡ä¸¢åŒ…æ¦‚ç‡ï¼Œå–å€¼ä¸º float ç±»å‹ï¼Œä¾‹å¦‚å–å€¼ä¸º 20ï¼Œåˆ™ä¸ºè®¾ç½® 20% çš„ä¸¢åŒ…æ¦‚ç‡ã€‚\n```\n\n### vip é¢„ç•™ + pod ä½¿ç”¨ vip å›ºå®š ip\nåŠ¨æ€çš„é¢„ç•™ä¸€éƒ¨åˆ† IP ä½†æ˜¯å¹¶ä¸åˆ†é…ç»™ Pod è€Œæ˜¯åˆ†é…ç»™å…¶ä»–çš„åŸºç¡€è®¾æ–½å¯ç”¨ã€‚\n```yaml\napiVersion: kubeovn.io/v1\nkind: Vip\nmetadata:\n  name: vip-01\nspec:\n  subnet: ovn-default # æŒ‡å®šä»å“ªä¸ª Subnet ä¸­é¢„ç•™ IPã€‚\n  # å›ºå®šåˆ†é…çš„ IP åœ°å€ï¼Œè¯¥åœ°å€éœ€åœ¨Â `subnet`Â çš„ CIDR èŒƒå›´å†…\n  # v4Ip: \"10.16.0.121\"\n```\n\nå¯ä»¥ä½¿ç”¨ annotation å°†æŸä¸ª VIP åˆ†é…ç»™ä¸€ä¸ª Pod -- *v1.10.6 æš‚ä¸æ”¯æŒ*\n```yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  annotations:\n    ovn.kubernetes.io/vip: vip-dynamic-01 # æŒ‡å®š vip\n```\n\n### é…ç½®å¤–éƒ¨ç½‘å…³\nåœ¨ä¸€äº›åœºæ™¯ä¸‹ï¼Œå¯¹æ‰€æœ‰å®¹å™¨è®¿é—®å¤–éƒ¨çš„æµé‡éœ€è¦é€šè¿‡ä¸€ä¸ªå¤–éƒ¨çš„ç½‘å…³è¿›è¡Œç»Ÿä¸€çš„ç®¡ç†å’Œå®¡è®¡ã€‚ Kube-OVN å¯ä»¥é€šè¿‡åœ¨å­ç½‘ä¸­è¿›è¡Œç›¸åº”çš„è·¯ç”±é…ç½®ï¼Œå°†å‡ºç½‘æµé‡è½¬å‘è‡³å¯¹åº”çš„å¤–éƒ¨ç½‘å…³ã€‚\n```bash\nkind: Subnet\napiVersion: kubeovn.io/v1\nmetadata:\n  name: external\nspec:\n  cidrBlock: 172.31.0.0/16\n  gatewayType: centralized\n  natOutgoing: false\n  externalEgressGateway: 192.168.0.1\n  policyRoutingTableID: 1000\n  policyRoutingPriority: 1500\n```\n-   `natOutgoing`: éœ€è¦è®¾ç½®ä¸ºÂ `false`\n-   `externalEgressGateway`ï¼šè®¾ç½®ä¸ºå¤–éƒ¨ç½‘å…³çš„åœ°å€ï¼Œéœ€è¦å’Œç½‘å…³èŠ‚ç‚¹åœ¨åŒä¸€ä¸ªäºŒå±‚å¯è¾¾åŸŸ\n-   `policyRoutingTableID`ï¼šä½¿ç”¨çš„æœ¬åœ°ç­–ç•¥è·¯ç”±è¡¨çš„ TableIDï¼Œæ¯ä¸ªå­ç½‘å‡éœ€ä¸åŒä»¥é¿å…å†²çªã€‚\n-   `policyRoutingPriority`ï¼šè·¯ç”±ä¼˜å…ˆçº§ï¼Œä¸ºé¿å…åç»­ç”¨æˆ·å®šåˆ¶åŒ–çš„å…¶ä»–è·¯ç”±æ“ä½œå†²çªï¼Œè¿™é‡Œå¯ä»¥æŒ‡å®šè·¯ç”±ä¼˜å…ˆçº§ï¼Œè‹¥æ— ç‰¹æ®Šéœ€æ±‚å¡«å…¥ä»»æ„å€¼å³å¯ã€‚\n\n\nåŒæ ˆ\nloadbalancer service\nç›‘æ§\næµé‡é•œåƒ\nå¤šé›†ç¾¤äº’è”\ncilium é›†æˆ+ç½‘ç»œæµé‡è§‚æµ‹+networkPolicy\n\n","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/vlan-%E9%85%8D%E7%BD%AE":{"title":"","content":"#vlan  #vyos \n\n[[hybridnet ç½‘ç»œæ’ä»¶]]\n\n```\nset interfaces ethernet eth1 vif 100 description 'VLAN 100'\nset interfaces ethernet eth1 vif 100 address '192.168.100.1/24'\n\nset interfaces ethernet eth13 vif 21 description 'VLAN 21'\nset interfaces ethernet eth13 vif 21 address '10.11.21.1/24'\nset interfaces ethernet eth14 vif 22 description 'VLAN 22'\nset interfaces ethernet eth14 vif 22 address '10.11.22.1/24'\n```\n\nç‰©ç†æœºé…ç½®\n\n\n      network-mode: container:cluster-worker3\n```yaml\nname: vlan\ntopology:\n  nodes:\n    spine1:\n      kind: linux\n      image: rykren/vyos:1.4\n      cmd: /sbin/init\n      binds:\n        - /lib/modules:/lib/modules\n        - vyos/config-spine1:/opt/vyatta/etc/config\n\n    spine2:\n      kind: linux\n      image: rykren/vyos:1.4\n      cmd: /sbin/init\n      binds:\n        - /lib/modules:/lib/modules\n        - vyos/config-spine2:/opt/vyatta/etc/config\n\n    leaf1:\n      kind: linux\n      image: rykren/vyos:1.4\n      cmd: /sbin/init\n      binds:\n        - /lib/modules:/lib/modules\n        - vyos/config-leaf1:/opt/vyatta/etc/config\n\n    leaf2:\n      kind: linux\n      image: rykren/vyos:1.4\n      cmd: /sbin/init\n      binds:\n        - /lib/modules:/lib/modules\n        - vyos/config-leaf2:/opt/vyatta/etc/config\n\n    server1:\n      kind: linux\n      image: rykren/nettools:latest\n      exec:\n      - ip addr add 10.10.0.2/24 dev eth1\n      - ip route replace default via 10.10.0.1\n\n    server2:\n      kind: linux\n      image: rykren/nettools:latest\n      exec:\n      - ip addr add 10.10.0.3/24 dev eth1\n      - ip route replace default via 10.10.0.1\n\n    server3:\n      kind: linux\n      image: rykren/nettools:latest\n      exec:\n      - ip addr add 10.10.0.4/24 dev eth1\n      - ip route replace default via 10.10.0.1\n\n    server4:\n      kind: linux\n      image: rykren/nettools:latest\n      exec:\n      - ip link add link eth1 name eth1.10 type vlan id 10\n      - ip addr add 10.10.10.2/24 dev eth1.10\n      - ip link set dev eth1.10 up\n      - ip route replace default via 10.10.10.1\n\n    server5:\n      kind: linux\n      image: rykren/nettools:latest\n      exec:\n      - ip link add link eth1 name eth1.11 type vlan id 11\n      - ip addr add 10.10.11.2/24 dev eth1.11\n      - ip link set dev eth1.11 up\n      - ip route replace default via 10.10.11.1\n\n    server11:\n      kind: linux\n      image: rykren/nettools:latest\n      exec:\n      - ip addr add 10.11.20.2/24 dev eth1\n      - ip route replace default via 10.11.20.1\n\n    server12:\n      kind: linux\n      image: rykren/nettools:latest\n      exec:\n      - ip addr add 10.11.20.3/24 dev eth1\n      - ip route replace default via 10.11.20.1\n\n    server13:\n      kind: linux\n      image: rykren/nettools:latest\n      exec:\n      - ip link add link eth1 name eth1.21 type vlan id 21\n      - ip addr add 10.11.21.2/24 dev eth1.21\n      - ip link set dev eth1.21 up\n      - ip route replace default via 10.11.21.1\n\n    server14:\n      kind: linux\n      image: rykren/nettools:latest\n      exec:\n      - ip link add link eth1 name eth1.22 type vlan id 22\n      - ip addr add 10.11.22.2/24 dev eth1.22\n      - ip link set dev eth1.22 up\n      - ip route replace default via 10.11.22.1\n\n  links:\n  - endpoints: [\"leaf1:eth1\", \"spine1:eth1\"]\n  - endpoints: [\"leaf1:eth2\", \"spine2:eth1\"]\n  - endpoints: [\"leaf2:eth1\", \"spine1:eth2\"]\n  - endpoints: [\"leaf2:eth2\", \"spine2:eth2\"]\n\n  - endpoints: [\"leaf1:eth11\", \"server1:eth1\"]\n  - endpoints: [\"leaf1:eth12\", \"server2:eth1\"]\n  - endpoints: [\"leaf1:eth13\", \"server3:eth1\"]\n  - endpoints: [\"leaf1:eth14\", \"server4:eth1\"]\n  - endpoints: [\"leaf1:eth15\", \"server5:eth1\"]\n\n  - endpoints: [\"leaf2:eth11\", \"server11:eth1\"]\n  - endpoints: [\"leaf2:eth12\", \"server12:eth1\"]\n  - endpoints: [\"leaf2:eth13\", \"server13:eth1\"]\n  - endpoints: [\"leaf2:eth14\", \"server14:eth1\"]\n```\n\n\n\né…ç½®äº¤æ¢æœº\n```\n# spine1\nset interfaces ethernet eth0 address '172.20.20.100/24'\nset interfaces ethernet eth0 description public\nset protocols static route 0.0.0.0/0 next-hop 172.20.20.1 distance 1\nset nat source rule 100 outbound-interface 'eth0'\nset nat source rule 100 source address '10.0.0.0/8'\nset nat source rule 100 translation address 'masquerade'\n\nset interfaces ethernet eth1 address '10.1.10.2/24'\nset interfaces ethernet eth2 address '10.1.34.2/24'\nset protocols bgp parameters router-id '10.1.10.2'\nset protocols bgp local-as 500 \nset protocols bgp neighbor 10.1.10.1 remote-as '65005'\nset protocols bgp neighbor 10.1.34.1 remote-as '65008'\n\n\n# spine2\nset interfaces ethernet eth0 address '172.20.20.101/24'\nset interfaces ethernet eth0 description public\nset protocols static route 0.0.0.0/0 next-hop 172.20.20.1 distance 1\nset nat source rule 100 outbound-interface 'eth0'\nset nat source rule 100 source address '10.0.0.0/8'\nset nat source rule 100 translation address 'masquerade'\n\nset interfaces ethernet eth1 address '10.1.12.2/24'\nset interfaces ethernet eth2 address '10.1.11.2/24'\nset protocols bgp parameters router-id '10.1.12.2'\nset protocols bgp local-as 800 \nset protocols bgp neighbor 10.1.11.1 remote-as '65008'\nset protocols bgp neighbor 10.1.12.1 remote-as '65005'\n\n\n# leaf-1\nset protocols static route 10.1.34.0/24 next-hop 10.1.10.2\nset protocols static route 10.1.11.0/24 next-hop 10.1.12.2\n\nset interfaces bridge br0 address '10.10.0.1/24'\nset interfaces bridge br0 description 'leaf1-br'\nset interfaces bridge br0 member interface eth11\nset interfaces bridge br0 member interface eth12\nset interfaces bridge br0 member interface eth13\n\nset protocols static route 0.0.0.0/0 next-hop 10.1.10.2\nset protocols static route 0.0.0.0/0 next-hop 10.1.12.2\n\nset interfaces ethernet eth1 address '10.1.10.1/24'\nset interfaces ethernet eth2 address '10.1.12.1/24'\nset protocols bgp local-as 65005\nset protocols bgp address-family ipv4-unicast network 10.10.0.0/24\nset protocols bgp address-family ipv4-unicast network 10.10.10.0/24\nset protocols bgp address-family ipv4-unicast network 10.10.11.0/24\nset protocols bgp neighbor 10.1.10.2 remote-as '500'\nset protocols bgp neighbor 10.1.12.2 remote-as '800'\nset protocols bgp parameters bestpath as-path multipath-relax\nset protocols bgp parameters router-id '10.10.0.1'\nset interfaces ethernet eth14 vif 10 description 'VLAN 10'\nset interfaces ethernet eth14 vif 10 address '10.10.10.1/24'\nset interfaces ethernet eth15 vif 11 description 'VLAN 11'\nset interfaces ethernet eth15 vif 11 address '10.10.11.1/24'\n\n\n# leaf2\nset protocols static route 10.1.10.0/24 next-hop 10.1.34.2\nset protocols static route 10.1.12.0/24 next-hop 10.1.11.2\n\nset interfaces bridge br0 address '10.11.20.1/24'\nset interfaces bridge br0 description 'leaf2-br'\nset interfaces bridge br0 member interface eth11\nset interfaces bridge br0 member interface eth12\n\nset protocols static route 0.0.0.0/0 next-hop 10.1.34.2\nset protocols static route 0.0.0.0/0 next-hop 10.1.11.2\n\nset interfaces ethernet eth1 address '10.1.34.1/24'\nset interfaces ethernet eth2 address '10.1.11.1/24'\nset protocols bgp local-as 65008\nset protocols bgp address-family ipv4-unicast network 10.11.20.0/24\nset protocols bgp address-family ipv4-unicast network 10.11.21.0/24\nset protocols bgp address-family ipv4-unicast network 10.11.22.0/24\nset protocols bgp neighbor 10.1.11.2 remote-as '800'\nset protocols bgp neighbor 10.1.34.2 remote-as '500'\nset protocols bgp parameters bestpath as-path multipath-relax\nset protocols bgp parameters router-id '10.11.20.1'\nset interfaces ethernet eth13 vif 21 description 'VLAN 21'\nset interfaces ethernet eth13 vif 21 address '10.11.21.1/24'\nset interfaces ethernet eth14 vif 22 description 'VLAN 22'\nset interfaces ethernet eth14 vif 22 address '10.11.22.1/24'\n\n```\n\nset interfaces ethernet eth13 vif 21 description 'VLAN 21'\nset interfaces ethernet eth13 vif 21 address '10.11.21.1/24'\nset interfaces ethernet eth14 vif 22 description 'VLAN 22'\nset interfaces ethernet eth14 vif 22 address '10.11.22.1/24'\n\nset interfaces ethernet eth13 vif 30 description 'VLAN 30'\nset interfaces ethernet eth13 vif 30 address '10.11.30.1/24'\nset interfaces bridge br1 address '10.11.30.1/24'\nset interfaces bridge br1 description 'vlan-br'\nset interfaces bridge br1 member interface eth13.21\nset interfaces bridge br1 member interface eth14.22\n\nset interfaces bridge br1 vif 30 address 10.11.30.1/24\n\nset interfaces bridge br1 vif 21 address 10.11.21.1/24\nset interfaces bridge br1 vif 22 address 10.11.21.1/24\n\n\nset protocols bgp address-family ipv4-unicast network 10.11.30.0/24\n\n\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/vyos-OSPF-%E9%85%8D%E7%BD%AE":{"title":"","content":"#vyos #è·¯ç”±å™¨\n\n```\nset interfaces loopback lo address 9.9.9.9/32  \nset protocols ospf parameters router-id 8.8.8.8  \nset protocols ospf area 0 network 10.111.111.0/24  \nset protocols ospf area 1 network 9.9.9.9/32  \ncommit\nsave\n```\n\nset é…ç½®å‘½ä»¤\ndelete å–æ¶ˆé…ç½®å‘½ä»¤\n\né…ç½®çš„å‚è€ƒæ–‡æ¡£ï¼š\n- [vyos åŸºç¡€é…ç½®_51CTOåšå®¢_ncåŸºç¡€é…ç½®](https://blog.51cto.com/u_15075508/4625940)\n- [Vyosç½‘ç»œæ“ä½œç³»ç»Ÿç³»åˆ—æ–‡ç« -L2æŠ€æœ¯ | å°è´ç¬”è®° (xiaobei.one)](https://www.xiaobei.one/archives/959.html)\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/webhook":{"title":"","content":"#webhook \n\nåŠ¨æ€å‡†å…¥æ§åˆ¶æ’ä»¶\n- MutatingWebhookConfiguration\n- ValidatingWebhookConfiguration\n\n[k8s webhookå‡†å…¥æ§åˆ¶æ’ä»¶æºç çº§åˆ«ç†è§£-æ³¨å…¥sidecar - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/423571596)\n\n\nopenelb webhook ä½¿ç”¨ kube-webhook-certgen\nport-allocator webhook ä½¿ç”¨ cert-manager\n\nksä½¿ç”¨ helm \n```\ngenerate the CA cert\n{{- define \"generate-ca-certs\" }}\n{{- $ca := genCA \"spidernet.io\" (.Values.spiderpoolController.tls.auto.caExpiration | int) -}}\n```\n![upgit_20230203_1675411845.png](https://images.ryken.cloud/2023/02/upgit_20230203_1675411845.png)\n\n\nç»•è¿‡ webhook æ£€æŸ¥\n| ç±»å‹           | name                      | å…¶ä»–å…³è”                           |\n| -------------- | ------------------------- | ---------------------------------- |\n| deploy         | istiod-1-11-2             |                                    |\n| svc            | istiod-1-11-2             |                                    |\n| ServiceAccount | istiod-1-11-2             | secretsï¼šistiod-1-11-2-token-bdg5s |\n| secrets        | istiod-1-11-2-token-bdg5s |                                    |\n\n```\nkubectl create ns port-allocator-system \u0026\u0026 kubectl label --overwrite ns port-allocator-system port-allocator=disable\n```\n\n\nhelm å®‰è£…èµ„æºé¡ºåºï¼š\n[helm/kind_sorter.go at main Â· helm/helm (github.com)](https://github.com/helm/helm/blob/main/pkg/releaseutil/kind_sorter.go#L31)\n\nhelm chart hook å¯ä»¥è‡ªå®šä¹‰ä¸€äº› hookï¼Œå¹¶å¯¹å…¶è¿›è¡Œæƒé‡æ‰§è¡Œ\n[Helm Hooks çš„ä½¿ç”¨-é˜³æ˜çš„åšå®¢|Kubernetes|Istio|Prometheus|Python|Golang|äº‘åŸç”Ÿ (qikqiak.com)](https://www.qikqiak.com/post/helm-hooks-usage/)","lastmodified":"2023-04-18T15:06:05.582791557Z","tags":null},"/wireshark-%E6%8A%93%E5%8C%85":{"title":"","content":"#wireshark #æŠ“åŒ…\n\n## wireshark æŠ“è¿œç¨‹ ubuntu çš„åŒ…\n- å®‰è£… rpcapd\n\t[rpcapd æ˜¯ä¸€ä¸ªä¸º Windows ç‰ˆæœ¬çš„Wireshark](http://www.wireshark.org/)åè®®åˆ†æå™¨æä¾›è¿œç¨‹æµé‡æ•è·çš„å®ˆæŠ¤è¿›ç¨‹ã€‚å®ƒéšWindows çš„[WinPcap](http://www.winpcap.org/)Â ç½‘ç»œæ•è·åº“ä¸€èµ·æä¾›ï¼Œä¹‹å‰ Linux ä¸­çš„æ²¡æœ‰ libpcap ,åæ¥æ·»åŠ äº†ã€‚\n\t1. ä½¿ç”¨ rpcapd-linux\n\t2. ä½¿ç”¨ the-tcpdump-group/libpcap   ã€æ¨èã€‘æ²¡æœ‰å¤§çš„æŠ¥é”™é—®é¢˜\n```shell\napt-get build-dep libpcap -y\ngit clone https://github.com/rpcapd-linux/rpcapd-linux.git\ncd rpcapd-linux/libpcap/\n./configure \u0026\u0026 make\ncd ..\nmake\n```\n\n[Home | TCPDUMP \u0026 LIBPCAP](https://www.tcpdump.org/index.html#latest-releases)\n```bash\napt-get build-dep libpcap -y\ngit clone https://github.com/the-tcpdump-group/libpcap\ncd libpcap/\n./configure --enable-remote\nmake\n./rpcapd/rpcapd -4 -n # ä½¿ç”¨ipv4, æ— å¯†ç è®¤è¯\n```\n\n- å¯åŠ¨\n\t```shell\n\t./rpcapd -n -4\n\t```\n\tä¸æŒ‡å®šç«¯å£ï¼Œé»˜è®¤ç›‘å¬2002ç«¯å£\n\n- é…ç½® wireshark - *å›¾ç‰‡æ¥æºå‚è€ƒé“¾æ¥*\n![upgit_20230206_1675661272.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675661272.png)\n\n![upgit_20230206_1675661280.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675661280.png)\n\n![upgit_20230206_1675661287.png](https://images.ryken.cloud/2023/02/upgit_20230206_1675661287.png)\n\n### é‡åˆ°çš„é—®é¢˜\nä½¿ç”¨çš„ ubuntu 22.04 çš„ server ç¯å¢ƒ\n1. **You must put some 'deb-src' URIs in your sources.list**\n```\ncp /etc/apt/sources.list /etc/apt/sources.list.bck\nsed -Ei 's/^# deb-src /deb-src /' /etc/apt/sources.list\napt-get update\n```\n2. **ç¼–è¯‘å¤±è´¥ - error: â€˜SIOCGSTAMPâ€™ undeclared (first use in this function); did you mean â€˜SIOCGARPâ€™**\n\t[format_linux_int.c:297:25: error: â€˜SIOCGSTAMPâ€™ undeclared (first use in this function); did you mean â€˜SIOCGARPâ€™? Â· Issue #117 Â· LibtraceTeam/libtrace (github.com)](https://github.com/LibtraceTeam/libtrace/issues/117)\n\t[Fix SIOCGSTAMP undeclared error on new linux kernels. Â· LibtraceTeam/libtrace@cd7f4c7 (github.com)](https://github.com/LibtraceTeam/libtrace/commit/cd7f4c79aa55823d2e3be9b753088c40bc44d183)\n\t```\n\t#include \u003clinux/sockios.h\u003e  // æ·»åŠ è¿™ä¸ªå¤´æ–‡ä»¶\n\t```\n3. ç¼–è¯‘å¤±è´¥\n\t\t[Fix debian compilation error by peter-vanpoucke Â· Pull Request #9 Â· rpcapd-linux/rpcapd-linux (github.com)](https://github.com/rpcapd-linux/rpcapd-linux/pull/9\n\t\tç¤¾åŒºæœ‰ä¸€ä¸ªç”¨æˆ·ä¿®å¤äº†ï¼Œå¯ä»¥ä½¿ç”¨ä»–çš„åˆ†æ”¯æ¥ç¼–è¯‘\n\n### å‚è€ƒé“¾æ¥\n- [wiresharkè¿œç¨‹æŠ“åŒ…æ–¹å¼æ±‡æ€» â€“ Zgao's blog](https://zgao.top/wireshark%E8%BF%9C%E7%A8%8B%E6%8A%93%E5%8C%85%E6%96%B9%E5%BC%8F%E6%B1%87%E6%80%BB/)\n- [ä½¿ç”¨rpcapdï¼ˆlibpcapï¼‰è¿›è¡ŒWiresharkè¿œç¨‹æŠ“åŒ…-CSDNåšå®¢_rpcapd](https://blog.csdn.net/hyh19962008/article/details/127260304)\n\n\n## wireshark æŠ“åŒ…è¿‡æ»¤\n[wireshark å®ç”¨è¿‡æ»¤è¡¨è¾¾å¼ï¼ˆé’ˆå¯¹ipã€åè®®ã€ç«¯å£ã€é•¿åº¦å’Œå†…å®¹ï¼‰_aflyeaglenkuçš„åšå®¢-CSDNåšå®¢_wiresharkç­›é€‰ç«¯å£](https://blog.csdn.net/aflyeaglenku/article/details/50884296)","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null},"/wireshark-%E6%8A%93%E5%8C%85%E8%BF%87%E6%BB%A4":{"title":"","content":"#wireshark \n\n| åŠŸèƒ½        | è¡¨è¾¾å¼ |\n| ----------- | ------ |\n| ç­›é€‰ç‰¹å®š ip | ip.addr == xxx       |\n","lastmodified":"2023-04-18T15:06:05.586791594Z","tags":null}}